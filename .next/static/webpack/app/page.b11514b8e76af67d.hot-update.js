"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/ai-chat/ai-video-commands.ts":
/*!*************************************************!*\
  !*** ./components/ai-chat/ai-video-commands.ts ***!
  \*************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createVideoCommandExecutor: function() { return /* binding */ createVideoCommandExecutor; }\n/* harmony export */ });\n/* harmony import */ var _designcombo_events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @designcombo/events */ \"(app-pages-browser)/./node_modules/@designcombo/events/dist/index.es.js\");\n/* harmony import */ var _designcombo_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @designcombo/state */ \"(app-pages-browser)/./node_modules/@designcombo/state/dist/index.es.js\");\n/* harmony import */ var _designcombo_timeline__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @designcombo/timeline */ \"(app-pages-browser)/./node_modules/@designcombo/timeline/dist/index.es.js\");\n\n\n\nfunction createVideoCommandExecutor(stateManager) {\n    // Crear el objeto executor con todos los métodos\n    const executor = {\n        addText: (text, options)=>{\n            const position = (options === null || options === void 0 ? void 0 : options.position) || {\n                x: 0.5,\n                y: 0.5\n            }; // Centrado por defecto\n            const fontSize = (options === null || options === void 0 ? void 0 : options.fontSize) || 48;\n            const fontFamily = (options === null || options === void 0 ? void 0 : options.fontFamily) || \"Roboto-Bold\";\n            const color = (options === null || options === void 0 ? void 0 : options.color) || \"#FFFFFF\";\n            const startTime = (options === null || options === void 0 ? void 0 : options.startTime) || 0; // Por defecto al inicio\n            const endTime = (options === null || options === void 0 ? void 0 : options.endTime) || 5; // Por defecto 5 segundos de duración\n            // Crear payload para el texto\n            const textPayload = {\n                id: (0,_designcombo_timeline__WEBPACK_IMPORTED_MODULE_2__.generateId)(),\n                display: {\n                    from: startTime * 1000,\n                    to: endTime * 1000 // Convertir a milisegundos\n                },\n                type: \"text\",\n                details: {\n                    text: text,\n                    fontSize: fontSize,\n                    width: 600,\n                    fontFamily: fontFamily,\n                    color: color,\n                    wordWrap: \"break-word\",\n                    textAlign: \"center\",\n                    borderWidth: 0,\n                    borderColor: \"#000000\",\n                    boxShadow: {\n                        color: \"#ffffff\",\n                        x: 0,\n                        y: 0,\n                        blur: 0\n                    }\n                }\n            };\n            // Agregar texto al timeline\n            (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.ADD_TEXT, {\n                payload: textPayload,\n                options: {}\n            });\n        },\n        changeColor: (elementId, color)=>{\n            // Simulación de cambio de color (la implementación real dependerá de la estructura del proyecto)\n            console.log(\"Cambiando color del elemento \".concat(elementId, \" a \").concat(color));\n        // Aquí iría la lógica real para cambiar el color de un elemento\n        },\n        addImage: (url, options)=>{\n            try {\n                // Asegurar que tenemos una URL válida\n                if (!url) {\n                    console.error(\"❌ URL de imagen no v\\xe1lida o vac\\xeda\");\n                    throw new Error(\"URL de imagen no proporcionada\");\n                }\n                console.log(\"=== INICIANDO PROCESO DE A\\xd1ADIR IMAGEN ===\");\n                console.log(\"URL:\", url);\n                console.log(\"Opciones:\", JSON.stringify(options, null, 2));\n                // Verificar si es una URL genérica de referencia, que no debe usarse directamente\n                if (url === \"imagen_adjunta_por_el_usuario.jpg\" || url.includes(\"/url_de_la_imagen\")) {\n                    console.error(\"Error: URL de imagen gen\\xe9rica inv\\xe1lida detectada\", url);\n                    throw new Error(\"La URL de imagen no es v\\xe1lida. Se intent\\xf3 usar un marcador gen\\xe9rico directamente.\");\n                }\n                const width = (options === null || options === void 0 ? void 0 : options.width) || 480;\n                const height = (options === null || options === void 0 ? void 0 : options.height) || 270;\n                const startTime = (options === null || options === void 0 ? void 0 : options.startTime) !== undefined ? options.startTime : 0;\n                const endTime = (options === null || options === void 0 ? void 0 : options.endTime) !== undefined ? options.endTime : startTime + 5;\n                // Detectores de tipo de imagen\n                const isExplicitlyAnimated = (options === null || options === void 0 ? void 0 : options.isAnimated) === true;\n                const isExplicitlyStatic = (options === null || options === void 0 ? void 0 : options.isStatic) === true;\n                const isAPNG = url.toLowerCase().endsWith(\".apng\");\n                const isGIF = url.toLowerCase().endsWith(\".gif\");\n                // Determinar si debe tratarse como imagen animada\n                const shouldTreatAsAnimated = (isExplicitlyAnimated || isAPNG || isGIF) && !isExplicitlyStatic;\n                // Log de modo detectado\n                if (shouldTreatAsAnimated) {\n                    console.log(\"\\uD83D\\uDD36 Detectada imagen animada: \".concat(url));\n                    console.log(\"Tipo: \".concat(isAPNG ? \"APNG\" : isGIF ? \"GIF\" : \"Animada gen\\xe9rica\"));\n                } else if (isAPNG || isGIF) {\n                    console.log(\"\\uD83D\\uDD39 Detectada imagen potencialmente animada pero trat\\xe1ndola como est\\xe1tica: \".concat(url));\n                } else {\n                    console.log(\"\\uD83D\\uDD37 Detectada imagen est\\xe1tica: \".concat(url));\n                }\n                // Para depuración, mostrar parte de la URL (truncada si es data:URL)\n                const logUrl = url.startsWith(\"data:\") ? \"\".concat(url.substring(0, 30), \"... (data URL)\") : url;\n                console.log(\"A\\xf1adiendo imagen desde \".concat(logUrl, \" desde segundo \").concat(startTime, \" hasta \").concat(endTime));\n                // Posición (centrada por defecto)\n                const position = (options === null || options === void 0 ? void 0 : options.position) || {\n                    x: 0.5,\n                    y: 0.5\n                };\n                // Modos de escala\n                const scaleMode = (options === null || options === void 0 ? void 0 : options.scaleMode) || \"fit\";\n                const useFullScreen = scaleMode === \"cover\";\n                // Propiedades para el payload, común para ambos casos\n                const commonPayloadProps = {\n                    from: startTime * 1000,\n                    to: endTime * 1000\n                };\n                // Propiedades de detalle comunes\n                const commonDetailsProps = {\n                    src: url,\n                    width: width,\n                    height: height,\n                    opacity: 100,\n                    scaleMode: scaleMode,\n                    left: position.x,\n                    top: position.y,\n                    originX: \"center\",\n                    originY: \"center\"\n                };\n                // Crear ID único\n                const imageId = (0,_designcombo_timeline__WEBPACK_IMPORTED_MODULE_2__.generateId)();\n                // Crear el payload de imagen simplificado\n                const imagePayload = {\n                    id: imageId,\n                    display: commonPayloadProps,\n                    type: \"image\",\n                    details: {\n                        ...commonDetailsProps,\n                        // Si es animada, añadir atributos específicos\n                        ...shouldTreatAsAnimated && {\n                            isAnimated: true\n                        },\n                        // Si a pantalla completa, ajustar dimensiones\n                        ...useFullScreen && {\n                            width: 1920,\n                            height: 1080\n                        }\n                    }\n                };\n                console.log(\"Payload de imagen a despachar:\", JSON.stringify({\n                    ...imagePayload,\n                    details: {\n                        ...imagePayload.details,\n                        src: imagePayload.details.src.substring(0, 30) + (imagePayload.details.src.length > 30 ? \"...\" : \"\")\n                    }\n                }, null, 2));\n                // Opciones para el dispatch\n                const dispatchOptions = {\n                    scaleMode: scaleMode,\n                    position: position\n                };\n                // Despachar la acción para añadir la imagen\n                (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.ADD_IMAGE, {\n                    payload: imagePayload,\n                    options: dispatchOptions\n                });\n                // Log de éxito\n                if (shouldTreatAsAnimated) {\n                    console.log(\"✅ Imagen animada a\\xf1adida desde \".concat(startTime, \"s hasta \").concat(endTime, \"s\"));\n                } else {\n                    console.log(\"✅ Imagen est\\xe1tica a\\xf1adida desde \".concat(startTime, \"s hasta \").concat(endTime, \"s\"));\n                }\n            } catch (error) {\n                console.error(\"❌ ERROR CR\\xcdTICO al a\\xf1adir imagen:\", error);\n                console.error(\"Detalles completos:\", error.message);\n                console.error(\"Traza:\", error.stack);\n                throw error; // Propagar el error para manejo superior\n            }\n        },\n        addVideo: (url, options)=>{\n            try {\n                console.log(\"=== INICIANDO PROCESO DE A\\xd1ADIR VIDEO ===\");\n                console.log(\"URL:\", url);\n                console.log(\"Opciones:\", JSON.stringify(options, null, 2));\n                // Validación de URL\n                if (!url) {\n                    console.error(\"❌ URL de video no v\\xe1lida o vac\\xeda\");\n                    throw new Error(\"URL de video no proporcionada\");\n                }\n                const width = (options === null || options === void 0 ? void 0 : options.width) || 640;\n                const height = (options === null || options === void 0 ? void 0 : options.height) || 360;\n                const startTime = (options === null || options === void 0 ? void 0 : options.startTime) || 0; // Por defecto al inicio\n                const endTime = (options === null || options === void 0 ? void 0 : options.endTime) || 10; // Por defecto 10 segundos de duración\n                // Detectar si es un archivo AVI o APNG para tratamiento especial\n                const isAVI = url.toLowerCase().endsWith(\".avi\");\n                const isAPNG = url.toLowerCase().endsWith(\".apng\");\n                // Marcador pasado explícitamente - mayor prioridad que la extensión\n                const isExplicitAPNG = (options === null || options === void 0 ? void 0 : options.isAPNG) === true;\n                console.log(\"Formato detectado:\", isAVI ? \"AVI\" : isAPNG ? \"APNG\" : isExplicitAPNG ? \"Expl\\xedcitamente marcado como APNG\" : \"Formato est\\xe1ndar\");\n                // Si es APNG según algún criterio\n                const treatAsAPNG = isAPNG || isExplicitAPNG;\n                const useFullScreen = isAVI || treatAsAPNG || (options === null || options === void 0 ? void 0 : options.scaleMode) === \"cover\";\n                // Para archivos AVI y APNG, respectar duración natural si no se especifica\n                const respectNativeDuration = (isAVI || treatAsAPNG) && !(options === null || options === void 0 ? void 0 : options.endTime);\n                const finalEndTime = respectNativeDuration ? undefined : endTime;\n                // Log para depurar\n                if (treatAsAPNG) {\n                    console.log(\"\\uD83D\\uDD37 A\\xf1adiendo APNG como VIDEO sincronizado desde \".concat(startTime, \"s con duraci\\xf3n \").concat(respectNativeDuration ? \"natural\" : finalEndTime + \"s\"));\n                    console.log(\"\\uD83D\\uDD37 Configuraciones especiales de APNG - useFullScreen: \".concat(useFullScreen, \", syncWithTimeline: \").concat((options === null || options === void 0 ? void 0 : options.syncWithTimeline) || true));\n                } else if (isAVI) {\n                    console.log(\"\\uD83C\\uDFAC A\\xf1adiendo AVI con duraci\\xf3n \".concat(respectNativeDuration ? \"natural\" : \"especificada: \" + finalEndTime, \"s\"));\n                }\n                // Manejar APNG usando un enfoque especial - intentar con un método alternativo si es posible\n                if (treatAsAPNG) {\n                    try {\n                        // Intentar crear un payload especial para APNG que funcione como animación\n                        console.log(\"Probando con una configuraci\\xf3n especial para APNG...\");\n                        // Configuración de opciones importante para archivos APNG\n                        const apngVideoPayload = {\n                            id: (0,_designcombo_timeline__WEBPACK_IMPORTED_MODULE_2__.generateId)(),\n                            display: {\n                                from: startTime * 1000,\n                                to: finalEndTime ? finalEndTime * 1000 : (startTime + 3) * 1000 // 3 segundos por defecto si no hay duración\n                            },\n                            // Probamos una nueva estrategia: tratarlo como imagen en lugar de video\n                            type: \"image\",\n                            details: {\n                                src: url,\n                                width: 1920,\n                                height: 1080,\n                                opacity: 100,\n                                scaleMode: \"cover\",\n                                left: 0.5,\n                                top: 0.5,\n                                originX: \"center\",\n                                originY: \"center\",\n                                // Propiedades para animar\n                                isAnimated: true\n                            }\n                        };\n                        console.log(\"Payload para APNG como imagen animada:\", JSON.stringify(apngVideoPayload, null, 2));\n                        // Usar ADD_IMAGE en lugar de ADD_VIDEO\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.ADD_IMAGE, {\n                            payload: apngVideoPayload,\n                            options: {\n                                scaleMode: \"cover\",\n                                position: {\n                                    x: 0.5,\n                                    y: 0.5\n                                }\n                            }\n                        });\n                        console.log(\"✅ APNG a\\xf1adido como imagen animada con \\xe9xito\");\n                        return;\n                    } catch (apngError) {\n                        console.error(\"❌ Error al a\\xf1adir APNG como imagen animada:\", apngError);\n                        console.error(\"Detalles:\", apngError.message);\n                        console.error(\"Traza:\", apngError.stack);\n                        console.log(\"\\uD83D\\uDD04 Continuando con el m\\xe9todo est\\xe1ndar como respaldo...\");\n                    // Continuar con el método estándar como respaldo\n                    }\n                }\n                // Crear payload para el video\n                const videoPayload = {\n                    id: (0,_designcombo_timeline__WEBPACK_IMPORTED_MODULE_2__.generateId)(),\n                    display: {\n                        from: startTime * 1000,\n                        to: finalEndTime ? finalEndTime * 1000 : undefined // Usar undefined si queremos respetar la duración natural\n                    },\n                    type: \"video\",\n                    details: {\n                        src: url,\n                        width: width,\n                        height: height,\n                        opacity: 100,\n                        // Para archivos APNG y AVI, configurar propiedades específicas para pantalla completa\n                        ...useFullScreen && {\n                            scaleMode: \"cover\",\n                            left: 0.5,\n                            top: 0.5,\n                            originX: \"center\",\n                            originY: \"center\"\n                        },\n                        // Propiedades especiales para APNG\n                        ...treatAsAPNG && {\n                            isAPNG: true,\n                            autoPlay: true,\n                            loop: false,\n                            syncWithTimeline: (options === null || options === void 0 ? void 0 : options.syncWithTimeline) || true\n                        }\n                    }\n                };\n                console.log(\"Payload de video est\\xe1ndar:\", JSON.stringify(videoPayload, null, 2));\n                // Configuraciones adicionales para el dispatch\n                const dispatchOptions = {\n                    resourceId: \"main\",\n                    scaleMode: useFullScreen ? \"cover\" : \"fit\",\n                    ...useFullScreen && {\n                        position: {\n                            x: 0.5,\n                            y: 0.5\n                        } // Centrar para videos a pantalla completa\n                    },\n                    respectNativeDuration: respectNativeDuration,\n                    // Propiedades específicas para sincronización de APNG\n                    ...treatAsAPNG && {\n                        isAPNG: true,\n                        syncWithTimeline: (options === null || options === void 0 ? void 0 : options.syncWithTimeline) || true,\n                        playbackBehavior: (options === null || options === void 0 ? void 0 : options.playbackBehavior) || \"sync\"\n                    }\n                };\n                console.log(\"Opciones de dispatch:\", JSON.stringify(dispatchOptions, null, 2));\n                // Agregar video al timeline\n                (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.ADD_VIDEO, {\n                    payload: videoPayload,\n                    options: dispatchOptions\n                });\n                // Mensaje de log adaptado al tipo de archivo\n                if (treatAsAPNG) {\n                    console.log(\"✅ Transici\\xf3n APNG a\\xf1adida como VIDEO SINCRONIZADO al timeline desde \".concat(startTime, \"s \").concat(finalEndTime ? \"hasta \".concat(finalEndTime, \"s\") : \"con duraci\\xf3n natural\", \". Dimensiones: \").concat(width, \"x\").concat(height));\n                } else {\n                    console.log(\"✅ Video \".concat(isAVI ? \"AVI\" : \"\", \" a\\xf1adido al timeline desde \").concat(startTime, \"s\").concat(finalEndTime ? \" hasta \".concat(finalEndTime, \"s\") : \" con duraci\\xf3n natural\", \". Dimensiones: \").concat(width, \"x\").concat(height));\n                }\n            } catch (error) {\n                console.error(\"❌ ERROR CR\\xcdTICO al a\\xf1adir video:\", error);\n                console.error(\"Detalles completos:\", error.message);\n                console.error(\"Traza:\", error.stack);\n                throw error; // Propagar el error para manejo superior\n            }\n        },\n        changeDuration: (elementId, duration)=>{\n            // Simulación de cambio de duración (la implementación real dependerá de la estructura del proyecto)\n            console.log(\"Cambiando duraci\\xf3n del elemento \".concat(elementId, \" a \").concat(duration, \"s\"));\n        // Aquí iría la lógica real para cambiar la duración de un elemento\n        },\n        changeTransition: (elementId, transition)=>{\n            // Simulación de cambio de transición (la implementación real dependerá de la estructura del proyecto)\n            console.log(\"Cambiando transici\\xf3n del elemento \".concat(elementId, \" a \").concat(transition));\n        // Aquí iría la lógica real para cambiar la transición de un elemento\n        },\n        addSubtitles: async (options)=>{\n            try {\n                console.log(\"A\\xf1adiendo subt\\xedtulos directamente sin depender del bot\\xf3n\");\n                // Función para parsear el tiempo de formato SRT a milisegundos\n                const parseTimeToMs = (timeString)=>{\n                    const [hours, minutes, secondsAndMs] = timeString.split(\":\");\n                    const [seconds, ms] = secondsAndMs.split(\",\");\n                    return parseInt(hours) * 3600000 + parseInt(minutes) * 60000 + parseInt(seconds) * 1000 + parseInt(ms);\n                };\n                // Función para parsear el archivo SRT\n                const parseSRT = (srtContent)=>{\n                    const segments = [];\n                    const blocks = srtContent.trim().split(\"\\n\\n\");\n                    blocks.forEach((block)=>{\n                        const lines = block.split(\"\\n\");\n                        if (lines.length >= 3) {\n                            const id = parseInt(lines[0]);\n                            const timeRange = lines[1].split(\" --> \");\n                            const startTime = parseTimeToMs(timeRange[0]);\n                            const endTime = parseTimeToMs(timeRange[1]);\n                            const text = lines.slice(2).join(\"\\n\"); // Unir todas las líneas de texto\n                            segments.push({\n                                id,\n                                startTime,\n                                endTime,\n                                text\n                            });\n                        }\n                    });\n                    return segments;\n                };\n                // Función para dividir un texto en grupos de aproximadamente 3 palabras\n                const splitTextIntoGroups = function(text) {\n                    let wordsPerGroup = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 3;\n                    const words = text.split(/\\s+/);\n                    const groups = [];\n                    for(let i = 0; i < words.length; i += wordsPerGroup){\n                        const group = words.slice(i, i + wordsPerGroup).join(\" \");\n                        groups.push(group);\n                    }\n                    return groups;\n                };\n                // Función para procesar un segmento y dividirlo en múltiples segmentos si es necesario\n                const processSegment = (segment)=>{\n                    const textGroups = splitTextIntoGroups(segment.text);\n                    // Si solo hay un grupo, devolver el segmento original\n                    if (textGroups.length <= 1) {\n                        return [\n                            segment\n                        ];\n                    }\n                    // Calcular la duración de cada grupo\n                    const totalDuration = segment.endTime - segment.startTime;\n                    const groupDuration = totalDuration / textGroups.length;\n                    // Crear un nuevo segmento para cada grupo\n                    return textGroups.map((groupText, index)=>{\n                        const startTime = segment.startTime + index * groupDuration;\n                        const endTime = startTime + groupDuration;\n                        return {\n                            id: segment.id * 1000 + index,\n                            startTime,\n                            endTime,\n                            text: groupText\n                        };\n                    });\n                };\n                // Función para crear el payload de texto para subtítulos\n                const createSubtitlePayload = (text, startTime, endTime)=>({\n                        id: (0,_designcombo_timeline__WEBPACK_IMPORTED_MODULE_2__.generateId)(),\n                        display: {\n                            from: startTime,\n                            to: endTime\n                        },\n                        type: \"text\",\n                        details: {\n                            text: text.toUpperCase(),\n                            fontSize: 80,\n                            width: 900,\n                            fontUrl: \"/fonts/mrbeast.ttf\",\n                            fontFamily: \"MrBeast\",\n                            color: \"#FFFF00\",\n                            wordWrap: \"break-word\",\n                            textAlign: \"center\",\n                            borderWidth: 20,\n                            borderColor: \"#000000\",\n                            boxShadow: {\n                                color: \"#000000\",\n                                x: 3,\n                                y: 3,\n                                blur: 0\n                            },\n                            backgroundColor: \"transparent\",\n                            padding: 10,\n                            borderRadius: 0\n                        }\n                    });\n                // Cargar el archivo SRT\n                console.log(\"Cargando archivo SRT...\");\n                const response = await fetch(\"/transcriptions/transcription1.srt\");\n                if (!response.ok) {\n                    throw new Error(\"Error al cargar el archivo SRT: \".concat(response.status));\n                }\n                const srtContent = await response.text();\n                console.log(\"Archivo SRT cargado correctamente\");\n                // Parsear el archivo SRT\n                let segments = parseSRT(srtContent);\n                console.log(\"Se encontraron \".concat(segments.length, \" segmentos de subt\\xedtulos\"));\n                // Siempre usar el modo agrupado (dividir en grupos de 3 palabras)\n                segments = segments.flatMap(processSegment);\n                console.log(\"Despu\\xe9s de procesar, hay \".concat(segments.length, \" segmentos de subt\\xedtulos\"));\n                // Filtrar por tiempo si es necesario\n                if ((options === null || options === void 0 ? void 0 : options.startTime) !== undefined || (options === null || options === void 0 ? void 0 : options.endTime) !== undefined) {\n                    const originalLength = segments.length;\n                    segments = segments.filter((segment)=>{\n                        const passesStartFilter = options.startTime === undefined || segment.startTime >= options.startTime * 1000;\n                        const passesEndFilter = options.endTime === undefined || segment.endTime <= options.endTime * 1000;\n                        return passesStartFilter && passesEndFilter;\n                    });\n                    console.log(\"Filtrado por tiempo: de \".concat(originalLength, \" a \").concat(segments.length, \" segmentos\"));\n                }\n                // Añadir los subtítulos con un retraso entre cada uno\n                console.log(\"A\\xf1adiendo \".concat(segments.length, \" segmentos de subt\\xedtulos al timeline...\"));\n                segments.forEach((segment, index)=>{\n                    setTimeout(()=>{\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.ADD_TEXT, {\n                            payload: createSubtitlePayload(segment.text, segment.startTime, segment.endTime),\n                            options: {}\n                        });\n                        if ((index + 1) % 10 === 0 || index === segments.length - 1) {\n                            console.log(\"Progreso: \".concat(index + 1, \"/\").concat(segments.length, \" subt\\xedtulos a\\xf1adidos\"));\n                        }\n                    }, index * 200); // 200ms de retraso entre cada subtítulo\n                });\n                return true;\n            } catch (error) {\n                console.error(\"Error al a\\xf1adir subt\\xedtulos:\", error);\n                return false;\n            }\n        },\n        getActiveElements: async ()=>{\n            try {\n                // Obtener el estado actual\n                const state = stateManager.getState();\n                // Verificar si hay IDs activos\n                if (!state.activeIds || state.activeIds.length === 0) {\n                    console.log(\"No hay elementos activos seleccionados\");\n                    return [];\n                }\n                // Verificar si hay elementos en el trackItemsMap\n                if (!state.trackItemsMap) {\n                    console.log(\"No hay trackItemsMap disponible\");\n                    return [];\n                }\n                // Obtener información de los elementos activos\n                const activeElements = state.activeIds.filter((id)=>state.trackItemsMap[id]).map((id)=>{\n                    var _item_display, _item_display1;\n                    const item = state.trackItemsMap[id];\n                    return {\n                        id,\n                        trackId: item.trackId,\n                        type: item.type,\n                        from: (_item_display = item.display) === null || _item_display === void 0 ? void 0 : _item_display.from,\n                        to: (_item_display1 = item.display) === null || _item_display1 === void 0 ? void 0 : _item_display1.to,\n                        duration: item.display ? item.display.to - item.display.from : 0,\n                        details: item.details\n                    };\n                });\n                console.log(\"Se encontraron \".concat(activeElements.length, \" elementos activos\"));\n                return activeElements;\n            } catch (error) {\n                console.error(\"Error al obtener elementos activos:\", error);\n                return [];\n            }\n        },\n        getAllTimelineElements: async ()=>{\n            try {\n                // Obtener el estado actual\n                const state = stateManager.getState();\n                // Verificar si hay elementos en el trackItemsMap\n                if (!state.trackItemsMap || Object.keys(state.trackItemsMap).length === 0) {\n                    console.log(\"No hay elementos en el trackItemsMap\");\n                    // Buscar elementos en otras propiedades del estado\n                    for (const key of Object.keys(state)){\n                        if (typeof state[key] === \"object\" && state[key] !== null) {\n                            const objValue = state[key];\n                            console.log(\"Explorando propiedad alternativa: \".concat(key));\n                            // Verificar si parece ser un mapa de elementos\n                            if (Object.keys(objValue).length > 0) {\n                                const sample = objValue[Object.keys(objValue)[0]];\n                                if (sample && sample.display && sample.type) {\n                                    console.log(\"Encontrada posible fuente alternativa de elementos en propiedad \".concat(key));\n                                    // Procesar elementos de esta propiedad alternativa\n                                    return Object.entries(objValue).filter((param)=>{\n                                        let [_, item] = param;\n                                        return item && item.display;\n                                    }).map((param)=>{\n                                        let [id, item] = param;\n                                        var _item_display, _item_display1;\n                                        return {\n                                            id,\n                                            trackId: item.trackId,\n                                            type: item.type,\n                                            from: (_item_display = item.display) === null || _item_display === void 0 ? void 0 : _item_display.from,\n                                            to: (_item_display1 = item.display) === null || _item_display1 === void 0 ? void 0 : _item_display1.to,\n                                            duration: item.display ? item.display.to - item.display.from : 0,\n                                            details: item.details\n                                        };\n                                    });\n                                }\n                            }\n                        }\n                    }\n                    return [];\n                }\n                // Obtener todos los elementos\n                const allElements = Object.entries(state.trackItemsMap).filter((param)=>{\n                    let [_, item] = param;\n                    return item && item.display;\n                }).map((param)=>{\n                    let [id, item] = param;\n                    var _item_display, _item_display1;\n                    return {\n                        id,\n                        trackId: item.trackId,\n                        type: item.type,\n                        from: (_item_display = item.display) === null || _item_display === void 0 ? void 0 : _item_display.from,\n                        to: (_item_display1 = item.display) === null || _item_display1 === void 0 ? void 0 : _item_display1.to,\n                        duration: item.display ? item.display.to - item.display.from : 0,\n                        details: item.details\n                    };\n                }).sort((a, b)=>(a.from || 0) - (b.from || 0));\n                console.log(\"Se encontraron \".concat(allElements.length, \" elementos en el timeline\"));\n                return allElements;\n            } catch (error) {\n                console.error(\"Error al obtener todos los elementos del timeline:\", error);\n                return [];\n            }\n        },\n        removeSegments: async (segments)=>{\n            try {\n                console.log(\"Iniciando eliminaci\\xf3n de segmentos m\\xfaltiples\");\n                // Obtener el estado actual\n                const state = stateManager.getState();\n                // Validar que haya elementos en la timeline\n                if (!state.activeIds || state.activeIds.length === 0) {\n                    console.error(\"No hay elementos seleccionados en la timeline\");\n                    // Buscar el primer elemento disponible en la timeline\n                    const trackItemsMap = state.trackItemsMap || {};\n                    const trackItems = Object.keys(trackItemsMap);\n                    if (trackItems.length === 0) {\n                        console.error(\"No hay elementos en la timeline para eliminar segmentos\");\n                        throw new Error(\"No hay elementos en la timeline\");\n                    }\n                    // Seleccionar el primer elemento disponible\n                    const firstItemId = trackItems[0];\n                    console.log(\"Seleccionando autom\\xe1ticamente el elemento con ID: \".concat(firstItemId));\n                    (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.LAYER_SELECT, {\n                        payload: {\n                            ids: [\n                                firstItemId\n                            ]\n                        }\n                    });\n                    // Esperar a que se aplique la selección\n                    await new Promise((resolve)=>setTimeout(resolve, 300));\n                }\n                // Almacenamos información del elemento seleccionado\n                const currentState = stateManager.getState();\n                if (!currentState.activeIds || currentState.activeIds.length === 0) {\n                    throw new Error(\"No se pudo seleccionar ning\\xfan elemento en la timeline\");\n                }\n                const originalItemId = currentState.activeIds[0];\n                const originalItem = currentState.trackItemsMap[originalItemId];\n                const trackType = originalItem.type;\n                const trackId = originalItem.trackId;\n                console.log(\"Elemento seleccionado: ID=\".concat(originalItemId, \", tipo=\").concat(trackType, \", trackId=\").concat(trackId));\n                // Procesar cada segmento en orden (de final a principio para evitar afectar posiciones)\n                for(let i = segments.length - 1; i >= 0; i--){\n                    const segment = segments[i];\n                    console.log(\"Procesando segmento \".concat(i + 1, \"/\").concat(segments.length, \": \").concat(segment.startTime, \"s - \").concat(segment.endTime, \"s\"));\n                    try {\n                        // PASO 1: Hacer un corte en el tiempo final\n                        const endMs = segment.endTime * 1000;\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.ACTIVE_SPLIT, {\n                            payload: {},\n                            options: {\n                                time: endMs\n                            }\n                        });\n                        console.log(\"Paso 1: Corte aplicado en tiempo final \".concat(segment.endTime, \"s\"));\n                        // Esperar a que se procese el primer corte\n                        await new Promise((resolve)=>setTimeout(resolve, 500));\n                        // Obtenemos el estado después del primer corte\n                        const stateAfterFirstCut = stateManager.getState();\n                        const elementsAfterFirstCut = Object.entries(stateAfterFirstCut.trackItemsMap).filter((param)=>{\n                            let [_, item] = param;\n                            return item.type === trackType && item.trackId === trackId && item.display && !isNaN(item.display.from) && !isNaN(item.display.to);\n                        }).map((param)=>{\n                            let [id, item] = param;\n                            return {\n                                id,\n                                from: item.display.from,\n                                to: item.display.to,\n                                duración: item.display.to - item.display.from\n                            };\n                        }).sort((a, b)=>a.from - b.from);\n                        console.log(\"Elementos despu\\xe9s del primer corte:\", elementsAfterFirstCut);\n                        // PASO 2: Identificar el elemento izquierdo que contiene el tiempo inicial\n                        const startMs = segment.startTime * 1000;\n                        const leftElement = elementsAfterFirstCut.find((elem)=>elem.from <= startMs && elem.to >= startMs);\n                        if (!leftElement) {\n                            console.error(\"No se pudo identificar el elemento izquierdo para el segmento \".concat(i + 1));\n                            continue;\n                        }\n                        console.log(\"Paso 2: Elemento izquierdo identificado (ID: \".concat(leftElement.id, \")\"));\n                        // PASO 3: Seleccionar el elemento izquierdo y hacer corte en tiempo inicial\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.LAYER_SELECT, {\n                            payload: {\n                                ids: [\n                                    leftElement.id\n                                ]\n                            }\n                        });\n                        // Esperar a que se aplique la selección\n                        await new Promise((resolve)=>setTimeout(resolve, 300));\n                        // Aplicar el corte en el tiempo inicial\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.ACTIVE_SPLIT, {\n                            payload: {},\n                            options: {\n                                time: startMs\n                            }\n                        });\n                        console.log(\"Paso 3: Segundo corte aplicado en tiempo inicial \".concat(segment.startTime, \"s\"));\n                        // Esperar a que se procese el segundo corte\n                        await new Promise((resolve)=>setTimeout(resolve, 500));\n                        // Obtenemos el estado después del segundo corte\n                        const stateAfterSecondCut = stateManager.getState();\n                        const elementsAfterSecondCut = Object.entries(stateAfterSecondCut.trackItemsMap).filter((param)=>{\n                            let [_, item] = param;\n                            return item.type === trackType && item.trackId === trackId && item.display && !isNaN(item.display.from) && !isNaN(item.display.to);\n                        }).map((param)=>{\n                            let [id, item] = param;\n                            return {\n                                id,\n                                from: item.display.from,\n                                to: item.display.to,\n                                duración: item.display.to - item.display.from\n                            };\n                        }).sort((a, b)=>a.from - b.from);\n                        console.log(\"Elementos despu\\xe9s del segundo corte:\", elementsAfterSecondCut);\n                        // PASO 4: Identificar el elemento del medio usando criterios más precisos\n                        const middleElements = elementsAfterSecondCut.filter((elem)=>Math.abs(elem.from - startMs) < 50 && Math.abs(elem.to - endMs) < 50);\n                        console.log(\"Elementos que coinciden con los criterios del medio:\", middleElements);\n                        if (middleElements.length === 0) {\n                            console.error(\"No se pudo identificar el elemento del medio para el segmento \".concat(i + 1));\n                            continue;\n                        }\n                        // Si hay más de un elemento que coincide, tomamos el primero\n                        const middleElement = middleElements[0];\n                        console.log(\"Paso 4: Elemento del medio identificado (ID: \".concat(middleElement.id, \")\"));\n                        // PASO 5: Seleccionar y eliminar el elemento del medio\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.LAYER_SELECT, {\n                            payload: {\n                                ids: [\n                                    middleElement.id\n                                ]\n                            }\n                        });\n                        // Esperar a que se aplique la selección\n                        await new Promise((resolve)=>setTimeout(resolve, 300));\n                        // Verificar que el elemento está seleccionado antes de eliminarlo\n                        const currentState = stateManager.getState();\n                        if (currentState.activeIds && currentState.activeIds.includes(middleElement.id)) {\n                            console.log(\"Elemento del medio correctamente seleccionado, procediendo con eliminaci\\xf3n\");\n                            (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.LAYER_DELETE);\n                            console.log(\"Elemento eliminado correctamente: \".concat(middleElement.id));\n                        } else {\n                            console.log(\"No se pudo seleccionar normalmente, intentando m\\xe9todo alternativo\");\n                            // Enfoque alternativo: Usar el EDIT_OBJECT para \"ocultar\" el segmento\n                            (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.EDIT_OBJECT, {\n                                payload: {\n                                    [middleElement.id]: {\n                                        display: {\n                                            from: -99999,\n                                            to: -99990\n                                        },\n                                        visible: false // Adicionalmente marcarlo como no visible\n                                    }\n                                }\n                            });\n                            console.log(\"Aplicado m\\xe9todo alternativo para ocultar el segmento\");\n                        }\n                        // Esperar a que se procese la eliminación\n                        await new Promise((resolve)=>setTimeout(resolve, 500));\n                    } catch (error) {\n                        console.error(\"Error al procesar el segmento \".concat(i + 1, \":\"), error);\n                    }\n                    // Pausa entre segmentos\n                    await new Promise((resolve)=>setTimeout(resolve, 500));\n                }\n                // Actualizar la escala para refrescar la vista\n                const { scale } = stateManager.getState();\n                if (scale) {\n                    console.log(\"Actualizando escala para refrescar la vista\");\n                    // Guardar el valor actual de scale.unit\n                    const originalUnit = scale.unit;\n                    // Incrementar el valor\n                    scale.unit += 1;\n                    console.log(\"Scale cambiada: \".concat(originalUnit, \" -> \").concat(scale.unit));\n                    // Asegurar que el cambio sea notado por el sistema\n                    (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.TIMELINE_SCALE_CHANGED, {\n                        payload: {\n                            scale: {\n                                ...scale,\n                                unit: scale.unit // Explícitamente establecer el nuevo valor\n                            }\n                        }\n                    });\n                    // Forzar una actualización adicional volviendo al valor original después de un momento\n                    setTimeout(()=>{\n                        const currentState = stateManager.getState();\n                        if (currentState.scale) {\n                            (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.TIMELINE_SCALE_CHANGED, {\n                                payload: {\n                                    scale: {\n                                        ...currentState.scale,\n                                        unit: originalUnit // Volver al valor original\n                                    }\n                                }\n                            });\n                            console.log(\"Restaurado scale a valor original: \".concat(originalUnit));\n                        }\n                    }, 300);\n                }\n                console.log(\"Eliminaci\\xf3n de segmentos completada\");\n                return true;\n            } catch (error) {\n                console.error(\"Error al eliminar segmentos:\", error);\n                return false;\n            }\n        },\n        compactTimeline: async ()=>{\n            try {\n                console.log(\"=== INICIANDO COMPACTACI\\xd3N DE L\\xcdNEA DE TIEMPO DESDE IA ===\");\n                // Obtener el estado actual\n                const estado = stateManager.getState();\n                console.log(\"Estado para compactaci\\xf3n:\", Object.keys(estado));\n                // Añadir un tiempo de espera inicial para asegurar que el estado está actualizado\n                console.log(\"Esperando 1 segundo para asegurar consistencia del estado...\");\n                await new Promise((resolve)=>setTimeout(resolve, 1000));\n                // Verificación adicional para asegurarnos que los cambios en la timeline ya se aplicaron\n                console.log(\"Verificando que los elementos en la timeline reflejen los cambios m\\xe1s recientes...\");\n                // Pequeña pausa adicional para asegurar consistencia del estado\n                await new Promise((resolve)=>setTimeout(resolve, 500));\n                // Buscar los elementos del timeline - usando la referencia al método dentro del mismo objeto\n                const todosElementos = await executor.getAllTimelineElements();\n                console.log(\"Encontrados \".concat(todosElementos.length, \" elementos en la timeline\"));\n                // Logging de elementos para diagnóstico\n                todosElementos.forEach((elem, index)=>{\n                    console.log(\"Elemento \".concat(index + 1, \": ID=\").concat(elem.id, \", Tipo=\").concat(elem.type, \", Track=\").concat(elem.trackId, \", Tiempo=\").concat(elem.from, \"ms-\").concat(elem.to, \"ms (duraci\\xf3n=\").concat(elem.to - elem.from, \"ms)\"));\n                });\n                // Si no hay elementos, no podemos compactar\n                if (todosElementos.length === 0) {\n                    console.log(\"No hay elementos en el timeline para compactar\");\n                    return false;\n                }\n                // Agrupar elementos por track para análisis\n                const elementosPorTrack = {};\n                todosElementos.forEach((elem)=>{\n                    if (elem.trackId) {\n                        if (!elementosPorTrack[elem.trackId]) {\n                            elementosPorTrack[elem.trackId] = [];\n                        }\n                        elementosPorTrack[elem.trackId].push(elem);\n                    }\n                });\n                // Ordenar elementos en cada track por tiempo\n                Object.keys(elementosPorTrack).forEach((trackId)=>{\n                    elementosPorTrack[trackId].sort((a, b)=>a.from - b.from);\n                });\n                console.log(\"Elementos agrupados por track:\", Object.keys(elementosPorTrack).length);\n                // Logging de tracks para diagnóstico\n                Object.keys(elementosPorTrack).forEach((trackId)=>{\n                    console.log(\"Track \".concat(trackId, \": \").concat(elementosPorTrack[trackId].length, \" elementos\"));\n                    // Mostrar los elementos en este track ordenados\n                    elementosPorTrack[trackId].forEach((elem, idx)=>{\n                        console.log(\"  \".concat(idx + 1, \". ID=\").concat(elem.id.substring(0, 8), \"... Tiempo=\").concat(elem.from, \"ms-\").concat(elem.to, \"ms (duraci\\xf3n: \").concat(elem.to - elem.from, \"ms)\"));\n                    });\n                });\n                // Buscar espacios vacíos en cada track\n                const espaciosVacios = [];\n                Object.keys(elementosPorTrack).forEach((trackId)=>{\n                    const elementos = elementosPorTrack[trackId];\n                    // Si hay al menos 2 elementos, podemos buscar espacios\n                    if (elementos.length >= 2) {\n                        for(let i = 0; i < elementos.length - 1; i++){\n                            const elementoActual = elementos[i];\n                            const elementoSiguiente = elementos[i + 1];\n                            // Verificar si hay un espacio entre el fin del elemento actual y el inicio del siguiente\n                            const espacio = elementoSiguiente.from - elementoActual.to;\n                            // Si el espacio es significativo (más de 100ms)\n                            if (espacio > 100) {\n                                espaciosVacios.push({\n                                    trackId,\n                                    start: elementoActual.to,\n                                    end: elementoSiguiente.from,\n                                    size: espacio,\n                                    elementoAntes: elementoActual.id,\n                                    elementoDespues: elementoSiguiente.id\n                                });\n                                console.log(\"Encontrado espacio de \".concat(espacio, \"ms (\").concat(espacio / 1000, \"s) en track \").concat(trackId, \" entre elementos \").concat(elementoActual.id.substring(0, 8), \"... y \").concat(elementoSiguiente.id.substring(0, 8), \"...\"));\n                            }\n                        }\n                    }\n                });\n                console.log(\"Se encontraron \".concat(espaciosVacios.length, \" espacios vac\\xedos\"));\n                // Si no hay espacios, no necesitamos compactar\n                if (espaciosVacios.length === 0) {\n                    console.log(\"No hay espacios significativos para compactar\");\n                    return true; // Devolvemos true porque técnicamente está compactado\n                }\n                // Ordenar espacios por posición (de izquierda a derecha)\n                espaciosVacios.sort((a, b)=>a.start - b.start);\n                // Calcular el espacio total a compactar\n                let espacioTotal = 0;\n                espaciosVacios.forEach((espacio)=>{\n                    espacioTotal += espacio.size;\n                });\n                console.log(\"Espacio total a compactar: \".concat(espacioTotal, \"ms (\").concat(espacioTotal / 1000, \"s)\"));\n                console.log(\"Preparando actualizaciones para \".concat(todosElementos.length, \" elementos...\"));\n                // Preparar actualizaciones para cada elemento\n                const actualizaciones = {};\n                let elementosAMover = 0;\n                // Para cada elemento, calculamos el desplazamiento basado en los espacios anteriores\n                todosElementos.forEach((elemento)=>{\n                    let desplazamiento = 0;\n                    // Calcular cuánto debe moverse basado en los espacios vacíos anteriores\n                    for (const espacio of espaciosVacios){\n                        // Si el elemento está después del espacio vacío, debe moverse\n                        if (elemento.from > espacio.end) {\n                            desplazamiento += espacio.size;\n                        }\n                    }\n                    // Si hay desplazamiento, añadir a las actualizaciones\n                    if (desplazamiento > 0) {\n                        const nuevoFrom = elemento.from - desplazamiento;\n                        const nuevoTo = elemento.to - desplazamiento;\n                        console.log(\"Elemento \".concat(elemento.id.substring(0, 8), \"... se mover\\xe1: \").concat(elemento.from, \"ms -> \").concat(nuevoFrom, \"ms (desplazamiento: \").concat(desplazamiento, \"ms)\"));\n                        actualizaciones[elemento.id] = {\n                            display: {\n                                from: nuevoFrom,\n                                to: nuevoTo\n                            }\n                        };\n                        elementosAMover++;\n                    }\n                });\n                console.log(\"Elementos a mover: \".concat(elementosAMover, \" de \").concat(todosElementos.length, \" total\"));\n                // Aplicar las actualizaciones\n                if (elementosAMover > 0) {\n                    console.log(\"Aplicando actualizaciones para compactar timeline...\");\n                    try {\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.EDIT_OBJECT, {\n                            payload: actualizaciones\n                        });\n                        console.log(\"Actualizaciones aplicadas con \\xe9xito\");\n                    } catch (error) {\n                        console.error(\"Error al aplicar actualizaciones:\", error);\n                        return false;\n                    }\n                    // Refrescar la vista\n                    setTimeout(()=>{\n                        try {\n                            const { scale } = stateManager.getState();\n                            if (scale) {\n                                // Hacer un pequeño cambio en la escala para forzar la actualización\n                                const updatedScale = {\n                                    ...scale\n                                };\n                                if (typeof updatedScale.unit === \"number\") {\n                                    updatedScale.unit = (updatedScale.unit || 0) + 1;\n                                    (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.TIMELINE_SCALE_CHANGED, {\n                                        payload: {\n                                            scale: updatedScale\n                                        }\n                                    });\n                                    // Volver a la escala original\n                                    setTimeout(()=>{\n                                        const currentScale = {\n                                            ...stateManager.getState().scale\n                                        };\n                                        currentScale.unit = (currentScale.unit || 1) - 1;\n                                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.TIMELINE_SCALE_CHANGED, {\n                                            payload: {\n                                                scale: currentScale\n                                            }\n                                        });\n                                    }, 300);\n                                }\n                            }\n                        } catch (error) {\n                            console.error(\"Error al refrescar la vista:\", error);\n                        }\n                    }, 500);\n                    console.log(\"Compactaci\\xf3n completada con \\xe9xito\");\n                    return true;\n                } else {\n                    console.log(\"No hay elementos que necesiten moverse\");\n                    return true;\n                }\n            } catch (error) {\n                console.error(\"Error al compactar la l\\xednea de tiempo:\", error);\n                return false;\n            }\n        },\n        smartTrim: async ()=>{\n            try {\n                console.log(\"=== INICIANDO PROCESO DE RECORTE INTELIGENTE DESDE IA ===\");\n                // 1. Realizar la llamada al API para analizar la transcripción\n                console.log(\"Solicitando an\\xe1lisis de transcripci\\xf3n...\");\n                const response = await fetch(\"/api/smart-trim\");\n                if (!response.ok) {\n                    throw new Error(\"Error al analizar la transcripci\\xf3n: \".concat(response.status));\n                }\n                const data = await response.json();\n                console.log(\"An\\xe1lisis de transcripci\\xf3n completado:\", data);\n                if (!data.removeSegments || !Array.isArray(data.removeSegments) || data.removeSegments.length === 0) {\n                    console.log(\"No se encontraron segmentos para eliminar\");\n                    return false;\n                }\n                // 2. Convertir los segmentos al formato que espera removeSegments\n                const segments = data.removeSegments.map((segment)=>({\n                        startTime: segment.startTime,\n                        endTime: segment.endTime // Ya está en segundos\n                    }));\n                console.log(\"Se eliminar\\xe1n \".concat(segments.length, \" segmentos:\"), segments.map((s)=>\"\".concat(s.startTime, \"s-\").concat(s.endTime, \"s\")).join(\", \"));\n                // Almacenar información del estado previo para identificar tracks y elementos\n                console.log(\"Obteniendo informaci\\xf3n del estado antes de eliminar segmentos...\");\n                const estadoPrevio = stateManager.getState();\n                const elementosPrevios = await executor.getAllTimelineElements();\n                // Determinar el trackId principal basado en los elementos\n                const contadorTracks = {};\n                elementosPrevios.forEach((elem)=>{\n                    if (elem.trackId) {\n                        contadorTracks[elem.trackId] = (contadorTracks[elem.trackId] || 0) + 1;\n                    }\n                });\n                // Encontrar el track con más elementos\n                let trackIdPrincipal = \"\";\n                if (Object.keys(contadorTracks).length > 0) {\n                    const tracksPorUso = Object.entries(contadorTracks).sort((a, b)=>b[1] - a[1]);\n                    if (tracksPorUso.length > 0) {\n                        trackIdPrincipal = tracksPorUso[0][0];\n                        console.log(\"Usando trackId principal: \".concat(trackIdPrincipal));\n                    }\n                }\n                // 3. Eliminar los segmentos\n                console.log(\"Ejecutando eliminaci\\xf3n de segmentos...\");\n                const result = await executor.removeSegments(segments);\n                if (!result) {\n                    console.log(\"Error al eliminar los segmentos\");\n                    return false;\n                }\n                console.log(\"Segmentos eliminados correctamente\");\n                // 4. Crear registro de los segmentos eliminados para compactación\n                const segmentosEliminados = segments.map((segment)=>({\n                        start: segment.startTime * 1000,\n                        end: segment.endTime * 1000,\n                        trackId: trackIdPrincipal,\n                        size: (segment.endTime - segment.startTime) * 1000\n                    }));\n                console.log(\"Segmentos registrados para compactaci\\xf3n:\", segmentosEliminados);\n                // 5. Esperar un momento para que se completen las actualizaciones del DOM y el estado\n                console.log(\"Esperando 5 segundos para asegurar que los cambios en la timeline est\\xe9n completos antes de compactar...\");\n                await new Promise((resolve)=>setTimeout(resolve, 5000));\n                // 6. Compactar el timeline usando el enfoque de segmentos registrados\n                console.log(\"Compactando timeline basado en segmentos eliminados...\");\n                // Obtener elementos actuales después de la eliminación\n                const elementosActuales = await executor.getAllTimelineElements();\n                console.log(\"Se encontraron \".concat(elementosActuales.length, \" elementos en la timeline despu\\xe9s de eliminar segmentos\"));\n                // Calcular el espacio total a compactar\n                let espacioTotal = 0;\n                segmentosEliminados.forEach((segmento)=>{\n                    espacioTotal += segmento.size;\n                });\n                console.log(\"Espacio total a compactar: \".concat(espacioTotal, \"ms (\").concat(espacioTotal / 1000, \"s)\"));\n                // Preparar actualizaciones para cada elemento\n                const actualizaciones = {};\n                let elementosAMover = 0;\n                // Ordenar segmentos por posición de inicio\n                const segmentosOrdenados = [\n                    ...segmentosEliminados\n                ].sort((a, b)=>a.start - b.start);\n                // Para cada elemento, calcular el desplazamiento basado en los segmentos eliminados\n                elementosActuales.forEach((elemento)=>{\n                    let desplazamiento = 0;\n                    // Calcular cuánto debe moverse basado en los segmentos eliminados anteriores\n                    for (const segmento of segmentosOrdenados){\n                        if (elemento.from > segmento.start) {\n                            desplazamiento += segmento.size;\n                        }\n                    }\n                    // Si hay desplazamiento, añadir a las actualizaciones\n                    if (desplazamiento > 0) {\n                        const nuevoFrom = elemento.from - desplazamiento;\n                        const nuevoTo = elemento.to - desplazamiento;\n                        console.log(\"Elemento \".concat(elemento.id.substring(0, 8), \"... se mover\\xe1: \").concat(elemento.from, \"ms -> \").concat(nuevoFrom, \"ms (desplazamiento: \").concat(desplazamiento, \"ms)\"));\n                        actualizaciones[elemento.id] = {\n                            display: {\n                                from: nuevoFrom,\n                                to: nuevoTo\n                            }\n                        };\n                        elementosAMover++;\n                    }\n                });\n                console.log(\"Elementos a mover: \".concat(elementosAMover, \" de \").concat(elementosActuales.length, \" total\"));\n                // Aplicar las actualizaciones\n                if (elementosAMover > 0) {\n                    console.log(\"Aplicando actualizaciones para compactar timeline...\");\n                    try {\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.EDIT_OBJECT, {\n                            payload: actualizaciones\n                        });\n                        console.log(\"Actualizaciones aplicadas con \\xe9xito\");\n                        // Refrescar la vista\n                        setTimeout(()=>{\n                            try {\n                                const { scale } = stateManager.getState();\n                                if (scale) {\n                                    const updatedScale = {\n                                        ...scale\n                                    };\n                                    if (typeof updatedScale.unit === \"number\") {\n                                        updatedScale.unit = (updatedScale.unit || 0) + 1;\n                                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.TIMELINE_SCALE_CHANGED, {\n                                            payload: {\n                                                scale: updatedScale\n                                            }\n                                        });\n                                        // Volver a la escala original\n                                        setTimeout(()=>{\n                                            const currentScale = {\n                                                ...stateManager.getState().scale\n                                            };\n                                            currentScale.unit = (currentScale.unit || 1) - 1;\n                                            (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.TIMELINE_SCALE_CHANGED, {\n                                                payload: {\n                                                    scale: currentScale\n                                                }\n                                            });\n                                        }, 300);\n                                    }\n                                }\n                            } catch (error) {\n                                console.error(\"Error al refrescar la vista:\", error);\n                            }\n                        }, 500);\n                    } catch (error) {\n                        console.error(\"Error al aplicar actualizaciones:\", error);\n                        return false;\n                    }\n                } else {\n                    console.log(\"No se encontraron elementos que necesiten moverse\");\n                }\n                console.log(\"Timeline compactado correctamente\");\n                return true;\n            } catch (error) {\n                console.error(\"Error al realizar el recorte inteligente:\", error);\n                return false;\n            }\n        }\n    };\n    return executor;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvYWktY2hhdC9haS12aWRlby1jb21tYW5kcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQytDO0FBQ3lKO0FBQ3JKO0FBcUU1QyxTQUFTVSwyQkFBMkJDLFlBQTBCO0lBQ25FLGlEQUFpRDtJQUNqRCxNQUFNQyxXQUFpQztRQUNyQ0MsU0FBUyxDQUFDQyxNQUFjQztZQUN0QixNQUFNQyxXQUFXRCxDQUFBQSxvQkFBQUEsOEJBQUFBLFFBQVNDLFFBQVEsS0FBSTtnQkFBRUMsR0FBRztnQkFBS0MsR0FBRztZQUFJLEdBQUcsdUJBQXVCO1lBQ2pGLE1BQU1DLFdBQVdKLENBQUFBLG9CQUFBQSw4QkFBQUEsUUFBU0ksUUFBUSxLQUFJO1lBQ3RDLE1BQU1DLGFBQWFMLENBQUFBLG9CQUFBQSw4QkFBQUEsUUFBU0ssVUFBVSxLQUFJO1lBQzFDLE1BQU1DLFFBQVFOLENBQUFBLG9CQUFBQSw4QkFBQUEsUUFBU00sS0FBSyxLQUFJO1lBQ2hDLE1BQU1DLFlBQVlQLENBQUFBLG9CQUFBQSw4QkFBQUEsUUFBU08sU0FBUyxLQUFJLEdBQUcsd0JBQXdCO1lBQ25FLE1BQU1DLFVBQVVSLENBQUFBLG9CQUFBQSw4QkFBQUEsUUFBU1EsT0FBTyxLQUFJLEdBQUcscUNBQXFDO1lBRTVFLDhCQUE4QjtZQUM5QixNQUFNQyxjQUFjO2dCQUNsQkMsSUFBSWhCLGlFQUFVQTtnQkFDZGlCLFNBQVM7b0JBQ1BDLE1BQU1MLFlBQVk7b0JBQ2xCTSxJQUFJTCxVQUFVLEtBQVMsMkJBQTJCO2dCQUNwRDtnQkFDQU0sTUFBTTtnQkFDTkMsU0FBUztvQkFDUGhCLE1BQU1BO29CQUNOSyxVQUFVQTtvQkFDVlksT0FBTztvQkFDUFgsWUFBWUE7b0JBQ1pDLE9BQU9BO29CQUNQVyxVQUFVO29CQUNWQyxXQUFXO29CQUNYQyxhQUFhO29CQUNiQyxhQUFhO29CQUNiQyxXQUFXO3dCQUNUZixPQUFPO3dCQUNQSixHQUFHO3dCQUNIQyxHQUFHO3dCQUNIbUIsTUFBTTtvQkFDUjtnQkFDRjtZQUNGO1lBRUEsNEJBQTRCO1lBQzVCckMsNkRBQVFBLENBQUNDLHdEQUFRQSxFQUFFO2dCQUNqQnFDLFNBQVNkO2dCQUNUVCxTQUFTLENBQUM7WUFDWjtRQUNGO1FBRUF3QixhQUFhLENBQUNDLFdBQW1CbkI7WUFDL0IsaUdBQWlHO1lBQ2pHb0IsUUFBUUMsR0FBRyxDQUFDLGdDQUErQ3JCLE9BQWZtQixXQUFVLE9BQVcsT0FBTm5CO1FBRTNELGdFQUFnRTtRQUNsRTtRQUVBc0IsVUFBVSxDQUFDQyxLQUFhN0I7WUFDdEIsSUFBSTtnQkFDSixzQ0FBc0M7Z0JBQ3RDLElBQUksQ0FBQzZCLEtBQUs7b0JBQ05ILFFBQVFJLEtBQUssQ0FBQztvQkFDZCxNQUFNLElBQUlDLE1BQU07Z0JBQ3BCO2dCQUVFTCxRQUFRQyxHQUFHLENBQUM7Z0JBQ1pELFFBQVFDLEdBQUcsQ0FBQyxRQUFRRTtnQkFDcEJILFFBQVFDLEdBQUcsQ0FBQyxhQUFhSyxLQUFLQyxTQUFTLENBQUNqQyxTQUFTLE1BQU07Z0JBRXpELGtGQUFrRjtnQkFDbEYsSUFBSTZCLFFBQVEsdUNBQXVDQSxJQUFJSyxRQUFRLENBQUMsc0JBQXNCO29CQUNwRlIsUUFBUUksS0FBSyxDQUFDLDBEQUFvREQ7b0JBQ2xFLE1BQU0sSUFBSUUsTUFBTTtnQkFDbEI7Z0JBRUEsTUFBTWYsUUFBUWhCLENBQUFBLG9CQUFBQSw4QkFBQUEsUUFBU2dCLEtBQUssS0FBSTtnQkFDaEMsTUFBTW1CLFNBQVNuQyxDQUFBQSxvQkFBQUEsOEJBQUFBLFFBQVNtQyxNQUFNLEtBQUk7Z0JBQ2xDLE1BQU01QixZQUFZUCxDQUFBQSxvQkFBQUEsOEJBQUFBLFFBQVNPLFNBQVMsTUFBSzZCLFlBQVlwQyxRQUFRTyxTQUFTLEdBQUc7Z0JBQ3pFLE1BQU1DLFVBQVVSLENBQUFBLG9CQUFBQSw4QkFBQUEsUUFBU1EsT0FBTyxNQUFLNEIsWUFBWXBDLFFBQVFRLE9BQU8sR0FBR0QsWUFBWTtnQkFFN0UsK0JBQStCO2dCQUMvQixNQUFNOEIsdUJBQXVCckMsQ0FBQUEsb0JBQUFBLDhCQUFBQSxRQUFTc0MsVUFBVSxNQUFLO2dCQUNyRCxNQUFNQyxxQkFBcUJ2QyxDQUFBQSxvQkFBQUEsOEJBQUFBLFFBQVN3QyxRQUFRLE1BQUs7Z0JBQ2pELE1BQU1DLFNBQVNaLElBQUlhLFdBQVcsR0FBR0MsUUFBUSxDQUFDO2dCQUMxQyxNQUFNQyxRQUFRZixJQUFJYSxXQUFXLEdBQUdDLFFBQVEsQ0FBQztnQkFFekMsa0RBQWtEO2dCQUNsRCxNQUFNRSx3QkFBd0IsQ0FBQ1Isd0JBQXdCSSxVQUFVRyxLQUFJLEtBQU0sQ0FBQ0w7Z0JBRTVFLHdCQUF3QjtnQkFDeEIsSUFBSU0sdUJBQXVCO29CQUN6Qm5CLFFBQVFDLEdBQUcsQ0FBQywwQ0FBb0MsT0FBSkU7b0JBQzVDSCxRQUFRQyxHQUFHLENBQUMsU0FBOEQsT0FBckRjLFNBQVMsU0FBU0csUUFBUSxRQUFRO2dCQUN6RCxPQUFPLElBQUlILFVBQVVHLE9BQU87b0JBQzFCbEIsUUFBUUMsR0FBRyxDQUFDLDZGQUFpRixPQUFKRTtnQkFDM0YsT0FBTztvQkFDTEgsUUFBUUMsR0FBRyxDQUFDLDhDQUFxQyxPQUFKRTtnQkFDL0M7Z0JBRUYscUVBQXFFO2dCQUNyRSxNQUFNaUIsU0FBU2pCLElBQUlrQixVQUFVLENBQUMsV0FDMUIsR0FBd0IsT0FBckJsQixJQUFJbUIsU0FBUyxDQUFDLEdBQUcsS0FBSSxvQkFDeEJuQjtnQkFDSkgsUUFBUUMsR0FBRyxDQUFDLDZCQUFrRHBCLE9BQXhCdUMsUUFBTyxtQkFBb0N0QyxPQUFuQkQsV0FBVSxXQUFpQixPQUFSQztnQkFFL0Usa0NBQWtDO2dCQUNsQyxNQUFNUCxXQUFXRCxDQUFBQSxvQkFBQUEsOEJBQUFBLFFBQVNDLFFBQVEsS0FBSTtvQkFBRUMsR0FBRztvQkFBS0MsR0FBRztnQkFBSTtnQkFFdkQsa0JBQWtCO2dCQUNsQixNQUFNOEMsWUFBWWpELENBQUFBLG9CQUFBQSw4QkFBQUEsUUFBU2lELFNBQVMsS0FBSTtnQkFDeEMsTUFBTUMsZ0JBQWdCRCxjQUFjO2dCQUVwQyxzREFBc0Q7Z0JBQ3RELE1BQU1FLHFCQUFxQjtvQkFDekJ2QyxNQUFNTCxZQUFZO29CQUNsQk0sSUFBSUwsVUFBVTtnQkFDaEI7Z0JBRUEsaUNBQWlDO2dCQUNqQyxNQUFNNEMscUJBQXFCO29CQUN6QkMsS0FBS3hCO29CQUNMYixPQUFPQTtvQkFDUG1CLFFBQVFBO29CQUNSbUIsU0FBUztvQkFDVEwsV0FBV0E7b0JBQ1hNLE1BQU10RCxTQUFTQyxDQUFDO29CQUNoQnNELEtBQUt2RCxTQUFTRSxDQUFDO29CQUNmc0QsU0FBUztvQkFDVEMsU0FBUztnQkFDWDtnQkFFQSxpQkFBaUI7Z0JBQ2pCLE1BQU1DLFVBQVVqRSxpRUFBVUE7Z0JBRTFCLDBDQUEwQztnQkFDMUMsTUFBTWtFLGVBQWU7b0JBQ25CbEQsSUFBSWlEO29CQUNKaEQsU0FBU3dDO29CQUNUckMsTUFBTTtvQkFDTkMsU0FBUzt3QkFDUCxHQUFHcUMsa0JBQWtCO3dCQUNyQiw4Q0FBOEM7d0JBQzlDLEdBQUlQLHlCQUF5Qjs0QkFDM0JQLFlBQVk7d0JBQ2QsQ0FBQzt3QkFDRCw4Q0FBOEM7d0JBQzlDLEdBQUlZLGlCQUFpQjs0QkFDbkJsQyxPQUFPOzRCQUNQbUIsUUFBUTt3QkFDVixDQUFDO29CQUNIO2dCQUNGO2dCQUVBVCxRQUFRQyxHQUFHLENBQUMsa0NBQWtDSyxLQUFLQyxTQUFTLENBQUM7b0JBQzNELEdBQUcyQixZQUFZO29CQUNmN0MsU0FBUzt3QkFDUCxHQUFHNkMsYUFBYTdDLE9BQU87d0JBQ3ZCc0MsS0FBS08sYUFBYTdDLE9BQU8sQ0FBQ3NDLEdBQUcsQ0FBQ0wsU0FBUyxDQUFDLEdBQUcsTUFBT1ksQ0FBQUEsYUFBYTdDLE9BQU8sQ0FBQ3NDLEdBQUcsQ0FBQ1EsTUFBTSxHQUFHLEtBQUssUUFBUSxFQUFDO29CQUNwRztnQkFDRixHQUFHLE1BQU07Z0JBRVQsNEJBQTRCO2dCQUM1QixNQUFNQyxrQkFBa0I7b0JBQ3RCYixXQUFXQTtvQkFDWGhELFVBQVVBO2dCQUNaO2dCQUVBLDRDQUE0QztnQkFDNUNoQiw2REFBUUEsQ0FBQ0cseURBQVNBLEVBQUU7b0JBQ2xCbUMsU0FBU3FDO29CQUNUNUQsU0FBUzhEO2dCQUNYO2dCQUVBLGVBQWU7Z0JBQ2YsSUFBSWpCLHVCQUF1QjtvQkFDekJuQixRQUFRQyxHQUFHLENBQUMscUNBQXNEbkIsT0FBcEJELFdBQVUsWUFBa0IsT0FBUkMsU0FBUTtnQkFDNUUsT0FBTztvQkFDTGtCLFFBQVFDLEdBQUcsQ0FBQyx5Q0FBdURuQixPQUFwQkQsV0FBVSxZQUFrQixPQUFSQyxTQUFRO2dCQUM3RTtZQUVGLEVBQUUsT0FBT3NCLE9BQU87Z0JBQ2RKLFFBQVFJLEtBQUssQ0FBQywyQ0FBcUNBO2dCQUNuREosUUFBUUksS0FBSyxDQUFDLHVCQUF1QkEsTUFBTWlDLE9BQU87Z0JBQ2xEckMsUUFBUUksS0FBSyxDQUFDLFVBQVVBLE1BQU1rQyxLQUFLO2dCQUNuQyxNQUFNbEMsT0FBTyx5Q0FBeUM7WUFDeEQ7UUFDRjtRQUVBbUMsVUFBVSxDQUFDcEMsS0FBYTdCO1lBQ3RCLElBQUk7Z0JBQ0YwQixRQUFRQyxHQUFHLENBQUM7Z0JBQ1pELFFBQVFDLEdBQUcsQ0FBQyxRQUFRRTtnQkFDcEJILFFBQVFDLEdBQUcsQ0FBQyxhQUFhSyxLQUFLQyxTQUFTLENBQUNqQyxTQUFTLE1BQU07Z0JBRXZELG9CQUFvQjtnQkFDcEIsSUFBSSxDQUFDNkIsS0FBSztvQkFDUkgsUUFBUUksS0FBSyxDQUFDO29CQUNkLE1BQU0sSUFBSUMsTUFBTTtnQkFDbEI7Z0JBRUEsTUFBTWYsUUFBUWhCLENBQUFBLG9CQUFBQSw4QkFBQUEsUUFBU2dCLEtBQUssS0FBSTtnQkFDaEMsTUFBTW1CLFNBQVNuQyxDQUFBQSxvQkFBQUEsOEJBQUFBLFFBQVNtQyxNQUFNLEtBQUk7Z0JBQ2xDLE1BQU01QixZQUFZUCxDQUFBQSxvQkFBQUEsOEJBQUFBLFFBQVNPLFNBQVMsS0FBSSxHQUFHLHdCQUF3QjtnQkFDbkUsTUFBTUMsVUFBVVIsQ0FBQUEsb0JBQUFBLDhCQUFBQSxRQUFTUSxPQUFPLEtBQUksSUFBSSxzQ0FBc0M7Z0JBRTlFLGlFQUFpRTtnQkFDakUsTUFBTTBELFFBQVFyQyxJQUFJYSxXQUFXLEdBQUdDLFFBQVEsQ0FBQztnQkFDekMsTUFBTUYsU0FBU1osSUFBSWEsV0FBVyxHQUFHQyxRQUFRLENBQUM7Z0JBQzFDLG9FQUFvRTtnQkFDcEUsTUFBTXdCLGlCQUFpQm5FLENBQUFBLG9CQUFBQSw4QkFBQUEsUUFBU3lDLE1BQU0sTUFBSztnQkFFM0NmLFFBQVFDLEdBQUcsQ0FBQyxzQkFDVnVDLFFBQVEsUUFBUXpCLFNBQVMsU0FBUzBCLGlCQUFpQix3Q0FBcUM7Z0JBRTFGLGtDQUFrQztnQkFDbEMsTUFBTUMsY0FBYzNCLFVBQVUwQjtnQkFDOUIsTUFBTWpCLGdCQUFnQmdCLFNBQVNFLGVBQWdCcEUsQ0FBQUEsb0JBQUFBLDhCQUFBQSxRQUFTaUQsU0FBUyxNQUFLO2dCQUV0RSwyRUFBMkU7Z0JBQzNFLE1BQU1vQix3QkFBd0IsQ0FBQ0gsU0FBU0UsV0FBVSxLQUFNLEVBQUNwRSxvQkFBQUEsOEJBQUFBLFFBQVNRLE9BQU87Z0JBQ3pFLE1BQU04RCxlQUFlRCx3QkFBd0JqQyxZQUFZNUI7Z0JBRXpELG1CQUFtQjtnQkFDbkIsSUFBSTRELGFBQWE7b0JBQ2YxQyxRQUFRQyxHQUFHLENBQUMsZ0VBQThFMEMsT0FBM0I5RCxXQUFVLHNCQUF3RSxPQUF2RDhELHdCQUF3QixZQUFZQyxlQUFlO29CQUM3STVDLFFBQVFDLEdBQUcsQ0FBQyxvRUFBOEYzQixPQUFwQ2tELGVBQWMsd0JBQXdELE9BQWxDbEQsQ0FBQUEsb0JBQUFBLDhCQUFBQSxRQUFTdUUsZ0JBQWdCLEtBQUk7Z0JBQ3pJLE9BQU8sSUFBSUwsT0FBTztvQkFDaEJ4QyxRQUFRQyxHQUFHLENBQUMsaURBQXFHLE9BQXBFMEMsd0JBQXdCLFlBQVksbUJBQW1CQyxjQUFhO2dCQUNuSDtnQkFFQSw2RkFBNkY7Z0JBQzdGLElBQUlGLGFBQWE7b0JBQ2YsSUFBSTt3QkFDRiwyRUFBMkU7d0JBQzNFMUMsUUFBUUMsR0FBRyxDQUFDO3dCQUVaLDBEQUEwRDt3QkFDMUQsTUFBTTZDLG1CQUFtQjs0QkFDekI5RCxJQUFJaEIsaUVBQVVBOzRCQUNkaUIsU0FBUztnQ0FDUEMsTUFBTUwsWUFBWTtnQ0FDaEJNLElBQUl5RCxlQUFlQSxlQUFlLE9BQU8sQ0FBQy9ELFlBQVksS0FBSyxLQUFLLDRDQUE0Qzs0QkFDaEg7NEJBQ0Usd0VBQXdFOzRCQUMxRU8sTUFBTTs0QkFDTkMsU0FBUztnQ0FDUHNDLEtBQUt4QjtnQ0FDSGIsT0FBTztnQ0FDUG1CLFFBQVE7Z0NBQ1ZtQixTQUFTO2dDQUNQTCxXQUFXO2dDQUNYTSxNQUFNO2dDQUNOQyxLQUFLO2dDQUNMQyxTQUFTO2dDQUNUQyxTQUFTO2dDQUNULDBCQUEwQjtnQ0FDMUJwQixZQUFZOzRCQUNkO3dCQUNGO3dCQUVBWixRQUFRQyxHQUFHLENBQUMsMENBQTBDSyxLQUFLQyxTQUFTLENBQUN1QyxrQkFBa0IsTUFBTTt3QkFFN0YsdUNBQXVDO3dCQUN6Q3ZGLDZEQUFRQSxDQUFDRyx5REFBU0EsRUFBRTs0QkFDaEJtQyxTQUFTaUQ7NEJBQ1h4RSxTQUFTO2dDQUNMaUQsV0FBVztnQ0FDWGhELFVBQVU7b0NBQUVDLEdBQUc7b0NBQUtDLEdBQUc7Z0NBQUk7NEJBQy9CO3dCQUNGO3dCQUVFdUIsUUFBUUMsR0FBRyxDQUFDO3dCQUNaO29CQUNGLEVBQUUsT0FBTzhDLFdBQVc7d0JBQ2xCL0MsUUFBUUksS0FBSyxDQUFDLGtEQUErQzJDO3dCQUM3RC9DLFFBQVFJLEtBQUssQ0FBQyxhQUFhMkMsVUFBVVYsT0FBTzt3QkFDNUNyQyxRQUFRSSxLQUFLLENBQUMsVUFBVTJDLFVBQVVULEtBQUs7d0JBQ3ZDdEMsUUFBUUMsR0FBRyxDQUFDO29CQUNaLGlEQUFpRDtvQkFDbkQ7Z0JBQ0Y7Z0JBRUYsOEJBQThCO2dCQUM5QixNQUFNK0MsZUFBZTtvQkFDbkJoRSxJQUFJaEIsaUVBQVVBO29CQUNkaUIsU0FBUzt3QkFDUEMsTUFBTUwsWUFBWTt3QkFDaEJNLElBQUl5RCxlQUFlQSxlQUFlLE9BQU9sQyxVQUFVLDBEQUEwRDtvQkFDakg7b0JBQ0F0QixNQUFNO29CQUNOQyxTQUFTO3dCQUNQc0MsS0FBS3hCO3dCQUNMYixPQUFPQTt3QkFDUG1CLFFBQVFBO3dCQUNSbUIsU0FBUzt3QkFDUCxzRkFBc0Y7d0JBQ3RGLEdBQUlKLGlCQUFpQjs0QkFDbkJELFdBQVc7NEJBQ1hNLE1BQU07NEJBQ05DLEtBQUs7NEJBQ0xDLFNBQVM7NEJBQ1RDLFNBQVM7d0JBQ1gsQ0FBQzt3QkFDRCxtQ0FBbUM7d0JBQ25DLEdBQUlVLGVBQWU7NEJBQ2pCM0IsUUFBUTs0QkFDUmtDLFVBQVU7NEJBQ1ZDLE1BQU07NEJBQ05MLGtCQUFrQnZFLENBQUFBLG9CQUFBQSw4QkFBQUEsUUFBU3VFLGdCQUFnQixLQUFJO3dCQUNqRCxDQUFDO29CQUNIO2dCQUNGO2dCQUVBN0MsUUFBUUMsR0FBRyxDQUFDLGlDQUE4QkssS0FBS0MsU0FBUyxDQUFDeUMsY0FBYyxNQUFNO2dCQUU3RSwrQ0FBK0M7Z0JBQy9DLE1BQU1aLGtCQUFrQjtvQkFDdEJlLFlBQVk7b0JBQ1o1QixXQUFXQyxnQkFBZ0IsVUFBVTtvQkFDckMsR0FBSUEsaUJBQWlCO3dCQUNuQmpELFVBQVU7NEJBQUVDLEdBQUc7NEJBQUtDLEdBQUc7d0JBQUksRUFBRSwwQ0FBMEM7b0JBQ3pFLENBQUM7b0JBQ0RrRSx1QkFBdUJBO29CQUN2QixzREFBc0Q7b0JBQ3RELEdBQUlELGVBQWU7d0JBQ2pCM0IsUUFBUTt3QkFDUjhCLGtCQUFrQnZFLENBQUFBLG9CQUFBQSw4QkFBQUEsUUFBU3VFLGdCQUFnQixLQUFJO3dCQUMvQ08sa0JBQWtCOUUsQ0FBQUEsb0JBQUFBLDhCQUFBQSxRQUFTOEUsZ0JBQWdCLEtBQUk7b0JBQ2pELENBQUM7Z0JBQ0g7Z0JBRUFwRCxRQUFRQyxHQUFHLENBQUMseUJBQXlCSyxLQUFLQyxTQUFTLENBQUM2QixpQkFBaUIsTUFBTTtnQkFFN0UsNEJBQTRCO2dCQUM1QjdFLDZEQUFRQSxDQUFDRSx5REFBU0EsRUFBRTtvQkFDbEJvQyxTQUFTbUQ7b0JBQ1AxRSxTQUFTOEQ7Z0JBQ1g7Z0JBRUEsNkNBQTZDO2dCQUM3QyxJQUFJTSxhQUFhO29CQUNmMUMsUUFBUUMsR0FBRyxDQUFDLDZFQUFxRjJDLE9BQWQvRCxXQUFVLE1BQXNGUyxPQUFsRnNELGVBQWUsU0FBc0IsT0FBYkEsY0FBYSxPQUFLLDJCQUF1QixtQkFBMEJuQyxPQUFUbkIsT0FBTSxLQUFVLE9BQVBtQjtnQkFDOUwsT0FBTztvQkFDTFQsUUFBUUMsR0FBRyxDQUFDLFdBQTJEcEIsT0FBaEQyRCxRQUFRLFFBQVEsSUFBRyxrQ0FBMENJLE9BQWIvRCxXQUFVLEtBQXVGUyxPQUFwRnNELGVBQWUsVUFBdUIsT0FBYkEsY0FBYSxPQUFLLDRCQUF3QixtQkFBMEJuQyxPQUFUbkIsT0FBTSxLQUFVLE9BQVBtQjtnQkFDbkw7WUFDRixFQUFFLE9BQU9MLE9BQU87Z0JBQ2RKLFFBQVFJLEtBQUssQ0FBQywwQ0FBb0NBO2dCQUNsREosUUFBUUksS0FBSyxDQUFDLHVCQUF1QkEsTUFBTWlDLE9BQU87Z0JBQ2xEckMsUUFBUUksS0FBSyxDQUFDLFVBQVVBLE1BQU1rQyxLQUFLO2dCQUNuQyxNQUFNbEMsT0FBTyx5Q0FBeUM7WUFDeEQ7UUFDRjtRQUVBaUQsZ0JBQWdCLENBQUN0RCxXQUFtQnVEO1lBQ2xDLG9HQUFvRztZQUNwR3RELFFBQVFDLEdBQUcsQ0FBQyxzQ0FBa0RxRCxPQUFmdkQsV0FBVSxPQUFjLE9BQVR1RCxVQUFTO1FBRXZFLG1FQUFtRTtRQUNyRTtRQUVBQyxrQkFBa0IsQ0FBQ3hELFdBQW1CeUQ7WUFDcEMsc0dBQXNHO1lBQ3RHeEQsUUFBUUMsR0FBRyxDQUFDLHdDQUFvRHVELE9BQWZ6RCxXQUFVLE9BQWdCLE9BQVh5RDtRQUVoRSxxRUFBcUU7UUFDdkU7UUFFQUMsY0FBYyxPQUFPbkY7WUFDbkIsSUFBSTtnQkFDRjBCLFFBQVFDLEdBQUcsQ0FBQztnQkFVWiwrREFBK0Q7Z0JBQy9ELE1BQU15RCxnQkFBZ0IsQ0FBQ0M7b0JBQ3JCLE1BQU0sQ0FBQ0MsT0FBT0MsU0FBU0MsYUFBYSxHQUFHSCxXQUFXSSxLQUFLLENBQUM7b0JBQ3hELE1BQU0sQ0FBQ0MsU0FBU0MsR0FBRyxHQUFHSCxhQUFhQyxLQUFLLENBQUM7b0JBRXpDLE9BQ0VHLFNBQVNOLFNBQVMsVUFDbEJNLFNBQVNMLFdBQVcsUUFDcEJLLFNBQVNGLFdBQVcsT0FDcEJFLFNBQVNEO2dCQUViO2dCQUVBLHNDQUFzQztnQkFDdEMsTUFBTUUsV0FBVyxDQUFDQztvQkFDaEIsTUFBTUMsV0FBOEIsRUFBRTtvQkFDdEMsTUFBTUMsU0FBU0YsV0FBV0csSUFBSSxHQUFHUixLQUFLLENBQUM7b0JBRXZDTyxPQUFPRSxPQUFPLENBQUNDLENBQUFBO3dCQUNiLE1BQU1DLFFBQVFELE1BQU1WLEtBQUssQ0FBQzt3QkFDMUIsSUFBSVcsTUFBTXZDLE1BQU0sSUFBSSxHQUFHOzRCQUNyQixNQUFNbkQsS0FBS2tGLFNBQVNRLEtBQUssQ0FBQyxFQUFFOzRCQUM1QixNQUFNQyxZQUFZRCxLQUFLLENBQUMsRUFBRSxDQUFDWCxLQUFLLENBQUM7NEJBQ2pDLE1BQU1sRixZQUFZNkUsY0FBY2lCLFNBQVMsQ0FBQyxFQUFFOzRCQUM1QyxNQUFNN0YsVUFBVTRFLGNBQWNpQixTQUFTLENBQUMsRUFBRTs0QkFDMUMsTUFBTXRHLE9BQU9xRyxNQUFNRSxLQUFLLENBQUMsR0FBR0MsSUFBSSxDQUFDLE9BQU8saUNBQWlDOzRCQUV6RVIsU0FBU1MsSUFBSSxDQUFDO2dDQUNaOUY7Z0NBQ0FIO2dDQUNBQztnQ0FDQVQ7NEJBQ0Y7d0JBQ0Y7b0JBQ0Y7b0JBRUEsT0FBT2dHO2dCQUNUO2dCQUVBLHdFQUF3RTtnQkFDeEUsTUFBTVUsc0JBQXNCLFNBQUMxRzt3QkFBYzJHLGlGQUFnQjtvQkFDekQsTUFBTUMsUUFBUTVHLEtBQUswRixLQUFLLENBQUM7b0JBQ3pCLE1BQU1tQixTQUFtQixFQUFFO29CQUUzQixJQUFLLElBQUlDLElBQUksR0FBR0EsSUFBSUYsTUFBTTlDLE1BQU0sRUFBRWdELEtBQUtILGNBQWU7d0JBQ3BELE1BQU1JLFFBQVFILE1BQU1MLEtBQUssQ0FBQ08sR0FBR0EsSUFBSUgsZUFBZUgsSUFBSSxDQUFDO3dCQUNyREssT0FBT0osSUFBSSxDQUFDTTtvQkFDZDtvQkFFQSxPQUFPRjtnQkFDVDtnQkFFQSx1RkFBdUY7Z0JBQ3ZGLE1BQU1HLGlCQUFpQixDQUFDQztvQkFDdEIsTUFBTUMsYUFBYVIsb0JBQW9CTyxRQUFRakgsSUFBSTtvQkFFbkQsc0RBQXNEO29CQUN0RCxJQUFJa0gsV0FBV3BELE1BQU0sSUFBSSxHQUFHO3dCQUMxQixPQUFPOzRCQUFDbUQ7eUJBQVE7b0JBQ2xCO29CQUVBLHFDQUFxQztvQkFDckMsTUFBTUUsZ0JBQWdCRixRQUFReEcsT0FBTyxHQUFHd0csUUFBUXpHLFNBQVM7b0JBQ3pELE1BQU00RyxnQkFBZ0JELGdCQUFnQkQsV0FBV3BELE1BQU07b0JBRXZELDBDQUEwQztvQkFDMUMsT0FBT29ELFdBQVdHLEdBQUcsQ0FBQyxDQUFDQyxXQUFXQzt3QkFDaEMsTUFBTS9HLFlBQVl5RyxRQUFRekcsU0FBUyxHQUFJK0csUUFBUUg7d0JBQy9DLE1BQU0zRyxVQUFVRCxZQUFZNEc7d0JBRTVCLE9BQU87NEJBQ0x6RyxJQUFJc0csUUFBUXRHLEVBQUUsR0FBRyxPQUFPNEc7NEJBQ3hCL0c7NEJBQ0FDOzRCQUNBVCxNQUFNc0g7d0JBQ1I7b0JBQ0Y7Z0JBQ0Y7Z0JBRUEseURBQXlEO2dCQUN6RCxNQUFNRSx3QkFBd0IsQ0FBQ3hILE1BQWNRLFdBQW1CQyxVQUFxQjt3QkFDbkZFLElBQUloQixpRUFBVUE7d0JBQ2RpQixTQUFTOzRCQUNQQyxNQUFNTDs0QkFDTk0sSUFBSUw7d0JBQ047d0JBQ0FNLE1BQU07d0JBQ05DLFNBQVM7NEJBQ1BoQixNQUFNQSxLQUFLeUgsV0FBVzs0QkFDdEJwSCxVQUFVOzRCQUNWWSxPQUFPOzRCQUNQeUcsU0FBUzs0QkFDVHBILFlBQVk7NEJBQ1pDLE9BQU87NEJBQ1BXLFVBQVU7NEJBQ1ZDLFdBQVc7NEJBQ1hDLGFBQWE7NEJBQ2JDLGFBQWE7NEJBQ2JDLFdBQVc7Z0NBQ1RmLE9BQU87Z0NBQ1BKLEdBQUc7Z0NBQ0hDLEdBQUc7Z0NBQ0htQixNQUFNOzRCQUNSOzRCQUNBb0csaUJBQWlCOzRCQUNqQkMsU0FBUzs0QkFDVEMsY0FBYzt3QkFDaEI7b0JBQ0Y7Z0JBRUEsd0JBQXdCO2dCQUN4QmxHLFFBQVFDLEdBQUcsQ0FBQztnQkFDWixNQUFNa0csV0FBVyxNQUFNQyxNQUFNO2dCQUM3QixJQUFJLENBQUNELFNBQVNFLEVBQUUsRUFBRTtvQkFDaEIsTUFBTSxJQUFJaEcsTUFBTSxtQ0FBbUQsT0FBaEI4RixTQUFTRyxNQUFNO2dCQUNwRTtnQkFFQSxNQUFNbEMsYUFBYSxNQUFNK0IsU0FBUzlILElBQUk7Z0JBQ3RDMkIsUUFBUUMsR0FBRyxDQUFDO2dCQUVaLHlCQUF5QjtnQkFDekIsSUFBSW9FLFdBQVdGLFNBQVNDO2dCQUN4QnBFLFFBQVFDLEdBQUcsQ0FBQyxrQkFBa0MsT0FBaEJvRSxTQUFTbEMsTUFBTSxFQUFDO2dCQUU5QyxrRUFBa0U7Z0JBQ2xFa0MsV0FBV0EsU0FBU2tDLE9BQU8sQ0FBQ2xCO2dCQUM1QnJGLFFBQVFDLEdBQUcsQ0FBQywrQkFBNEMsT0FBaEJvRSxTQUFTbEMsTUFBTSxFQUFDO2dCQUV4RCxxQ0FBcUM7Z0JBQ3JDLElBQUk3RCxDQUFBQSxvQkFBQUEsOEJBQUFBLFFBQVNPLFNBQVMsTUFBSzZCLGFBQWFwQyxDQUFBQSxvQkFBQUEsOEJBQUFBLFFBQVNRLE9BQU8sTUFBSzRCLFdBQVc7b0JBQ3RFLE1BQU04RixpQkFBaUJuQyxTQUFTbEMsTUFBTTtvQkFDdENrQyxXQUFXQSxTQUFTb0MsTUFBTSxDQUFDbkIsQ0FBQUE7d0JBQ3pCLE1BQU1vQixvQkFBb0JwSSxRQUFRTyxTQUFTLEtBQUs2QixhQUN2QjRFLFFBQVF6RyxTQUFTLElBQUtQLFFBQVFPLFNBQVMsR0FBRzt3QkFDbkUsTUFBTThILGtCQUFrQnJJLFFBQVFRLE9BQU8sS0FBSzRCLGFBQ3JCNEUsUUFBUXhHLE9BQU8sSUFBS1IsUUFBUVEsT0FBTyxHQUFHO3dCQUM3RCxPQUFPNEgscUJBQXFCQztvQkFDOUI7b0JBQ0EzRyxRQUFRQyxHQUFHLENBQUMsMkJBQStDb0UsT0FBcEJtQyxnQkFBZSxPQUFxQixPQUFoQm5DLFNBQVNsQyxNQUFNLEVBQUM7Z0JBQzdFO2dCQUVBLHNEQUFzRDtnQkFDdERuQyxRQUFRQyxHQUFHLENBQUMsZ0JBQTZCLE9BQWhCb0UsU0FBU2xDLE1BQU0sRUFBQztnQkFFekNrQyxTQUFTRyxPQUFPLENBQUMsQ0FBQ2MsU0FBU007b0JBQ3pCZ0IsV0FBVzt3QkFDVHJKLDZEQUFRQSxDQUFDQyx3REFBUUEsRUFBRTs0QkFDakJxQyxTQUFTZ0csc0JBQXNCUCxRQUFRakgsSUFBSSxFQUFFaUgsUUFBUXpHLFNBQVMsRUFBRXlHLFFBQVF4RyxPQUFPOzRCQUMvRVIsU0FBUyxDQUFDO3dCQUNaO3dCQUVBLElBQUksQ0FBQ3NILFFBQVEsS0FBSyxPQUFPLEtBQUtBLFVBQVV2QixTQUFTbEMsTUFBTSxHQUFHLEdBQUc7NEJBQzNEbkMsUUFBUUMsR0FBRyxDQUFDLGFBQTBCb0UsT0FBYnVCLFFBQVEsR0FBRSxLQUFtQixPQUFoQnZCLFNBQVNsQyxNQUFNLEVBQUM7d0JBQ3hEO29CQUNGLEdBQUd5RCxRQUFRLE1BQU0sd0NBQXdDO2dCQUMzRDtnQkFFQSxPQUFPO1lBQ1QsRUFBRSxPQUFPeEYsT0FBTztnQkFDZEosUUFBUUksS0FBSyxDQUFDLHFDQUErQkE7Z0JBQzdDLE9BQU87WUFDVDtRQUNGO1FBRUF5RyxtQkFBbUI7WUFDakIsSUFBSTtnQkFDRiwyQkFBMkI7Z0JBQzNCLE1BQU1DLFFBQVE1SSxhQUFhNkksUUFBUTtnQkFFbkMsK0JBQStCO2dCQUMvQixJQUFJLENBQUNELE1BQU1FLFNBQVMsSUFBSUYsTUFBTUUsU0FBUyxDQUFDN0UsTUFBTSxLQUFLLEdBQUc7b0JBQ3BEbkMsUUFBUUMsR0FBRyxDQUFDO29CQUNaLE9BQU8sRUFBRTtnQkFDWDtnQkFFQSxpREFBaUQ7Z0JBQ2pELElBQUksQ0FBQzZHLE1BQU1HLGFBQWEsRUFBRTtvQkFDeEJqSCxRQUFRQyxHQUFHLENBQUM7b0JBQ1osT0FBTyxFQUFFO2dCQUNYO2dCQUVBLCtDQUErQztnQkFDL0MsTUFBTWlILGlCQUFpQkosTUFBTUUsU0FBUyxDQUNuQ1AsTUFBTSxDQUFDekgsQ0FBQUEsS0FBTThILE1BQU1HLGFBQWEsQ0FBQ2pJLEdBQUcsRUFDcEMwRyxHQUFHLENBQUMxRyxDQUFBQTt3QkFNS21JLGVBQ0ZBO29CQU5OLE1BQU1BLE9BQU9MLE1BQU1HLGFBQWEsQ0FBQ2pJLEdBQUc7b0JBQ3BDLE9BQU87d0JBQ0xBO3dCQUNBb0ksU0FBU0QsS0FBS0MsT0FBTzt3QkFDckJoSSxNQUFNK0gsS0FBSy9ILElBQUk7d0JBQ2ZGLElBQUksR0FBRWlJLGdCQUFBQSxLQUFLbEksT0FBTyxjQUFaa0ksb0NBQUFBLGNBQWNqSSxJQUFJO3dCQUN4QkMsRUFBRSxHQUFFZ0ksaUJBQUFBLEtBQUtsSSxPQUFPLGNBQVprSSxxQ0FBQUEsZUFBY2hJLEVBQUU7d0JBQ3BCbUUsVUFBVTZELEtBQUtsSSxPQUFPLEdBQUlrSSxLQUFLbEksT0FBTyxDQUFDRSxFQUFFLEdBQUdnSSxLQUFLbEksT0FBTyxDQUFDQyxJQUFJLEdBQUk7d0JBQ2pFRyxTQUFTOEgsS0FBSzlILE9BQU87b0JBQ3ZCO2dCQUNGO2dCQUVGVyxRQUFRQyxHQUFHLENBQUMsa0JBQXdDLE9BQXRCaUgsZUFBZS9FLE1BQU0sRUFBQztnQkFDcEQsT0FBTytFO1lBQ1QsRUFBRSxPQUFPOUcsT0FBTztnQkFDZEosUUFBUUksS0FBSyxDQUFDLHVDQUF1Q0E7Z0JBQ3JELE9BQU8sRUFBRTtZQUNYO1FBQ0Y7UUFFQWlILHdCQUF3QjtZQUN0QixJQUFJO2dCQUNGLDJCQUEyQjtnQkFDM0IsTUFBTVAsUUFBUTVJLGFBQWE2SSxRQUFRO2dCQUVuQyxpREFBaUQ7Z0JBQ2pELElBQUksQ0FBQ0QsTUFBTUcsYUFBYSxJQUFJSyxPQUFPQyxJQUFJLENBQUNULE1BQU1HLGFBQWEsRUFBRTlFLE1BQU0sS0FBSyxHQUFHO29CQUN6RW5DLFFBQVFDLEdBQUcsQ0FBQztvQkFFWixtREFBbUQ7b0JBQ25ELEtBQUssTUFBTXVILE9BQU9GLE9BQU9DLElBQUksQ0FBQ1QsT0FBUTt3QkFDcEMsSUFBSSxPQUFPQSxLQUFLLENBQUNVLElBQUksS0FBSyxZQUFZVixLQUFLLENBQUNVLElBQUksS0FBSyxNQUFNOzRCQUN6RCxNQUFNQyxXQUFXWCxLQUFLLENBQUNVLElBQUk7NEJBQzNCeEgsUUFBUUMsR0FBRyxDQUFDLHFDQUF5QyxPQUFKdUg7NEJBRWpELCtDQUErQzs0QkFDL0MsSUFBSUYsT0FBT0MsSUFBSSxDQUFDRSxVQUFVdEYsTUFBTSxHQUFHLEdBQUc7Z0NBQ3BDLE1BQU11RixTQUFTRCxRQUFRLENBQUNILE9BQU9DLElBQUksQ0FBQ0UsU0FBUyxDQUFDLEVBQUUsQ0FBQztnQ0FDakQsSUFBSUMsVUFBVUEsT0FBT3pJLE9BQU8sSUFBSXlJLE9BQU90SSxJQUFJLEVBQUU7b0NBQzNDWSxRQUFRQyxHQUFHLENBQUMsbUVBQXVFLE9BQUp1SDtvQ0FFL0UsbURBQW1EO29DQUNuRCxPQUFPRixPQUFPSyxPQUFPLENBQUNGLFVBQ25CaEIsTUFBTSxDQUFDOzRDQUFDLENBQUNtQixHQUFHVCxLQUFLOytDQUFLQSxRQUFRQSxLQUFLbEksT0FBTzt1Q0FDMUN5RyxHQUFHLENBQUM7NENBQUMsQ0FBQzFHLElBQUltSSxLQUFLOzRDQUlSQSxlQUNGQTsrQ0FMZ0I7NENBQ3BCbkk7NENBQ0FvSSxTQUFTRCxLQUFLQyxPQUFPOzRDQUNyQmhJLE1BQU0rSCxLQUFLL0gsSUFBSTs0Q0FDZkYsSUFBSSxHQUFFaUksZ0JBQUFBLEtBQUtsSSxPQUFPLGNBQVprSSxvQ0FBQUEsY0FBY2pJLElBQUk7NENBQ3hCQyxFQUFFLEdBQUVnSSxpQkFBQUEsS0FBS2xJLE9BQU8sY0FBWmtJLHFDQUFBQSxlQUFjaEksRUFBRTs0Q0FDcEJtRSxVQUFVNkQsS0FBS2xJLE9BQU8sR0FBSWtJLEtBQUtsSSxPQUFPLENBQUNFLEVBQUUsR0FBR2dJLEtBQUtsSSxPQUFPLENBQUNDLElBQUksR0FBSTs0Q0FDakVHLFNBQVM4SCxLQUFLOUgsT0FBTzt3Q0FDdkI7O2dDQUNKOzRCQUNGO3dCQUNGO29CQUNGO29CQUVBLE9BQU8sRUFBRTtnQkFDWDtnQkFFQSw4QkFBOEI7Z0JBQzlCLE1BQU13SSxjQUFjUCxPQUFPSyxPQUFPLENBQUNiLE1BQU1HLGFBQWEsRUFDbkRSLE1BQU0sQ0FBQzt3QkFBQyxDQUFDbUIsR0FBR1QsS0FBSzsyQkFBS0EsUUFBUUEsS0FBS2xJLE9BQU87bUJBQzFDeUcsR0FBRyxDQUFDO3dCQUFDLENBQUMxRyxJQUFJbUksS0FBSzt3QkFJUkEsZUFDRkE7MkJBTGdCO3dCQUNwQm5JO3dCQUNBb0ksU0FBU0QsS0FBS0MsT0FBTzt3QkFDckJoSSxNQUFNK0gsS0FBSy9ILElBQUk7d0JBQ2ZGLElBQUksR0FBRWlJLGdCQUFBQSxLQUFLbEksT0FBTyxjQUFaa0ksb0NBQUFBLGNBQWNqSSxJQUFJO3dCQUN4QkMsRUFBRSxHQUFFZ0ksaUJBQUFBLEtBQUtsSSxPQUFPLGNBQVprSSxxQ0FBQUEsZUFBY2hJLEVBQUU7d0JBQ3BCbUUsVUFBVTZELEtBQUtsSSxPQUFPLEdBQUlrSSxLQUFLbEksT0FBTyxDQUFDRSxFQUFFLEdBQUdnSSxLQUFLbEksT0FBTyxDQUFDQyxJQUFJLEdBQUk7d0JBQ2pFRyxTQUFTOEgsS0FBSzlILE9BQU87b0JBQ3ZCO21CQUNDeUksSUFBSSxDQUFDLENBQUNDLEdBQUdDLElBQU0sQ0FBQ0QsRUFBRTdJLElBQUksSUFBSSxLQUFNOEksQ0FBQUEsRUFBRTlJLElBQUksSUFBSTtnQkFFN0NjLFFBQVFDLEdBQUcsQ0FBQyxrQkFBcUMsT0FBbkI0SCxZQUFZMUYsTUFBTSxFQUFDO2dCQUNqRCxPQUFPMEY7WUFDVCxFQUFFLE9BQU96SCxPQUFPO2dCQUNkSixRQUFRSSxLQUFLLENBQUMsc0RBQXNEQTtnQkFDcEUsT0FBTyxFQUFFO1lBQ1g7UUFDRjtRQUVBNkgsZ0JBQWdCLE9BQU81RDtZQUNyQixJQUFJO2dCQUNGckUsUUFBUUMsR0FBRyxDQUFDO2dCQUVaLDJCQUEyQjtnQkFDM0IsTUFBTTZHLFFBQVE1SSxhQUFhNkksUUFBUTtnQkFFbkMsNENBQTRDO2dCQUM1QyxJQUFJLENBQUNELE1BQU1FLFNBQVMsSUFBSUYsTUFBTUUsU0FBUyxDQUFDN0UsTUFBTSxLQUFLLEdBQUc7b0JBQ3BEbkMsUUFBUUksS0FBSyxDQUFDO29CQUVkLHNEQUFzRDtvQkFDdEQsTUFBTTZHLGdCQUFnQkgsTUFBTUcsYUFBYSxJQUFJLENBQUM7b0JBQzlDLE1BQU1pQixhQUFhWixPQUFPQyxJQUFJLENBQUNOO29CQUUvQixJQUFJaUIsV0FBVy9GLE1BQU0sS0FBSyxHQUFHO3dCQUMzQm5DLFFBQVFJLEtBQUssQ0FBQzt3QkFDZCxNQUFNLElBQUlDLE1BQU07b0JBQ2xCO29CQUVBLDRDQUE0QztvQkFDNUMsTUFBTThILGNBQWNELFVBQVUsQ0FBQyxFQUFFO29CQUNqQ2xJLFFBQVFDLEdBQUcsQ0FBQyx3REFBaUUsT0FBWmtJO29CQUVqRTVLLDZEQUFRQSxDQUFDSyw0REFBWUEsRUFBRTt3QkFDckJpQyxTQUFTOzRCQUNQdUksS0FBSztnQ0FBQ0Q7NkJBQVk7d0JBQ3BCO29CQUNGO29CQUVBLHdDQUF3QztvQkFDeEMsTUFBTSxJQUFJRSxRQUFRQyxDQUFBQSxVQUFXMUIsV0FBVzBCLFNBQVM7Z0JBQ25EO2dCQUVBLG9EQUFvRDtnQkFDcEQsTUFBTUMsZUFBZXJLLGFBQWE2SSxRQUFRO2dCQUMxQyxJQUFJLENBQUN3QixhQUFhdkIsU0FBUyxJQUFJdUIsYUFBYXZCLFNBQVMsQ0FBQzdFLE1BQU0sS0FBSyxHQUFHO29CQUNsRSxNQUFNLElBQUk5QixNQUFNO2dCQUNsQjtnQkFFQSxNQUFNbUksaUJBQWlCRCxhQUFhdkIsU0FBUyxDQUFDLEVBQUU7Z0JBQ2hELE1BQU15QixlQUFlRixhQUFhdEIsYUFBYSxDQUFDdUIsZUFBZTtnQkFDL0QsTUFBTUUsWUFBWUQsYUFBYXJKLElBQUk7Z0JBQ25DLE1BQU1nSSxVQUFVcUIsYUFBYXJCLE9BQU87Z0JBRXBDcEgsUUFBUUMsR0FBRyxDQUFDLDZCQUFxRHlJLE9BQXhCRixnQkFBZSxXQUErQnBCLE9BQXRCc0IsV0FBVSxjQUFvQixPQUFSdEI7Z0JBRXZGLHdGQUF3RjtnQkFDeEYsSUFBSyxJQUFJakMsSUFBSWQsU0FBU2xDLE1BQU0sR0FBRyxHQUFHZ0QsS0FBSyxHQUFHQSxJQUFLO29CQUM3QyxNQUFNRyxVQUFVakIsUUFBUSxDQUFDYyxFQUFFO29CQUMzQm5GLFFBQVFDLEdBQUcsQ0FBQyx1QkFBOEJvRSxPQUFQYyxJQUFFLEdBQUUsS0FBdUJHLE9BQXBCakIsU0FBU2xDLE1BQU0sRUFBQyxNQUE0Qm1ELE9BQXhCQSxRQUFRekcsU0FBUyxFQUFDLFFBQXNCLE9BQWhCeUcsUUFBUXhHLE9BQU8sRUFBQztvQkFFdEcsSUFBSTt3QkFDRiw0Q0FBNEM7d0JBQzVDLE1BQU02SixRQUFRckQsUUFBUXhHLE9BQU8sR0FBRzt3QkFDaEN2Qiw2REFBUUEsQ0FBQ0ksNERBQVlBLEVBQUU7NEJBQ3JCa0MsU0FBUyxDQUFDOzRCQUNWdkIsU0FBUztnQ0FDUHNLLE1BQU1EOzRCQUNSO3dCQUNGO3dCQUNBM0ksUUFBUUMsR0FBRyxDQUFDLDBDQUEwRCxPQUFoQnFGLFFBQVF4RyxPQUFPLEVBQUM7d0JBRXRFLDJDQUEyQzt3QkFDM0MsTUFBTSxJQUFJdUosUUFBUUMsQ0FBQUEsVUFBVzFCLFdBQVcwQixTQUFTO3dCQUVqRCwrQ0FBK0M7d0JBQy9DLE1BQU1PLHFCQUFxQjNLLGFBQWE2SSxRQUFRO3dCQUNoRCxNQUFNK0Isd0JBQXdCeEIsT0FBT0ssT0FBTyxDQUFDa0IsbUJBQW1CNUIsYUFBYSxFQUMxRVIsTUFBTSxDQUFDO2dDQUFDLENBQUNtQixHQUFHVCxLQUFLO21DQUNoQkEsS0FBSy9ILElBQUksS0FBS3NKLGFBQ2R2QixLQUFLQyxPQUFPLEtBQUtBLFdBQ2pCRCxLQUFLbEksT0FBTyxJQUNaLENBQUM4SixNQUFNNUIsS0FBS2xJLE9BQU8sQ0FBQ0MsSUFBSSxLQUN4QixDQUFDNkosTUFBTTVCLEtBQUtsSSxPQUFPLENBQUNFLEVBQUU7MkJBRXZCdUcsR0FBRyxDQUFDO2dDQUFDLENBQUMxRyxJQUFJbUksS0FBSzttQ0FBTTtnQ0FDcEJuSTtnQ0FDQUUsTUFBTWlJLEtBQUtsSSxPQUFPLENBQUNDLElBQUk7Z0NBQ3ZCQyxJQUFJZ0ksS0FBS2xJLE9BQU8sQ0FBQ0UsRUFBRTtnQ0FDbkI2SixVQUFVN0IsS0FBS2xJLE9BQU8sQ0FBQ0UsRUFBRSxHQUFHZ0ksS0FBS2xJLE9BQU8sQ0FBQ0MsSUFBSTs0QkFDL0M7MkJBQ0M0SSxJQUFJLENBQUMsQ0FBQ0MsR0FBR0MsSUFBTUQsRUFBRTdJLElBQUksR0FBRzhJLEVBQUU5SSxJQUFJO3dCQUVqQ2MsUUFBUUMsR0FBRyxDQUFDLDBDQUF1QzZJO3dCQUVuRCwyRUFBMkU7d0JBQzNFLE1BQU1HLFVBQVUzRCxRQUFRekcsU0FBUyxHQUFHO3dCQUNwQyxNQUFNcUssY0FBY0osc0JBQXNCSyxJQUFJLENBQUNDLENBQUFBLE9BQzdDQSxLQUFLbEssSUFBSSxJQUFJK0osV0FBV0csS0FBS2pLLEVBQUUsSUFBSThKO3dCQUdyQyxJQUFJLENBQUNDLGFBQWE7NEJBQ2hCbEosUUFBUUksS0FBSyxDQUFDLGlFQUFxRSxPQUFKK0UsSUFBRTs0QkFDakY7d0JBQ0Y7d0JBRUFuRixRQUFRQyxHQUFHLENBQUMsZ0RBQStELE9BQWZpSixZQUFZbEssRUFBRSxFQUFDO3dCQUUzRSw0RUFBNEU7d0JBQzVFekIsNkRBQVFBLENBQUNLLDREQUFZQSxFQUFFOzRCQUNyQmlDLFNBQVM7Z0NBQ1B1SSxLQUFLO29DQUFDYyxZQUFZbEssRUFBRTtpQ0FBQzs0QkFDdkI7d0JBQ0Y7d0JBRUEsd0NBQXdDO3dCQUN4QyxNQUFNLElBQUlxSixRQUFRQyxDQUFBQSxVQUFXMUIsV0FBVzBCLFNBQVM7d0JBRWpELHdDQUF3Qzt3QkFDeEMvSyw2REFBUUEsQ0FBQ0ksNERBQVlBLEVBQUU7NEJBQ3JCa0MsU0FBUyxDQUFDOzRCQUNWdkIsU0FBUztnQ0FDUHNLLE1BQU1LOzRCQUNSO3dCQUNGO3dCQUNBakosUUFBUUMsR0FBRyxDQUFDLG9EQUFzRSxPQUFsQnFGLFFBQVF6RyxTQUFTLEVBQUM7d0JBRWxGLDRDQUE0Qzt3QkFDNUMsTUFBTSxJQUFJd0osUUFBUUMsQ0FBQUEsVUFBVzFCLFdBQVcwQixTQUFTO3dCQUVqRCxnREFBZ0Q7d0JBQ2hELE1BQU1lLHNCQUFzQm5MLGFBQWE2SSxRQUFRO3dCQUNqRCxNQUFNdUMseUJBQXlCaEMsT0FBT0ssT0FBTyxDQUFDMEIsb0JBQW9CcEMsYUFBYSxFQUM1RVIsTUFBTSxDQUFDO2dDQUFDLENBQUNtQixHQUFHVCxLQUFLO21DQUNoQkEsS0FBSy9ILElBQUksS0FBS3NKLGFBQ2R2QixLQUFLQyxPQUFPLEtBQUtBLFdBQ2pCRCxLQUFLbEksT0FBTyxJQUNaLENBQUM4SixNQUFNNUIsS0FBS2xJLE9BQU8sQ0FBQ0MsSUFBSSxLQUN4QixDQUFDNkosTUFBTTVCLEtBQUtsSSxPQUFPLENBQUNFLEVBQUU7MkJBRXZCdUcsR0FBRyxDQUFDO2dDQUFDLENBQUMxRyxJQUFJbUksS0FBSzttQ0FBTTtnQ0FDcEJuSTtnQ0FDQUUsTUFBTWlJLEtBQUtsSSxPQUFPLENBQUNDLElBQUk7Z0NBQ3ZCQyxJQUFJZ0ksS0FBS2xJLE9BQU8sQ0FBQ0UsRUFBRTtnQ0FDbkI2SixVQUFVN0IsS0FBS2xJLE9BQU8sQ0FBQ0UsRUFBRSxHQUFHZ0ksS0FBS2xJLE9BQU8sQ0FBQ0MsSUFBSTs0QkFDL0M7MkJBQ0M0SSxJQUFJLENBQUMsQ0FBQ0MsR0FBR0MsSUFBTUQsRUFBRTdJLElBQUksR0FBRzhJLEVBQUU5SSxJQUFJO3dCQUVqQ2MsUUFBUUMsR0FBRyxDQUFDLDJDQUF3Q3FKO3dCQUVwRCwwRUFBMEU7d0JBQzFFLE1BQU1DLGlCQUFpQkQsdUJBQXVCN0MsTUFBTSxDQUFDMkMsQ0FBQUEsT0FDbkRJLEtBQUtDLEdBQUcsQ0FBQ0wsS0FBS2xLLElBQUksR0FBRytKLFdBQVcsTUFBTU8sS0FBS0MsR0FBRyxDQUFDTCxLQUFLakssRUFBRSxHQUFHd0osU0FBUzt3QkFHcEUzSSxRQUFRQyxHQUFHLENBQUMsd0RBQXdEc0o7d0JBRXBFLElBQUlBLGVBQWVwSCxNQUFNLEtBQUssR0FBRzs0QkFDL0JuQyxRQUFRSSxLQUFLLENBQUMsaUVBQXFFLE9BQUorRSxJQUFFOzRCQUNqRjt3QkFDRjt3QkFFQSw2REFBNkQ7d0JBQzdELE1BQU11RSxnQkFBZ0JILGNBQWMsQ0FBQyxFQUFFO3dCQUN2Q3ZKLFFBQVFDLEdBQUcsQ0FBQyxnREFBaUUsT0FBakJ5SixjQUFjMUssRUFBRSxFQUFDO3dCQUU3RSx1REFBdUQ7d0JBQ3ZEekIsNkRBQVFBLENBQUNLLDREQUFZQSxFQUFFOzRCQUNyQmlDLFNBQVM7Z0NBQ1B1SSxLQUFLO29DQUFDc0IsY0FBYzFLLEVBQUU7aUNBQUM7NEJBQ3pCO3dCQUNGO3dCQUVBLHdDQUF3Qzt3QkFDeEMsTUFBTSxJQUFJcUosUUFBUUMsQ0FBQUEsVUFBVzFCLFdBQVcwQixTQUFTO3dCQUVqRCxrRUFBa0U7d0JBQ2xFLE1BQU1DLGVBQWVySyxhQUFhNkksUUFBUTt3QkFDMUMsSUFBSXdCLGFBQWF2QixTQUFTLElBQUl1QixhQUFhdkIsU0FBUyxDQUFDeEcsUUFBUSxDQUFDa0osY0FBYzFLLEVBQUUsR0FBRzs0QkFDL0VnQixRQUFRQyxHQUFHLENBQUU7NEJBQ2IxQyw2REFBUUEsQ0FBQ00sNERBQVlBOzRCQUNyQm1DLFFBQVFDLEdBQUcsQ0FBQyxxQ0FBc0QsT0FBakJ5SixjQUFjMUssRUFBRTt3QkFDbkUsT0FBTzs0QkFDTGdCLFFBQVFDLEdBQUcsQ0FBRTs0QkFFYixzRUFBc0U7NEJBQ3RFMUMsNkRBQVFBLENBQUNRLDJEQUFXQSxFQUFFO2dDQUNwQjhCLFNBQVM7b0NBQ1AsQ0FBQzZKLGNBQWMxSyxFQUFFLENBQUMsRUFBRTt3Q0FDbEJDLFNBQVM7NENBQ1BDLE1BQU0sQ0FBQzs0Q0FDUEMsSUFBSSxDQUFDO3dDQUNQO3dDQUNBd0ssU0FBUyxNQUFNLDBDQUEwQztvQ0FDM0Q7Z0NBQ0Y7NEJBQ0Y7NEJBQ0EzSixRQUFRQyxHQUFHLENBQUU7d0JBQ2Y7d0JBRUEsMENBQTBDO3dCQUMxQyxNQUFNLElBQUlvSSxRQUFRQyxDQUFBQSxVQUFXMUIsV0FBVzBCLFNBQVM7b0JBRW5ELEVBQUUsT0FBT2xJLE9BQU87d0JBQ2RKLFFBQVFJLEtBQUssQ0FBQyxpQ0FBcUMsT0FBSitFLElBQUUsR0FBRSxNQUFJL0U7b0JBQ3pEO29CQUVBLHdCQUF3QjtvQkFDeEIsTUFBTSxJQUFJaUksUUFBUUMsQ0FBQUEsVUFBVzFCLFdBQVcwQixTQUFTO2dCQUNuRDtnQkFFQSwrQ0FBK0M7Z0JBQy9DLE1BQU0sRUFBRXNCLEtBQUssRUFBRSxHQUFHMUwsYUFBYTZJLFFBQVE7Z0JBQ3ZDLElBQUk2QyxPQUFPO29CQUNUNUosUUFBUUMsR0FBRyxDQUFDO29CQUVaLHdDQUF3QztvQkFDeEMsTUFBTTRKLGVBQWVELE1BQU1FLElBQUk7b0JBRS9CLHVCQUF1QjtvQkFDdkJGLE1BQU1FLElBQUksSUFBSTtvQkFDZDlKLFFBQVFDLEdBQUcsQ0FBQyxtQkFBc0MySixPQUFuQkMsY0FBYSxRQUFpQixPQUFYRCxNQUFNRSxJQUFJO29CQUU1RCxtREFBbUQ7b0JBQ25Edk0sNkRBQVFBLENBQUNPLHNFQUFzQkEsRUFBRTt3QkFDL0IrQixTQUFTOzRCQUNQK0osT0FBTztnQ0FDTCxHQUFHQSxLQUFLO2dDQUNSRSxNQUFNRixNQUFNRSxJQUFJLENBQUUsMkNBQTJDOzRCQUMvRDt3QkFDRjtvQkFDRjtvQkFFQSx1RkFBdUY7b0JBQ3ZGbEQsV0FBVzt3QkFDVCxNQUFNMkIsZUFBZXJLLGFBQWE2SSxRQUFRO3dCQUMxQyxJQUFJd0IsYUFBYXFCLEtBQUssRUFBRTs0QkFDdEJyTSw2REFBUUEsQ0FBQ08sc0VBQXNCQSxFQUFFO2dDQUMvQitCLFNBQVM7b0NBQ1ArSixPQUFPO3dDQUNMLEdBQUdyQixhQUFhcUIsS0FBSzt3Q0FDckJFLE1BQU1ELGFBQWMsMkJBQTJCO29DQUNqRDtnQ0FDRjs0QkFDRjs0QkFFQTdKLFFBQVFDLEdBQUcsQ0FBQyxzQ0FBbUQsT0FBYjRKO3dCQUNwRDtvQkFDRixHQUFHO2dCQUNMO2dCQUVBN0osUUFBUUMsR0FBRyxDQUFDO2dCQUNaLE9BQU87WUFDVCxFQUFFLE9BQU9HLE9BQU87Z0JBQ2RKLFFBQVFJLEtBQUssQ0FBQyxnQ0FBZ0NBO2dCQUM5QyxPQUFPO1lBQ1Q7UUFDRjtRQUVBMkosaUJBQWlCO1lBQ2YsSUFBSTtnQkFDRi9KLFFBQVFDLEdBQUcsQ0FBQztnQkFFWiwyQkFBMkI7Z0JBQzNCLE1BQU0rSixTQUFTOUwsYUFBYTZJLFFBQVE7Z0JBQ3BDL0csUUFBUUMsR0FBRyxDQUFDLGdDQUE2QnFILE9BQU9DLElBQUksQ0FBQ3lDO2dCQUVyRCxrRkFBa0Y7Z0JBQ2xGaEssUUFBUUMsR0FBRyxDQUFDO2dCQUNaLE1BQU0sSUFBSW9JLFFBQVFDLENBQUFBLFVBQVcxQixXQUFXMEIsU0FBUztnQkFFakQseUZBQXlGO2dCQUN6RnRJLFFBQVFDLEdBQUcsQ0FBQztnQkFFWixnRUFBZ0U7Z0JBQ2hFLE1BQU0sSUFBSW9JLFFBQVFDLENBQUFBLFVBQVcxQixXQUFXMEIsU0FBUztnQkFFakQsNkZBQTZGO2dCQUM3RixNQUFNMkIsaUJBQWlCLE1BQU05TCxTQUFTa0osc0JBQXNCO2dCQUM1RHJILFFBQVFDLEdBQUcsQ0FBQyxlQUFxQyxPQUF0QmdLLGVBQWU5SCxNQUFNLEVBQUM7Z0JBRWpELHdDQUF3QztnQkFDeEM4SCxlQUFlekYsT0FBTyxDQUFDLENBQUM0RSxNQUFNeEQ7b0JBQzVCNUYsUUFBUUMsR0FBRyxDQUFDLFlBQTZCbUosT0FBakJ4RCxRQUFRLEdBQUUsU0FBd0J3RCxPQUFqQkEsS0FBS3BLLEVBQUUsRUFBQyxXQUE2Qm9LLE9BQXBCQSxLQUFLaEssSUFBSSxFQUFDLFlBQWtDZ0ssT0FBeEJBLEtBQUtoQyxPQUFPLEVBQUMsYUFBMEJnQyxPQUFmQSxLQUFLbEssSUFBSSxFQUFDLE9BQTRCa0ssT0FBdkJBLEtBQUtqSyxFQUFFLEVBQUMsb0JBQWlDLE9BQWxCaUssS0FBS2pLLEVBQUUsR0FBQ2lLLEtBQUtsSyxJQUFJLEVBQUM7Z0JBQ2hLO2dCQUVBLDRDQUE0QztnQkFDNUMsSUFBSStLLGVBQWU5SCxNQUFNLEtBQUssR0FBRztvQkFDL0JuQyxRQUFRQyxHQUFHLENBQUM7b0JBQ1osT0FBTztnQkFDVDtnQkFFQSw0Q0FBNEM7Z0JBQzVDLE1BQU1pSyxvQkFBb0IsQ0FBQztnQkFDM0JELGVBQWV6RixPQUFPLENBQUM0RSxDQUFBQTtvQkFDckIsSUFBSUEsS0FBS2hDLE9BQU8sRUFBRTt3QkFDaEIsSUFBSSxDQUFDOEMsaUJBQWlCLENBQUNkLEtBQUtoQyxPQUFPLENBQUMsRUFBRTs0QkFDcEM4QyxpQkFBaUIsQ0FBQ2QsS0FBS2hDLE9BQU8sQ0FBQyxHQUFHLEVBQUU7d0JBQ3RDO3dCQUNBOEMsaUJBQWlCLENBQUNkLEtBQUtoQyxPQUFPLENBQUMsQ0FBQ3RDLElBQUksQ0FBQ3NFO29CQUN2QztnQkFDRjtnQkFFQSw2Q0FBNkM7Z0JBQzdDOUIsT0FBT0MsSUFBSSxDQUFDMkMsbUJBQW1CMUYsT0FBTyxDQUFDNEMsQ0FBQUE7b0JBQ3JDOEMsaUJBQWlCLENBQUM5QyxRQUFRLENBQUNVLElBQUksQ0FBQyxDQUFDQyxHQUFHQyxJQUFNRCxFQUFFN0ksSUFBSSxHQUFHOEksRUFBRTlJLElBQUk7Z0JBQzNEO2dCQUVBYyxRQUFRQyxHQUFHLENBQUMsa0NBQWtDcUgsT0FBT0MsSUFBSSxDQUFDMkMsbUJBQW1CL0gsTUFBTTtnQkFFbkYscUNBQXFDO2dCQUNyQ21GLE9BQU9DLElBQUksQ0FBQzJDLG1CQUFtQjFGLE9BQU8sQ0FBQzRDLENBQUFBO29CQUNyQ3BILFFBQVFDLEdBQUcsQ0FBQyxTQUFxQmlLLE9BQVo5QyxTQUFRLE1BQXNDLE9BQWxDOEMsaUJBQWlCLENBQUM5QyxRQUFRLENBQUNqRixNQUFNLEVBQUM7b0JBQ25FLGdEQUFnRDtvQkFDaEQrSCxpQkFBaUIsQ0FBQzlDLFFBQVEsQ0FBQzVDLE9BQU8sQ0FBQyxDQUFDNEUsTUFBTWU7d0JBQ3hDbkssUUFBUUMsR0FBRyxDQUFDLEtBQWtCbUosT0FBYmUsTUFBSSxHQUFFLFNBQTJDZixPQUFwQ0EsS0FBS3BLLEVBQUUsQ0FBQ3NDLFNBQVMsQ0FBQyxHQUFFLElBQUcsZUFBNEI4SCxPQUFmQSxLQUFLbEssSUFBSSxFQUFDLE9BQTZCa0ssT0FBeEJBLEtBQUtqSyxFQUFFLEVBQUMscUJBQWtDLE9BQWxCaUssS0FBS2pLLEVBQUUsR0FBQ2lLLEtBQUtsSyxJQUFJLEVBQUM7b0JBQzdIO2dCQUNGO2dCQUVBLHVDQUF1QztnQkFDdkMsTUFBTWtMLGlCQUFpQixFQUFFO2dCQUV6QjlDLE9BQU9DLElBQUksQ0FBQzJDLG1CQUFtQjFGLE9BQU8sQ0FBQzRDLENBQUFBO29CQUNyQyxNQUFNaUQsWUFBWUgsaUJBQWlCLENBQUM5QyxRQUFRO29CQUU1Qyx1REFBdUQ7b0JBQ3ZELElBQUlpRCxVQUFVbEksTUFBTSxJQUFJLEdBQUc7d0JBQ3pCLElBQUssSUFBSWdELElBQUksR0FBR0EsSUFBSWtGLFVBQVVsSSxNQUFNLEdBQUcsR0FBR2dELElBQUs7NEJBQzdDLE1BQU1tRixpQkFBaUJELFNBQVMsQ0FBQ2xGLEVBQUU7NEJBQ25DLE1BQU1vRixvQkFBb0JGLFNBQVMsQ0FBQ2xGLElBQUksRUFBRTs0QkFFMUMseUZBQXlGOzRCQUN6RixNQUFNcUYsVUFBVUQsa0JBQWtCckwsSUFBSSxHQUFHb0wsZUFBZW5MLEVBQUU7NEJBRTFELGdEQUFnRDs0QkFDaEQsSUFBSXFMLFVBQVUsS0FBSztnQ0FDakJKLGVBQWV0RixJQUFJLENBQUM7b0NBQ2xCc0M7b0NBQ0FxRCxPQUFPSCxlQUFlbkwsRUFBRTtvQ0FDeEJ1TCxLQUFLSCxrQkFBa0JyTCxJQUFJO29DQUMzQnlMLE1BQU1IO29DQUNOSSxlQUFlTixlQUFldEwsRUFBRTtvQ0FDaEM2TCxpQkFBaUJOLGtCQUFrQnZMLEVBQUU7Z0NBQ3ZDO2dDQUNBZ0IsUUFBUUMsR0FBRyxDQUFDLHlCQUF1Q3VLLE9BQWRBLFNBQVEsUUFBaUNwRCxPQUEzQm9ELFVBQVEsTUFBSyxnQkFBeUNGLE9BQTNCbEQsU0FBUSxxQkFBNERtRCxPQUF6Q0QsZUFBZXRMLEVBQUUsQ0FBQ3NDLFNBQVMsQ0FBQyxHQUFFLElBQUcsVUFBNEMsT0FBcENpSixrQkFBa0J2TCxFQUFFLENBQUNzQyxTQUFTLENBQUMsR0FBRSxJQUFHOzRCQUN4TDt3QkFDRjtvQkFDRjtnQkFDRjtnQkFFQXRCLFFBQVFDLEdBQUcsQ0FBQyxrQkFBd0MsT0FBdEJtSyxlQUFlakksTUFBTSxFQUFDO2dCQUVwRCwrQ0FBK0M7Z0JBQy9DLElBQUlpSSxlQUFlakksTUFBTSxLQUFLLEdBQUc7b0JBQy9CbkMsUUFBUUMsR0FBRyxDQUFDO29CQUNaLE9BQU8sTUFBTSxzREFBc0Q7Z0JBQ3JFO2dCQUVBLHlEQUF5RDtnQkFDekRtSyxlQUFldEMsSUFBSSxDQUFDLENBQUNDLEdBQUdDLElBQU1ELEVBQUUwQyxLQUFLLEdBQUd6QyxFQUFFeUMsS0FBSztnQkFFL0Msd0NBQXdDO2dCQUN4QyxJQUFJSyxlQUFlO2dCQUNuQlYsZUFBZTVGLE9BQU8sQ0FBQ2dHLENBQUFBO29CQUNyQk0sZ0JBQWdCTixRQUFRRyxJQUFJO2dCQUM5QjtnQkFFQTNLLFFBQVFDLEdBQUcsQ0FBQyw4QkFBaUQ2SyxPQUFuQkEsY0FBYSxRQUF3QixPQUFsQkEsZUFBYSxNQUFLO2dCQUMvRTlLLFFBQVFDLEdBQUcsQ0FBQyxtQ0FBeUQsT0FBdEJnSyxlQUFlOUgsTUFBTSxFQUFDO2dCQUVyRSw4Q0FBOEM7Z0JBQzlDLE1BQU00SSxrQkFBa0IsQ0FBQztnQkFDekIsSUFBSUMsa0JBQWtCO2dCQUV0QixxRkFBcUY7Z0JBQ3JGZixlQUFlekYsT0FBTyxDQUFDeUcsQ0FBQUE7b0JBQ3JCLElBQUlDLGlCQUFpQjtvQkFFckIsd0VBQXdFO29CQUN4RSxLQUFLLE1BQU1WLFdBQVdKLGVBQWdCO3dCQUNwQyw4REFBOEQ7d0JBQzlELElBQUlhLFNBQVMvTCxJQUFJLEdBQUdzTCxRQUFRRSxHQUFHLEVBQUU7NEJBQy9CUSxrQkFBa0JWLFFBQVFHLElBQUk7d0JBQ2hDO29CQUNGO29CQUVBLHNEQUFzRDtvQkFDdEQsSUFBSU8saUJBQWlCLEdBQUc7d0JBQ3RCLE1BQU1DLFlBQVlGLFNBQVMvTCxJQUFJLEdBQUdnTTt3QkFDbEMsTUFBTUUsVUFBVUgsU0FBUzlMLEVBQUUsR0FBRytMO3dCQUU5QmxMLFFBQVFDLEdBQUcsQ0FBQyxZQUF3RGdMLE9BQTVDQSxTQUFTak0sRUFBRSxDQUFDc0MsU0FBUyxDQUFDLEdBQUUsSUFBRyxzQkFBdUM2SixPQUF0QkYsU0FBUy9MLElBQUksRUFBQyxVQUF3Q2dNLE9BQWhDQyxXQUFVLHdCQUFxQyxPQUFmRCxnQkFBZTt3QkFFeklILGVBQWUsQ0FBQ0UsU0FBU2pNLEVBQUUsQ0FBQyxHQUFHOzRCQUM3QkMsU0FBUztnQ0FDUEMsTUFBTWlNO2dDQUNOaE0sSUFBSWlNOzRCQUNOO3dCQUNGO3dCQUNBSjtvQkFDRjtnQkFDRjtnQkFFQWhMLFFBQVFDLEdBQUcsQ0FBQyxzQkFBNENnSyxPQUF0QmUsaUJBQWdCLFFBQTRCLE9BQXRCZixlQUFlOUgsTUFBTSxFQUFDO2dCQUU5RSw4QkFBOEI7Z0JBQzlCLElBQUk2SSxrQkFBa0IsR0FBRztvQkFDdkJoTCxRQUFRQyxHQUFHLENBQUM7b0JBRVosSUFBSTt3QkFDRjFDLDZEQUFRQSxDQUFDUSwyREFBV0EsRUFBRTs0QkFDcEI4QixTQUFTa0w7d0JBQ1g7d0JBQ0EvSyxRQUFRQyxHQUFHLENBQUM7b0JBQ2QsRUFBRSxPQUFPRyxPQUFPO3dCQUNkSixRQUFRSSxLQUFLLENBQUMscUNBQXFDQTt3QkFDbkQsT0FBTztvQkFDVDtvQkFFQSxxQkFBcUI7b0JBQ3JCd0csV0FBVzt3QkFDVCxJQUFJOzRCQUNGLE1BQU0sRUFBRWdELEtBQUssRUFBRSxHQUFHMUwsYUFBYTZJLFFBQVE7NEJBQ3ZDLElBQUk2QyxPQUFPO2dDQUNULG9FQUFvRTtnQ0FDcEUsTUFBTXlCLGVBQWU7b0NBQUUsR0FBR3pCLEtBQUs7Z0NBQUM7Z0NBRWhDLElBQUksT0FBT3lCLGFBQWF2QixJQUFJLEtBQUssVUFBVTtvQ0FDekN1QixhQUFhdkIsSUFBSSxHQUFHLENBQUN1QixhQUFhdkIsSUFBSSxJQUFJLEtBQUs7b0NBRS9Ddk0sNkRBQVFBLENBQUNPLHNFQUFzQkEsRUFBRTt3Q0FDL0IrQixTQUFTOzRDQUFFK0osT0FBT3lCO3dDQUFhO29DQUNqQztvQ0FFQSw4QkFBOEI7b0NBQzlCekUsV0FBVzt3Q0FDVCxNQUFNMEUsZUFBZTs0Q0FBRSxHQUFHcE4sYUFBYTZJLFFBQVEsR0FBRzZDLEtBQUs7d0NBQUM7d0NBQ3hEMEIsYUFBYXhCLElBQUksR0FBRyxDQUFDd0IsYUFBYXhCLElBQUksSUFBSSxLQUFLO3dDQUMvQ3ZNLDZEQUFRQSxDQUFDTyxzRUFBc0JBLEVBQUU7NENBQy9CK0IsU0FBUztnREFBRStKLE9BQU8wQjs0Q0FBYTt3Q0FDakM7b0NBQ0YsR0FBRztnQ0FDTDs0QkFDRjt3QkFDRixFQUFFLE9BQU9sTCxPQUFPOzRCQUNkSixRQUFRSSxLQUFLLENBQUMsZ0NBQWdDQTt3QkFDaEQ7b0JBQ0YsR0FBRztvQkFFSEosUUFBUUMsR0FBRyxDQUFDO29CQUNaLE9BQU87Z0JBQ1QsT0FBTztvQkFDTEQsUUFBUUMsR0FBRyxDQUFDO29CQUNaLE9BQU87Z0JBQ1Q7WUFDRixFQUFFLE9BQU9HLE9BQU87Z0JBQ2RKLFFBQVFJLEtBQUssQ0FBQyw2Q0FBMENBO2dCQUN4RCxPQUFPO1lBQ1Q7UUFDRjtRQUVBbUwsV0FBVztZQUNULElBQUk7Z0JBQ0Z2TCxRQUFRQyxHQUFHLENBQUM7Z0JBRVosK0RBQStEO2dCQUMvREQsUUFBUUMsR0FBRyxDQUFDO2dCQUNaLE1BQU1rRyxXQUFXLE1BQU1DLE1BQU07Z0JBRTdCLElBQUksQ0FBQ0QsU0FBU0UsRUFBRSxFQUFFO29CQUNoQixNQUFNLElBQUloRyxNQUFNLDBDQUF1RCxPQUFoQjhGLFNBQVNHLE1BQU07Z0JBQ3hFO2dCQUVBLE1BQU1rRixPQUFPLE1BQU1yRixTQUFTc0YsSUFBSTtnQkFDaEN6TCxRQUFRQyxHQUFHLENBQUMsK0NBQXlDdUw7Z0JBRXJELElBQUksQ0FBQ0EsS0FBS3ZELGNBQWMsSUFBSSxDQUFDeUQsTUFBTUMsT0FBTyxDQUFDSCxLQUFLdkQsY0FBYyxLQUFLdUQsS0FBS3ZELGNBQWMsQ0FBQzlGLE1BQU0sS0FBSyxHQUFHO29CQUNuR25DLFFBQVFDLEdBQUcsQ0FBQztvQkFDWixPQUFPO2dCQUNUO2dCQUVBLGtFQUFrRTtnQkFDbEUsTUFBTW9FLFdBQVdtSCxLQUFLdkQsY0FBYyxDQUFDdkMsR0FBRyxDQUFDSixDQUFBQSxVQUFZO3dCQUNuRHpHLFdBQVd5RyxRQUFRekcsU0FBUzt3QkFDNUJDLFNBQVN3RyxRQUFReEcsT0FBTyxDQUFNLHNCQUFzQjtvQkFDdEQ7Z0JBRUFrQixRQUFRQyxHQUFHLENBQUMsb0JBQWlDLE9BQWhCb0UsU0FBU2xDLE1BQU0sRUFBQyxnQkFDM0NrQyxTQUFTcUIsR0FBRyxDQUFDa0csQ0FBQUEsSUFBSyxHQUFtQkEsT0FBaEJBLEVBQUUvTSxTQUFTLEVBQUMsTUFBYyxPQUFWK00sRUFBRTlNLE9BQU8sRUFBQyxNQUFJK0YsSUFBSSxDQUFDO2dCQUUxRCw4RUFBOEU7Z0JBQzlFN0UsUUFBUUMsR0FBRyxDQUFDO2dCQUNaLE1BQU00TCxlQUFlM04sYUFBYTZJLFFBQVE7Z0JBQzFDLE1BQU0rRSxtQkFBbUIsTUFBTTNOLFNBQVNrSixzQkFBc0I7Z0JBRTlELDBEQUEwRDtnQkFDMUQsTUFBTTBFLGlCQUFpQixDQUFDO2dCQUN4QkQsaUJBQWlCdEgsT0FBTyxDQUFDNEUsQ0FBQUE7b0JBQ3ZCLElBQUlBLEtBQUtoQyxPQUFPLEVBQUU7d0JBQ2hCMkUsY0FBYyxDQUFDM0MsS0FBS2hDLE9BQU8sQ0FBQyxHQUFHLENBQUMyRSxjQUFjLENBQUMzQyxLQUFLaEMsT0FBTyxDQUFDLElBQUksS0FBSztvQkFDdkU7Z0JBQ0Y7Z0JBRUEsdUNBQXVDO2dCQUN2QyxJQUFJNEUsbUJBQW1CO2dCQUN2QixJQUFJMUUsT0FBT0MsSUFBSSxDQUFDd0UsZ0JBQWdCNUosTUFBTSxHQUFHLEdBQUc7b0JBQzFDLE1BQU04SixlQUFlM0UsT0FBT0ssT0FBTyxDQUFDb0UsZ0JBQ2pDakUsSUFBSSxDQUFDLENBQUNDLEdBQUdDLElBQU1BLENBQUMsQ0FBQyxFQUFFLEdBQUdELENBQUMsQ0FBQyxFQUFFO29CQUU3QixJQUFJa0UsYUFBYTlKLE1BQU0sR0FBRyxHQUFHO3dCQUMzQjZKLG1CQUFtQkMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxFQUFFO3dCQUNyQ2pNLFFBQVFDLEdBQUcsQ0FBQyw2QkFBOEMsT0FBakIrTDtvQkFDM0M7Z0JBQ0Y7Z0JBRUEsNEJBQTRCO2dCQUM1QmhNLFFBQVFDLEdBQUcsQ0FBQztnQkFDWixNQUFNaU0sU0FBUyxNQUFNL04sU0FBUzhKLGNBQWMsQ0FBQzVEO2dCQUU3QyxJQUFJLENBQUM2SCxRQUFRO29CQUNYbE0sUUFBUUMsR0FBRyxDQUFDO29CQUNaLE9BQU87Z0JBQ1Q7Z0JBRUFELFFBQVFDLEdBQUcsQ0FBQztnQkFFWixrRUFBa0U7Z0JBQ2xFLE1BQU1rTSxzQkFBc0I5SCxTQUFTcUIsR0FBRyxDQUFDSixDQUFBQSxVQUFZO3dCQUNuRG1GLE9BQU9uRixRQUFRekcsU0FBUyxHQUFHO3dCQUMzQjZMLEtBQUtwRixRQUFReEcsT0FBTyxHQUFHO3dCQUN2QnNJLFNBQVM0RTt3QkFDVHJCLE1BQU0sQ0FBQ3JGLFFBQVF4RyxPQUFPLEdBQUd3RyxRQUFRekcsU0FBUyxJQUFJO29CQUNoRDtnQkFFQW1CLFFBQVFDLEdBQUcsQ0FBQywrQ0FBNENrTTtnQkFFeEQsc0ZBQXNGO2dCQUN0Rm5NLFFBQVFDLEdBQUcsQ0FBQztnQkFDWixNQUFNLElBQUlvSSxRQUFRQyxDQUFBQSxVQUFXMUIsV0FBVzBCLFNBQVM7Z0JBRWpELHNFQUFzRTtnQkFDdEV0SSxRQUFRQyxHQUFHLENBQUM7Z0JBRVosdURBQXVEO2dCQUN2RCxNQUFNbU0sb0JBQW9CLE1BQU1qTyxTQUFTa0osc0JBQXNCO2dCQUMvRHJILFFBQVFDLEdBQUcsQ0FBQyxrQkFBMkMsT0FBekJtTSxrQkFBa0JqSyxNQUFNLEVBQUM7Z0JBRXZELHdDQUF3QztnQkFDeEMsSUFBSTJJLGVBQWU7Z0JBQ25CcUIsb0JBQW9CM0gsT0FBTyxDQUFDNkgsQ0FBQUE7b0JBQzFCdkIsZ0JBQWdCdUIsU0FBUzFCLElBQUk7Z0JBQy9CO2dCQUVBM0ssUUFBUUMsR0FBRyxDQUFDLDhCQUFpRDZLLE9BQW5CQSxjQUFhLFFBQXdCLE9BQWxCQSxlQUFhLE1BQUs7Z0JBRS9FLDhDQUE4QztnQkFDOUMsTUFBTUMsa0JBQWtCLENBQUM7Z0JBQ3pCLElBQUlDLGtCQUFrQjtnQkFFdEIsMkNBQTJDO2dCQUMzQyxNQUFNc0IscUJBQXFCO3VCQUFJSDtpQkFBb0IsQ0FBQ3JFLElBQUksQ0FBQyxDQUFDQyxHQUFHQyxJQUFNRCxFQUFFMEMsS0FBSyxHQUFHekMsRUFBRXlDLEtBQUs7Z0JBRXBGLG9GQUFvRjtnQkFDcEYyQixrQkFBa0I1SCxPQUFPLENBQUN5RyxDQUFBQTtvQkFDeEIsSUFBSUMsaUJBQWlCO29CQUVyQiw2RUFBNkU7b0JBQzdFLEtBQUssTUFBTW1CLFlBQVlDLG1CQUFvQjt3QkFDekMsSUFBSXJCLFNBQVMvTCxJQUFJLEdBQUdtTixTQUFTNUIsS0FBSyxFQUFFOzRCQUNsQ1Msa0JBQWtCbUIsU0FBUzFCLElBQUk7d0JBQ2pDO29CQUNGO29CQUVBLHNEQUFzRDtvQkFDdEQsSUFBSU8saUJBQWlCLEdBQUc7d0JBQ3RCLE1BQU1DLFlBQVlGLFNBQVMvTCxJQUFJLEdBQUdnTTt3QkFDbEMsTUFBTUUsVUFBVUgsU0FBUzlMLEVBQUUsR0FBRytMO3dCQUU5QmxMLFFBQVFDLEdBQUcsQ0FBQyxZQUF3RGdMLE9BQTVDQSxTQUFTak0sRUFBRSxDQUFDc0MsU0FBUyxDQUFDLEdBQUUsSUFBRyxzQkFBdUM2SixPQUF0QkYsU0FBUy9MLElBQUksRUFBQyxVQUF3Q2dNLE9BQWhDQyxXQUFVLHdCQUFxQyxPQUFmRCxnQkFBZTt3QkFFeklILGVBQWUsQ0FBQ0UsU0FBU2pNLEVBQUUsQ0FBQyxHQUFHOzRCQUM3QkMsU0FBUztnQ0FDUEMsTUFBTWlNO2dDQUNOaE0sSUFBSWlNOzRCQUNOO3dCQUNGO3dCQUNBSjtvQkFDRjtnQkFDRjtnQkFFQWhMLFFBQVFDLEdBQUcsQ0FBQyxzQkFBNENtTSxPQUF0QnBCLGlCQUFnQixRQUErQixPQUF6Qm9CLGtCQUFrQmpLLE1BQU0sRUFBQztnQkFFakYsOEJBQThCO2dCQUM5QixJQUFJNkksa0JBQWtCLEdBQUc7b0JBQ3ZCaEwsUUFBUUMsR0FBRyxDQUFDO29CQUVaLElBQUk7d0JBQ0YxQyw2REFBUUEsQ0FBQ1EsMkRBQVdBLEVBQUU7NEJBQ3BCOEIsU0FBU2tMO3dCQUNYO3dCQUNBL0ssUUFBUUMsR0FBRyxDQUFDO3dCQUVaLHFCQUFxQjt3QkFDckIyRyxXQUFXOzRCQUNULElBQUk7Z0NBQ0YsTUFBTSxFQUFFZ0QsS0FBSyxFQUFFLEdBQUcxTCxhQUFhNkksUUFBUTtnQ0FDdkMsSUFBSTZDLE9BQU87b0NBQ1QsTUFBTXlCLGVBQWU7d0NBQUUsR0FBR3pCLEtBQUs7b0NBQUM7b0NBQ2hDLElBQUksT0FBT3lCLGFBQWF2QixJQUFJLEtBQUssVUFBVTt3Q0FDekN1QixhQUFhdkIsSUFBSSxHQUFHLENBQUN1QixhQUFhdkIsSUFBSSxJQUFJLEtBQUs7d0NBRS9Ddk0sNkRBQVFBLENBQUNPLHNFQUFzQkEsRUFBRTs0Q0FDL0IrQixTQUFTO2dEQUFFK0osT0FBT3lCOzRDQUFhO3dDQUNqQzt3Q0FFQSw4QkFBOEI7d0NBQzlCekUsV0FBVzs0Q0FDVCxNQUFNMEUsZUFBZTtnREFBRSxHQUFHcE4sYUFBYTZJLFFBQVEsR0FBRzZDLEtBQUs7NENBQUM7NENBQ3hEMEIsYUFBYXhCLElBQUksR0FBRyxDQUFDd0IsYUFBYXhCLElBQUksSUFBSSxLQUFLOzRDQUMvQ3ZNLDZEQUFRQSxDQUFDTyxzRUFBc0JBLEVBQUU7Z0RBQy9CK0IsU0FBUztvREFBRStKLE9BQU8wQjtnREFBYTs0Q0FDakM7d0NBQ0YsR0FBRztvQ0FDTDtnQ0FDRjs0QkFDRixFQUFFLE9BQU9sTCxPQUFPO2dDQUNkSixRQUFRSSxLQUFLLENBQUMsZ0NBQWdDQTs0QkFDaEQ7d0JBQ0YsR0FBRztvQkFFTCxFQUFFLE9BQU9BLE9BQU87d0JBQ2RKLFFBQVFJLEtBQUssQ0FBQyxxQ0FBcUNBO3dCQUNuRCxPQUFPO29CQUNUO2dCQUNGLE9BQU87b0JBQ0xKLFFBQVFDLEdBQUcsQ0FBQztnQkFDZDtnQkFFQUQsUUFBUUMsR0FBRyxDQUFDO2dCQUNaLE9BQU87WUFDVCxFQUFFLE9BQU9HLE9BQU87Z0JBQ2RKLFFBQVFJLEtBQUssQ0FBQyw2Q0FBNkNBO2dCQUMzRCxPQUFPO1lBQ1Q7UUFDRjtJQUNGO0lBRUEsT0FBT2pDO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9haS1jaGF0L2FpLXZpZGVvLWNvbW1hbmRzLnRzPzI2MjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFN0YXRlTWFuYWdlciBmcm9tIFwiQGRlc2lnbmNvbWJvL3N0YXRlXCI7XG5pbXBvcnQgeyBkaXNwYXRjaCB9IGZyb20gXCJAZGVzaWduY29tYm8vZXZlbnRzXCI7XG5pbXBvcnQgeyBERVNJR05fQUREX1RFWFQsIERFU0lHTl9BRERfQVVESU8sIERFU0lHTl9BRERfSU1BR0UsIEFERF9URVhULCBBRERfVklERU8sIEFERF9JTUFHRSwgQUNUSVZFX1NQTElULCBMQVlFUl9TRUxFQ1QsIExBWUVSX0RFTEVURSwgVElNRUxJTkVfU0NBTEVfQ0hBTkdFRCwgRURJVF9PQkpFQ1QgfSBmcm9tIFwiQGRlc2lnbmNvbWJvL3N0YXRlXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZUlkIH0gZnJvbSBcIkBkZXNpZ25jb21iby90aW1lbGluZVwiO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9Db21tYW5kRXhlY3V0b3Ige1xuICBhZGRUZXh0OiAodGV4dDogc3RyaW5nLCBvcHRpb25zPzogVGV4dE9wdGlvbnMpID0+IHZvaWQ7XG4gIGNoYW5nZUNvbG9yOiAoZWxlbWVudElkOiBzdHJpbmcsIGNvbG9yOiBzdHJpbmcpID0+IHZvaWQ7XG4gIGFkZEltYWdlOiAodXJsOiBzdHJpbmcsIG9wdGlvbnM/OiBJbWFnZU9wdGlvbnMpID0+IHZvaWQ7XG4gIGFkZFZpZGVvOiAodXJsOiBzdHJpbmcsIG9wdGlvbnM/OiBWaWRlb09wdGlvbnMpID0+IHZvaWQ7XG4gIGNoYW5nZUR1cmF0aW9uOiAoZWxlbWVudElkOiBzdHJpbmcsIGR1cmF0aW9uOiBudW1iZXIpID0+IHZvaWQ7XG4gIGNoYW5nZVRyYW5zaXRpb246IChlbGVtZW50SWQ6IHN0cmluZywgdHJhbnNpdGlvbjogc3RyaW5nKSA9PiB2b2lkO1xuICBhZGRTdWJ0aXRsZXM6IChvcHRpb25zPzogU3VidGl0bGVPcHRpb25zKSA9PiB2b2lkO1xuICByZW1vdmVTZWdtZW50czogKHNlZ21lbnRzOiBUaW1lU2VnbWVudFtdKSA9PiB2b2lkO1xuICBnZXRBY3RpdmVFbGVtZW50czogKCkgPT4gUHJvbWlzZTxhbnlbXT47XG4gIGdldEFsbFRpbWVsaW5lRWxlbWVudHM6ICgpID0+IFByb21pc2U8YW55W10+O1xuICBjb21wYWN0VGltZWxpbmU6ICgpID0+IFByb21pc2U8Ym9vbGVhbj47XG4gIHNtYXJ0VHJpbTogKCkgPT4gUHJvbWlzZTxib29sZWFuPjtcbn1cblxuaW50ZXJmYWNlIFRleHRPcHRpb25zIHtcbiAgZm9udFNpemU/OiBudW1iZXI7XG4gIGZvbnRGYW1pbHk/OiBzdHJpbmc7XG4gIGNvbG9yPzogc3RyaW5nO1xuICBwb3NpdGlvbj86IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfTtcbiAgc3RhcnRUaW1lPzogbnVtYmVyOyAvLyBlbiBzZWd1bmRvc1xuICBlbmRUaW1lPzogbnVtYmVyOyAvLyBlbiBzZWd1bmRvc1xufVxuXG5pbnRlcmZhY2UgSW1hZ2VPcHRpb25zIHtcbiAgd2lkdGg/OiBudW1iZXI7XG4gIGhlaWdodD86IG51bWJlcjtcbiAgcG9zaXRpb24/OiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH07XG4gIHN0YXJ0VGltZT86IG51bWJlcjsgLy8gZW4gc2VndW5kb3NcbiAgZW5kVGltZT86IG51bWJlcjsgLy8gZW4gc2VndW5kb3NcbiAgaXNBbmltYXRlZD86IGJvb2xlYW47XG4gIGlzU3RhdGljPzogYm9vbGVhbjsgLy8gUGFyYSBmb3J6YXIgdHJhdGFyIHVuYSBpbWFnZW4gYW5pbWFkYSBjb21vIGVzdMOhdGljYVxuICBzY2FsZU1vZGU/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBWaWRlb09wdGlvbnMge1xuICB3aWR0aD86IG51bWJlcjtcbiAgaGVpZ2h0PzogbnVtYmVyO1xuICBwb3NpdGlvbj86IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfTtcbiAgc3RhcnRUaW1lPzogbnVtYmVyOyAvLyBlbiBzZWd1bmRvc1xuICBlbmRUaW1lPzogbnVtYmVyOyAvLyBlbiBzZWd1bmRvc1xuICBzY2FsZU1vZGU/OiBzdHJpbmc7XG4gIGlzQVBORz86IGJvb2xlYW47XG4gIHN5bmNXaXRoVGltZWxpbmU/OiBib29sZWFuO1xuICBwbGF5YmFja0JlaGF2aW9yPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgU3VidGl0bGVPcHRpb25zIHtcbiAgZ3JvdXBXb3Jkcz86IGJvb2xlYW47IC8vIFNpIHNlIGRlYmVuIGFncnVwYXIgcGFsYWJyYXMgKHRydWUpIG8gdXNhciBzdWJ0w610dWxvcyBjb21wbGV0b3MgKGZhbHNlKVxuICBzdGFydFRpbWU/OiBudW1iZXI7ICAgLy8gVGllbXBvIGRlIGluaWNpbyBwYXJhIGZpbHRyYXIgc3VidMOtdHVsb3MgKG9wY2lvbmFsKVxuICBlbmRUaW1lPzogbnVtYmVyOyAgICAgLy8gVGllbXBvIGRlIGZpbiBwYXJhIGZpbHRyYXIgc3VidMOtdHVsb3MgKG9wY2lvbmFsKVxufVxuXG4vLyBUaXBvIHBhcmEgcmVwcmVzZW50YXIgdW4gc2VnbWVudG8gZGUgc3VidMOtdHVsb1xuaW50ZXJmYWNlIFN1YnRpdGxlU2VnbWVudCB7XG4gIGlkOiBudW1iZXI7XG4gIHN0YXJ0VGltZTogbnVtYmVyOyAvLyBlbiBtaWxpc2VndW5kb3NcbiAgZW5kVGltZTogbnVtYmVyOyAgIC8vIGVuIG1pbGlzZWd1bmRvc1xuICB0ZXh0OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBUaW1lU2VnbWVudCB7XG4gIHN0YXJ0VGltZTogbnVtYmVyOyAvLyBUaWVtcG8gZGUgaW5pY2lvIGVuIHNlZ3VuZG9zXG4gIGVuZFRpbWU6IG51bWJlcjsgICAvLyBUaWVtcG8gZmluYWwgZW4gc2VndW5kb3Ncbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVZpZGVvQ29tbWFuZEV4ZWN1dG9yKHN0YXRlTWFuYWdlcjogU3RhdGVNYW5hZ2VyKTogVmlkZW9Db21tYW5kRXhlY3V0b3Ige1xuICAvLyBDcmVhciBlbCBvYmpldG8gZXhlY3V0b3IgY29uIHRvZG9zIGxvcyBtw6l0b2Rvc1xuICBjb25zdCBleGVjdXRvcjogVmlkZW9Db21tYW5kRXhlY3V0b3IgPSB7XG4gICAgYWRkVGV4dDogKHRleHQ6IHN0cmluZywgb3B0aW9ucz86IFRleHRPcHRpb25zKSA9PiB7XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IG9wdGlvbnM/LnBvc2l0aW9uIHx8IHsgeDogMC41LCB5OiAwLjUgfTsgLy8gQ2VudHJhZG8gcG9yIGRlZmVjdG9cbiAgICAgIGNvbnN0IGZvbnRTaXplID0gb3B0aW9ucz8uZm9udFNpemUgfHwgNDg7XG4gICAgICBjb25zdCBmb250RmFtaWx5ID0gb3B0aW9ucz8uZm9udEZhbWlseSB8fCBcIlJvYm90by1Cb2xkXCI7XG4gICAgICBjb25zdCBjb2xvciA9IG9wdGlvbnM/LmNvbG9yIHx8IFwiI0ZGRkZGRlwiO1xuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gb3B0aW9ucz8uc3RhcnRUaW1lIHx8IDA7IC8vIFBvciBkZWZlY3RvIGFsIGluaWNpb1xuICAgICAgY29uc3QgZW5kVGltZSA9IG9wdGlvbnM/LmVuZFRpbWUgfHwgNTsgLy8gUG9yIGRlZmVjdG8gNSBzZWd1bmRvcyBkZSBkdXJhY2nDs25cblxuICAgICAgLy8gQ3JlYXIgcGF5bG9hZCBwYXJhIGVsIHRleHRvXG4gICAgICBjb25zdCB0ZXh0UGF5bG9hZCA9IHtcbiAgICAgICAgaWQ6IGdlbmVyYXRlSWQoKSxcbiAgICAgICAgZGlzcGxheToge1xuICAgICAgICAgIGZyb206IHN0YXJ0VGltZSAqIDEwMDAsIC8vIENvbnZlcnRpciBhIG1pbGlzZWd1bmRvc1xuICAgICAgICAgIHRvOiBlbmRUaW1lICogMTAwMCAgICAgLy8gQ29udmVydGlyIGEgbWlsaXNlZ3VuZG9zXG4gICAgICAgIH0sXG4gICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgIHRleHQ6IHRleHQsXG4gICAgICAgICAgZm9udFNpemU6IGZvbnRTaXplLFxuICAgICAgICAgIHdpZHRoOiA2MDAsXG4gICAgICAgICAgZm9udEZhbWlseTogZm9udEZhbWlseSxcbiAgICAgICAgICBjb2xvcjogY29sb3IsXG4gICAgICAgICAgd29yZFdyYXA6ICdicmVhay13b3JkJyxcbiAgICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgICAgICAgIGJvcmRlcldpZHRoOiAwLFxuICAgICAgICAgIGJvcmRlckNvbG9yOiAnIzAwMDAwMCcsXG4gICAgICAgICAgYm94U2hhZG93OiB7XG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICBibHVyOiAwLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICAvLyBBZ3JlZ2FyIHRleHRvIGFsIHRpbWVsaW5lXG4gICAgICBkaXNwYXRjaChBRERfVEVYVCwge1xuICAgICAgICBwYXlsb2FkOiB0ZXh0UGF5bG9hZCxcbiAgICAgICAgb3B0aW9uczoge30sXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgY2hhbmdlQ29sb3I6IChlbGVtZW50SWQ6IHN0cmluZywgY29sb3I6IHN0cmluZykgPT4ge1xuICAgICAgLy8gU2ltdWxhY2nDs24gZGUgY2FtYmlvIGRlIGNvbG9yIChsYSBpbXBsZW1lbnRhY2nDs24gcmVhbCBkZXBlbmRlcsOhIGRlIGxhIGVzdHJ1Y3R1cmEgZGVsIHByb3llY3RvKVxuICAgICAgY29uc29sZS5sb2coYENhbWJpYW5kbyBjb2xvciBkZWwgZWxlbWVudG8gJHtlbGVtZW50SWR9IGEgJHtjb2xvcn1gKTtcblxuICAgICAgLy8gQXF1w60gaXLDrWEgbGEgbMOzZ2ljYSByZWFsIHBhcmEgY2FtYmlhciBlbCBjb2xvciBkZSB1biBlbGVtZW50b1xuICAgIH0sXG5cbiAgICBhZGRJbWFnZTogKHVybDogc3RyaW5nLCBvcHRpb25zPzogSW1hZ2VPcHRpb25zKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgLy8gQXNlZ3VyYXIgcXVlIHRlbmVtb3MgdW5hIFVSTCB2w6FsaWRhXG4gICAgICBpZiAoIXVybCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgVVJMIGRlIGltYWdlbiBubyB2w6FsaWRhIG8gdmFjw61hXCIpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVSTCBkZSBpbWFnZW4gbm8gcHJvcG9yY2lvbmFkYVwiKTtcbiAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhcIj09PSBJTklDSUFORE8gUFJPQ0VTTyBERSBBw5FBRElSIElNQUdFTiA9PT1cIik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVVJMOlwiLCB1cmwpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIk9wY2lvbmVzOlwiLCBKU09OLnN0cmluZ2lmeShvcHRpb25zLCBudWxsLCAyKSk7XG5cbiAgICAgIC8vIFZlcmlmaWNhciBzaSBlcyB1bmEgVVJMIGdlbsOpcmljYSBkZSByZWZlcmVuY2lhLCBxdWUgbm8gZGViZSB1c2Fyc2UgZGlyZWN0YW1lbnRlXG4gICAgICBpZiAodXJsID09PSAnaW1hZ2VuX2FkanVudGFfcG9yX2VsX3VzdWFyaW8uanBnJyB8fCB1cmwuaW5jbHVkZXMoJy91cmxfZGVfbGFfaW1hZ2VuJykpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yOiBVUkwgZGUgaW1hZ2VuIGdlbsOpcmljYSBpbnbDoWxpZGEgZGV0ZWN0YWRhXCIsIHVybCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxhIFVSTCBkZSBpbWFnZW4gbm8gZXMgdsOhbGlkYS4gU2UgaW50ZW50w7MgdXNhciB1biBtYXJjYWRvciBnZW7DqXJpY28gZGlyZWN0YW1lbnRlLlwiKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgd2lkdGggPSBvcHRpb25zPy53aWR0aCB8fCA0ODA7XG4gICAgICBjb25zdCBoZWlnaHQgPSBvcHRpb25zPy5oZWlnaHQgfHwgMjcwO1xuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gb3B0aW9ucz8uc3RhcnRUaW1lICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnN0YXJ0VGltZSA6IDA7XG4gICAgICBjb25zdCBlbmRUaW1lID0gb3B0aW9ucz8uZW5kVGltZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5lbmRUaW1lIDogc3RhcnRUaW1lICsgNTtcblxuICAgICAgICAvLyBEZXRlY3RvcmVzIGRlIHRpcG8gZGUgaW1hZ2VuXG4gICAgICAgIGNvbnN0IGlzRXhwbGljaXRseUFuaW1hdGVkID0gb3B0aW9ucz8uaXNBbmltYXRlZCA9PT0gdHJ1ZTtcbiAgICAgICAgY29uc3QgaXNFeHBsaWNpdGx5U3RhdGljID0gb3B0aW9ucz8uaXNTdGF0aWMgPT09IHRydWU7XG4gICAgICAgIGNvbnN0IGlzQVBORyA9IHVybC50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKCcuYXBuZycpO1xuICAgICAgICBjb25zdCBpc0dJRiA9IHVybC50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKCcuZ2lmJyk7XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5hciBzaSBkZWJlIHRyYXRhcnNlIGNvbW8gaW1hZ2VuIGFuaW1hZGFcbiAgICAgICAgY29uc3Qgc2hvdWxkVHJlYXRBc0FuaW1hdGVkID0gKGlzRXhwbGljaXRseUFuaW1hdGVkIHx8IGlzQVBORyB8fCBpc0dJRikgJiYgIWlzRXhwbGljaXRseVN0YXRpYztcblxuICAgICAgICAvLyBMb2cgZGUgbW9kbyBkZXRlY3RhZG9cbiAgICAgICAgaWYgKHNob3VsZFRyZWF0QXNBbmltYXRlZCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5S2IERldGVjdGFkYSBpbWFnZW4gYW5pbWFkYTogJHt1cmx9YCk7XG4gICAgICAgICAgY29uc29sZS5sb2coYFRpcG86ICR7aXNBUE5HID8gJ0FQTkcnIDogaXNHSUYgPyAnR0lGJyA6ICdBbmltYWRhIGdlbsOpcmljYSd9YCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNBUE5HIHx8IGlzR0lGKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYPCflLkgRGV0ZWN0YWRhIGltYWdlbiBwb3RlbmNpYWxtZW50ZSBhbmltYWRhIHBlcm8gdHJhdMOhbmRvbGEgY29tbyBlc3TDoXRpY2E6ICR7dXJsfWApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5S3IERldGVjdGFkYSBpbWFnZW4gZXN0w6F0aWNhOiAke3VybH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAvLyBQYXJhIGRlcHVyYWNpw7NuLCBtb3N0cmFyIHBhcnRlIGRlIGxhIFVSTCAodHJ1bmNhZGEgc2kgZXMgZGF0YTpVUkwpXG4gICAgICBjb25zdCBsb2dVcmwgPSB1cmwuc3RhcnRzV2l0aCgnZGF0YTonKVxuICAgICAgICA/IGAke3VybC5zdWJzdHJpbmcoMCwgMzApfS4uLiAoZGF0YSBVUkwpYFxuICAgICAgICA6IHVybDtcbiAgICAgIGNvbnNvbGUubG9nKGBBw7FhZGllbmRvIGltYWdlbiBkZXNkZSAke2xvZ1VybH0gZGVzZGUgc2VndW5kbyAke3N0YXJ0VGltZX0gaGFzdGEgJHtlbmRUaW1lfWApO1xuXG4gICAgICAgIC8vIFBvc2ljacOzbiAoY2VudHJhZGEgcG9yIGRlZmVjdG8pXG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gb3B0aW9ucz8ucG9zaXRpb24gfHwgeyB4OiAwLjUsIHk6IDAuNSB9O1xuXG4gICAgICAgIC8vIE1vZG9zIGRlIGVzY2FsYVxuICAgICAgICBjb25zdCBzY2FsZU1vZGUgPSBvcHRpb25zPy5zY2FsZU1vZGUgfHwgXCJmaXRcIjtcbiAgICAgICAgY29uc3QgdXNlRnVsbFNjcmVlbiA9IHNjYWxlTW9kZSA9PT0gXCJjb3ZlclwiO1xuXG4gICAgICAgIC8vIFByb3BpZWRhZGVzIHBhcmEgZWwgcGF5bG9hZCwgY29tw7puIHBhcmEgYW1ib3MgY2Fzb3NcbiAgICAgICAgY29uc3QgY29tbW9uUGF5bG9hZFByb3BzID0ge1xuICAgICAgICAgIGZyb206IHN0YXJ0VGltZSAqIDEwMDAsXG4gICAgICAgICAgdG86IGVuZFRpbWUgKiAxMDAwXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gUHJvcGllZGFkZXMgZGUgZGV0YWxsZSBjb211bmVzXG4gICAgICAgIGNvbnN0IGNvbW1vbkRldGFpbHNQcm9wcyA9IHtcbiAgICAgICAgICBzcmM6IHVybCxcbiAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgb3BhY2l0eTogMTAwLFxuICAgICAgICAgIHNjYWxlTW9kZTogc2NhbGVNb2RlLFxuICAgICAgICAgIGxlZnQ6IHBvc2l0aW9uLngsXG4gICAgICAgICAgdG9wOiBwb3NpdGlvbi55LFxuICAgICAgICAgIG9yaWdpblg6IFwiY2VudGVyXCIsXG4gICAgICAgICAgb3JpZ2luWTogXCJjZW50ZXJcIlxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIENyZWFyIElEIMO6bmljb1xuICAgICAgICBjb25zdCBpbWFnZUlkID0gZ2VuZXJhdGVJZCgpO1xuXG4gICAgICAgIC8vIENyZWFyIGVsIHBheWxvYWQgZGUgaW1hZ2VuIHNpbXBsaWZpY2Fkb1xuICAgICAgICBjb25zdCBpbWFnZVBheWxvYWQgPSB7XG4gICAgICAgICAgaWQ6IGltYWdlSWQsXG4gICAgICAgICAgZGlzcGxheTogY29tbW9uUGF5bG9hZFByb3BzLFxuICAgICAgICAgIHR5cGU6ICdpbWFnZScsXG4gICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgLi4uY29tbW9uRGV0YWlsc1Byb3BzLFxuICAgICAgICAgICAgLy8gU2kgZXMgYW5pbWFkYSwgYcOxYWRpciBhdHJpYnV0b3MgZXNwZWPDrWZpY29zXG4gICAgICAgICAgICAuLi4oc2hvdWxkVHJlYXRBc0FuaW1hdGVkICYmIHtcbiAgICAgICAgICAgICAgaXNBbmltYXRlZDogdHJ1ZSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgLy8gU2kgYSBwYW50YWxsYSBjb21wbGV0YSwgYWp1c3RhciBkaW1lbnNpb25lc1xuICAgICAgICAgICAgLi4uKHVzZUZ1bGxTY3JlZW4gJiYge1xuICAgICAgICAgICAgICB3aWR0aDogMTkyMCxcbiAgICAgICAgICAgICAgaGVpZ2h0OiAxMDgwXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIlBheWxvYWQgZGUgaW1hZ2VuIGEgZGVzcGFjaGFyOlwiLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgLi4uaW1hZ2VQYXlsb2FkLFxuICAgICAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgICAgIC4uLmltYWdlUGF5bG9hZC5kZXRhaWxzLFxuICAgICAgICAgICAgc3JjOiBpbWFnZVBheWxvYWQuZGV0YWlscy5zcmMuc3Vic3RyaW5nKDAsIDMwKSArIChpbWFnZVBheWxvYWQuZGV0YWlscy5zcmMubGVuZ3RoID4gMzAgPyAnLi4uJyA6ICcnKVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgbnVsbCwgMikpO1xuXG4gICAgICAgIC8vIE9wY2lvbmVzIHBhcmEgZWwgZGlzcGF0Y2hcbiAgICAgICAgY29uc3QgZGlzcGF0Y2hPcHRpb25zID0ge1xuICAgICAgICAgIHNjYWxlTW9kZTogc2NhbGVNb2RlLFxuICAgICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBEZXNwYWNoYXIgbGEgYWNjacOzbiBwYXJhIGHDsWFkaXIgbGEgaW1hZ2VuXG4gICAgICAgIGRpc3BhdGNoKEFERF9JTUFHRSwge1xuICAgICAgICAgIHBheWxvYWQ6IGltYWdlUGF5bG9hZCxcbiAgICAgICAgICBvcHRpb25zOiBkaXNwYXRjaE9wdGlvbnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gTG9nIGRlIMOpeGl0b1xuICAgICAgICBpZiAoc2hvdWxkVHJlYXRBc0FuaW1hdGVkKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYOKchSBJbWFnZW4gYW5pbWFkYSBhw7FhZGlkYSBkZXNkZSAke3N0YXJ0VGltZX1zIGhhc3RhICR7ZW5kVGltZX1zYCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYOKchSBJbWFnZW4gZXN0w6F0aWNhIGHDsWFkaWRhIGRlc2RlICR7c3RhcnRUaW1lfXMgaGFzdGEgJHtlbmRUaW1lfXNgKTtcbiAgICAgICAgfVxuXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MIEVSUk9SIENSw41USUNPIGFsIGHDsWFkaXIgaW1hZ2VuOlwiLCBlcnJvcik7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJEZXRhbGxlcyBjb21wbGV0b3M6XCIsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVHJhemE6XCIsIGVycm9yLnN0YWNrKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7IC8vIFByb3BhZ2FyIGVsIGVycm9yIHBhcmEgbWFuZWpvIHN1cGVyaW9yXG4gICAgICB9XG4gICAgfSxcblxuICAgIGFkZFZpZGVvOiAodXJsOiBzdHJpbmcsIG9wdGlvbnM/OiBWaWRlb09wdGlvbnMpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiPT09IElOSUNJQU5ETyBQUk9DRVNPIERFIEHDkUFESVIgVklERU8gPT09XCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlVSTDpcIiwgdXJsKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJPcGNpb25lczpcIiwgSlNPTi5zdHJpbmdpZnkob3B0aW9ucywgbnVsbCwgMikpO1xuXG4gICAgICAgIC8vIFZhbGlkYWNpw7NuIGRlIFVSTFxuICAgICAgICBpZiAoIXVybCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgVVJMIGRlIHZpZGVvIG5vIHbDoWxpZGEgbyB2YWPDrWFcIik7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVVJMIGRlIHZpZGVvIG5vIHByb3BvcmNpb25hZGFcIik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB3aWR0aCA9IG9wdGlvbnM/LndpZHRoIHx8IDY0MDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gb3B0aW9ucz8uaGVpZ2h0IHx8IDM2MDtcbiAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gb3B0aW9ucz8uc3RhcnRUaW1lIHx8IDA7IC8vIFBvciBkZWZlY3RvIGFsIGluaWNpb1xuICAgICAgICBjb25zdCBlbmRUaW1lID0gb3B0aW9ucz8uZW5kVGltZSB8fCAxMDsgLy8gUG9yIGRlZmVjdG8gMTAgc2VndW5kb3MgZGUgZHVyYWNpw7NuXG5cbiAgICAgICAgLy8gRGV0ZWN0YXIgc2kgZXMgdW4gYXJjaGl2byBBVkkgbyBBUE5HIHBhcmEgdHJhdGFtaWVudG8gZXNwZWNpYWxcbiAgICAgICAgY29uc3QgaXNBVkkgPSB1cmwudG9Mb3dlckNhc2UoKS5lbmRzV2l0aCgnLmF2aScpO1xuICAgICAgICBjb25zdCBpc0FQTkcgPSB1cmwudG9Mb3dlckNhc2UoKS5lbmRzV2l0aCgnLmFwbmcnKTtcbiAgICAgICAgLy8gTWFyY2Fkb3IgcGFzYWRvIGV4cGzDrWNpdGFtZW50ZSAtIG1heW9yIHByaW9yaWRhZCBxdWUgbGEgZXh0ZW5zacOzblxuICAgICAgICBjb25zdCBpc0V4cGxpY2l0QVBORyA9IG9wdGlvbnM/LmlzQVBORyA9PT0gdHJ1ZTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIkZvcm1hdG8gZGV0ZWN0YWRvOlwiLFxuICAgICAgICAgIGlzQVZJID8gXCJBVklcIiA6IGlzQVBORyA/IFwiQVBOR1wiIDogaXNFeHBsaWNpdEFQTkcgPyBcIkV4cGzDrWNpdGFtZW50ZSBtYXJjYWRvIGNvbW8gQVBOR1wiIDogXCJGb3JtYXRvIGVzdMOhbmRhclwiKTtcblxuICAgICAgICAvLyBTaSBlcyBBUE5HIHNlZ8O6biBhbGfDum4gY3JpdGVyaW9cbiAgICAgICAgY29uc3QgdHJlYXRBc0FQTkcgPSBpc0FQTkcgfHwgaXNFeHBsaWNpdEFQTkc7XG4gICAgICAgIGNvbnN0IHVzZUZ1bGxTY3JlZW4gPSBpc0FWSSB8fCB0cmVhdEFzQVBORyB8fCAob3B0aW9ucz8uc2NhbGVNb2RlID09PSBcImNvdmVyXCIpO1xuXG4gICAgICAgIC8vIFBhcmEgYXJjaGl2b3MgQVZJIHkgQVBORywgcmVzcGVjdGFyIGR1cmFjacOzbiBuYXR1cmFsIHNpIG5vIHNlIGVzcGVjaWZpY2FcbiAgICAgICAgY29uc3QgcmVzcGVjdE5hdGl2ZUR1cmF0aW9uID0gKGlzQVZJIHx8IHRyZWF0QXNBUE5HKSAmJiAhb3B0aW9ucz8uZW5kVGltZTtcbiAgICAgICAgY29uc3QgZmluYWxFbmRUaW1lID0gcmVzcGVjdE5hdGl2ZUR1cmF0aW9uID8gdW5kZWZpbmVkIDogZW5kVGltZTtcblxuICAgICAgICAvLyBMb2cgcGFyYSBkZXB1cmFyXG4gICAgICAgIGlmICh0cmVhdEFzQVBORykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5S3IEHDsWFkaWVuZG8gQVBORyBjb21vIFZJREVPIHNpbmNyb25pemFkbyBkZXNkZSAke3N0YXJ0VGltZX1zIGNvbiBkdXJhY2nDs24gJHtyZXNwZWN0TmF0aXZlRHVyYXRpb24gPyAnbmF0dXJhbCcgOiBmaW5hbEVuZFRpbWUgKyAncyd9YCk7XG4gICAgICAgICAgY29uc29sZS5sb2coYPCflLcgQ29uZmlndXJhY2lvbmVzIGVzcGVjaWFsZXMgZGUgQVBORyAtIHVzZUZ1bGxTY3JlZW46ICR7dXNlRnVsbFNjcmVlbn0sIHN5bmNXaXRoVGltZWxpbmU6ICR7b3B0aW9ucz8uc3luY1dpdGhUaW1lbGluZSB8fCB0cnVlfWApO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQVZJKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYPCfjqwgQcOxYWRpZW5kbyBBVkkgY29uIGR1cmFjacOzbiAke3Jlc3BlY3ROYXRpdmVEdXJhdGlvbiA/ICduYXR1cmFsJyA6ICdlc3BlY2lmaWNhZGE6ICcgKyBmaW5hbEVuZFRpbWV9c2ApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWFuZWphciBBUE5HIHVzYW5kbyB1biBlbmZvcXVlIGVzcGVjaWFsIC0gaW50ZW50YXIgY29uIHVuIG3DqXRvZG8gYWx0ZXJuYXRpdm8gc2kgZXMgcG9zaWJsZVxuICAgICAgICBpZiAodHJlYXRBc0FQTkcpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gSW50ZW50YXIgY3JlYXIgdW4gcGF5bG9hZCBlc3BlY2lhbCBwYXJhIEFQTkcgcXVlIGZ1bmNpb25lIGNvbW8gYW5pbWFjacOzblxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJQcm9iYW5kbyBjb24gdW5hIGNvbmZpZ3VyYWNpw7NuIGVzcGVjaWFsIHBhcmEgQVBORy4uLlwiKTtcblxuICAgICAgICAgICAgLy8gQ29uZmlndXJhY2nDs24gZGUgb3BjaW9uZXMgaW1wb3J0YW50ZSBwYXJhIGFyY2hpdm9zIEFQTkdcbiAgICAgICAgICAgIGNvbnN0IGFwbmdWaWRlb1BheWxvYWQgPSB7XG4gICAgICAgICAgICBpZDogZ2VuZXJhdGVJZCgpLFxuICAgICAgICAgICAgZGlzcGxheToge1xuICAgICAgICAgICAgICBmcm9tOiBzdGFydFRpbWUgKiAxMDAwLCAvLyBDb252ZXJ0aXIgYSBtaWxpc2VndW5kb3NcbiAgICAgICAgICAgICAgICB0bzogZmluYWxFbmRUaW1lID8gZmluYWxFbmRUaW1lICogMTAwMCA6IChzdGFydFRpbWUgKyAzKSAqIDEwMDAgLy8gMyBzZWd1bmRvcyBwb3IgZGVmZWN0byBzaSBubyBoYXkgZHVyYWNpw7NuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAvLyBQcm9iYW1vcyB1bmEgbnVldmEgZXN0cmF0ZWdpYTogdHJhdGFybG8gY29tbyBpbWFnZW4gZW4gbHVnYXIgZGUgdmlkZW9cbiAgICAgICAgICAgIHR5cGU6ICdpbWFnZScsXG4gICAgICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgICAgIHNyYzogdXJsLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAxOTIwLCAvLyBBbmNobyBwYXJhIHBhbnRhbGxhIGNvbXBsZXRhXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDgwLCAvLyBBbHRvIHBhcmEgcGFudGFsbGEgY29tcGxldGFcbiAgICAgICAgICAgICAgb3BhY2l0eTogMTAwLFxuICAgICAgICAgICAgICAgIHNjYWxlTW9kZTogXCJjb3ZlclwiLCAvLyBQYXJhIGxsZW5hciB0b2RhIGxhIHBhbnRhbGxhXG4gICAgICAgICAgICAgICAgbGVmdDogMC41LCAvLyBDZW50cmFkbyBob3Jpem9udGFsbWVudGVcbiAgICAgICAgICAgICAgICB0b3A6IDAuNSwgIC8vIENlbnRyYWRvIHZlcnRpY2FsbWVudGVcbiAgICAgICAgICAgICAgICBvcmlnaW5YOiBcImNlbnRlclwiLCAvLyBPcmlnZW4gZW4gZWwgY2VudHJvXG4gICAgICAgICAgICAgICAgb3JpZ2luWTogXCJjZW50ZXJcIiwgLy8gT3JpZ2VuIGVuIGVsIGNlbnRyb1xuICAgICAgICAgICAgICAgIC8vIFByb3BpZWRhZGVzIHBhcmEgYW5pbWFyXG4gICAgICAgICAgICAgICAgaXNBbmltYXRlZDogdHJ1ZVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJQYXlsb2FkIHBhcmEgQVBORyBjb21vIGltYWdlbiBhbmltYWRhOlwiLCBKU09OLnN0cmluZ2lmeShhcG5nVmlkZW9QYXlsb2FkLCBudWxsLCAyKSk7XG5cbiAgICAgICAgICAgIC8vIFVzYXIgQUREX0lNQUdFIGVuIGx1Z2FyIGRlIEFERF9WSURFT1xuICAgICAgICAgIGRpc3BhdGNoKEFERF9JTUFHRSwge1xuICAgICAgICAgICAgICBwYXlsb2FkOiBhcG5nVmlkZW9QYXlsb2FkLFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHNjYWxlTW9kZTogXCJjb3ZlclwiLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7IHg6IDAuNSwgeTogMC41IH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi4pyFIEFQTkcgYcOxYWRpZG8gY29tbyBpbWFnZW4gYW5pbWFkYSBjb24gw6l4aXRvXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gY2F0Y2ggKGFwbmdFcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBFcnJvciBhbCBhw7FhZGlyIEFQTkcgY29tbyBpbWFnZW4gYW5pbWFkYTpcIiwgYXBuZ0Vycm9yKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJEZXRhbGxlczpcIiwgYXBuZ0Vycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlRyYXphOlwiLCBhcG5nRXJyb3Iuc3RhY2spO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCLwn5SEIENvbnRpbnVhbmRvIGNvbiBlbCBtw6l0b2RvIGVzdMOhbmRhciBjb21vIHJlc3BhbGRvLi4uXCIpO1xuICAgICAgICAgICAgLy8gQ29udGludWFyIGNvbiBlbCBtw6l0b2RvIGVzdMOhbmRhciBjb21vIHJlc3BhbGRvXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIC8vIENyZWFyIHBheWxvYWQgcGFyYSBlbCB2aWRlb1xuICAgICAgY29uc3QgdmlkZW9QYXlsb2FkID0ge1xuICAgICAgICBpZDogZ2VuZXJhdGVJZCgpLFxuICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgZnJvbTogc3RhcnRUaW1lICogMTAwMCwgLy8gQ29udmVydGlyIGEgbWlsaXNlZ3VuZG9zXG4gICAgICAgICAgICB0bzogZmluYWxFbmRUaW1lID8gZmluYWxFbmRUaW1lICogMTAwMCA6IHVuZGVmaW5lZCAvLyBVc2FyIHVuZGVmaW5lZCBzaSBxdWVyZW1vcyByZXNwZXRhciBsYSBkdXJhY2nDs24gbmF0dXJhbFxuICAgICAgICB9LFxuICAgICAgICB0eXBlOiAndmlkZW8nLFxuICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgc3JjOiB1cmwsXG4gICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgIG9wYWNpdHk6IDEwMCxcbiAgICAgICAgICAgIC8vIFBhcmEgYXJjaGl2b3MgQVBORyB5IEFWSSwgY29uZmlndXJhciBwcm9waWVkYWRlcyBlc3BlY8OtZmljYXMgcGFyYSBwYW50YWxsYSBjb21wbGV0YVxuICAgICAgICAgICAgLi4uKHVzZUZ1bGxTY3JlZW4gJiYge1xuICAgICAgICAgICAgICBzY2FsZU1vZGU6IFwiY292ZXJcIiwgLy8gVXNhciBcImNvdmVyXCIgZW4gbHVnYXIgZGUgXCJmaXRcIiBwYXJhIGFzZWd1cmFyIHF1ZSBjdWJyYSB0b2RvXG4gICAgICAgICAgICAgIGxlZnQ6IDAuNSwgLy8gQ2VudHJhZG8gaG9yaXpvbnRhbG1lbnRlXG4gICAgICAgICAgICAgIHRvcDogMC41LCAgLy8gQ2VudHJhZG8gdmVydGljYWxtZW50ZVxuICAgICAgICAgICAgICBvcmlnaW5YOiBcImNlbnRlclwiLCAvLyBPcmlnZW4gZW4gZWwgY2VudHJvXG4gICAgICAgICAgICAgIG9yaWdpblk6IFwiY2VudGVyXCIsIC8vIE9yaWdlbiBlbiBlbCBjZW50cm9cbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgLy8gUHJvcGllZGFkZXMgZXNwZWNpYWxlcyBwYXJhIEFQTkdcbiAgICAgICAgICAgIC4uLih0cmVhdEFzQVBORyAmJiB7XG4gICAgICAgICAgICAgIGlzQVBORzogdHJ1ZSxcbiAgICAgICAgICAgICAgYXV0b1BsYXk6IHRydWUsXG4gICAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxuICAgICAgICAgICAgICBzeW5jV2l0aFRpbWVsaW5lOiBvcHRpb25zPy5zeW5jV2l0aFRpbWVsaW5lIHx8IHRydWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIlBheWxvYWQgZGUgdmlkZW8gZXN0w6FuZGFyOlwiLCBKU09OLnN0cmluZ2lmeSh2aWRlb1BheWxvYWQsIG51bGwsIDIpKTtcblxuICAgICAgICAvLyBDb25maWd1cmFjaW9uZXMgYWRpY2lvbmFsZXMgcGFyYSBlbCBkaXNwYXRjaFxuICAgICAgICBjb25zdCBkaXNwYXRjaE9wdGlvbnMgPSB7XG4gICAgICAgICAgcmVzb3VyY2VJZDogXCJtYWluXCIsXG4gICAgICAgICAgc2NhbGVNb2RlOiB1c2VGdWxsU2NyZWVuID8gXCJjb3ZlclwiIDogXCJmaXRcIiwgLy8gVXNhciBjb3ZlciBwYXJhIHBhbnRhbGxhIGNvbXBsZXRhLCBmaXQgcGFyYSBvdHJvcyB2aWRlb3NcbiAgICAgICAgICAuLi4odXNlRnVsbFNjcmVlbiAmJiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogeyB4OiAwLjUsIHk6IDAuNSB9IC8vIENlbnRyYXIgcGFyYSB2aWRlb3MgYSBwYW50YWxsYSBjb21wbGV0YVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHJlc3BlY3ROYXRpdmVEdXJhdGlvbjogcmVzcGVjdE5hdGl2ZUR1cmF0aW9uLFxuICAgICAgICAgIC8vIFByb3BpZWRhZGVzIGVzcGVjw61maWNhcyBwYXJhIHNpbmNyb25pemFjacOzbiBkZSBBUE5HXG4gICAgICAgICAgLi4uKHRyZWF0QXNBUE5HICYmIHtcbiAgICAgICAgICAgIGlzQVBORzogdHJ1ZSxcbiAgICAgICAgICAgIHN5bmNXaXRoVGltZWxpbmU6IG9wdGlvbnM/LnN5bmNXaXRoVGltZWxpbmUgfHwgdHJ1ZSxcbiAgICAgICAgICAgIHBsYXliYWNrQmVoYXZpb3I6IG9wdGlvbnM/LnBsYXliYWNrQmVoYXZpb3IgfHwgXCJzeW5jXCJcbiAgICAgICAgICB9KVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnNvbGUubG9nKFwiT3BjaW9uZXMgZGUgZGlzcGF0Y2g6XCIsIEpTT04uc3RyaW5naWZ5KGRpc3BhdGNoT3B0aW9ucywgbnVsbCwgMikpO1xuXG4gICAgICAvLyBBZ3JlZ2FyIHZpZGVvIGFsIHRpbWVsaW5lXG4gICAgICBkaXNwYXRjaChBRERfVklERU8sIHtcbiAgICAgICAgcGF5bG9hZDogdmlkZW9QYXlsb2FkLFxuICAgICAgICAgIG9wdGlvbnM6IGRpc3BhdGNoT3B0aW9ucyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gTWVuc2FqZSBkZSBsb2cgYWRhcHRhZG8gYWwgdGlwbyBkZSBhcmNoaXZvXG4gICAgICAgIGlmICh0cmVhdEFzQVBORykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgVHJhbnNpY2nDs24gQVBORyBhw7FhZGlkYSBjb21vIFZJREVPIFNJTkNST05JWkFETyBhbCB0aW1lbGluZSBkZXNkZSAke3N0YXJ0VGltZX1zICR7ZmluYWxFbmRUaW1lID8gYGhhc3RhICR7ZmluYWxFbmRUaW1lfXNgIDogJ2NvbiBkdXJhY2nDs24gbmF0dXJhbCd9LiBEaW1lbnNpb25lczogJHt3aWR0aH14JHtoZWlnaHR9YCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYOKchSBWaWRlbyAke2lzQVZJID8gJ0FWSScgOiAnJ30gYcOxYWRpZG8gYWwgdGltZWxpbmUgZGVzZGUgJHtzdGFydFRpbWV9cyR7ZmluYWxFbmRUaW1lID8gYCBoYXN0YSAke2ZpbmFsRW5kVGltZX1zYCA6ICcgY29uIGR1cmFjacOzbiBuYXR1cmFsJ30uIERpbWVuc2lvbmVzOiAke3dpZHRofXgke2hlaWdodH1gKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBFUlJPUiBDUsONVElDTyBhbCBhw7FhZGlyIHZpZGVvOlwiLCBlcnJvcik7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJEZXRhbGxlcyBjb21wbGV0b3M6XCIsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVHJhemE6XCIsIGVycm9yLnN0YWNrKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7IC8vIFByb3BhZ2FyIGVsIGVycm9yIHBhcmEgbWFuZWpvIHN1cGVyaW9yXG4gICAgICB9XG4gICAgfSxcblxuICAgIGNoYW5nZUR1cmF0aW9uOiAoZWxlbWVudElkOiBzdHJpbmcsIGR1cmF0aW9uOiBudW1iZXIpID0+IHtcbiAgICAgIC8vIFNpbXVsYWNpw7NuIGRlIGNhbWJpbyBkZSBkdXJhY2nDs24gKGxhIGltcGxlbWVudGFjacOzbiByZWFsIGRlcGVuZGVyw6EgZGUgbGEgZXN0cnVjdHVyYSBkZWwgcHJveWVjdG8pXG4gICAgICBjb25zb2xlLmxvZyhgQ2FtYmlhbmRvIGR1cmFjacOzbiBkZWwgZWxlbWVudG8gJHtlbGVtZW50SWR9IGEgJHtkdXJhdGlvbn1zYCk7XG5cbiAgICAgIC8vIEFxdcOtIGlyw61hIGxhIGzDs2dpY2EgcmVhbCBwYXJhIGNhbWJpYXIgbGEgZHVyYWNpw7NuIGRlIHVuIGVsZW1lbnRvXG4gICAgfSxcblxuICAgIGNoYW5nZVRyYW5zaXRpb246IChlbGVtZW50SWQ6IHN0cmluZywgdHJhbnNpdGlvbjogc3RyaW5nKSA9PiB7XG4gICAgICAvLyBTaW11bGFjacOzbiBkZSBjYW1iaW8gZGUgdHJhbnNpY2nDs24gKGxhIGltcGxlbWVudGFjacOzbiByZWFsIGRlcGVuZGVyw6EgZGUgbGEgZXN0cnVjdHVyYSBkZWwgcHJveWVjdG8pXG4gICAgICBjb25zb2xlLmxvZyhgQ2FtYmlhbmRvIHRyYW5zaWNpw7NuIGRlbCBlbGVtZW50byAke2VsZW1lbnRJZH0gYSAke3RyYW5zaXRpb259YCk7XG5cbiAgICAgIC8vIEFxdcOtIGlyw61hIGxhIGzDs2dpY2EgcmVhbCBwYXJhIGNhbWJpYXIgbGEgdHJhbnNpY2nDs24gZGUgdW4gZWxlbWVudG9cbiAgICB9LFxuXG4gICAgYWRkU3VidGl0bGVzOiBhc3luYyAob3B0aW9ucz86IFN1YnRpdGxlT3B0aW9ucykgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJBw7FhZGllbmRvIHN1YnTDrXR1bG9zIGRpcmVjdGFtZW50ZSBzaW4gZGVwZW5kZXIgZGVsIGJvdMOzblwiKTtcblxuICAgICAgICAvLyBUaXBvIHBhcmEgcmVwcmVzZW50YXIgdW4gc2VnbWVudG8gZGUgc3VidMOtdHVsb1xuICAgICAgICBpbnRlcmZhY2UgU3VidGl0bGVTZWdtZW50IHtcbiAgICAgICAgICBpZDogbnVtYmVyO1xuICAgICAgICAgIHN0YXJ0VGltZTogbnVtYmVyOyAvLyBlbiBtaWxpc2VndW5kb3NcbiAgICAgICAgICBlbmRUaW1lOiBudW1iZXI7ICAgLy8gZW4gbWlsaXNlZ3VuZG9zXG4gICAgICAgICAgdGV4dDogc3RyaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRnVuY2nDs24gcGFyYSBwYXJzZWFyIGVsIHRpZW1wbyBkZSBmb3JtYXRvIFNSVCBhIG1pbGlzZWd1bmRvc1xuICAgICAgICBjb25zdCBwYXJzZVRpbWVUb01zID0gKHRpbWVTdHJpbmc6IHN0cmluZyk6IG51bWJlciA9PiB7XG4gICAgICAgICAgY29uc3QgW2hvdXJzLCBtaW51dGVzLCBzZWNvbmRzQW5kTXNdID0gdGltZVN0cmluZy5zcGxpdCgnOicpO1xuICAgICAgICAgIGNvbnN0IFtzZWNvbmRzLCBtc10gPSBzZWNvbmRzQW5kTXMuc3BsaXQoJywnKTtcblxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBwYXJzZUludChob3VycykgKiAzNjAwMDAwICtcbiAgICAgICAgICAgIHBhcnNlSW50KG1pbnV0ZXMpICogNjAwMDAgK1xuICAgICAgICAgICAgcGFyc2VJbnQoc2Vjb25kcykgKiAxMDAwICtcbiAgICAgICAgICAgIHBhcnNlSW50KG1zKVxuICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gRnVuY2nDs24gcGFyYSBwYXJzZWFyIGVsIGFyY2hpdm8gU1JUXG4gICAgICAgIGNvbnN0IHBhcnNlU1JUID0gKHNydENvbnRlbnQ6IHN0cmluZyk6IFN1YnRpdGxlU2VnbWVudFtdID0+IHtcbiAgICAgICAgICBjb25zdCBzZWdtZW50czogU3VidGl0bGVTZWdtZW50W10gPSBbXTtcbiAgICAgICAgICBjb25zdCBibG9ja3MgPSBzcnRDb250ZW50LnRyaW0oKS5zcGxpdCgnXFxuXFxuJyk7XG5cbiAgICAgICAgICBibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XG4gICAgICAgICAgICBjb25zdCBsaW5lcyA9IGJsb2NrLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgIGlmIChsaW5lcy5sZW5ndGggPj0gMykge1xuICAgICAgICAgICAgICBjb25zdCBpZCA9IHBhcnNlSW50KGxpbmVzWzBdKTtcbiAgICAgICAgICAgICAgY29uc3QgdGltZVJhbmdlID0gbGluZXNbMV0uc3BsaXQoJyAtLT4gJyk7XG4gICAgICAgICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBhcnNlVGltZVRvTXModGltZVJhbmdlWzBdKTtcbiAgICAgICAgICAgICAgY29uc3QgZW5kVGltZSA9IHBhcnNlVGltZVRvTXModGltZVJhbmdlWzFdKTtcbiAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGxpbmVzLnNsaWNlKDIpLmpvaW4oJ1xcbicpOyAvLyBVbmlyIHRvZGFzIGxhcyBsw61uZWFzIGRlIHRleHRvXG5cbiAgICAgICAgICAgICAgc2VnbWVudHMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgIGVuZFRpbWUsXG4gICAgICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBzZWdtZW50cztcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBGdW5jacOzbiBwYXJhIGRpdmlkaXIgdW4gdGV4dG8gZW4gZ3J1cG9zIGRlIGFwcm94aW1hZGFtZW50ZSAzIHBhbGFicmFzXG4gICAgICAgIGNvbnN0IHNwbGl0VGV4dEludG9Hcm91cHMgPSAodGV4dDogc3RyaW5nLCB3b3Jkc1Blckdyb3VwID0gMyk6IHN0cmluZ1tdID0+IHtcbiAgICAgICAgICBjb25zdCB3b3JkcyA9IHRleHQuc3BsaXQoL1xccysvKTtcbiAgICAgICAgICBjb25zdCBncm91cHM6IHN0cmluZ1tdID0gW107XG5cbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdvcmRzLmxlbmd0aDsgaSArPSB3b3Jkc1Blckdyb3VwKSB7XG4gICAgICAgICAgICBjb25zdCBncm91cCA9IHdvcmRzLnNsaWNlKGksIGkgKyB3b3Jkc1Blckdyb3VwKS5qb2luKCcgJyk7XG4gICAgICAgICAgICBncm91cHMucHVzaChncm91cCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGdyb3VwcztcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBGdW5jacOzbiBwYXJhIHByb2Nlc2FyIHVuIHNlZ21lbnRvIHkgZGl2aWRpcmxvIGVuIG3Dumx0aXBsZXMgc2VnbWVudG9zIHNpIGVzIG5lY2VzYXJpb1xuICAgICAgICBjb25zdCBwcm9jZXNzU2VnbWVudCA9IChzZWdtZW50OiBTdWJ0aXRsZVNlZ21lbnQpOiBTdWJ0aXRsZVNlZ21lbnRbXSA9PiB7XG4gICAgICAgICAgY29uc3QgdGV4dEdyb3VwcyA9IHNwbGl0VGV4dEludG9Hcm91cHMoc2VnbWVudC50ZXh0KTtcblxuICAgICAgICAgIC8vIFNpIHNvbG8gaGF5IHVuIGdydXBvLCBkZXZvbHZlciBlbCBzZWdtZW50byBvcmlnaW5hbFxuICAgICAgICAgIGlmICh0ZXh0R3JvdXBzLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gW3NlZ21lbnRdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIENhbGN1bGFyIGxhIGR1cmFjacOzbiBkZSBjYWRhIGdydXBvXG4gICAgICAgICAgY29uc3QgdG90YWxEdXJhdGlvbiA9IHNlZ21lbnQuZW5kVGltZSAtIHNlZ21lbnQuc3RhcnRUaW1lO1xuICAgICAgICAgIGNvbnN0IGdyb3VwRHVyYXRpb24gPSB0b3RhbER1cmF0aW9uIC8gdGV4dEdyb3Vwcy5sZW5ndGg7XG5cbiAgICAgICAgICAvLyBDcmVhciB1biBudWV2byBzZWdtZW50byBwYXJhIGNhZGEgZ3J1cG9cbiAgICAgICAgICByZXR1cm4gdGV4dEdyb3Vwcy5tYXAoKGdyb3VwVGV4dCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHNlZ21lbnQuc3RhcnRUaW1lICsgKGluZGV4ICogZ3JvdXBEdXJhdGlvbik7XG4gICAgICAgICAgICBjb25zdCBlbmRUaW1lID0gc3RhcnRUaW1lICsgZ3JvdXBEdXJhdGlvbjtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgaWQ6IHNlZ21lbnQuaWQgKiAxMDAwICsgaW5kZXgsIC8vIEdlbmVyYXIgdW4gSUQgw7puaWNvXG4gICAgICAgICAgICAgIHN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgZW5kVGltZSxcbiAgICAgICAgICAgICAgdGV4dDogZ3JvdXBUZXh0XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEZ1bmNpw7NuIHBhcmEgY3JlYXIgZWwgcGF5bG9hZCBkZSB0ZXh0byBwYXJhIHN1YnTDrXR1bG9zXG4gICAgICAgIGNvbnN0IGNyZWF0ZVN1YnRpdGxlUGF5bG9hZCA9ICh0ZXh0OiBzdHJpbmcsIHN0YXJ0VGltZTogbnVtYmVyLCBlbmRUaW1lOiBudW1iZXIpID0+ICh7XG4gICAgICAgICAgaWQ6IGdlbmVyYXRlSWQoKSxcbiAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICBmcm9tOiBzdGFydFRpbWUsXG4gICAgICAgICAgICB0bzogZW5kVGltZSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LnRvVXBwZXJDYXNlKCksIC8vIENvbnZlcnRpciBhIG1hecO6c2N1bGFzIGNvbW8gTXJCZWFzdFxuICAgICAgICAgICAgZm9udFNpemU6IDgwLCAvLyBUYW1hw7FvIG3DoXMgZ3JhbmRlIHBhcmEgZXN0aWxvIE1yQmVhc3RcbiAgICAgICAgICAgIHdpZHRoOiA5MDAsXG4gICAgICAgICAgICBmb250VXJsOiAnL2ZvbnRzL21yYmVhc3QudHRmJywgLy8gVXNhciBsYSBmdWVudGUgTXJCZWFzdFxuICAgICAgICAgICAgZm9udEZhbWlseTogJ01yQmVhc3QnLCAvLyBOb21icmUgZGUgbGEgZnVlbnRlIE1yQmVhc3RcbiAgICAgICAgICAgIGNvbG9yOiAnI0ZGRkYwMCcsIC8vIEFtYXJpbGxvIGJyaWxsYW50ZVxuICAgICAgICAgICAgd29yZFdyYXA6ICdicmVhay13b3JkJyxcbiAgICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICAgICAgICBib3JkZXJXaWR0aDogMjAsIC8vIFN0cm9rZSBuZWdybyBncnVlc29cbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnIzAwMDAwMCcsXG4gICAgICAgICAgICBib3hTaGFkb3c6IHtcbiAgICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcbiAgICAgICAgICAgICAgeDogMyxcbiAgICAgICAgICAgICAgeTogMyxcbiAgICAgICAgICAgICAgYmx1cjogMCwgLy8gU2luIGRlc2VuZm9xdWUgcGFyYSB1biBlc3RpbG8gbcOhcyBpbXBhY3RhbnRlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLCAvLyBTaW4gZm9uZG8gcGFyYSBxdWUgZGVzdGFxdWUgbcOhc1xuICAgICAgICAgICAgcGFkZGluZzogMTAsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IDAsIC8vIFNpbiBib3JkZXMgcmVkb25kZWFkb3MgcGFyYSB1biBlc3RpbG8gbcOhcyBpbXBhY3RhbnRlXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ2FyZ2FyIGVsIGFyY2hpdm8gU1JUXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2FyZ2FuZG8gYXJjaGl2byBTUlQuLi5cIik7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy90cmFuc2NyaXB0aW9ucy90cmFuc2NyaXB0aW9uMS5zcnQnKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgYWwgY2FyZ2FyIGVsIGFyY2hpdm8gU1JUOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNydENvbnRlbnQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQXJjaGl2byBTUlQgY2FyZ2FkbyBjb3JyZWN0YW1lbnRlXCIpO1xuXG4gICAgICAgIC8vIFBhcnNlYXIgZWwgYXJjaGl2byBTUlRcbiAgICAgICAgbGV0IHNlZ21lbnRzID0gcGFyc2VTUlQoc3J0Q29udGVudCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBTZSBlbmNvbnRyYXJvbiAke3NlZ21lbnRzLmxlbmd0aH0gc2VnbWVudG9zIGRlIHN1YnTDrXR1bG9zYCk7XG5cbiAgICAgICAgLy8gU2llbXByZSB1c2FyIGVsIG1vZG8gYWdydXBhZG8gKGRpdmlkaXIgZW4gZ3J1cG9zIGRlIDMgcGFsYWJyYXMpXG4gICAgICAgIHNlZ21lbnRzID0gc2VnbWVudHMuZmxhdE1hcChwcm9jZXNzU2VnbWVudCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBEZXNwdcOpcyBkZSBwcm9jZXNhciwgaGF5ICR7c2VnbWVudHMubGVuZ3RofSBzZWdtZW50b3MgZGUgc3VidMOtdHVsb3NgKTtcblxuICAgICAgICAvLyBGaWx0cmFyIHBvciB0aWVtcG8gc2kgZXMgbmVjZXNhcmlvXG4gICAgICAgIGlmIChvcHRpb25zPy5zdGFydFRpbWUgIT09IHVuZGVmaW5lZCB8fCBvcHRpb25zPy5lbmRUaW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjb25zdCBvcmlnaW5hbExlbmd0aCA9IHNlZ21lbnRzLmxlbmd0aDtcbiAgICAgICAgICBzZWdtZW50cyA9IHNlZ21lbnRzLmZpbHRlcihzZWdtZW50ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhc3Nlc1N0YXJ0RmlsdGVyID0gb3B0aW9ucy5zdGFydFRpbWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnQuc3RhcnRUaW1lID49IChvcHRpb25zLnN0YXJ0VGltZSAqIDEwMDApO1xuICAgICAgICAgICAgY29uc3QgcGFzc2VzRW5kRmlsdGVyID0gb3B0aW9ucy5lbmRUaW1lID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudC5lbmRUaW1lIDw9IChvcHRpb25zLmVuZFRpbWUgKiAxMDAwKTtcbiAgICAgICAgICAgIHJldHVybiBwYXNzZXNTdGFydEZpbHRlciAmJiBwYXNzZXNFbmRGaWx0ZXI7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc29sZS5sb2coYEZpbHRyYWRvIHBvciB0aWVtcG86IGRlICR7b3JpZ2luYWxMZW5ndGh9IGEgJHtzZWdtZW50cy5sZW5ndGh9IHNlZ21lbnRvc2ApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQcOxYWRpciBsb3Mgc3VidMOtdHVsb3MgY29uIHVuIHJldHJhc28gZW50cmUgY2FkYSB1bm9cbiAgICAgICAgY29uc29sZS5sb2coYEHDsWFkaWVuZG8gJHtzZWdtZW50cy5sZW5ndGh9IHNlZ21lbnRvcyBkZSBzdWJ0w610dWxvcyBhbCB0aW1lbGluZS4uLmApO1xuXG4gICAgICAgIHNlZ21lbnRzLmZvckVhY2goKHNlZ21lbnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBkaXNwYXRjaChBRERfVEVYVCwge1xuICAgICAgICAgICAgICBwYXlsb2FkOiBjcmVhdGVTdWJ0aXRsZVBheWxvYWQoc2VnbWVudC50ZXh0LCBzZWdtZW50LnN0YXJ0VGltZSwgc2VnbWVudC5lbmRUaW1lKSxcbiAgICAgICAgICAgICAgb3B0aW9uczoge30sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKChpbmRleCArIDEpICUgMTAgPT09IDAgfHwgaW5kZXggPT09IHNlZ21lbnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYFByb2dyZXNvOiAke2luZGV4ICsgMX0vJHtzZWdtZW50cy5sZW5ndGh9IHN1YnTDrXR1bG9zIGHDsWFkaWRvc2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIGluZGV4ICogMjAwKTsgLy8gMjAwbXMgZGUgcmV0cmFzbyBlbnRyZSBjYWRhIHN1YnTDrXR1bG9cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWwgYcOxYWRpciBzdWJ0w610dWxvczpcIiwgZXJyb3IpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGdldEFjdGl2ZUVsZW1lbnRzOiBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBPYnRlbmVyIGVsIGVzdGFkbyBhY3R1YWxcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBzdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKTtcblxuICAgICAgICAvLyBWZXJpZmljYXIgc2kgaGF5IElEcyBhY3Rpdm9zXG4gICAgICAgIGlmICghc3RhdGUuYWN0aXZlSWRzIHx8IHN0YXRlLmFjdGl2ZUlkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIGhheSBlbGVtZW50b3MgYWN0aXZvcyBzZWxlY2Npb25hZG9zXCIpO1xuICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFZlcmlmaWNhciBzaSBoYXkgZWxlbWVudG9zIGVuIGVsIHRyYWNrSXRlbXNNYXBcbiAgICAgICAgaWYgKCFzdGF0ZS50cmFja0l0ZW1zTWFwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJObyBoYXkgdHJhY2tJdGVtc01hcCBkaXNwb25pYmxlXCIpO1xuICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9idGVuZXIgaW5mb3JtYWNpw7NuIGRlIGxvcyBlbGVtZW50b3MgYWN0aXZvc1xuICAgICAgICBjb25zdCBhY3RpdmVFbGVtZW50cyA9IHN0YXRlLmFjdGl2ZUlkc1xuICAgICAgICAgIC5maWx0ZXIoaWQgPT4gc3RhdGUudHJhY2tJdGVtc01hcFtpZF0pXG4gICAgICAgICAgLm1hcChpZCA9PiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gc3RhdGUudHJhY2tJdGVtc01hcFtpZF07XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgdHJhY2tJZDogaXRlbS50cmFja0lkLFxuICAgICAgICAgICAgICB0eXBlOiBpdGVtLnR5cGUsXG4gICAgICAgICAgICAgIGZyb206IGl0ZW0uZGlzcGxheT8uZnJvbSxcbiAgICAgICAgICAgICAgdG86IGl0ZW0uZGlzcGxheT8udG8sXG4gICAgICAgICAgICAgIGR1cmF0aW9uOiBpdGVtLmRpc3BsYXkgPyAoaXRlbS5kaXNwbGF5LnRvIC0gaXRlbS5kaXNwbGF5LmZyb20pIDogMCxcbiAgICAgICAgICAgICAgZGV0YWlsczogaXRlbS5kZXRhaWxzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGBTZSBlbmNvbnRyYXJvbiAke2FjdGl2ZUVsZW1lbnRzLmxlbmd0aH0gZWxlbWVudG9zIGFjdGl2b3NgKTtcbiAgICAgICAgcmV0dXJuIGFjdGl2ZUVsZW1lbnRzO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIG9idGVuZXIgZWxlbWVudG9zIGFjdGl2b3M6XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBnZXRBbGxUaW1lbGluZUVsZW1lbnRzOiBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBPYnRlbmVyIGVsIGVzdGFkbyBhY3R1YWxcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBzdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKTtcblxuICAgICAgICAvLyBWZXJpZmljYXIgc2kgaGF5IGVsZW1lbnRvcyBlbiBlbCB0cmFja0l0ZW1zTWFwXG4gICAgICAgIGlmICghc3RhdGUudHJhY2tJdGVtc01hcCB8fCBPYmplY3Qua2V5cyhzdGF0ZS50cmFja0l0ZW1zTWFwKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIGhheSBlbGVtZW50b3MgZW4gZWwgdHJhY2tJdGVtc01hcFwiKTtcblxuICAgICAgICAgIC8vIEJ1c2NhciBlbGVtZW50b3MgZW4gb3RyYXMgcHJvcGllZGFkZXMgZGVsIGVzdGFkb1xuICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHN0YXRlKSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGF0ZVtrZXldID09PSAnb2JqZWN0JyAmJiBzdGF0ZVtrZXldICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG9ialZhbHVlID0gc3RhdGVba2V5XTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYEV4cGxvcmFuZG8gcHJvcGllZGFkIGFsdGVybmF0aXZhOiAke2tleX1gKTtcblxuICAgICAgICAgICAgICAvLyBWZXJpZmljYXIgc2kgcGFyZWNlIHNlciB1biBtYXBhIGRlIGVsZW1lbnRvc1xuICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMob2JqVmFsdWUpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzYW1wbGUgPSBvYmpWYWx1ZVtPYmplY3Qua2V5cyhvYmpWYWx1ZSlbMF1dO1xuICAgICAgICAgICAgICAgIGlmIChzYW1wbGUgJiYgc2FtcGxlLmRpc3BsYXkgJiYgc2FtcGxlLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBFbmNvbnRyYWRhIHBvc2libGUgZnVlbnRlIGFsdGVybmF0aXZhIGRlIGVsZW1lbnRvcyBlbiBwcm9waWVkYWQgJHtrZXl9YCk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIFByb2Nlc2FyIGVsZW1lbnRvcyBkZSBlc3RhIHByb3BpZWRhZCBhbHRlcm5hdGl2YVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKG9ialZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChbXywgaXRlbV0pID0+IGl0ZW0gJiYgaXRlbS5kaXNwbGF5KVxuICAgICAgICAgICAgICAgICAgICAubWFwKChbaWQsIGl0ZW1dKSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgICAgICAgIHRyYWNrSWQ6IGl0ZW0udHJhY2tJZCxcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBpdGVtLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgZnJvbTogaXRlbS5kaXNwbGF5Py5mcm9tLFxuICAgICAgICAgICAgICAgICAgICAgIHRvOiBpdGVtLmRpc3BsYXk/LnRvLFxuICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBpdGVtLmRpc3BsYXkgPyAoaXRlbS5kaXNwbGF5LnRvIC0gaXRlbS5kaXNwbGF5LmZyb20pIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBpdGVtLmRldGFpbHNcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9idGVuZXIgdG9kb3MgbG9zIGVsZW1lbnRvc1xuICAgICAgICBjb25zdCBhbGxFbGVtZW50cyA9IE9iamVjdC5lbnRyaWVzKHN0YXRlLnRyYWNrSXRlbXNNYXApXG4gICAgICAgICAgLmZpbHRlcigoW18sIGl0ZW1dKSA9PiBpdGVtICYmIGl0ZW0uZGlzcGxheSlcbiAgICAgICAgICAubWFwKChbaWQsIGl0ZW1dKSA9PiAoe1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICB0cmFja0lkOiBpdGVtLnRyYWNrSWQsXG4gICAgICAgICAgICB0eXBlOiBpdGVtLnR5cGUsXG4gICAgICAgICAgICBmcm9tOiBpdGVtLmRpc3BsYXk/LmZyb20sXG4gICAgICAgICAgICB0bzogaXRlbS5kaXNwbGF5Py50byxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBpdGVtLmRpc3BsYXkgPyAoaXRlbS5kaXNwbGF5LnRvIC0gaXRlbS5kaXNwbGF5LmZyb20pIDogMCxcbiAgICAgICAgICAgIGRldGFpbHM6IGl0ZW0uZGV0YWlsc1xuICAgICAgICAgIH0pKVxuICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiAoYS5mcm9tIHx8IDApIC0gKGIuZnJvbSB8fCAwKSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coYFNlIGVuY29udHJhcm9uICR7YWxsRWxlbWVudHMubGVuZ3RofSBlbGVtZW50b3MgZW4gZWwgdGltZWxpbmVgKTtcbiAgICAgICAgcmV0dXJuIGFsbEVsZW1lbnRzO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIG9idGVuZXIgdG9kb3MgbG9zIGVsZW1lbnRvcyBkZWwgdGltZWxpbmU6XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICByZW1vdmVTZWdtZW50czogYXN5bmMgKHNlZ21lbnRzOiBUaW1lU2VnbWVudFtdKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkluaWNpYW5kbyBlbGltaW5hY2nDs24gZGUgc2VnbWVudG9zIG3Dumx0aXBsZXNcIik7XG5cbiAgICAgICAgLy8gT2J0ZW5lciBlbCBlc3RhZG8gYWN0dWFsXG4gICAgICAgIGNvbnN0IHN0YXRlID0gc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCk7XG5cbiAgICAgICAgLy8gVmFsaWRhciBxdWUgaGF5YSBlbGVtZW50b3MgZW4gbGEgdGltZWxpbmVcbiAgICAgICAgaWYgKCFzdGF0ZS5hY3RpdmVJZHMgfHwgc3RhdGUuYWN0aXZlSWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJObyBoYXkgZWxlbWVudG9zIHNlbGVjY2lvbmFkb3MgZW4gbGEgdGltZWxpbmVcIik7XG5cbiAgICAgICAgICAvLyBCdXNjYXIgZWwgcHJpbWVyIGVsZW1lbnRvIGRpc3BvbmlibGUgZW4gbGEgdGltZWxpbmVcbiAgICAgICAgICBjb25zdCB0cmFja0l0ZW1zTWFwID0gc3RhdGUudHJhY2tJdGVtc01hcCB8fCB7fTtcbiAgICAgICAgICBjb25zdCB0cmFja0l0ZW1zID0gT2JqZWN0LmtleXModHJhY2tJdGVtc01hcCk7XG5cbiAgICAgICAgICBpZiAodHJhY2tJdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJObyBoYXkgZWxlbWVudG9zIGVuIGxhIHRpbWVsaW5lIHBhcmEgZWxpbWluYXIgc2VnbWVudG9zXCIpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gaGF5IGVsZW1lbnRvcyBlbiBsYSB0aW1lbGluZVwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTZWxlY2Npb25hciBlbCBwcmltZXIgZWxlbWVudG8gZGlzcG9uaWJsZVxuICAgICAgICAgIGNvbnN0IGZpcnN0SXRlbUlkID0gdHJhY2tJdGVtc1swXTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgU2VsZWNjaW9uYW5kbyBhdXRvbcOhdGljYW1lbnRlIGVsIGVsZW1lbnRvIGNvbiBJRDogJHtmaXJzdEl0ZW1JZH1gKTtcblxuICAgICAgICAgIGRpc3BhdGNoKExBWUVSX1NFTEVDVCwge1xuICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICBpZHM6IFtmaXJzdEl0ZW1JZF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIEVzcGVyYXIgYSBxdWUgc2UgYXBsaXF1ZSBsYSBzZWxlY2Npw7NuXG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDMwMCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWxtYWNlbmFtb3MgaW5mb3JtYWNpw7NuIGRlbCBlbGVtZW50byBzZWxlY2Npb25hZG9cbiAgICAgICAgY29uc3QgY3VycmVudFN0YXRlID0gc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCk7XG4gICAgICAgIGlmICghY3VycmVudFN0YXRlLmFjdGl2ZUlkcyB8fCBjdXJyZW50U3RhdGUuYWN0aXZlSWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHNlIHB1ZG8gc2VsZWNjaW9uYXIgbmluZ8O6biBlbGVtZW50byBlbiBsYSB0aW1lbGluZVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsSXRlbUlkID0gY3VycmVudFN0YXRlLmFjdGl2ZUlkc1swXTtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxJdGVtID0gY3VycmVudFN0YXRlLnRyYWNrSXRlbXNNYXBbb3JpZ2luYWxJdGVtSWRdO1xuICAgICAgICBjb25zdCB0cmFja1R5cGUgPSBvcmlnaW5hbEl0ZW0udHlwZTtcbiAgICAgICAgY29uc3QgdHJhY2tJZCA9IG9yaWdpbmFsSXRlbS50cmFja0lkO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGBFbGVtZW50byBzZWxlY2Npb25hZG86IElEPSR7b3JpZ2luYWxJdGVtSWR9LCB0aXBvPSR7dHJhY2tUeXBlfSwgdHJhY2tJZD0ke3RyYWNrSWR9YCk7XG5cbiAgICAgICAgLy8gUHJvY2VzYXIgY2FkYSBzZWdtZW50byBlbiBvcmRlbiAoZGUgZmluYWwgYSBwcmluY2lwaW8gcGFyYSBldml0YXIgYWZlY3RhciBwb3NpY2lvbmVzKVxuICAgICAgICBmb3IgKGxldCBpID0gc2VnbWVudHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBjb25zdCBzZWdtZW50ID0gc2VnbWVudHNbaV07XG4gICAgICAgICAgY29uc29sZS5sb2coYFByb2Nlc2FuZG8gc2VnbWVudG8gJHtpKzF9LyR7c2VnbWVudHMubGVuZ3RofTogJHtzZWdtZW50LnN0YXJ0VGltZX1zIC0gJHtzZWdtZW50LmVuZFRpbWV9c2ApO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFBBU08gMTogSGFjZXIgdW4gY29ydGUgZW4gZWwgdGllbXBvIGZpbmFsXG4gICAgICAgICAgICBjb25zdCBlbmRNcyA9IHNlZ21lbnQuZW5kVGltZSAqIDEwMDA7XG4gICAgICAgICAgICBkaXNwYXRjaChBQ1RJVkVfU1BMSVQsIHtcbiAgICAgICAgICAgICAgcGF5bG9hZDoge30sXG4gICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICB0aW1lOiBlbmRNcyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFBhc28gMTogQ29ydGUgYXBsaWNhZG8gZW4gdGllbXBvIGZpbmFsICR7c2VnbWVudC5lbmRUaW1lfXNgKTtcblxuICAgICAgICAgICAgLy8gRXNwZXJhciBhIHF1ZSBzZSBwcm9jZXNlIGVsIHByaW1lciBjb3J0ZVxuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpO1xuXG4gICAgICAgICAgICAvLyBPYnRlbmVtb3MgZWwgZXN0YWRvIGRlc3B1w6lzIGRlbCBwcmltZXIgY29ydGVcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlQWZ0ZXJGaXJzdEN1dCA9IHN0YXRlTWFuYWdlci5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudHNBZnRlckZpcnN0Q3V0ID0gT2JqZWN0LmVudHJpZXMoc3RhdGVBZnRlckZpcnN0Q3V0LnRyYWNrSXRlbXNNYXApXG4gICAgICAgICAgICAgIC5maWx0ZXIoKFtfLCBpdGVtXSkgPT5cbiAgICAgICAgICAgICAgICBpdGVtLnR5cGUgPT09IHRyYWNrVHlwZSAmJlxuICAgICAgICAgICAgICAgIGl0ZW0udHJhY2tJZCA9PT0gdHJhY2tJZCAmJlxuICAgICAgICAgICAgICAgIGl0ZW0uZGlzcGxheSAmJlxuICAgICAgICAgICAgICAgICFpc05hTihpdGVtLmRpc3BsYXkuZnJvbSkgJiZcbiAgICAgICAgICAgICAgICAhaXNOYU4oaXRlbS5kaXNwbGF5LnRvKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIC5tYXAoKFtpZCwgaXRlbV0pID0+ICh7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgZnJvbTogaXRlbS5kaXNwbGF5LmZyb20sXG4gICAgICAgICAgICAgICAgdG86IGl0ZW0uZGlzcGxheS50byxcbiAgICAgICAgICAgICAgICBkdXJhY2nDs246IGl0ZW0uZGlzcGxheS50byAtIGl0ZW0uZGlzcGxheS5mcm9tXG4gICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYS5mcm9tIC0gYi5mcm9tKTtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFbGVtZW50b3MgZGVzcHXDqXMgZGVsIHByaW1lciBjb3J0ZTpcIiwgZWxlbWVudHNBZnRlckZpcnN0Q3V0KTtcblxuICAgICAgICAgICAgLy8gUEFTTyAyOiBJZGVudGlmaWNhciBlbCBlbGVtZW50byBpenF1aWVyZG8gcXVlIGNvbnRpZW5lIGVsIHRpZW1wbyBpbmljaWFsXG4gICAgICAgICAgICBjb25zdCBzdGFydE1zID0gc2VnbWVudC5zdGFydFRpbWUgKiAxMDAwO1xuICAgICAgICAgICAgY29uc3QgbGVmdEVsZW1lbnQgPSBlbGVtZW50c0FmdGVyRmlyc3RDdXQuZmluZChlbGVtID0+XG4gICAgICAgICAgICAgIGVsZW0uZnJvbSA8PSBzdGFydE1zICYmIGVsZW0udG8gPj0gc3RhcnRNc1xuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKCFsZWZ0RWxlbWVudCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBObyBzZSBwdWRvIGlkZW50aWZpY2FyIGVsIGVsZW1lbnRvIGl6cXVpZXJkbyBwYXJhIGVsIHNlZ21lbnRvICR7aSsxfWApO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5sb2coYFBhc28gMjogRWxlbWVudG8gaXpxdWllcmRvIGlkZW50aWZpY2FkbyAoSUQ6ICR7bGVmdEVsZW1lbnQuaWR9KWApO1xuXG4gICAgICAgICAgICAvLyBQQVNPIDM6IFNlbGVjY2lvbmFyIGVsIGVsZW1lbnRvIGl6cXVpZXJkbyB5IGhhY2VyIGNvcnRlIGVuIHRpZW1wbyBpbmljaWFsXG4gICAgICAgICAgICBkaXNwYXRjaChMQVlFUl9TRUxFQ1QsIHtcbiAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgIGlkczogW2xlZnRFbGVtZW50LmlkXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gRXNwZXJhciBhIHF1ZSBzZSBhcGxpcXVlIGxhIHNlbGVjY2nDs25cbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAzMDApKTtcblxuICAgICAgICAgICAgLy8gQXBsaWNhciBlbCBjb3J0ZSBlbiBlbCB0aWVtcG8gaW5pY2lhbFxuICAgICAgICAgICAgZGlzcGF0Y2goQUNUSVZFX1NQTElULCB7XG4gICAgICAgICAgICAgIHBheWxvYWQ6IHt9LFxuICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgdGltZTogc3RhcnRNcyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFBhc28gMzogU2VndW5kbyBjb3J0ZSBhcGxpY2FkbyBlbiB0aWVtcG8gaW5pY2lhbCAke3NlZ21lbnQuc3RhcnRUaW1lfXNgKTtcblxuICAgICAgICAgICAgLy8gRXNwZXJhciBhIHF1ZSBzZSBwcm9jZXNlIGVsIHNlZ3VuZG8gY29ydGVcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDApKTtcblxuICAgICAgICAgICAgLy8gT2J0ZW5lbW9zIGVsIGVzdGFkbyBkZXNwdcOpcyBkZWwgc2VndW5kbyBjb3J0ZVxuICAgICAgICAgICAgY29uc3Qgc3RhdGVBZnRlclNlY29uZEN1dCA9IHN0YXRlTWFuYWdlci5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudHNBZnRlclNlY29uZEN1dCA9IE9iamVjdC5lbnRyaWVzKHN0YXRlQWZ0ZXJTZWNvbmRDdXQudHJhY2tJdGVtc01hcClcbiAgICAgICAgICAgICAgLmZpbHRlcigoW18sIGl0ZW1dKSA9PlxuICAgICAgICAgICAgICAgIGl0ZW0udHlwZSA9PT0gdHJhY2tUeXBlICYmXG4gICAgICAgICAgICAgICAgaXRlbS50cmFja0lkID09PSB0cmFja0lkICYmXG4gICAgICAgICAgICAgICAgaXRlbS5kaXNwbGF5ICYmXG4gICAgICAgICAgICAgICAgIWlzTmFOKGl0ZW0uZGlzcGxheS5mcm9tKSAmJlxuICAgICAgICAgICAgICAgICFpc05hTihpdGVtLmRpc3BsYXkudG8pXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgLm1hcCgoW2lkLCBpdGVtXSkgPT4gKHtcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICBmcm9tOiBpdGVtLmRpc3BsYXkuZnJvbSxcbiAgICAgICAgICAgICAgICB0bzogaXRlbS5kaXNwbGF5LnRvLFxuICAgICAgICAgICAgICAgIGR1cmFjacOzbjogaXRlbS5kaXNwbGF5LnRvIC0gaXRlbS5kaXNwbGF5LmZyb21cbiAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBhLmZyb20gLSBiLmZyb20pO1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVsZW1lbnRvcyBkZXNwdcOpcyBkZWwgc2VndW5kbyBjb3J0ZTpcIiwgZWxlbWVudHNBZnRlclNlY29uZEN1dCk7XG5cbiAgICAgICAgICAgIC8vIFBBU08gNDogSWRlbnRpZmljYXIgZWwgZWxlbWVudG8gZGVsIG1lZGlvIHVzYW5kbyBjcml0ZXJpb3MgbcOhcyBwcmVjaXNvc1xuICAgICAgICAgICAgY29uc3QgbWlkZGxlRWxlbWVudHMgPSBlbGVtZW50c0FmdGVyU2Vjb25kQ3V0LmZpbHRlcihlbGVtID0+XG4gICAgICAgICAgICAgIE1hdGguYWJzKGVsZW0uZnJvbSAtIHN0YXJ0TXMpIDwgNTAgJiYgTWF0aC5hYnMoZWxlbS50byAtIGVuZE1zKSA8IDUwXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVsZW1lbnRvcyBxdWUgY29pbmNpZGVuIGNvbiBsb3MgY3JpdGVyaW9zIGRlbCBtZWRpbzpcIiwgbWlkZGxlRWxlbWVudHMpO1xuXG4gICAgICAgICAgICBpZiAobWlkZGxlRWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYE5vIHNlIHB1ZG8gaWRlbnRpZmljYXIgZWwgZWxlbWVudG8gZGVsIG1lZGlvIHBhcmEgZWwgc2VnbWVudG8gJHtpKzF9YCk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTaSBoYXkgbcOhcyBkZSB1biBlbGVtZW50byBxdWUgY29pbmNpZGUsIHRvbWFtb3MgZWwgcHJpbWVyb1xuICAgICAgICAgICAgY29uc3QgbWlkZGxlRWxlbWVudCA9IG1pZGRsZUVsZW1lbnRzWzBdO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFBhc28gNDogRWxlbWVudG8gZGVsIG1lZGlvIGlkZW50aWZpY2FkbyAoSUQ6ICR7bWlkZGxlRWxlbWVudC5pZH0pYCk7XG5cbiAgICAgICAgICAgIC8vIFBBU08gNTogU2VsZWNjaW9uYXIgeSBlbGltaW5hciBlbCBlbGVtZW50byBkZWwgbWVkaW9cbiAgICAgICAgICAgIGRpc3BhdGNoKExBWUVSX1NFTEVDVCwge1xuICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgaWRzOiBbbWlkZGxlRWxlbWVudC5pZF1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIEVzcGVyYXIgYSBxdWUgc2UgYXBsaXF1ZSBsYSBzZWxlY2Npw7NuXG4gICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMzAwKSk7XG5cbiAgICAgICAgICAgIC8vIFZlcmlmaWNhciBxdWUgZWwgZWxlbWVudG8gZXN0w6Egc2VsZWNjaW9uYWRvIGFudGVzIGRlIGVsaW1pbmFybG9cbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHN0YXRlTWFuYWdlci5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZS5hY3RpdmVJZHMgJiYgY3VycmVudFN0YXRlLmFjdGl2ZUlkcy5pbmNsdWRlcyhtaWRkbGVFbGVtZW50LmlkKSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgRWxlbWVudG8gZGVsIG1lZGlvIGNvcnJlY3RhbWVudGUgc2VsZWNjaW9uYWRvLCBwcm9jZWRpZW5kbyBjb24gZWxpbWluYWNpw7NuYCk7XG4gICAgICAgICAgICAgIGRpc3BhdGNoKExBWUVSX0RFTEVURSk7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBFbGVtZW50byBlbGltaW5hZG8gY29ycmVjdGFtZW50ZTogJHttaWRkbGVFbGVtZW50LmlkfWApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYE5vIHNlIHB1ZG8gc2VsZWNjaW9uYXIgbm9ybWFsbWVudGUsIGludGVudGFuZG8gbcOpdG9kbyBhbHRlcm5hdGl2b2ApO1xuXG4gICAgICAgICAgICAgIC8vIEVuZm9xdWUgYWx0ZXJuYXRpdm86IFVzYXIgZWwgRURJVF9PQkpFQ1QgcGFyYSBcIm9jdWx0YXJcIiBlbCBzZWdtZW50b1xuICAgICAgICAgICAgICBkaXNwYXRjaChFRElUX09CSkVDVCwge1xuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgIFttaWRkbGVFbGVtZW50LmlkXToge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgZnJvbTogLTk5OTk5LCAvLyBVbiB2YWxvciBmdWVyYSBkZWwgcmFuZ28gdmlzaWJsZVxuICAgICAgICAgICAgICAgICAgICAgIHRvOiAtOTk5OTBcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2UgLy8gQWRpY2lvbmFsbWVudGUgbWFyY2FybG8gY29tbyBubyB2aXNpYmxlXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYEFwbGljYWRvIG3DqXRvZG8gYWx0ZXJuYXRpdm8gcGFyYSBvY3VsdGFyIGVsIHNlZ21lbnRvYCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEVzcGVyYXIgYSBxdWUgc2UgcHJvY2VzZSBsYSBlbGltaW5hY2nDs25cbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDApKTtcblxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBhbCBwcm9jZXNhciBlbCBzZWdtZW50byAke2krMX06YCwgZXJyb3IpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFBhdXNhIGVudHJlIHNlZ21lbnRvc1xuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFjdHVhbGl6YXIgbGEgZXNjYWxhIHBhcmEgcmVmcmVzY2FyIGxhIHZpc3RhXG4gICAgICAgIGNvbnN0IHsgc2NhbGUgfSA9IHN0YXRlTWFuYWdlci5nZXRTdGF0ZSgpO1xuICAgICAgICBpZiAoc2NhbGUpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkFjdHVhbGl6YW5kbyBlc2NhbGEgcGFyYSByZWZyZXNjYXIgbGEgdmlzdGFcIik7XG5cbiAgICAgICAgICAvLyBHdWFyZGFyIGVsIHZhbG9yIGFjdHVhbCBkZSBzY2FsZS51bml0XG4gICAgICAgICAgY29uc3Qgb3JpZ2luYWxVbml0ID0gc2NhbGUudW5pdDtcblxuICAgICAgICAgIC8vIEluY3JlbWVudGFyIGVsIHZhbG9yXG4gICAgICAgICAgc2NhbGUudW5pdCArPSAxO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBTY2FsZSBjYW1iaWFkYTogJHtvcmlnaW5hbFVuaXR9IC0+ICR7c2NhbGUudW5pdH1gKTtcblxuICAgICAgICAgIC8vIEFzZWd1cmFyIHF1ZSBlbCBjYW1iaW8gc2VhIG5vdGFkbyBwb3IgZWwgc2lzdGVtYVxuICAgICAgICAgIGRpc3BhdGNoKFRJTUVMSU5FX1NDQUxFX0NIQU5HRUQsIHtcbiAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgc2NhbGU6IHtcbiAgICAgICAgICAgICAgICAuLi5zY2FsZSwgIC8vIEluY2x1aXIgdG9kYXMgbGFzIHByb3BpZWRhZGVzIGRlIHNjYWxlXG4gICAgICAgICAgICAgICAgdW5pdDogc2NhbGUudW5pdCAgLy8gRXhwbMOtY2l0YW1lbnRlIGVzdGFibGVjZXIgZWwgbnVldm8gdmFsb3JcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBGb3J6YXIgdW5hIGFjdHVhbGl6YWNpw7NuIGFkaWNpb25hbCB2b2x2aWVuZG8gYWwgdmFsb3Igb3JpZ2luYWwgZGVzcHXDqXMgZGUgdW4gbW9tZW50b1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFN0YXRlID0gc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCk7XG4gICAgICAgICAgICBpZiAoY3VycmVudFN0YXRlLnNjYWxlKSB7XG4gICAgICAgICAgICAgIGRpc3BhdGNoKFRJTUVMSU5FX1NDQUxFX0NIQU5HRUQsIHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICBzY2FsZToge1xuICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50U3RhdGUuc2NhbGUsXG4gICAgICAgICAgICAgICAgICAgIHVuaXQ6IG9yaWdpbmFsVW5pdCAgLy8gVm9sdmVyIGFsIHZhbG9yIG9yaWdpbmFsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBSZXN0YXVyYWRvIHNjYWxlIGEgdmFsb3Igb3JpZ2luYWw6ICR7b3JpZ2luYWxVbml0fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhcIkVsaW1pbmFjacOzbiBkZSBzZWdtZW50b3MgY29tcGxldGFkYVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWwgZWxpbWluYXIgc2VnbWVudG9zOlwiLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgY29tcGFjdFRpbWVsaW5lOiBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIj09PSBJTklDSUFORE8gQ09NUEFDVEFDScOTTiBERSBMw41ORUEgREUgVElFTVBPIERFU0RFIElBID09PVwiKTtcblxuICAgICAgICAvLyBPYnRlbmVyIGVsIGVzdGFkbyBhY3R1YWxcbiAgICAgICAgY29uc3QgZXN0YWRvID0gc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXN0YWRvIHBhcmEgY29tcGFjdGFjacOzbjpcIiwgT2JqZWN0LmtleXMoZXN0YWRvKSk7XG5cbiAgICAgICAgLy8gQcOxYWRpciB1biB0aWVtcG8gZGUgZXNwZXJhIGluaWNpYWwgcGFyYSBhc2VndXJhciBxdWUgZWwgZXN0YWRvIGVzdMOhIGFjdHVhbGl6YWRvXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXNwZXJhbmRvIDEgc2VndW5kbyBwYXJhIGFzZWd1cmFyIGNvbnNpc3RlbmNpYSBkZWwgZXN0YWRvLi4uXCIpO1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCkpO1xuXG4gICAgICAgIC8vIFZlcmlmaWNhY2nDs24gYWRpY2lvbmFsIHBhcmEgYXNlZ3VyYXJub3MgcXVlIGxvcyBjYW1iaW9zIGVuIGxhIHRpbWVsaW5lIHlhIHNlIGFwbGljYXJvblxuICAgICAgICBjb25zb2xlLmxvZyhcIlZlcmlmaWNhbmRvIHF1ZSBsb3MgZWxlbWVudG9zIGVuIGxhIHRpbWVsaW5lIHJlZmxlamVuIGxvcyBjYW1iaW9zIG3DoXMgcmVjaWVudGVzLi4uXCIpO1xuXG4gICAgICAgIC8vIFBlcXVlw7FhIHBhdXNhIGFkaWNpb25hbCBwYXJhIGFzZWd1cmFyIGNvbnNpc3RlbmNpYSBkZWwgZXN0YWRvXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDApKTtcblxuICAgICAgICAvLyBCdXNjYXIgbG9zIGVsZW1lbnRvcyBkZWwgdGltZWxpbmUgLSB1c2FuZG8gbGEgcmVmZXJlbmNpYSBhbCBtw6l0b2RvIGRlbnRybyBkZWwgbWlzbW8gb2JqZXRvXG4gICAgICAgIGNvbnN0IHRvZG9zRWxlbWVudG9zID0gYXdhaXQgZXhlY3V0b3IuZ2V0QWxsVGltZWxpbmVFbGVtZW50cygpO1xuICAgICAgICBjb25zb2xlLmxvZyhgRW5jb250cmFkb3MgJHt0b2Rvc0VsZW1lbnRvcy5sZW5ndGh9IGVsZW1lbnRvcyBlbiBsYSB0aW1lbGluZWApO1xuXG4gICAgICAgIC8vIExvZ2dpbmcgZGUgZWxlbWVudG9zIHBhcmEgZGlhZ27Ds3N0aWNvXG4gICAgICAgIHRvZG9zRWxlbWVudG9zLmZvckVhY2goKGVsZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coYEVsZW1lbnRvICR7aW5kZXggKyAxfTogSUQ9JHtlbGVtLmlkfSwgVGlwbz0ke2VsZW0udHlwZX0sIFRyYWNrPSR7ZWxlbS50cmFja0lkfSwgVGllbXBvPSR7ZWxlbS5mcm9tfW1zLSR7ZWxlbS50b31tcyAoZHVyYWNpw7NuPSR7ZWxlbS50by1lbGVtLmZyb219bXMpYCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNpIG5vIGhheSBlbGVtZW50b3MsIG5vIHBvZGVtb3MgY29tcGFjdGFyXG4gICAgICAgIGlmICh0b2Rvc0VsZW1lbnRvcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIGhheSBlbGVtZW50b3MgZW4gZWwgdGltZWxpbmUgcGFyYSBjb21wYWN0YXJcIik7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWdydXBhciBlbGVtZW50b3MgcG9yIHRyYWNrIHBhcmEgYW7DoWxpc2lzXG4gICAgICAgIGNvbnN0IGVsZW1lbnRvc1BvclRyYWNrID0ge307XG4gICAgICAgIHRvZG9zRWxlbWVudG9zLmZvckVhY2goZWxlbSA9PiB7XG4gICAgICAgICAgaWYgKGVsZW0udHJhY2tJZCkge1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50b3NQb3JUcmFja1tlbGVtLnRyYWNrSWRdKSB7XG4gICAgICAgICAgICAgIGVsZW1lbnRvc1BvclRyYWNrW2VsZW0udHJhY2tJZF0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsZW1lbnRvc1BvclRyYWNrW2VsZW0udHJhY2tJZF0ucHVzaChlbGVtKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIE9yZGVuYXIgZWxlbWVudG9zIGVuIGNhZGEgdHJhY2sgcG9yIHRpZW1wb1xuICAgICAgICBPYmplY3Qua2V5cyhlbGVtZW50b3NQb3JUcmFjaykuZm9yRWFjaCh0cmFja0lkID0+IHtcbiAgICAgICAgICBlbGVtZW50b3NQb3JUcmFja1t0cmFja0lkXS5zb3J0KChhLCBiKSA9PiBhLmZyb20gLSBiLmZyb20pO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIkVsZW1lbnRvcyBhZ3J1cGFkb3MgcG9yIHRyYWNrOlwiLCBPYmplY3Qua2V5cyhlbGVtZW50b3NQb3JUcmFjaykubGVuZ3RoKTtcblxuICAgICAgICAvLyBMb2dnaW5nIGRlIHRyYWNrcyBwYXJhIGRpYWduw7NzdGljb1xuICAgICAgICBPYmplY3Qua2V5cyhlbGVtZW50b3NQb3JUcmFjaykuZm9yRWFjaCh0cmFja0lkID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgVHJhY2sgJHt0cmFja0lkfTogJHtlbGVtZW50b3NQb3JUcmFja1t0cmFja0lkXS5sZW5ndGh9IGVsZW1lbnRvc2ApO1xuICAgICAgICAgIC8vIE1vc3RyYXIgbG9zIGVsZW1lbnRvcyBlbiBlc3RlIHRyYWNrIG9yZGVuYWRvc1xuICAgICAgICAgIGVsZW1lbnRvc1BvclRyYWNrW3RyYWNrSWRdLmZvckVhY2goKGVsZW0sIGlkeCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYCAgJHtpZHgrMX0uIElEPSR7ZWxlbS5pZC5zdWJzdHJpbmcoMCw4KX0uLi4gVGllbXBvPSR7ZWxlbS5mcm9tfW1zLSR7ZWxlbS50b31tcyAoZHVyYWNpw7NuOiAke2VsZW0udG8tZWxlbS5mcm9tfW1zKWApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBCdXNjYXIgZXNwYWNpb3MgdmFjw61vcyBlbiBjYWRhIHRyYWNrXG4gICAgICAgIGNvbnN0IGVzcGFjaW9zVmFjaW9zID0gW107XG5cbiAgICAgICAgT2JqZWN0LmtleXMoZWxlbWVudG9zUG9yVHJhY2spLmZvckVhY2godHJhY2tJZCA9PiB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudG9zID0gZWxlbWVudG9zUG9yVHJhY2tbdHJhY2tJZF07XG5cbiAgICAgICAgICAvLyBTaSBoYXkgYWwgbWVub3MgMiBlbGVtZW50b3MsIHBvZGVtb3MgYnVzY2FyIGVzcGFjaW9zXG4gICAgICAgICAgaWYgKGVsZW1lbnRvcy5sZW5ndGggPj0gMikge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50b3MubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRvQWN0dWFsID0gZWxlbWVudG9zW2ldO1xuICAgICAgICAgICAgICBjb25zdCBlbGVtZW50b1NpZ3VpZW50ZSA9IGVsZW1lbnRvc1tpICsgMV07XG5cbiAgICAgICAgICAgICAgLy8gVmVyaWZpY2FyIHNpIGhheSB1biBlc3BhY2lvIGVudHJlIGVsIGZpbiBkZWwgZWxlbWVudG8gYWN0dWFsIHkgZWwgaW5pY2lvIGRlbCBzaWd1aWVudGVcbiAgICAgICAgICAgICAgY29uc3QgZXNwYWNpbyA9IGVsZW1lbnRvU2lndWllbnRlLmZyb20gLSBlbGVtZW50b0FjdHVhbC50bztcblxuICAgICAgICAgICAgICAvLyBTaSBlbCBlc3BhY2lvIGVzIHNpZ25pZmljYXRpdm8gKG3DoXMgZGUgMTAwbXMpXG4gICAgICAgICAgICAgIGlmIChlc3BhY2lvID4gMTAwKSB7XG4gICAgICAgICAgICAgICAgZXNwYWNpb3NWYWNpb3MucHVzaCh7XG4gICAgICAgICAgICAgICAgICB0cmFja0lkLFxuICAgICAgICAgICAgICAgICAgc3RhcnQ6IGVsZW1lbnRvQWN0dWFsLnRvLFxuICAgICAgICAgICAgICAgICAgZW5kOiBlbGVtZW50b1NpZ3VpZW50ZS5mcm9tLFxuICAgICAgICAgICAgICAgICAgc2l6ZTogZXNwYWNpbyxcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnRvQW50ZXM6IGVsZW1lbnRvQWN0dWFsLmlkLFxuICAgICAgICAgICAgICAgICAgZWxlbWVudG9EZXNwdWVzOiBlbGVtZW50b1NpZ3VpZW50ZS5pZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBFbmNvbnRyYWRvIGVzcGFjaW8gZGUgJHtlc3BhY2lvfW1zICgke2VzcGFjaW8vMTAwMH1zKSBlbiB0cmFjayAke3RyYWNrSWR9IGVudHJlIGVsZW1lbnRvcyAke2VsZW1lbnRvQWN0dWFsLmlkLnN1YnN0cmluZygwLDgpfS4uLiB5ICR7ZWxlbWVudG9TaWd1aWVudGUuaWQuc3Vic3RyaW5nKDAsOCl9Li4uYCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGBTZSBlbmNvbnRyYXJvbiAke2VzcGFjaW9zVmFjaW9zLmxlbmd0aH0gZXNwYWNpb3MgdmFjw61vc2ApO1xuXG4gICAgICAgIC8vIFNpIG5vIGhheSBlc3BhY2lvcywgbm8gbmVjZXNpdGFtb3MgY29tcGFjdGFyXG4gICAgICAgIGlmIChlc3BhY2lvc1ZhY2lvcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIGhheSBlc3BhY2lvcyBzaWduaWZpY2F0aXZvcyBwYXJhIGNvbXBhY3RhclwiKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gRGV2b2x2ZW1vcyB0cnVlIHBvcnF1ZSB0w6ljbmljYW1lbnRlIGVzdMOhIGNvbXBhY3RhZG9cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9yZGVuYXIgZXNwYWNpb3MgcG9yIHBvc2ljacOzbiAoZGUgaXpxdWllcmRhIGEgZGVyZWNoYSlcbiAgICAgICAgZXNwYWNpb3NWYWNpb3Muc29ydCgoYSwgYikgPT4gYS5zdGFydCAtIGIuc3RhcnQpO1xuXG4gICAgICAgIC8vIENhbGN1bGFyIGVsIGVzcGFjaW8gdG90YWwgYSBjb21wYWN0YXJcbiAgICAgICAgbGV0IGVzcGFjaW9Ub3RhbCA9IDA7XG4gICAgICAgIGVzcGFjaW9zVmFjaW9zLmZvckVhY2goZXNwYWNpbyA9PiB7XG4gICAgICAgICAgZXNwYWNpb1RvdGFsICs9IGVzcGFjaW8uc2l6ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coYEVzcGFjaW8gdG90YWwgYSBjb21wYWN0YXI6ICR7ZXNwYWNpb1RvdGFsfW1zICgke2VzcGFjaW9Ub3RhbC8xMDAwfXMpYCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBQcmVwYXJhbmRvIGFjdHVhbGl6YWNpb25lcyBwYXJhICR7dG9kb3NFbGVtZW50b3MubGVuZ3RofSBlbGVtZW50b3MuLi5gKTtcblxuICAgICAgICAvLyBQcmVwYXJhciBhY3R1YWxpemFjaW9uZXMgcGFyYSBjYWRhIGVsZW1lbnRvXG4gICAgICAgIGNvbnN0IGFjdHVhbGl6YWNpb25lcyA9IHt9O1xuICAgICAgICBsZXQgZWxlbWVudG9zQU1vdmVyID0gMDtcblxuICAgICAgICAvLyBQYXJhIGNhZGEgZWxlbWVudG8sIGNhbGN1bGFtb3MgZWwgZGVzcGxhemFtaWVudG8gYmFzYWRvIGVuIGxvcyBlc3BhY2lvcyBhbnRlcmlvcmVzXG4gICAgICAgIHRvZG9zRWxlbWVudG9zLmZvckVhY2goZWxlbWVudG8gPT4ge1xuICAgICAgICAgIGxldCBkZXNwbGF6YW1pZW50byA9IDA7XG5cbiAgICAgICAgICAvLyBDYWxjdWxhciBjdcOhbnRvIGRlYmUgbW92ZXJzZSBiYXNhZG8gZW4gbG9zIGVzcGFjaW9zIHZhY8Otb3MgYW50ZXJpb3Jlc1xuICAgICAgICAgIGZvciAoY29uc3QgZXNwYWNpbyBvZiBlc3BhY2lvc1ZhY2lvcykge1xuICAgICAgICAgICAgLy8gU2kgZWwgZWxlbWVudG8gZXN0w6EgZGVzcHXDqXMgZGVsIGVzcGFjaW8gdmFjw61vLCBkZWJlIG1vdmVyc2VcbiAgICAgICAgICAgIGlmIChlbGVtZW50by5mcm9tID4gZXNwYWNpby5lbmQpIHtcbiAgICAgICAgICAgICAgZGVzcGxhemFtaWVudG8gKz0gZXNwYWNpby5zaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFNpIGhheSBkZXNwbGF6YW1pZW50bywgYcOxYWRpciBhIGxhcyBhY3R1YWxpemFjaW9uZXNcbiAgICAgICAgICBpZiAoZGVzcGxhemFtaWVudG8gPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBudWV2b0Zyb20gPSBlbGVtZW50by5mcm9tIC0gZGVzcGxhemFtaWVudG87XG4gICAgICAgICAgICBjb25zdCBudWV2b1RvID0gZWxlbWVudG8udG8gLSBkZXNwbGF6YW1pZW50bztcblxuICAgICAgICAgICAgY29uc29sZS5sb2coYEVsZW1lbnRvICR7ZWxlbWVudG8uaWQuc3Vic3RyaW5nKDAsOCl9Li4uIHNlIG1vdmVyw6E6ICR7ZWxlbWVudG8uZnJvbX1tcyAtPiAke251ZXZvRnJvbX1tcyAoZGVzcGxhemFtaWVudG86ICR7ZGVzcGxhemFtaWVudG99bXMpYCk7XG5cbiAgICAgICAgICAgIGFjdHVhbGl6YWNpb25lc1tlbGVtZW50by5pZF0gPSB7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgICAgICAgICBmcm9tOiBudWV2b0Zyb20sXG4gICAgICAgICAgICAgICAgdG86IG51ZXZvVG9cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGVsZW1lbnRvc0FNb3ZlcisrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coYEVsZW1lbnRvcyBhIG1vdmVyOiAke2VsZW1lbnRvc0FNb3Zlcn0gZGUgJHt0b2Rvc0VsZW1lbnRvcy5sZW5ndGh9IHRvdGFsYCk7XG5cbiAgICAgICAgLy8gQXBsaWNhciBsYXMgYWN0dWFsaXphY2lvbmVzXG4gICAgICAgIGlmIChlbGVtZW50b3NBTW92ZXIgPiAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJBcGxpY2FuZG8gYWN0dWFsaXphY2lvbmVzIHBhcmEgY29tcGFjdGFyIHRpbWVsaW5lLi4uXCIpO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKEVESVRfT0JKRUNULCB7XG4gICAgICAgICAgICAgIHBheWxvYWQ6IGFjdHVhbGl6YWNpb25lc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFjdHVhbGl6YWNpb25lcyBhcGxpY2FkYXMgY29uIMOpeGl0b1wiKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIGFwbGljYXIgYWN0dWFsaXphY2lvbmVzOlwiLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gUmVmcmVzY2FyIGxhIHZpc3RhXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCB7IHNjYWxlIH0gPSBzdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgICAgaWYgKHNjYWxlKSB7XG4gICAgICAgICAgICAgICAgLy8gSGFjZXIgdW4gcGVxdWXDsW8gY2FtYmlvIGVuIGxhIGVzY2FsYSBwYXJhIGZvcnphciBsYSBhY3R1YWxpemFjacOzblxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRTY2FsZSA9IHsgLi4uc2NhbGUgfTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdXBkYXRlZFNjYWxlLnVuaXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICB1cGRhdGVkU2NhbGUudW5pdCA9ICh1cGRhdGVkU2NhbGUudW5pdCB8fCAwKSArIDE7XG5cbiAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKFRJTUVMSU5FX1NDQUxFX0NIQU5HRUQsIHtcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogeyBzY2FsZTogdXBkYXRlZFNjYWxlIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAvLyBWb2x2ZXIgYSBsYSBlc2NhbGEgb3JpZ2luYWxcbiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U2NhbGUgPSB7IC4uLnN0YXRlTWFuYWdlci5nZXRTdGF0ZSgpLnNjYWxlIH07XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTY2FsZS51bml0ID0gKGN1cnJlbnRTY2FsZS51bml0IHx8IDEpIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goVElNRUxJTkVfU0NBTEVfQ0hBTkdFRCwge1xuICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsgc2NhbGU6IGN1cnJlbnRTY2FsZSB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSwgMzAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhbCByZWZyZXNjYXIgbGEgdmlzdGE6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCA1MDApO1xuXG4gICAgICAgICAgY29uc29sZS5sb2coXCJDb21wYWN0YWNpw7NuIGNvbXBsZXRhZGEgY29uIMOpeGl0b1wiKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIGhheSBlbGVtZW50b3MgcXVlIG5lY2VzaXRlbiBtb3ZlcnNlXCIpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWwgY29tcGFjdGFyIGxhIGzDrW5lYSBkZSB0aWVtcG86XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBzbWFydFRyaW06IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiPT09IElOSUNJQU5ETyBQUk9DRVNPIERFIFJFQ09SVEUgSU5URUxJR0VOVEUgREVTREUgSUEgPT09XCIpO1xuXG4gICAgICAgIC8vIDEuIFJlYWxpemFyIGxhIGxsYW1hZGEgYWwgQVBJIHBhcmEgYW5hbGl6YXIgbGEgdHJhbnNjcmlwY2nDs25cbiAgICAgICAgY29uc29sZS5sb2coXCJTb2xpY2l0YW5kbyBhbsOhbGlzaXMgZGUgdHJhbnNjcmlwY2nDs24uLi5cIik7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc21hcnQtdHJpbScpO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGFsIGFuYWxpemFyIGxhIHRyYW5zY3JpcGNpw7NuOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQW7DoWxpc2lzIGRlIHRyYW5zY3JpcGNpw7NuIGNvbXBsZXRhZG86XCIsIGRhdGEpO1xuXG4gICAgICAgIGlmICghZGF0YS5yZW1vdmVTZWdtZW50cyB8fCAhQXJyYXkuaXNBcnJheShkYXRhLnJlbW92ZVNlZ21lbnRzKSB8fCBkYXRhLnJlbW92ZVNlZ21lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm8gc2UgZW5jb250cmFyb24gc2VnbWVudG9zIHBhcmEgZWxpbWluYXJcIik7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gMi4gQ29udmVydGlyIGxvcyBzZWdtZW50b3MgYWwgZm9ybWF0byBxdWUgZXNwZXJhIHJlbW92ZVNlZ21lbnRzXG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gZGF0YS5yZW1vdmVTZWdtZW50cy5tYXAoc2VnbWVudCA9PiAoe1xuICAgICAgICAgIHN0YXJ0VGltZTogc2VnbWVudC5zdGFydFRpbWUsIC8vIFlhIGVzdMOhIGVuIHNlZ3VuZG9zXG4gICAgICAgICAgZW5kVGltZTogc2VnbWVudC5lbmRUaW1lICAgICAgLy8gWWEgZXN0w6EgZW4gc2VndW5kb3NcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGBTZSBlbGltaW5hcsOhbiAke3NlZ21lbnRzLmxlbmd0aH0gc2VnbWVudG9zOmAsXG4gICAgICAgICAgc2VnbWVudHMubWFwKHMgPT4gYCR7cy5zdGFydFRpbWV9cy0ke3MuZW5kVGltZX1zYCkuam9pbignLCAnKSk7XG5cbiAgICAgICAgLy8gQWxtYWNlbmFyIGluZm9ybWFjacOzbiBkZWwgZXN0YWRvIHByZXZpbyBwYXJhIGlkZW50aWZpY2FyIHRyYWNrcyB5IGVsZW1lbnRvc1xuICAgICAgICBjb25zb2xlLmxvZyhcIk9idGVuaWVuZG8gaW5mb3JtYWNpw7NuIGRlbCBlc3RhZG8gYW50ZXMgZGUgZWxpbWluYXIgc2VnbWVudG9zLi4uXCIpO1xuICAgICAgICBjb25zdCBlc3RhZG9QcmV2aW8gPSBzdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgZWxlbWVudG9zUHJldmlvcyA9IGF3YWl0IGV4ZWN1dG9yLmdldEFsbFRpbWVsaW5lRWxlbWVudHMoKTtcblxuICAgICAgICAvLyBEZXRlcm1pbmFyIGVsIHRyYWNrSWQgcHJpbmNpcGFsIGJhc2FkbyBlbiBsb3MgZWxlbWVudG9zXG4gICAgICAgIGNvbnN0IGNvbnRhZG9yVHJhY2tzID0ge307XG4gICAgICAgIGVsZW1lbnRvc1ByZXZpb3MuZm9yRWFjaChlbGVtID0+IHtcbiAgICAgICAgICBpZiAoZWxlbS50cmFja0lkKSB7XG4gICAgICAgICAgICBjb250YWRvclRyYWNrc1tlbGVtLnRyYWNrSWRdID0gKGNvbnRhZG9yVHJhY2tzW2VsZW0udHJhY2tJZF0gfHwgMCkgKyAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRW5jb250cmFyIGVsIHRyYWNrIGNvbiBtw6FzIGVsZW1lbnRvc1xuICAgICAgICBsZXQgdHJhY2tJZFByaW5jaXBhbCA9IFwiXCI7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhjb250YWRvclRyYWNrcykubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IHRyYWNrc1BvclVzbyA9IE9iamVjdC5lbnRyaWVzKGNvbnRhZG9yVHJhY2tzKVxuICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGJbMV0gLSBhWzFdKTtcblxuICAgICAgICAgIGlmICh0cmFja3NQb3JVc28ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdHJhY2tJZFByaW5jaXBhbCA9IHRyYWNrc1BvclVzb1swXVswXTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBVc2FuZG8gdHJhY2tJZCBwcmluY2lwYWw6ICR7dHJhY2tJZFByaW5jaXBhbH1gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyAzLiBFbGltaW5hciBsb3Mgc2VnbWVudG9zXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRWplY3V0YW5kbyBlbGltaW5hY2nDs24gZGUgc2VnbWVudG9zLi4uXCIpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBleGVjdXRvci5yZW1vdmVTZWdtZW50cyhzZWdtZW50cyk7XG5cbiAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yIGFsIGVsaW1pbmFyIGxvcyBzZWdtZW50b3NcIik7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJTZWdtZW50b3MgZWxpbWluYWRvcyBjb3JyZWN0YW1lbnRlXCIpO1xuXG4gICAgICAgIC8vIDQuIENyZWFyIHJlZ2lzdHJvIGRlIGxvcyBzZWdtZW50b3MgZWxpbWluYWRvcyBwYXJhIGNvbXBhY3RhY2nDs25cbiAgICAgICAgY29uc3Qgc2VnbWVudG9zRWxpbWluYWRvcyA9IHNlZ21lbnRzLm1hcChzZWdtZW50ID0+ICh7XG4gICAgICAgICAgc3RhcnQ6IHNlZ21lbnQuc3RhcnRUaW1lICogMTAwMCwgIC8vIENvbnZlcnRpciBhIG1zXG4gICAgICAgICAgZW5kOiBzZWdtZW50LmVuZFRpbWUgKiAxMDAwLCAgICAgIC8vIENvbnZlcnRpciBhIG1zXG4gICAgICAgICAgdHJhY2tJZDogdHJhY2tJZFByaW5jaXBhbCxcbiAgICAgICAgICBzaXplOiAoc2VnbWVudC5lbmRUaW1lIC0gc2VnbWVudC5zdGFydFRpbWUpICogMTAwMFxuICAgICAgICB9KSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJTZWdtZW50b3MgcmVnaXN0cmFkb3MgcGFyYSBjb21wYWN0YWNpw7NuOlwiLCBzZWdtZW50b3NFbGltaW5hZG9zKTtcblxuICAgICAgICAvLyA1LiBFc3BlcmFyIHVuIG1vbWVudG8gcGFyYSBxdWUgc2UgY29tcGxldGVuIGxhcyBhY3R1YWxpemFjaW9uZXMgZGVsIERPTSB5IGVsIGVzdGFkb1xuICAgICAgICBjb25zb2xlLmxvZyhcIkVzcGVyYW5kbyA1IHNlZ3VuZG9zIHBhcmEgYXNlZ3VyYXIgcXVlIGxvcyBjYW1iaW9zIGVuIGxhIHRpbWVsaW5lIGVzdMOpbiBjb21wbGV0b3MgYW50ZXMgZGUgY29tcGFjdGFyLi4uXCIpO1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwMCkpO1xuXG4gICAgICAgIC8vIDYuIENvbXBhY3RhciBlbCB0aW1lbGluZSB1c2FuZG8gZWwgZW5mb3F1ZSBkZSBzZWdtZW50b3MgcmVnaXN0cmFkb3NcbiAgICAgICAgY29uc29sZS5sb2coXCJDb21wYWN0YW5kbyB0aW1lbGluZSBiYXNhZG8gZW4gc2VnbWVudG9zIGVsaW1pbmFkb3MuLi5cIik7XG5cbiAgICAgICAgLy8gT2J0ZW5lciBlbGVtZW50b3MgYWN0dWFsZXMgZGVzcHXDqXMgZGUgbGEgZWxpbWluYWNpw7NuXG4gICAgICAgIGNvbnN0IGVsZW1lbnRvc0FjdHVhbGVzID0gYXdhaXQgZXhlY3V0b3IuZ2V0QWxsVGltZWxpbmVFbGVtZW50cygpO1xuICAgICAgICBjb25zb2xlLmxvZyhgU2UgZW5jb250cmFyb24gJHtlbGVtZW50b3NBY3R1YWxlcy5sZW5ndGh9IGVsZW1lbnRvcyBlbiBsYSB0aW1lbGluZSBkZXNwdcOpcyBkZSBlbGltaW5hciBzZWdtZW50b3NgKTtcblxuICAgICAgICAvLyBDYWxjdWxhciBlbCBlc3BhY2lvIHRvdGFsIGEgY29tcGFjdGFyXG4gICAgICAgIGxldCBlc3BhY2lvVG90YWwgPSAwO1xuICAgICAgICBzZWdtZW50b3NFbGltaW5hZG9zLmZvckVhY2goc2VnbWVudG8gPT4ge1xuICAgICAgICAgIGVzcGFjaW9Ub3RhbCArPSBzZWdtZW50by5zaXplO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zb2xlLmxvZyhgRXNwYWNpbyB0b3RhbCBhIGNvbXBhY3RhcjogJHtlc3BhY2lvVG90YWx9bXMgKCR7ZXNwYWNpb1RvdGFsLzEwMDB9cylgKTtcblxuICAgICAgICAvLyBQcmVwYXJhciBhY3R1YWxpemFjaW9uZXMgcGFyYSBjYWRhIGVsZW1lbnRvXG4gICAgICAgIGNvbnN0IGFjdHVhbGl6YWNpb25lcyA9IHt9O1xuICAgICAgICBsZXQgZWxlbWVudG9zQU1vdmVyID0gMDtcblxuICAgICAgICAvLyBPcmRlbmFyIHNlZ21lbnRvcyBwb3IgcG9zaWNpw7NuIGRlIGluaWNpb1xuICAgICAgICBjb25zdCBzZWdtZW50b3NPcmRlbmFkb3MgPSBbLi4uc2VnbWVudG9zRWxpbWluYWRvc10uc29ydCgoYSwgYikgPT4gYS5zdGFydCAtIGIuc3RhcnQpO1xuXG4gICAgICAgIC8vIFBhcmEgY2FkYSBlbGVtZW50bywgY2FsY3VsYXIgZWwgZGVzcGxhemFtaWVudG8gYmFzYWRvIGVuIGxvcyBzZWdtZW50b3MgZWxpbWluYWRvc1xuICAgICAgICBlbGVtZW50b3NBY3R1YWxlcy5mb3JFYWNoKGVsZW1lbnRvID0+IHtcbiAgICAgICAgICBsZXQgZGVzcGxhemFtaWVudG8gPSAwO1xuXG4gICAgICAgICAgLy8gQ2FsY3VsYXIgY3XDoW50byBkZWJlIG1vdmVyc2UgYmFzYWRvIGVuIGxvcyBzZWdtZW50b3MgZWxpbWluYWRvcyBhbnRlcmlvcmVzXG4gICAgICAgICAgZm9yIChjb25zdCBzZWdtZW50byBvZiBzZWdtZW50b3NPcmRlbmFkb3MpIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50by5mcm9tID4gc2VnbWVudG8uc3RhcnQpIHtcbiAgICAgICAgICAgICAgZGVzcGxhemFtaWVudG8gKz0gc2VnbWVudG8uc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTaSBoYXkgZGVzcGxhemFtaWVudG8sIGHDsWFkaXIgYSBsYXMgYWN0dWFsaXphY2lvbmVzXG4gICAgICAgICAgaWYgKGRlc3BsYXphbWllbnRvID4gMCkge1xuICAgICAgICAgICAgY29uc3QgbnVldm9Gcm9tID0gZWxlbWVudG8uZnJvbSAtIGRlc3BsYXphbWllbnRvO1xuICAgICAgICAgICAgY29uc3QgbnVldm9UbyA9IGVsZW1lbnRvLnRvIC0gZGVzcGxhemFtaWVudG87XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBFbGVtZW50byAke2VsZW1lbnRvLmlkLnN1YnN0cmluZygwLDgpfS4uLiBzZSBtb3ZlcsOhOiAke2VsZW1lbnRvLmZyb219bXMgLT4gJHtudWV2b0Zyb219bXMgKGRlc3BsYXphbWllbnRvOiAke2Rlc3BsYXphbWllbnRvfW1zKWApO1xuXG4gICAgICAgICAgICBhY3R1YWxpemFjaW9uZXNbZWxlbWVudG8uaWRdID0ge1xuICAgICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgZnJvbTogbnVldm9Gcm9tLFxuICAgICAgICAgICAgICAgIHRvOiBudWV2b1RvXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBlbGVtZW50b3NBTW92ZXIrKztcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGBFbGVtZW50b3MgYSBtb3ZlcjogJHtlbGVtZW50b3NBTW92ZXJ9IGRlICR7ZWxlbWVudG9zQWN0dWFsZXMubGVuZ3RofSB0b3RhbGApO1xuXG4gICAgICAgIC8vIEFwbGljYXIgbGFzIGFjdHVhbGl6YWNpb25lc1xuICAgICAgICBpZiAoZWxlbWVudG9zQU1vdmVyID4gMCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXBsaWNhbmRvIGFjdHVhbGl6YWNpb25lcyBwYXJhIGNvbXBhY3RhciB0aW1lbGluZS4uLlwiKTtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkaXNwYXRjaChFRElUX09CSkVDVCwge1xuICAgICAgICAgICAgICBwYXlsb2FkOiBhY3R1YWxpemFjaW9uZXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJBY3R1YWxpemFjaW9uZXMgYXBsaWNhZGFzIGNvbiDDqXhpdG9cIik7XG5cbiAgICAgICAgICAgIC8vIFJlZnJlc2NhciBsYSB2aXN0YVxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzY2FsZSB9ID0gc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHNjYWxlKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkU2NhbGUgPSB7IC4uLnNjYWxlIH07XG4gICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHVwZGF0ZWRTY2FsZS51bml0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2NhbGUudW5pdCA9ICh1cGRhdGVkU2NhbGUudW5pdCB8fCAwKSArIDE7XG5cbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goVElNRUxJTkVfU0NBTEVfQ0hBTkdFRCwge1xuICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsgc2NhbGU6IHVwZGF0ZWRTY2FsZSB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFZvbHZlciBhIGxhIGVzY2FsYSBvcmlnaW5hbFxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U2NhbGUgPSB7IC4uLnN0YXRlTWFuYWdlci5nZXRTdGF0ZSgpLnNjYWxlIH07XG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNjYWxlLnVuaXQgPSAoY3VycmVudFNjYWxlLnVuaXQgfHwgMSkgLSAxO1xuICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKFRJTUVMSU5FX1NDQUxFX0NIQU5HRUQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsgc2NhbGU6IGN1cnJlbnRTY2FsZSB9XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhbCByZWZyZXNjYXIgbGEgdmlzdGE6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgNTAwKTtcblxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWwgYXBsaWNhciBhY3R1YWxpemFjaW9uZXM6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJObyBzZSBlbmNvbnRyYXJvbiBlbGVtZW50b3MgcXVlIG5lY2VzaXRlbiBtb3ZlcnNlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJUaW1lbGluZSBjb21wYWN0YWRvIGNvcnJlY3RhbWVudGVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIHJlYWxpemFyIGVsIHJlY29ydGUgaW50ZWxpZ2VudGU6XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gZXhlY3V0b3I7XG59XG4iXSwibmFtZXMiOlsiZGlzcGF0Y2giLCJBRERfVEVYVCIsIkFERF9WSURFTyIsIkFERF9JTUFHRSIsIkFDVElWRV9TUExJVCIsIkxBWUVSX1NFTEVDVCIsIkxBWUVSX0RFTEVURSIsIlRJTUVMSU5FX1NDQUxFX0NIQU5HRUQiLCJFRElUX09CSkVDVCIsImdlbmVyYXRlSWQiLCJjcmVhdGVWaWRlb0NvbW1hbmRFeGVjdXRvciIsInN0YXRlTWFuYWdlciIsImV4ZWN1dG9yIiwiYWRkVGV4dCIsInRleHQiLCJvcHRpb25zIiwicG9zaXRpb24iLCJ4IiwieSIsImZvbnRTaXplIiwiZm9udEZhbWlseSIsImNvbG9yIiwic3RhcnRUaW1lIiwiZW5kVGltZSIsInRleHRQYXlsb2FkIiwiaWQiLCJkaXNwbGF5IiwiZnJvbSIsInRvIiwidHlwZSIsImRldGFpbHMiLCJ3aWR0aCIsIndvcmRXcmFwIiwidGV4dEFsaWduIiwiYm9yZGVyV2lkdGgiLCJib3JkZXJDb2xvciIsImJveFNoYWRvdyIsImJsdXIiLCJwYXlsb2FkIiwiY2hhbmdlQ29sb3IiLCJlbGVtZW50SWQiLCJjb25zb2xlIiwibG9nIiwiYWRkSW1hZ2UiLCJ1cmwiLCJlcnJvciIsIkVycm9yIiwiSlNPTiIsInN0cmluZ2lmeSIsImluY2x1ZGVzIiwiaGVpZ2h0IiwidW5kZWZpbmVkIiwiaXNFeHBsaWNpdGx5QW5pbWF0ZWQiLCJpc0FuaW1hdGVkIiwiaXNFeHBsaWNpdGx5U3RhdGljIiwiaXNTdGF0aWMiLCJpc0FQTkciLCJ0b0xvd2VyQ2FzZSIsImVuZHNXaXRoIiwiaXNHSUYiLCJzaG91bGRUcmVhdEFzQW5pbWF0ZWQiLCJsb2dVcmwiLCJzdGFydHNXaXRoIiwic3Vic3RyaW5nIiwic2NhbGVNb2RlIiwidXNlRnVsbFNjcmVlbiIsImNvbW1vblBheWxvYWRQcm9wcyIsImNvbW1vbkRldGFpbHNQcm9wcyIsInNyYyIsIm9wYWNpdHkiLCJsZWZ0IiwidG9wIiwib3JpZ2luWCIsIm9yaWdpblkiLCJpbWFnZUlkIiwiaW1hZ2VQYXlsb2FkIiwibGVuZ3RoIiwiZGlzcGF0Y2hPcHRpb25zIiwibWVzc2FnZSIsInN0YWNrIiwiYWRkVmlkZW8iLCJpc0FWSSIsImlzRXhwbGljaXRBUE5HIiwidHJlYXRBc0FQTkciLCJyZXNwZWN0TmF0aXZlRHVyYXRpb24iLCJmaW5hbEVuZFRpbWUiLCJzeW5jV2l0aFRpbWVsaW5lIiwiYXBuZ1ZpZGVvUGF5bG9hZCIsImFwbmdFcnJvciIsInZpZGVvUGF5bG9hZCIsImF1dG9QbGF5IiwibG9vcCIsInJlc291cmNlSWQiLCJwbGF5YmFja0JlaGF2aW9yIiwiY2hhbmdlRHVyYXRpb24iLCJkdXJhdGlvbiIsImNoYW5nZVRyYW5zaXRpb24iLCJ0cmFuc2l0aW9uIiwiYWRkU3VidGl0bGVzIiwicGFyc2VUaW1lVG9NcyIsInRpbWVTdHJpbmciLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNvbmRzQW5kTXMiLCJzcGxpdCIsInNlY29uZHMiLCJtcyIsInBhcnNlSW50IiwicGFyc2VTUlQiLCJzcnRDb250ZW50Iiwic2VnbWVudHMiLCJibG9ja3MiLCJ0cmltIiwiZm9yRWFjaCIsImJsb2NrIiwibGluZXMiLCJ0aW1lUmFuZ2UiLCJzbGljZSIsImpvaW4iLCJwdXNoIiwic3BsaXRUZXh0SW50b0dyb3VwcyIsIndvcmRzUGVyR3JvdXAiLCJ3b3JkcyIsImdyb3VwcyIsImkiLCJncm91cCIsInByb2Nlc3NTZWdtZW50Iiwic2VnbWVudCIsInRleHRHcm91cHMiLCJ0b3RhbER1cmF0aW9uIiwiZ3JvdXBEdXJhdGlvbiIsIm1hcCIsImdyb3VwVGV4dCIsImluZGV4IiwiY3JlYXRlU3VidGl0bGVQYXlsb2FkIiwidG9VcHBlckNhc2UiLCJmb250VXJsIiwiYmFja2dyb3VuZENvbG9yIiwicGFkZGluZyIsImJvcmRlclJhZGl1cyIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsInN0YXR1cyIsImZsYXRNYXAiLCJvcmlnaW5hbExlbmd0aCIsImZpbHRlciIsInBhc3Nlc1N0YXJ0RmlsdGVyIiwicGFzc2VzRW5kRmlsdGVyIiwic2V0VGltZW91dCIsImdldEFjdGl2ZUVsZW1lbnRzIiwic3RhdGUiLCJnZXRTdGF0ZSIsImFjdGl2ZUlkcyIsInRyYWNrSXRlbXNNYXAiLCJhY3RpdmVFbGVtZW50cyIsIml0ZW0iLCJ0cmFja0lkIiwiZ2V0QWxsVGltZWxpbmVFbGVtZW50cyIsIk9iamVjdCIsImtleXMiLCJrZXkiLCJvYmpWYWx1ZSIsInNhbXBsZSIsImVudHJpZXMiLCJfIiwiYWxsRWxlbWVudHMiLCJzb3J0IiwiYSIsImIiLCJyZW1vdmVTZWdtZW50cyIsInRyYWNrSXRlbXMiLCJmaXJzdEl0ZW1JZCIsImlkcyIsIlByb21pc2UiLCJyZXNvbHZlIiwiY3VycmVudFN0YXRlIiwib3JpZ2luYWxJdGVtSWQiLCJvcmlnaW5hbEl0ZW0iLCJ0cmFja1R5cGUiLCJlbmRNcyIsInRpbWUiLCJzdGF0ZUFmdGVyRmlyc3RDdXQiLCJlbGVtZW50c0FmdGVyRmlyc3RDdXQiLCJpc05hTiIsImR1cmFjacOzbiIsInN0YXJ0TXMiLCJsZWZ0RWxlbWVudCIsImZpbmQiLCJlbGVtIiwic3RhdGVBZnRlclNlY29uZEN1dCIsImVsZW1lbnRzQWZ0ZXJTZWNvbmRDdXQiLCJtaWRkbGVFbGVtZW50cyIsIk1hdGgiLCJhYnMiLCJtaWRkbGVFbGVtZW50IiwidmlzaWJsZSIsInNjYWxlIiwib3JpZ2luYWxVbml0IiwidW5pdCIsImNvbXBhY3RUaW1lbGluZSIsImVzdGFkbyIsInRvZG9zRWxlbWVudG9zIiwiZWxlbWVudG9zUG9yVHJhY2siLCJpZHgiLCJlc3BhY2lvc1ZhY2lvcyIsImVsZW1lbnRvcyIsImVsZW1lbnRvQWN0dWFsIiwiZWxlbWVudG9TaWd1aWVudGUiLCJlc3BhY2lvIiwic3RhcnQiLCJlbmQiLCJzaXplIiwiZWxlbWVudG9BbnRlcyIsImVsZW1lbnRvRGVzcHVlcyIsImVzcGFjaW9Ub3RhbCIsImFjdHVhbGl6YWNpb25lcyIsImVsZW1lbnRvc0FNb3ZlciIsImVsZW1lbnRvIiwiZGVzcGxhemFtaWVudG8iLCJudWV2b0Zyb20iLCJudWV2b1RvIiwidXBkYXRlZFNjYWxlIiwiY3VycmVudFNjYWxlIiwic21hcnRUcmltIiwiZGF0YSIsImpzb24iLCJBcnJheSIsImlzQXJyYXkiLCJzIiwiZXN0YWRvUHJldmlvIiwiZWxlbWVudG9zUHJldmlvcyIsImNvbnRhZG9yVHJhY2tzIiwidHJhY2tJZFByaW5jaXBhbCIsInRyYWNrc1BvclVzbyIsInJlc3VsdCIsInNlZ21lbnRvc0VsaW1pbmFkb3MiLCJlbGVtZW50b3NBY3R1YWxlcyIsInNlZ21lbnRvIiwic2VnbWVudG9zT3JkZW5hZG9zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ai-chat/ai-video-commands.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./features/editor/timeline/header.tsx":
/*!*********************************************!*\
  !*** ./features/editor/timeline/header.tsx ***!
  \*********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _designcombo_events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @designcombo/events */ \"(app-pages-browser)/./node_modules/@designcombo/events/dist/index.es.js\");\n/* harmony import */ var _designcombo_state__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @designcombo/state */ \"(app-pages-browser)/./node_modules/@designcombo/state/dist/index.es.js\");\n/* harmony import */ var _constants_events__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants/events */ \"(app-pages-browser)/./features/editor/constants/events.ts\");\n/* harmony import */ var _utils_time__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/time */ \"(app-pages-browser)/./features/editor/utils/time.ts\");\n/* harmony import */ var _store_use_store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../store/use-store */ \"(app-pages-browser)/./features/editor/store/use-store.ts\");\n/* harmony import */ var _barrel_optimize_names_SquareSplitHorizontal_Trash_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=SquareSplitHorizontal,Trash,ZoomIn,ZoomOut!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trash.js\");\n/* harmony import */ var _barrel_optimize_names_SquareSplitHorizontal_Trash_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=SquareSplitHorizontal,Trash,ZoomIn,ZoomOut!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/square-split-horizontal.js\");\n/* harmony import */ var _barrel_optimize_names_SquareSplitHorizontal_Trash_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=SquareSplitHorizontal,Trash,ZoomIn,ZoomOut!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/zoom-out.js\");\n/* harmony import */ var _barrel_optimize_names_SquareSplitHorizontal_Trash_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=SquareSplitHorizontal,Trash,ZoomIn,ZoomOut!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/zoom-in.js\");\n/* harmony import */ var _utils_timeline__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/timeline */ \"(app-pages-browser)/./features/editor/utils/timeline.ts\");\n/* harmony import */ var _hooks_use_current_frame__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../hooks/use-current-frame */ \"(app-pages-browser)/./features/editor/hooks/use-current-frame.tsx\");\n/* harmony import */ var _components_ui_slider__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/ui/slider */ \"(app-pages-browser)/./components/ui/slider.tsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _hooks_use_update_ansestors__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../hooks/use-update-ansestors */ \"(app-pages-browser)/./features/editor/hooks/use-update-ansestors.tsx\");\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\nconst IconPlayerPlayFilled = (param)=>{\n    let { size } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: size,\n        viewBox: \"0 0 24 24\",\n        fill: \"currentColor\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                stroke: \"none\",\n                d: \"M0 0h24v24H0z\",\n                fill: \"none\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                lineNumber: 32,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                d: \"M6 4v16a1 1 0 0 0 1.524 .852l13 -8a1 1 0 0 0 0 -1.704l-13 -8a1 1 0 0 0 -1.524 .852z\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                lineNumber: 33,\n                columnNumber: 5\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n        lineNumber: 26,\n        columnNumber: 3\n    }, undefined);\n};\n_c = IconPlayerPlayFilled;\nconst IconPlayerPauseFilled = (param)=>{\n    let { size } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: size,\n        viewBox: \"0 0 24 24\",\n        fill: \"currentColor\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                stroke: \"none\",\n                d: \"M0 0h24v24H0z\",\n                fill: \"none\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                lineNumber: 44,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                d: \"M9 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                lineNumber: 45,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                d: \"M17 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                lineNumber: 46,\n                columnNumber: 5\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n        lineNumber: 38,\n        columnNumber: 3\n    }, undefined);\n};\n_c1 = IconPlayerPauseFilled;\nconst IconPlayerSkipBack = (param)=>{\n    let { size } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: size,\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        stroke: \"currentColor\",\n        strokeWidth: \"2\",\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                stroke: \"none\",\n                d: \"M0 0h24v24H0z\",\n                fill: \"none\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                lineNumber: 60,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                d: \"M20 5v14l-12 -7z\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                lineNumber: 61,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                d: \"M4 5l0 14\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                lineNumber: 62,\n                columnNumber: 5\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n        lineNumber: 50,\n        columnNumber: 3\n    }, undefined);\n};\n_c2 = IconPlayerSkipBack;\nconst IconPlayerSkipForward = (param)=>{\n    let { size } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: size,\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        stroke: \"currentColor\",\n        strokeWidth: \"2\",\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                stroke: \"none\",\n                d: \"M0 0h24v24H0z\",\n                fill: \"none\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                lineNumber: 77,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                d: \"M4 5v14l12 -7z\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                lineNumber: 78,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                d: \"M20 5l0 14\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                lineNumber: 79,\n                columnNumber: 5\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n        lineNumber: 67,\n        columnNumber: 3\n    }, undefined);\n};\n_c3 = IconPlayerSkipForward;\n// Estilo solo para el contenedor del header, manteniendo el aspecto visual mejorado pero más oscuro\nconst headerContainerStyle = {\n    position: \"relative\",\n    height: \"50px\",\n    flex: \"none\",\n    background: \"linear-gradient(180deg, rgba(28, 18, 42, 0.95) 0%, rgba(22, 12, 32, 0.95) 100%)\",\n    borderBottom: \"1px solid rgba(90, 60, 150, 0.3)\",\n    boxShadow: \"0 2px 6px rgba(0,0,0,0.4)\"\n};\nconst Header = ()=>{\n    _s();\n    const [playing, setPlaying] = (0,react__WEBPACK_IMPORTED_MODULE_10__.useState)(false);\n    const { duration, fps, scale, playerRef, activeIds } = (0,_store_use_store__WEBPACK_IMPORTED_MODULE_6__[\"default\"])();\n    console.log(\"scale\", scale);\n    (0,_hooks_use_update_ansestors__WEBPACK_IMPORTED_MODULE_11__[\"default\"])({\n        playing,\n        playerRef\n    });\n    const currentFrame = (0,_hooks_use_current_frame__WEBPACK_IMPORTED_MODULE_8__.useCurrentPlayerFrame)(playerRef);\n    const doActiveDelete = ()=>{\n        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_2__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_3__.LAYER_DELETE);\n    };\n    const doActiveSplit = ()=>{\n        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_2__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_3__.ACTIVE_SPLIT, {\n            payload: {},\n            options: {\n                time: (0,_utils_time__WEBPACK_IMPORTED_MODULE_5__.getCurrentTime)()\n            }\n        });\n    };\n    const changeScale = (scale)=>{\n        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_2__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_3__.TIMELINE_SCALE_CHANGED, {\n            payload: {\n                scale\n            }\n        });\n    };\n    const handlePlay = ()=>{\n        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_2__.dispatch)(_constants_events__WEBPACK_IMPORTED_MODULE_4__.PLAYER_PLAY);\n    };\n    const handlePause = ()=>{\n        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_2__.dispatch)(_constants_events__WEBPACK_IMPORTED_MODULE_4__.PLAYER_PAUSE);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_10__.useEffect)(()=>{\n        var _playerRef_current, _playerRef_current1;\n        playerRef === null || playerRef === void 0 ? void 0 : (_playerRef_current = playerRef.current) === null || _playerRef_current === void 0 ? void 0 : _playerRef_current.addEventListener(\"play\", ()=>{\n            setPlaying(true);\n        });\n        playerRef === null || playerRef === void 0 ? void 0 : (_playerRef_current1 = playerRef.current) === null || _playerRef_current1 === void 0 ? void 0 : _playerRef_current1.addEventListener(\"pause\", ()=>{\n            setPlaying(false);\n        });\n        return ()=>{\n            var _playerRef_current, _playerRef_current1;\n            playerRef === null || playerRef === void 0 ? void 0 : (_playerRef_current = playerRef.current) === null || _playerRef_current === void 0 ? void 0 : _playerRef_current.removeEventListener(\"play\", ()=>{\n                setPlaying(true);\n            });\n            playerRef === null || playerRef === void 0 ? void 0 : (_playerRef_current1 = playerRef.current) === null || _playerRef_current1 === void 0 ? void 0 : _playerRef_current1.removeEventListener(\"pause\", ()=>{\n                setPlaying(false);\n            });\n        };\n    }, [\n        playerRef\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: headerContainerStyle,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                position: \"absolute\",\n                height: 50,\n                width: \"100%\",\n                display: \"flex\",\n                alignItems: \"center\"\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    height: 36,\n                    width: \"100%\",\n                    display: \"grid\",\n                    gridTemplateColumns: \"1fr 260px 1fr\",\n                    alignItems: \"center\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex px-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                                disabled: !activeIds.length,\n                                onClick: doActiveDelete,\n                                variant: \"ghost\",\n                                size: \"sm\",\n                                className: \"flex items-center gap-1 px-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_SquareSplitHorizontal_Trash_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                        size: 14\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                        lineNumber: 176,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    \" Delete\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                lineNumber: 169,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                                disabled: !activeIds.length,\n                                onClick: doActiveSplit,\n                                variant: \"ghost\",\n                                size: \"sm\",\n                                className: \"flex items-center gap-1 px-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_SquareSplitHorizontal_Trash_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                        size: 15\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                        lineNumber: 186,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    \" Split\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                lineNumber: 179,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                                disabled: !activeIds.length,\n                                onClick: ()=>{\n                                    (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_2__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_3__.LAYER_CLONE);\n                                },\n                                variant: \"ghost\",\n                                size: \"sm\",\n                                className: \"flex items-center gap-1 px-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_SquareSplitHorizontal_Trash_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                        size: 15\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                        lineNumber: 197,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    \" Clone\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                lineNumber: 188,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                        lineNumber: 168,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                                        onClick: doActiveDelete,\n                                        variant: \"ghost\",\n                                        size: \"icon\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(IconPlayerSkipBack, {\n                                            size: 14\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                            lineNumber: 203,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                        lineNumber: 202,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                                        onClick: ()=>{\n                                            if (playing) {\n                                                return handlePause();\n                                            }\n                                            handlePlay();\n                                        },\n                                        variant: \"ghost\",\n                                        size: \"icon\",\n                                        children: playing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(IconPlayerPauseFilled, {\n                                            size: 14\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                            lineNumber: 216,\n                                            columnNumber: 19\n                                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(IconPlayerPlayFilled, {\n                                            size: 14\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                            lineNumber: 218,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                        lineNumber: 205,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                                        onClick: doActiveSplit,\n                                        variant: \"ghost\",\n                                        size: \"icon\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(IconPlayerSkipForward, {\n                                            size: 14\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                            lineNumber: 222,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                        lineNumber: 221,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                lineNumber: 201,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs font-light\",\n                                style: {\n                                    display: \"grid\",\n                                    alignItems: \"center\",\n                                    gridTemplateColumns: \"54px 4px 54px\",\n                                    paddingTop: \"2px\",\n                                    justifyContent: \"center\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"font-medium text-zinc-200\",\n                                        style: {\n                                            display: \"flex\",\n                                            justifyContent: \"center\"\n                                        },\n                                        \"data-current-time\": currentFrame / fps,\n                                        id: \"video-current-time\",\n                                        children: (0,_utils_time__WEBPACK_IMPORTED_MODULE_5__.frameToTimeString)({\n                                            frame: currentFrame\n                                        }, {\n                                            fps\n                                        })\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                        lineNumber: 235,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"/\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                        lineNumber: 246,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-muted-foreground\",\n                                        style: {\n                                            display: \"flex\",\n                                            justifyContent: \"center\"\n                                        },\n                                        children: (0,_utils_time__WEBPACK_IMPORTED_MODULE_5__.timeToString)({\n                                            time: duration\n                                        })\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                        lineNumber: 247,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                lineNumber: 225,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                        lineNumber: 200,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ZoomControl, {\n                        scale: scale,\n                        onChangeTimelineScale: changeScale,\n                        duration: duration\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                        lineNumber: 259,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                lineNumber: 159,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n            lineNumber: 150,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n        lineNumber: 149,\n        columnNumber: 5\n    }, undefined);\n};\n_s(Header, \"s/VeRg52xmC50YlCGhYp0tIgyPM=\", false, function() {\n    return [\n        _store_use_store__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n        _hooks_use_update_ansestors__WEBPACK_IMPORTED_MODULE_11__[\"default\"],\n        _hooks_use_current_frame__WEBPACK_IMPORTED_MODULE_8__.useCurrentPlayerFrame\n    ];\n});\n_c4 = Header;\nconst ZoomControl = (param)=>{\n    let { scale, onChangeTimelineScale, duration } = param;\n    _s1();\n    const [localValue, setLocalValue] = (0,react__WEBPACK_IMPORTED_MODULE_10__.useState)(scale.index);\n    (0,react__WEBPACK_IMPORTED_MODULE_10__.useEffect)(()=>{\n        setLocalValue(scale.index);\n    }, [\n        scale.index\n    ]);\n    const onZoomOutClick = ()=>{\n        const previousZoom = (0,_utils_timeline__WEBPACK_IMPORTED_MODULE_7__.getPreviousZoomLevel)(scale);\n        onChangeTimelineScale(previousZoom);\n    };\n    const onZoomInClick = ()=>{\n        const nextZoom = (0,_utils_timeline__WEBPACK_IMPORTED_MODULE_7__.getNextZoomLevel)(scale);\n        onChangeTimelineScale(nextZoom);\n    };\n    const onZoomFitClick = ()=>{\n        const fitZoom = (0,_utils_timeline__WEBPACK_IMPORTED_MODULE_7__.getFitZoomLevel)(duration, scale.zoom);\n        onChangeTimelineScale(fitZoom);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex items-center justify-end\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex border-l border-border pl-4 pr-2\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                    size: \"icon\",\n                    variant: \"ghost\",\n                    onClick: onZoomOutClick,\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_SquareSplitHorizontal_Trash_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                        size: 16\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                        lineNumber: 304,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                    lineNumber: 303,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_slider__WEBPACK_IMPORTED_MODULE_9__.Slider, {\n                    className: \"w-28\",\n                    value: [\n                        localValue\n                    ],\n                    min: 0,\n                    max: 12,\n                    step: 1,\n                    onValueChange: (e)=>{\n                        setLocalValue(e[0]); // Update local state\n                    },\n                    onValueCommit: ()=>{\n                        const zoom = (0,_utils_timeline__WEBPACK_IMPORTED_MODULE_7__.getZoomByIndex)(localValue);\n                        onChangeTimelineScale(zoom); // Propagate value to parent when user commits change\n                    }\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                    lineNumber: 306,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                    size: \"icon\",\n                    variant: \"ghost\",\n                    onClick: onZoomInClick,\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_SquareSplitHorizontal_Trash_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                        size: 16\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                        lineNumber: 321,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                    lineNumber: 320,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                    onClick: onZoomFitClick,\n                    variant: \"ghost\",\n                    size: \"icon\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        width: \"16\",\n                        viewBox: \"0 0 24 24\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                            fill: \"currentColor\",\n                            d: \"M20 8V6h-2q-.425 0-.712-.288T17 5t.288-.712T18 4h2q.825 0 1.413.588T22 6v2q0 .425-.288.713T21 9t-.712-.288T20 8M2 8V6q0-.825.588-1.412T4 4h2q.425 0 .713.288T7 5t-.288.713T6 6H4v2q0 .425-.288.713T3 9t-.712-.288T2 8m18 12h-2q-.425 0-.712-.288T17 19t.288-.712T18 18h2v-2q0-.425.288-.712T21 15t.713.288T22 16v2q0 .825-.587 1.413T20 20M4 20q-.825 0-1.412-.587T2 18v-2q0-.425.288-.712T3 15t.713.288T4 16v2h2q.425 0 .713.288T7 19t-.288.713T6 20zm2-6v-4q0-.825.588-1.412T8 8h8q.825 0 1.413.588T18 10v4q0 .825-.587 1.413T16 16H8q-.825 0-1.412-.587T6 14\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                            lineNumber: 329,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                        lineNumber: 324,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                    lineNumber: 323,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n            lineNumber: 302,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n        lineNumber: 301,\n        columnNumber: 5\n    }, undefined);\n};\n_s1(ZoomControl, \"CYGgnsxzruPcIeNe34ZCr/OKU+M=\");\n_c5 = ZoomControl;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Header);\nvar _c, _c1, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"IconPlayerPlayFilled\");\n$RefreshReg$(_c1, \"IconPlayerPauseFilled\");\n$RefreshReg$(_c2, \"IconPlayerSkipBack\");\n$RefreshReg$(_c3, \"IconPlayerSkipForward\");\n$RefreshReg$(_c4, \"Header\");\n$RefreshReg$(_c5, \"ZoomControl\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2ZlYXR1cmVzL2VkaXRvci90aW1lbGluZS9oZWFkZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWdEO0FBQ0Q7QUFNbkI7QUFDb0M7QUFDZ0I7QUFDdEM7QUFDbUM7QUFNbEQ7QUFDd0M7QUFDbkI7QUFDSjtBQUNtQjtBQUcvRCxNQUFNeUIsdUJBQXVCO1FBQUMsRUFBRUMsSUFBSSxFQUFvQjt5QkFDdEQsOERBQUNDO1FBQ0NDLE9BQU07UUFDTkMsT0FBT0g7UUFDUEksU0FBUTtRQUNSQyxNQUFLOzswQkFFTCw4REFBQ0M7Z0JBQUtDLFFBQU87Z0JBQU9DLEdBQUU7Z0JBQWdCSCxNQUFLOzs7Ozs7MEJBQzNDLDhEQUFDQztnQkFBS0UsR0FBRTs7Ozs7Ozs7Ozs7OztLQVJOVDtBQVlOLE1BQU1VLHdCQUF3QjtRQUFDLEVBQUVULElBQUksRUFBb0I7eUJBQ3ZELDhEQUFDQztRQUNDQyxPQUFNO1FBQ05DLE9BQU9IO1FBQ1BJLFNBQVE7UUFDUkMsTUFBSzs7MEJBRUwsOERBQUNDO2dCQUFLQyxRQUFPO2dCQUFPQyxHQUFFO2dCQUFnQkgsTUFBSzs7Ozs7OzBCQUMzQyw4REFBQ0M7Z0JBQUtFLEdBQUU7Ozs7OzswQkFDUiw4REFBQ0Y7Z0JBQUtFLEdBQUU7Ozs7Ozs7Ozs7Ozs7TUFUTkM7QUFZTixNQUFNQyxxQkFBcUI7UUFBQyxFQUFFVixJQUFJLEVBQW9CO3lCQUNwRCw4REFBQ0M7UUFDQ0MsT0FBTTtRQUNOQyxPQUFPSDtRQUNQSSxTQUFRO1FBQ1JDLE1BQUs7UUFDTEUsUUFBTztRQUNQSSxhQUFZO1FBQ1pDLGVBQWM7UUFDZEMsZ0JBQWU7OzBCQUVmLDhEQUFDUDtnQkFBS0MsUUFBTztnQkFBT0MsR0FBRTtnQkFBZ0JILE1BQUs7Ozs7OzswQkFDM0MsOERBQUNDO2dCQUFLRSxHQUFFOzs7Ozs7MEJBQ1IsOERBQUNGO2dCQUFLRSxHQUFFOzs7Ozs7Ozs7Ozs7O01BYk5FO0FBaUJOLE1BQU1JLHdC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QkFBaUI7UUFDckIsTUFBTUMsVUFBVWhGLGdFQUFlQSxDQUFDbUMsVUFBVUUsTUFBTTRDLElBQUk7UUFDcERWLHNCQUFzQlM7SUFDeEI7SUFFQSxxQkFDRSw4REFBQzFCO1FBQUlLLFdBQVU7a0JBQ2IsNEVBQUNMO1lBQUlLLFdBQVU7OzhCQUNiLDhEQUFDM0UseURBQU1BO29CQUFDMEIsTUFBTTtvQkFBUXFELFNBQVM7b0JBQVNELFNBQVNhOzhCQUMvQyw0RUFBQzVFLHVIQUFPQTt3QkFBQ1csTUFBTTs7Ozs7Ozs7Ozs7OEJBRWpCLDhEQUFDTCx5REFBTUE7b0JBQ0xzRCxXQUFVO29CQUNWdUIsT0FBTzt3QkFBQ1Y7cUJBQVc7b0JBQ25CVyxLQUFLO29CQUNMQyxLQUFLO29CQUNMQyxNQUFNO29CQUNOQyxlQUFlLENBQUNDO3dCQUNkZCxjQUFjYyxDQUFDLENBQUMsRUFBRSxHQUFHLHFCQUFxQjtvQkFDNUM7b0JBQ0FDLGVBQWU7d0JBQ2IsTUFBTVAsT0FBTzlFLCtEQUFjQSxDQUFDcUU7d0JBQzVCRCxzQkFBc0JVLE9BQU8scURBQXFEO29CQUNwRjs7Ozs7OzhCQUVGLDhEQUFDakcseURBQU1BO29CQUFDMEIsTUFBTTtvQkFBUXFELFNBQVM7b0JBQVNELFNBQVNlOzhCQUMvQyw0RUFBQy9FLHVIQUFNQTt3QkFBQ1ksTUFBTTs7Ozs7Ozs7Ozs7OEJBRWhCLDhEQUFDMUIseURBQU1BO29CQUFDOEUsU0FBU2lCO29CQUFnQmhCLFNBQVM7b0JBQVNyRCxNQUFNOzhCQUN2RCw0RUFBQ0M7d0JBQ0NDLE9BQU07d0JBQ05DLE9BQU07d0JBQ05DLFNBQVE7a0NBRVIsNEVBQUNFOzRCQUNDRCxNQUFLOzRCQUNMRyxHQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPaEI7SUFwRU1vRDtNQUFBQTtBQXNFTiwrREFBZXRDLE1BQU1BLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vZmVhdHVyZXMvZWRpdG9yL3RpbWVsaW5lL2hlYWRlci50c3g/ZWExNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2J1dHRvblwiO1xuaW1wb3J0IHsgZGlzcGF0Y2ggfSBmcm9tIFwiQGRlc2lnbmNvbWJvL2V2ZW50c1wiO1xuaW1wb3J0IHtcbiAgQUNUSVZFX1NQTElULFxuICBMQVlFUl9DTE9ORSxcbiAgTEFZRVJfREVMRVRFLFxuICBUSU1FTElORV9TQ0FMRV9DSEFOR0VELFxufSBmcm9tIFwiQGRlc2lnbmNvbWJvL3N0YXRlXCI7XG5pbXBvcnQgeyBQTEFZRVJfUEFVU0UsIFBMQVlFUl9QTEFZIH0gZnJvbSBcIi4uL2NvbnN0YW50cy9ldmVudHNcIjtcbmltcG9ydCB7IGZyYW1lVG9UaW1lU3RyaW5nLCBnZXRDdXJyZW50VGltZSwgdGltZVRvU3RyaW5nIH0gZnJvbSBcIi4uL3V0aWxzL3RpbWVcIjtcbmltcG9ydCB1c2VTdG9yZSBmcm9tIFwiLi4vc3RvcmUvdXNlLXN0b3JlXCI7XG5pbXBvcnQgeyBTcXVhcmVTcGxpdEhvcml6b250YWwsIFRyYXNoLCBab29tSW4sIFpvb21PdXQgfSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5pbXBvcnQge1xuICBnZXRGaXRab29tTGV2ZWwsXG4gIGdldE5leHRab29tTGV2ZWwsXG4gIGdldFByZXZpb3VzWm9vbUxldmVsLFxuICBnZXRab29tQnlJbmRleCxcbn0gZnJvbSBcIi4uL3V0aWxzL3RpbWVsaW5lXCI7XG5pbXBvcnQgeyB1c2VDdXJyZW50UGxheWVyRnJhbWUgfSBmcm9tIFwiLi4vaG9va3MvdXNlLWN1cnJlbnQtZnJhbWVcIjtcbmltcG9ydCB7IFNsaWRlciB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvc2xpZGVyXCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgdXNlVXBkYXRlQW5zZXN0b3JzIGZyb20gXCIuLi9ob29rcy91c2UtdXBkYXRlLWFuc2VzdG9yc1wiO1xuaW1wb3J0IHsgSVRpbWVsaW5lU2NhbGVTdGF0ZSB9IGZyb20gXCJAZGVzaWduY29tYm8vdHlwZXNcIjtcblxuY29uc3QgSWNvblBsYXllclBsYXlGaWxsZWQgPSAoeyBzaXplIH06IHsgc2l6ZTogbnVtYmVyIH0pID0+IChcbiAgPHN2Z1xuICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgIHdpZHRoPXtzaXplfVxuICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICAgIGZpbGw9XCJjdXJyZW50Q29sb3JcIlxuICA+XG4gICAgPHBhdGggc3Ryb2tlPVwibm9uZVwiIGQ9XCJNMCAwaDI0djI0SDB6XCIgZmlsbD1cIm5vbmVcIiAvPlxuICAgIDxwYXRoIGQ9XCJNNiA0djE2YTEgMSAwIDAgMCAxLjUyNCAuODUybDEzIC04YTEgMSAwIDAgMCAwIC0xLjcwNGwtMTMgLThhMSAxIDAgMCAwIC0xLjUyNCAuODUyelwiIC8+XG4gIDwvc3ZnPlxuKTtcblxuY29uc3QgSWNvblBsYXllclBhdXNlRmlsbGVkID0gKHsgc2l6ZSB9OiB7IHNpemU6IG51bWJlciB9KSA9PiAoXG4gIDxzdmdcbiAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICB3aWR0aD17c2l6ZX1cbiAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgICBmaWxsPVwiY3VycmVudENvbG9yXCJcbiAgPlxuICAgIDxwYXRoIHN0cm9rZT1cIm5vbmVcIiBkPVwiTTAgMGgyNHYyNEgwelwiIGZpbGw9XCJub25lXCIgLz5cbiAgICA8cGF0aCBkPVwiTTkgNGgtMmEyIDIgMCAwIDAgLTIgMnYxMmEyIDIgMCAwIDAgMiAyaDJhMiAyIDAgMCAwIDIgLTJ2LTEyYTIgMiAwIDAgMCAtMiAtMnpcIiAvPlxuICAgIDxwYXRoIGQ9XCJNMTcgNGgtMmEyIDIgMCAwIDAgLTIgMnYxMmEyIDIgMCAwIDAgMiAyaDJhMiAyIDAgMCAwIDIgLTJ2LTEyYTIgMiAwIDAgMCAtMiAtMnpcIiAvPlxuICA8L3N2Zz5cbik7XG5jb25zdCBJY29uUGxheWVyU2tpcEJhY2sgPSAoeyBzaXplIH06IHsgc2l6ZTogbnVtYmVyIH0pID0+IChcbiAgPHN2Z1xuICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgIHdpZHRoPXtzaXplfVxuICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICAgIGZpbGw9XCJub25lXCJcbiAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgIHN0cm9rZVdpZHRoPVwiMlwiXG4gICAgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCJcbiAgICBzdHJva2VMaW5lam9pbj1cInJvdW5kXCJcbiAgPlxuICAgIDxwYXRoIHN0cm9rZT1cIm5vbmVcIiBkPVwiTTAgMGgyNHYyNEgwelwiIGZpbGw9XCJub25lXCIgLz5cbiAgICA8cGF0aCBkPVwiTTIwIDV2MTRsLTEyIC03elwiIC8+XG4gICAgPHBhdGggZD1cIk00IDVsMCAxNFwiIC8+XG4gIDwvc3ZnPlxuKTtcblxuY29uc3QgSWNvblBsYXllclNraXBGb3J3YXJkID0gKHsgc2l6ZSB9OiB7IHNpemU6IG51bWJlciB9KSA9PiAoXG4gIDxzdmdcbiAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICB3aWR0aD17c2l6ZX1cbiAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgICBmaWxsPVwibm9uZVwiXG4gICAgc3Ryb2tlPVwiY3VycmVudENvbG9yXCJcbiAgICBzdHJva2VXaWR0aD1cIjJcIlxuICAgIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiXG4gICAgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiXG4gID5cbiAgICA8cGF0aCBzdHJva2U9XCJub25lXCIgZD1cIk0wIDBoMjR2MjRIMHpcIiBmaWxsPVwibm9uZVwiIC8+XG4gICAgPHBhdGggZD1cIk00IDV2MTRsMTIgLTd6XCIgLz5cbiAgICA8cGF0aCBkPVwiTTIwIDVsMCAxNFwiIC8+XG4gIDwvc3ZnPlxuKTtcblxuLy8gRXN0aWxvIHNvbG8gcGFyYSBlbCBjb250ZW5lZG9yIGRlbCBoZWFkZXIsIG1hbnRlbmllbmRvIGVsIGFzcGVjdG8gdmlzdWFsIG1lam9yYWRvIHBlcm8gbcOhcyBvc2N1cm9cbmNvbnN0IGhlYWRlckNvbnRhaW5lclN0eWxlID0ge1xuICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiIGFzIGNvbnN0LFxuICBoZWlnaHQ6IFwiNTBweFwiLFxuICBmbGV4OiBcIm5vbmVcIiBhcyBjb25zdCxcbiAgYmFja2dyb3VuZDogXCJsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCByZ2JhKDI4LCAxOCwgNDIsIDAuOTUpIDAlLCByZ2JhKDIyLCAxMiwgMzIsIDAuOTUpIDEwMCUpXCIsXG4gIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgcmdiYSg5MCwgNjAsIDE1MCwgMC4zKVwiLFxuICBib3hTaGFkb3c6IFwiMCAycHggNnB4IHJnYmEoMCwwLDAsMC40KVwiLFxufTtcblxuY29uc3QgSGVhZGVyID0gKCkgPT4ge1xuICBjb25zdCBbcGxheWluZywgc2V0UGxheWluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHsgZHVyYXRpb24sIGZwcywgc2NhbGUsIHBsYXllclJlZiwgYWN0aXZlSWRzIH0gPSB1c2VTdG9yZSgpO1xuICBjb25zb2xlLmxvZyhcInNjYWxlXCIsIHNjYWxlKTtcblxuICB1c2VVcGRhdGVBbnNlc3RvcnMoeyBwbGF5aW5nLCBwbGF5ZXJSZWYgfSk7XG5cbiAgY29uc3QgY3VycmVudEZyYW1lID0gdXNlQ3VycmVudFBsYXllckZyYW1lKHBsYXllclJlZiEpO1xuXG4gIGNvbnN0IGRvQWN0aXZlRGVsZXRlID0gKCkgPT4ge1xuICAgIGRpc3BhdGNoKExBWUVSX0RFTEVURSk7XG4gIH07XG5cbiAgY29uc3QgZG9BY3RpdmVTcGxpdCA9ICgpID0+IHtcbiAgICBkaXNwYXRjaChBQ1RJVkVfU1BMSVQsIHtcbiAgICAgIHBheWxvYWQ6IHt9LFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICB0aW1lOiBnZXRDdXJyZW50VGltZSgpLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBjaGFuZ2VTY2FsZSA9IChzY2FsZTogSVRpbWVsaW5lU2NhbGVTdGF0ZSkgPT4ge1xuICAgIGRpc3BhdGNoKFRJTUVMSU5FX1NDQUxFX0NIQU5HRUQsIHtcbiAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgc2NhbGUsXG4gICAgICB9LFxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVBsYXkgPSAoKSA9PiB7XG4gICAgZGlzcGF0Y2goUExBWUVSX1BMQVkpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVBhdXNlID0gKCkgPT4ge1xuICAgIGRpc3BhdGNoKFBMQVlFUl9QQVVTRSk7XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBwbGF5ZXJSZWY/LmN1cnJlbnQ/LmFkZEV2ZW50TGlzdGVuZXIoXCJwbGF5XCIsICgpID0+IHtcbiAgICAgIHNldFBsYXlpbmcodHJ1ZSk7XG4gICAgfSk7XG4gICAgcGxheWVyUmVmPy5jdXJyZW50Py5hZGRFdmVudExpc3RlbmVyKFwicGF1c2VcIiwgKCkgPT4ge1xuICAgICAgc2V0UGxheWluZyhmYWxzZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHBsYXllclJlZj8uY3VycmVudD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBsYXlcIiwgKCkgPT4ge1xuICAgICAgICBzZXRQbGF5aW5nKHRydWUpO1xuICAgICAgfSk7XG4gICAgICBwbGF5ZXJSZWY/LmN1cnJlbnQ/LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwYXVzZVwiLCAoKSA9PiB7XG4gICAgICAgIHNldFBsYXlpbmcoZmFsc2UpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfSwgW3BsYXllclJlZl0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBzdHlsZT17aGVhZGVyQ29udGFpbmVyU3R5bGV9PlxuICAgICAgPGRpdlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgaGVpZ2h0OiA1MCxcbiAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBoZWlnaHQ6IDM2LFxuICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgZGlzcGxheTogXCJncmlkXCIsXG4gICAgICAgICAgICBncmlkVGVtcGxhdGVDb2x1bW5zOiBcIjFmciAyNjBweCAxZnJcIixcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBweC0yXCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIGRpc2FibGVkPXshYWN0aXZlSWRzLmxlbmd0aH1cbiAgICAgICAgICAgICAgb25DbGljaz17ZG9BY3RpdmVEZWxldGV9XG4gICAgICAgICAgICAgIHZhcmlhbnQ9e1wiZ2hvc3RcIn1cbiAgICAgICAgICAgICAgc2l6ZT17XCJzbVwifVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBweC0yXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFRyYXNoIHNpemU9ezE0fSAvPiBEZWxldGVcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIGRpc2FibGVkPXshYWN0aXZlSWRzLmxlbmd0aH1cbiAgICAgICAgICAgICAgb25DbGljaz17ZG9BY3RpdmVTcGxpdH1cbiAgICAgICAgICAgICAgdmFyaWFudD17XCJnaG9zdFwifVxuICAgICAgICAgICAgICBzaXplPXtcInNtXCJ9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIHB4LTJcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8U3F1YXJlU3BsaXRIb3Jpem9udGFsIHNpemU9ezE1fSAvPiBTcGxpdFxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIGRpc2FibGVkPXshYWN0aXZlSWRzLmxlbmd0aH1cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKExBWUVSX0NMT05FKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgdmFyaWFudD17XCJnaG9zdFwifVxuICAgICAgICAgICAgICBzaXplPXtcInNtXCJ9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIHB4LTJcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8U3F1YXJlU3BsaXRIb3Jpem9udGFsIHNpemU9ezE1fSAvPiBDbG9uZVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtkb0FjdGl2ZURlbGV0ZX0gdmFyaWFudD17XCJnaG9zdFwifSBzaXplPXtcImljb25cIn0+XG4gICAgICAgICAgICAgICAgPEljb25QbGF5ZXJTa2lwQmFjayBzaXplPXsxNH0gLz5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAocGxheWluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlUGF1c2UoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGhhbmRsZVBsYXkoKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHZhcmlhbnQ9e1wiZ2hvc3RcIn1cbiAgICAgICAgICAgICAgICBzaXplPXtcImljb25cIn1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtwbGF5aW5nID8gKFxuICAgICAgICAgICAgICAgICAgPEljb25QbGF5ZXJQYXVzZUZpbGxlZCBzaXplPXsxNH0gLz5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPEljb25QbGF5ZXJQbGF5RmlsbGVkIHNpemU9ezE0fSAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e2RvQWN0aXZlU3BsaXR9IHZhcmlhbnQ9e1wiZ2hvc3RcIn0gc2l6ZT17XCJpY29uXCJ9PlxuICAgICAgICAgICAgICAgIDxJY29uUGxheWVyU2tpcEZvcndhcmQgc2l6ZT17MTR9IC8+XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1saWdodFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJncmlkXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBncmlkVGVtcGxhdGVDb2x1bW5zOiBcIjU0cHggNHB4IDU0cHhcIixcbiAgICAgICAgICAgICAgICBwYWRkaW5nVG9wOiBcIjJweFwiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC16aW5jLTIwMFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBkYXRhLWN1cnJlbnQtdGltZT17Y3VycmVudEZyYW1lIC8gZnBzfVxuICAgICAgICAgICAgICAgIGlkPVwidmlkZW8tY3VycmVudC10aW1lXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtmcmFtZVRvVGltZVN0cmluZyh7IGZyYW1lOiBjdXJyZW50RnJhbWUgfSwgeyBmcHMgfSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8c3Bhbj4vPC9zcGFuPlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3RpbWVUb1N0cmluZyh7IHRpbWU6IGR1cmF0aW9uIH0pfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPFpvb21Db250cm9sXG4gICAgICAgICAgICBzY2FsZT17c2NhbGV9XG4gICAgICAgICAgICBvbkNoYW5nZVRpbWVsaW5lU2NhbGU9e2NoYW5nZVNjYWxlfVxuICAgICAgICAgICAgZHVyYXRpb249e2R1cmF0aW9ufVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5jb25zdCBab29tQ29udHJvbCA9ICh7XG4gIHNjYWxlLFxuICBvbkNoYW5nZVRpbWVsaW5lU2NhbGUsXG4gIGR1cmF0aW9uLFxufToge1xuICBzY2FsZTogSVRpbWVsaW5lU2NhbGVTdGF0ZTtcbiAgb25DaGFuZ2VUaW1lbGluZVNjYWxlOiAoc2NhbGU6IElUaW1lbGluZVNjYWxlU3RhdGUpID0+IHZvaWQ7XG4gIGR1cmF0aW9uOiBudW1iZXI7XG59KSA9PiB7XG4gIGNvbnN0IFtsb2NhbFZhbHVlLCBzZXRMb2NhbFZhbHVlXSA9IHVzZVN0YXRlKHNjYWxlLmluZGV4KTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldExvY2FsVmFsdWUoc2NhbGUuaW5kZXgpO1xuICB9LCBbc2NhbGUuaW5kZXhdKTtcblxuICBjb25zdCBvblpvb21PdXRDbGljayA9ICgpID0+IHtcbiAgICBjb25zdCBwcmV2aW91c1pvb20gPSBnZXRQcmV2aW91c1pvb21MZXZlbChzY2FsZSk7XG4gICAgb25DaGFuZ2VUaW1lbGluZVNjYWxlKHByZXZpb3VzWm9vbSk7XG4gIH07XG5cbiAgY29uc3Qgb25ab29tSW5DbGljayA9ICgpID0+IHtcbiAgICBjb25zdCBuZXh0Wm9vbSA9IGdldE5leHRab29tTGV2ZWwoc2NhbGUpO1xuICAgIG9uQ2hhbmdlVGltZWxpbmVTY2FsZShuZXh0Wm9vbSk7XG4gIH07XG5cbiAgY29uc3Qgb25ab29tRml0Q2xpY2sgPSAoKSA9PiB7XG4gICAgY29uc3QgZml0Wm9vbSA9IGdldEZpdFpvb21MZXZlbChkdXJhdGlvbiwgc2NhbGUuem9vbSk7XG4gICAgb25DaGFuZ2VUaW1lbGluZVNjYWxlKGZpdFpvb20pO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWVuZFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGJvcmRlci1sIGJvcmRlci1ib3JkZXIgcGwtNCBwci0yXCI+XG4gICAgICAgIDxCdXR0b24gc2l6ZT17XCJpY29uXCJ9IHZhcmlhbnQ9e1wiZ2hvc3RcIn0gb25DbGljaz17b25ab29tT3V0Q2xpY2t9PlxuICAgICAgICAgIDxab29tT3V0IHNpemU9ezE2fSAvPlxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPFNsaWRlclxuICAgICAgICAgIGNsYXNzTmFtZT1cInctMjhcIlxuICAgICAgICAgIHZhbHVlPXtbbG9jYWxWYWx1ZV19XG4gICAgICAgICAgbWluPXswfVxuICAgICAgICAgIG1heD17MTJ9XG4gICAgICAgICAgc3RlcD17MX1cbiAgICAgICAgICBvblZhbHVlQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgc2V0TG9jYWxWYWx1ZShlWzBdKTsgLy8gVXBkYXRlIGxvY2FsIHN0YXRlXG4gICAgICAgICAgfX1cbiAgICAgICAgICBvblZhbHVlQ29tbWl0PXsoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB6b29tID0gZ2V0Wm9vbUJ5SW5kZXgobG9jYWxWYWx1ZSk7XG4gICAgICAgICAgICBvbkNoYW5nZVRpbWVsaW5lU2NhbGUoem9vbSk7IC8vIFByb3BhZ2F0ZSB2YWx1ZSB0byBwYXJlbnQgd2hlbiB1c2VyIGNvbW1pdHMgY2hhbmdlXG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgICAgPEJ1dHRvbiBzaXplPXtcImljb25cIn0gdmFyaWFudD17XCJnaG9zdFwifSBvbkNsaWNrPXtvblpvb21JbkNsaWNrfT5cbiAgICAgICAgICA8Wm9vbUluIHNpemU9ezE2fSAvPlxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtvblpvb21GaXRDbGlja30gdmFyaWFudD17XCJnaG9zdFwifSBzaXplPXtcImljb25cIn0+XG4gICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICAgICAgICB3aWR0aD1cIjE2XCJcbiAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgIGZpbGw9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgICBkPVwiTTIwIDhWNmgtMnEtLjQyNSAwLS43MTItLjI4OFQxNyA1dC4yODgtLjcxMlQxOCA0aDJxLjgyNSAwIDEuNDEzLjU4OFQyMiA2djJxMCAuNDI1LS4yODguNzEzVDIxIDl0LS43MTItLjI4OFQyMCA4TTIgOFY2cTAtLjgyNS41ODgtMS40MTJUNCA0aDJxLjQyNSAwIC43MTMuMjg4VDcgNXQtLjI4OC43MTNUNiA2SDR2MnEwIC40MjUtLjI4OC43MTNUMyA5dC0uNzEyLS4yODhUMiA4bTE4IDEyaC0ycS0uNDI1IDAtLjcxMi0uMjg4VDE3IDE5dC4yODgtLjcxMlQxOCAxOGgydi0ycTAtLjQyNS4yODgtLjcxMlQyMSAxNXQuNzEzLjI4OFQyMiAxNnYycTAgLjgyNS0uNTg3IDEuNDEzVDIwIDIwTTQgMjBxLS44MjUgMC0xLjQxMi0uNTg3VDIgMTh2LTJxMC0uNDI1LjI4OC0uNzEyVDMgMTV0LjcxMy4yODhUNCAxNnYyaDJxLjQyNSAwIC43MTMuMjg4VDcgMTl0LS4yODguNzEzVDYgMjB6bTItNnYtNHEwLS44MjUuNTg4LTEuNDEyVDggOGg4cS44MjUgMCAxLjQxMy41ODhUMTggMTB2NHEwIC44MjUtLjU4NyAxLjQxM1QxNiAxNkg4cS0uODI1IDAtMS40MTItLjU4N1Q2IDE0XCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBIZWFkZXI7XG4iXSwibmFtZXMiOlsiQnV0dG9uIiwiZGlzcGF0Y2giLCJBQ1RJVkVfU1BMSVQiLCJMQVlFUl9DTE9ORSIsIkxBWUVSX0RFTEVURSIsIlRJTUVMSU5FX1NDQUxFX0NIQU5HRUQiLCJQTEFZRVJfUEFVU0UiLCJQTEFZRVJfUExBWSIsImZyYW1lVG9UaW1lU3RyaW5nIiwiZ2V0Q3VycmVudFRpbWUiLCJ0aW1lVG9TdHJpbmciLCJ1c2VTdG9yZSIsIlNxdWFyZVNwbGl0SG9yaXpvbnRhbCIsIlRyYXNoIiwiWm9vbUluIiwiWm9vbU91dCIsImdldEZpdFpvb21MZXZlbCIsImdldE5leHRab29tTGV2ZWwiLCJnZXRQcmV2aW91c1pvb21MZXZlbCIsImdldFpvb21CeUluZGV4IiwidXNlQ3VycmVudFBsYXllckZyYW1lIiwiU2xpZGVyIiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VVcGRhdGVBbnNlc3RvcnMiLCJJY29uUGxheWVyUGxheUZpbGxlZCIsInNpemUiLCJzdmciLCJ4bWxucyIsIndpZHRoIiwidmlld0JveCIsImZpbGwiLCJwYXRoIiwic3Ryb2tlIiwiZCIsIkljb25QbGF5ZXJQYXVzZUZpbGxlZCIsIkljb25QbGF5ZXJTa2lwQmFjayIsInN0cm9rZVdpZHRoIiwic3Ryb2tlTGluZWNhcCIsInN0cm9rZUxpbmVqb2luIiwiSWNvblBsYXllclNraXBGb3J3YXJkIiwiaGVhZGVyQ29udGFpbmVyU3R5bGUiLCJwb3NpdGlvbiIsImhlaWdodCIsImZsZXgiLCJiYWNrZ3JvdW5kIiwiYm9yZGVyQm90dG9tIiwiYm94U2hhZG93IiwiSGVhZGVyIiwicGxheWluZyIsInNldFBsYXlpbmciLCJkdXJhdGlvbiIsImZwcyIsInNjYWxlIiwicGxheWVyUmVmIiwiYWN0aXZlSWRzIiwiY29uc29sZSIsImxvZyIsImN1cnJlbnRGcmFtZSIsImRvQWN0aXZlRGVsZXRlIiwiZG9BY3RpdmVTcGxpdCIsInBheWxvYWQiLCJvcHRpb25zIiwidGltZSIsImNoYW5nZVNjYWxlIiwiaGFuZGxlUGxheSIsImhhbmRsZVBhdXNlIiwiY3VycmVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGl2Iiwic3R5bGUiLCJkaXNwbGF5IiwiYWxpZ25JdGVtcyIsImdyaWRUZW1wbGF0ZUNvbHVtbnMiLCJjbGFzc05hbWUiLCJkaXNhYmxlZCIsImxlbmd0aCIsIm9uQ2xpY2siLCJ2YXJpYW50IiwicGFkZGluZ1RvcCIsImp1c3RpZnlDb250ZW50IiwiZGF0YS1jdXJyZW50LXRpbWUiLCJpZCIsImZyYW1lIiwic3BhbiIsIlpvb21Db250cm9sIiwib25DaGFuZ2VUaW1lbGluZVNjYWxlIiwibG9jYWxWYWx1ZSIsInNldExvY2FsVmFsdWUiLCJpbmRleCIsIm9uWm9vbU91dENsaWNrIiwicHJldmlvdXNab29tIiwib25ab29tSW5DbGljayIsIm5leHRab29tIiwib25ab29tRml0Q2xpY2siLCJmaXRab29tIiwiem9vbSIsInZhbHVlIiwibWluIiwibWF4Iiwic3RlcCIsIm9uVmFsdWVDaGFuZ2UiLCJlIiwib25WYWx1ZUNvbW1pdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./features/editor/timeline/header.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./features/editor/timeline/items/image.ts":
/*!*************************************************!*\
  !*** ./features/editor/timeline/items/image.ts ***!
  \*************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _designcombo_timeline__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @designcombo/timeline */ \"(app-pages-browser)/./node_modules/@designcombo/timeline/dist/index.es.js\");\n/* harmony import */ var _controls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controls */ \"(app-pages-browser)/./features/editor/timeline/controls/index.ts\");\n\n\nclass Image extends _designcombo_timeline__WEBPACK_IMPORTED_MODULE_0__.Image {\n    static createControls() {\n        return {\n            controls: (0,_controls__WEBPACK_IMPORTED_MODULE_1__.createResizeControls)()\n        };\n    }\n    _render(ctx) {\n        super._render(ctx);\n        this.updateSelected(ctx);\n    }\n    async loadImage() {\n        try {\n            var _this_canvas;\n            console.log(\"[DEBUG Image] Cargando imagen:\", this.src.substring(0, 30) + \"...\");\n            const img = await _designcombo_timeline__WEBPACK_IMPORTED_MODULE_0__.util.loadImage(this.src).catch((error)=>{\n                var _this_metadata;\n                console.error(\"[ERROR Image] Error cargando imagen principal:\", error);\n                // Si hay metadata con previewUrl, intentar usar esa como fallback\n                if ((_this_metadata = this.metadata) === null || _this_metadata === void 0 ? void 0 : _this_metadata.previewUrl) {\n                    console.log(\"[DEBUG Image] Intentando cargar desde previewUrl\");\n                    return _designcombo_timeline__WEBPACK_IMPORTED_MODULE_0__.util.loadImage(this.metadata.previewUrl);\n                }\n                throw error;\n            });\n            const imgHeight = img.height;\n            const rectHeight = this.height;\n            const scaleY = rectHeight / imgHeight;\n            const pattern = new _designcombo_timeline__WEBPACK_IMPORTED_MODULE_0__.Pattern({\n                source: img,\n                repeat: \"repeat-x\",\n                patternTransform: [\n                    scaleY,\n                    0,\n                    0,\n                    scaleY,\n                    0,\n                    0\n                ]\n            });\n            this.set(\"fill\", pattern);\n            (_this_canvas = this.canvas) === null || _this_canvas === void 0 ? void 0 : _this_canvas.requestRenderAll();\n            console.log(\"[DEBUG Image] Imagen cargada correctamente\");\n        } catch (error) {\n            var _this_canvas1;\n            console.error(\"[ERROR Image] No se pudo cargar la imagen:\", error);\n            // Si falla todo, establecer un patrón de color gris como fallback\n            const fillColor = \"#666666\";\n            this.set(\"fill\", fillColor);\n            (_this_canvas1 = this.canvas) === null || _this_canvas1 === void 0 ? void 0 : _this_canvas1.requestRenderAll();\n        }\n    }\n    setSrc(src) {\n        var _this_canvas;\n        this.src = src;\n        this.loadImage();\n        (_this_canvas = this.canvas) === null || _this_canvas === void 0 ? void 0 : _this_canvas.requestRenderAll();\n    }\n    constructor(props){\n        super(props);\n        this.metadata = props.metadata;\n        this.loadImage();\n    }\n}\nImage.type = \"Image\";\n/* harmony default export */ __webpack_exports__[\"default\"] = (Image);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2ZlYXR1cmVzL2VkaXRvci90aW1lbGluZS9pdGVtcy9pbWFnZS50cyIsIm1hcHBpbmdzIjoiOzs7QUFNK0I7QUFDb0I7QUFRbkQsTUFBTUEsY0FBY0Msd0RBQVNBO0lBSTNCLE9BQU9JLGlCQUF3RDtRQUM3RCxPQUFPO1lBQUVDLFVBQVVGLCtEQUFvQkE7UUFBRztJQUM1QztJQVFPRyxRQUFRQyxHQUE2QixFQUFFO1FBQzVDLEtBQUssQ0FBQ0QsUUFBUUM7UUFDZCxJQUFJLENBQUNDLGNBQWMsQ0FBQ0Q7SUFDdEI7SUFFQSxNQUFhRSxZQUFZO1FBQ3ZCLElBQUk7Z0JBdUJGO1lBdEJBQyxRQUFRQyxHQUFHLENBQUMsa0NBQWtDLElBQUksQ0FBQ0MsR0FBRyxDQUFDQyxTQUFTLENBQUMsR0FBRyxNQUFNO1lBRTFFLE1BQU1DLE1BQU0sTUFBTVosdURBQUlBLENBQUNPLFNBQVMsQ0FBQyxJQUFJLENBQUNHLEdBQUcsRUFBRUcsS0FBSyxDQUFDQyxDQUFBQTtvQkFJM0M7Z0JBSEpOLFFBQVFNLEtBQUssQ0FBQyxrREFBa0RBO2dCQUVoRSxrRUFBa0U7Z0JBQ2xFLEtBQUkscUJBQUksQ0FBQ0MsUUFBUSxjQUFiLG9EQUFlQyxVQUFVLEVBQUU7b0JBQzdCUixRQUFRQyxHQUFHLENBQUM7b0JBQ1osT0FBT1QsdURBQUlBLENBQUNPLFNBQVMsQ0FBQyxJQUFJLENBQUNRLFFBQVEsQ0FBQ0MsVUFBVTtnQkFDaEQ7Z0JBQ0EsTUFBTUY7WUFDUjtZQUVBLE1BQU1HLFlBQVlMLElBQUlNLE1BQU07WUFDNUIsTUFBTUMsYUFBYSxJQUFJLENBQUNELE1BQU07WUFDOUIsTUFBTUUsU0FBU0QsYUFBYUY7WUFDNUIsTUFBTUksVUFBVSxJQUFJdEIsMERBQU9BLENBQUM7Z0JBQzFCdUIsUUFBUVY7Z0JBQ1JXLFFBQVE7Z0JBQ1JDLGtCQUFrQjtvQkFBQ0o7b0JBQVE7b0JBQUc7b0JBQUdBO29CQUFRO29CQUFHO2lCQUFFO1lBQ2hEO1lBQ0EsSUFBSSxDQUFDSyxHQUFHLENBQUMsUUFBUUo7YUFDakIsbUJBQUksQ0FBQ0ssTUFBTSxjQUFYLGdEQUFhQyxnQkFBZ0I7WUFDN0JuQixRQUFRQyxHQUFHLENBQUM7UUFDZCxFQUFFLE9BQU9LLE9BQU87Z0JBS2Q7WUFKQU4sUUFBUU0sS0FBSyxDQUFDLDhDQUE4Q0E7WUFDNUQsa0VBQWtFO1lBQ2xFLE1BQU1jLFlBQVk7WUFDbEIsSUFBSSxDQUFDSCxHQUFHLENBQUMsUUFBUUc7YUFDakIsb0JBQUksQ0FBQ0YsTUFBTSxjQUFYLGtEQUFhQyxnQkFBZ0I7UUFDL0I7SUFDRjtJQUVPRSxPQUFPbkIsR0FBVyxFQUFFO1lBR3pCO1FBRkEsSUFBSSxDQUFDQSxHQUFHLEdBQUdBO1FBQ1gsSUFBSSxDQUFDSCxTQUFTO1NBQ2QsbUJBQUksQ0FBQ21CLE1BQU0sY0FBWCxnREFBYUMsZ0JBQWdCO0lBQy9CO0lBbERBRyxZQUFZQyxLQUF5QixDQUFFO1FBQ3JDLEtBQUssQ0FBQ0E7UUFDTixJQUFJLENBQUNoQixRQUFRLEdBQUdnQixNQUFNaEIsUUFBUTtRQUM5QixJQUFJLENBQUNSLFNBQVM7SUFDaEI7QUErQ0Y7QUEzRE1WLE1BQ0dtQyxPQUFPO0FBNERoQiwrREFBZW5DLEtBQUtBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vZmVhdHVyZXMvZWRpdG9yL3RpbWVsaW5lL2l0ZW1zL2ltYWdlLnRzP2Q2ODgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBDb250cm9sLFxyXG4gIEltYWdlIGFzIEltYWdlQmFzZSxcclxuICBJbWFnZVByb3BzLFxyXG4gIFBhdHRlcm4sXHJcbiAgdXRpbCxcclxufSBmcm9tIFwiQGRlc2lnbmNvbWJvL3RpbWVsaW5lXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVJlc2l6ZUNvbnRyb2xzIH0gZnJvbSBcIi4uL2NvbnRyb2xzXCI7XHJcbmltcG9ydCB7IElNZXRhZGF0YSB9IGZyb20gXCJAZGVzaWduY29tYm8vdHlwZXNcIjtcclxuXHJcbi8vIE1vZGlmaWNhbW9zIGxhIGludGVyZmF6IGRlIHByb3BzIHBhcmEgaW5jbHVpciBtZXRhZGF0YVxyXG5pbnRlcmZhY2UgRXh0ZW5kZWRJbWFnZVByb3BzIGV4dGVuZHMgSW1hZ2VQcm9wcyB7XHJcbiAgbWV0YWRhdGE/OiBQYXJ0aWFsPElNZXRhZGF0YT47XHJcbn1cclxuXHJcbmNsYXNzIEltYWdlIGV4dGVuZHMgSW1hZ2VCYXNlIHtcclxuICBzdGF0aWMgdHlwZSA9IFwiSW1hZ2VcIjtcclxuICBwdWJsaWMgbWV0YWRhdGE/OiBQYXJ0aWFsPElNZXRhZGF0YT47XHJcblxyXG4gIHN0YXRpYyBjcmVhdGVDb250cm9scygpOiB7IGNvbnRyb2xzOiBSZWNvcmQ8c3RyaW5nLCBDb250cm9sPiB9IHtcclxuICAgIHJldHVybiB7IGNvbnRyb2xzOiBjcmVhdGVSZXNpemVDb250cm9scygpIH07XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3Rvcihwcm9wczogRXh0ZW5kZWRJbWFnZVByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcbiAgICB0aGlzLm1ldGFkYXRhID0gcHJvcHMubWV0YWRhdGE7XHJcbiAgICB0aGlzLmxvYWRJbWFnZSgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIF9yZW5kZXIoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgIHN1cGVyLl9yZW5kZXIoY3R4KTtcclxuICAgIHRoaXMudXBkYXRlU2VsZWN0ZWQoY3R4KTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBsb2FkSW1hZ2UoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIltERUJVRyBJbWFnZV0gQ2FyZ2FuZG8gaW1hZ2VuOlwiLCB0aGlzLnNyYy5zdWJzdHJpbmcoMCwgMzApICsgXCIuLi5cIik7XHJcblxyXG4gICAgICBjb25zdCBpbWcgPSBhd2FpdCB1dGlsLmxvYWRJbWFnZSh0aGlzLnNyYykuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbRVJST1IgSW1hZ2VdIEVycm9yIGNhcmdhbmRvIGltYWdlbiBwcmluY2lwYWw6XCIsIGVycm9yKTtcclxuXHJcbiAgICAgICAgLy8gU2kgaGF5IG1ldGFkYXRhIGNvbiBwcmV2aWV3VXJsLCBpbnRlbnRhciB1c2FyIGVzYSBjb21vIGZhbGxiYWNrXHJcbiAgICAgICAgaWYgKHRoaXMubWV0YWRhdGE/LnByZXZpZXdVcmwpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiW0RFQlVHIEltYWdlXSBJbnRlbnRhbmRvIGNhcmdhciBkZXNkZSBwcmV2aWV3VXJsXCIpO1xyXG4gICAgICAgICAgcmV0dXJuIHV0aWwubG9hZEltYWdlKHRoaXMubWV0YWRhdGEucHJldmlld1VybCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IGltZ0hlaWdodCA9IGltZy5oZWlnaHQ7XHJcbiAgICAgIGNvbnN0IHJlY3RIZWlnaHQgPSB0aGlzLmhlaWdodDtcclxuICAgICAgY29uc3Qgc2NhbGVZID0gcmVjdEhlaWdodCAvIGltZ0hlaWdodDtcclxuICAgICAgY29uc3QgcGF0dGVybiA9IG5ldyBQYXR0ZXJuKHtcclxuICAgICAgICBzb3VyY2U6IGltZyxcclxuICAgICAgICByZXBlYXQ6IFwicmVwZWF0LXhcIixcclxuICAgICAgICBwYXR0ZXJuVHJhbnNmb3JtOiBbc2NhbGVZLCAwLCAwLCBzY2FsZVksIDAsIDBdLFxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5zZXQoXCJmaWxsXCIsIHBhdHRlcm4pO1xyXG4gICAgICB0aGlzLmNhbnZhcz8ucmVxdWVzdFJlbmRlckFsbCgpO1xyXG4gICAgICBjb25zb2xlLmxvZyhcIltERUJVRyBJbWFnZV0gSW1hZ2VuIGNhcmdhZGEgY29ycmVjdGFtZW50ZVwiKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbRVJST1IgSW1hZ2VdIE5vIHNlIHB1ZG8gY2FyZ2FyIGxhIGltYWdlbjpcIiwgZXJyb3IpO1xyXG4gICAgICAvLyBTaSBmYWxsYSB0b2RvLCBlc3RhYmxlY2VyIHVuIHBhdHLDs24gZGUgY29sb3IgZ3JpcyBjb21vIGZhbGxiYWNrXHJcbiAgICAgIGNvbnN0IGZpbGxDb2xvciA9IFwiIzY2NjY2NlwiO1xyXG4gICAgICB0aGlzLnNldChcImZpbGxcIiwgZmlsbENvbG9yKTtcclxuICAgICAgdGhpcy5jYW52YXM/LnJlcXVlc3RSZW5kZXJBbGwoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRTcmMoc3JjOiBzdHJpbmcpIHtcclxuICAgIHRoaXMuc3JjID0gc3JjO1xyXG4gICAgdGhpcy5sb2FkSW1hZ2UoKTtcclxuICAgIHRoaXMuY2FudmFzPy5yZXF1ZXN0UmVuZGVyQWxsKCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBJbWFnZTtcclxuIl0sIm5hbWVzIjpbIkltYWdlIiwiSW1hZ2VCYXNlIiwiUGF0dGVybiIsInV0aWwiLCJjcmVhdGVSZXNpemVDb250cm9scyIsImNyZWF0ZUNvbnRyb2xzIiwiY29udHJvbHMiLCJfcmVuZGVyIiwiY3R4IiwidXBkYXRlU2VsZWN0ZWQiLCJsb2FkSW1hZ2UiLCJjb25zb2xlIiwibG9nIiwic3JjIiwic3Vic3RyaW5nIiwiaW1nIiwiY2F0Y2giLCJlcnJvciIsIm1ldGFkYXRhIiwicHJldmlld1VybCIsImltZ0hlaWdodCIsImhlaWdodCIsInJlY3RIZWlnaHQiLCJzY2FsZVkiLCJwYXR0ZXJuIiwic291cmNlIiwicmVwZWF0IiwicGF0dGVyblRyYW5zZm9ybSIsInNldCIsImNhbnZhcyIsInJlcXVlc3RSZW5kZXJBbGwiLCJmaWxsQ29sb3IiLCJzZXRTcmMiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwidHlwZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./features/editor/timeline/items/image.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./features/editor/timeline/selection-modal.tsx":
/*!******************************************************!*\
  !*** ./features/editor/timeline/selection-modal.tsx ***!
  \******************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _designcombo_events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @designcombo/events */ \"(app-pages-browser)/./node_modules/@designcombo/events/dist/index.es.js\");\n/* harmony import */ var _items_timeline__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./items/timeline */ \"(app-pages-browser)/./features/editor/timeline/items/timeline.ts\");\n/* harmony import */ var _services_ai_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/ai-service */ \"(app-pages-browser)/./features/editor/services/ai-service.ts\");\n/* harmony import */ var _services_command_executor_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../services/command-executor-service */ \"(app-pages-browser)/./features/editor/services/command-executor-service.ts\");\n/* harmony import */ var _designcombo_timeline__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @designcombo/timeline */ \"(app-pages-browser)/./node_modules/@designcombo/timeline/dist/index.es.js\");\n/* harmony import */ var _designcombo_state__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @designcombo/state */ \"(app-pages-browser)/./node_modules/@designcombo/state/dist/index.es.js\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n/**\n * Modal que se muestra cuando se seleccionan elementos por arrastre en la timeline\n * Proporciona una interfaz simple para enviar comandos mediante texto\n */ const SelectionModal = ()=>{\n    _s();\n    const [visible, setVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [position, setPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        x: 0,\n        y: 0\n    });\n    const [selectedItems, setSelectedItems] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isSending, setIsSending] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [lastActionInfo, setLastActionInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showActionInfo, setShowActionInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [actionSuccess, setActionSuccess] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const modalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const textareaRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Estado para el chat\n    const [chatMessages, setChatMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [chatInput, setChatInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Estado para rastrear imágenes añadidas a la timeline\n    const [addedScreenshots, setAddedScreenshots] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Suscribirse al evento de selección por arrastre\n        const selectionEvents = _designcombo_events__WEBPACK_IMPORTED_MODULE_2__.subject.pipe((0,_designcombo_events__WEBPACK_IMPORTED_MODULE_2__.filter)((param)=>{\n            let { key } = param;\n            return key === _items_timeline__WEBPACK_IMPORTED_MODULE_3__.TIMELINE_SELECTION_MODAL;\n        }));\n        const subscription = selectionEvents.subscribe((event)=>{\n            var _event_value;\n            const payload = (_event_value = event.value) === null || _event_value === void 0 ? void 0 : _event_value.payload;\n            console.log(\"Selection modal event received:\", payload);\n            if (payload && payload.selectedItems && payload.selectedItems.length > 0) {\n                setSelectedItems(payload.selectedItems);\n                // Ajustar la posición para que el modal sea visible\n                setPosition({\n                    x: Math.min(payload.position.x, window.innerWidth - 350),\n                    y: Math.min(payload.position.y, window.innerHeight - 350)\n                });\n                // Resetear estados\n                setChatMessages([]);\n                setChatInput(\"\");\n                setLastActionInfo(null);\n                setActionSuccess(null);\n                setVisible(true);\n                // Enfocar el textarea cuando el modal se abre\n                setTimeout(()=>{\n                    if (textareaRef.current) {\n                        textareaRef.current.focus();\n                    }\n                }, 100);\n            }\n        });\n        // Manejar clic fuera del modal para cerrarlo\n        const handleClickOutside = (event)=>{\n            if (modalRef.current && !modalRef.current.contains(event.target)) {\n                setVisible(false);\n            }\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>{\n            subscription.unsubscribe();\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        };\n    }, []);\n    const handleClose = ()=>{\n        setVisible(false);\n    };\n    // Función para agregar una transición al video\n    const applyTransition = async (transitionPath)=>{\n        try {\n            // Calcular tiempos para la transición\n            // Por defecto, usar la duración del elemento seleccionado\n            let startTime = 0;\n            let endTime = 5;\n            // Obtener el CommandExecutor\n            const commandExecutor = _services_command_executor_service__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getExecutor();\n            if (!commandExecutor) {\n                console.error(\"CommandExecutor no disponible\");\n                return {\n                    success: false,\n                    details: \"CommandExecutor no disponible\"\n                };\n            }\n            // Lógica para determinar los tiempos según la selección\n            if (selectedItems && selectedItems.length > 0) {\n                if (selectedItems.length === 1) {\n                    // Si solo hay un elemento seleccionado, aplicar fade out al final de ese elemento\n                    const item = selectedItems[0];\n                    if (item.display) {\n                        startTime = (item.display.from || 0) / 1000; // convertir de ms a segundos\n                        endTime = (item.display.to || startTime * 1000 + 5000) / 1000; // convertir de ms a segundos\n                    }\n                } else if (selectedItems.length >= 2) {\n                    // Si hay dos o más elementos, aplicar fade out al final del primer elemento\n                    const firstItem = selectedItems[0];\n                    if (firstItem.display) {\n                        startTime = (firstItem.display.from || 0) / 1000;\n                        endTime = (firstItem.display.to || startTime * 1000 + 5000) / 1000;\n                    }\n                }\n            }\n            // AJUSTE: Duración fija de 3 segundos para el fade out, siempre al final\n            const clipDuration = endTime - startTime;\n            const fadeDuration = Math.min(3.0, clipDuration * 0.7); // 3 segundos o 70% del clip si es más corto\n            // Calcular el tiempo de inicio del fade out (3 segundos antes del final)\n            const fadeStart = endTime - fadeDuration;\n            const imagePath = \"/transitions/black.png\"; // Ruta a la imagen negra\n            console.log(\"Aplicando fade out con imagen \".concat(imagePath, \" en los \\xfaltimos \").concat(fadeDuration.toFixed(2), \"s del clip (desde \").concat(fadeStart.toFixed(2), \"s hasta \").concat(endTime.toFixed(2), \"s)\"));\n            // NUEVO ENFOQUE: 20 capas que comienzan en diferentes momentos pero todas terminan al final\n            // y cada una con 5% más de opacidad que la anterior\n            const totalSteps = 20; // Ahora con incrementos de 5%\n            // Calcular el incremento de tiempo entre el inicio de cada capa\n            const timeIncrement = fadeDuration / totalSteps;\n            // Helper function para añadir delay\n            const delay = (ms)=>new Promise((resolve)=>setTimeout(resolve, ms));\n            // Crear capas con opacidad progresiva usando async/await y delay\n            for(let i = 0; i < totalSteps; i++){\n                // Añadir delay entre cada aplicación\n                await delay(100);\n                // Calcular tiempo de inicio para esta capa (escalonado)\n                // La primera capa comienza en fadeStart, las siguientes cada vez más tarde\n                const stepStart = fadeStart + i * timeIncrement;\n                // Todas las capas terminan al mismo tiempo (al final del clip)\n                const stepEnd = endTime;\n                // Calcular opacidad progresiva (5%, 10%, 15%, ... 100%)\n                const opacity = (i + 1) * 5;\n                console.log(\"Paso \".concat(i + 1, \"/\").concat(totalSteps, \": Creando capa con opacidad \").concat(opacity, \"% desde \").concat(stepStart.toFixed(2), \"s hasta \").concat(stepEnd.toFixed(2), \"s\"));\n                // Crear un objeto imagen con la imagen negra con un ID único basado en el timestamp\n                const uniqueId = (0,_designcombo_timeline__WEBPACK_IMPORTED_MODULE_6__.generateId)() + \"_fade_\" + Date.now() + \"_\" + i;\n                const imagePayload = {\n                    id: uniqueId,\n                    display: {\n                        from: stepStart * 1000,\n                        to: stepEnd * 1000 // Convertir a milisegundos (final del clip)\n                    },\n                    type: \"image\",\n                    details: {\n                        src: imagePath,\n                        width: 1600,\n                        height: 900,\n                        opacity: opacity,\n                        left: 0,\n                        top: 0,\n                        scaleMode: \"cover\",\n                        originX: \"center\",\n                        originY: \"center\",\n                        zIndex: 1000 + i\n                    }\n                };\n                // Usar dispatch para añadir la imagen y asegurar evento completo\n                console.log(\"Dispatching imagen #\".concat(i + 1, \" con ID: \").concat(uniqueId, \" (\").concat(opacity, \"% opacidad)\"));\n                (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_2__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_7__.ADD_IMAGE, {\n                    payload: imagePayload,\n                    options: {\n                        position: {\n                            x: 0.5,\n                            y: 0.5\n                        },\n                        scaleMode: \"cover\"\n                    }\n                });\n                // Log después de dispatch\n                console.log(\"✓ Imagen #\".concat(i + 1, \" a\\xf1adida correctamente\"));\n            }\n            console.log(\"✅ Fade out aplicado con \".concat(totalSteps, \" capas superpuestas de imagen con opacidad progresiva del 5% al 100%\"));\n            return {\n                success: true,\n                details: \"Efecto de fade out aplicado en los \\xfaltimos \".concat(fadeDuration.toFixed(1), \" segundos (con inicio escalonado)\")\n            };\n        } catch (error) {\n            console.error(\"Error al a\\xf1adir fade out:\", error);\n            return {\n                success: false,\n                details: \"Error al a\\xf1adir fade out: \".concat(error instanceof Error ? error.message : String(error))\n            };\n        }\n    };\n    // Función para enviar un mensaje y procesarlo sin mostrar chat\n    const sendCommand = async ()=>{\n        if (!chatInput.trim()) return;\n        const userMessage = {\n            role: \"user\",\n            content: chatInput,\n            timestamp: new Date()\n        };\n        // Añadir el mensaje del usuario al chat interno (para lógica, no se muestra)\n        setChatMessages([\n            ...chatMessages,\n            userMessage\n        ]);\n        setChatInput(\"\");\n        setIsSending(true);\n        setLastActionInfo(null);\n        setShowActionInfo(false);\n        setActionSuccess(null);\n        try {\n            console.log(\"=== INICIANDO ENV\\xcdO DE COMANDO ===\");\n            // Enviar el mensaje a la API\n            const response = await _services_ai_service__WEBPACK_IMPORTED_MODULE_4__[\"default\"].sendChatMessage({\n                message: chatInput,\n                selectedItems: selectedItems\n            });\n            console.log(\"Respuesta recibida de la API:\", response);\n            if (response.success && response.response) {\n                var _response_applyTransitionDetection, _response_urlAnalysis;\n                let actionSuccessful = true; // Por defecto asumimos éxito\n                let operationDetails = \"\";\n                let screenshotToAdd = null;\n                let detectionInfo = null;\n                let startTime = 0;\n                let endTime = 5;\n                let actionDetected = false;\n                let errorDetails = null;\n                // Verificar si debemos aplicar una transición\n                if (((_response_applyTransitionDetection = response.applyTransitionDetection) === null || _response_applyTransitionDetection === void 0 ? void 0 : _response_applyTransitionDetection.detected) && response.applyTransitionDetection.confidence > 0.2 && response.applyTransitionDetection.transitionPath) {\n                    actionDetected = true;\n                    const transitionPath = response.applyTransitionDetection.transitionPath;\n                    console.log(\"Aplicando transici\\xf3n:\", transitionPath);\n                    try {\n                        // Aplicar la transición de desvanecimiento\n                        const transitionResult = await applyTransition(transitionPath);\n                        console.log(\"Resultado de aplicar transici\\xf3n:\", transitionResult);\n                        actionSuccessful = transitionResult.success;\n                        operationDetails = transitionResult.details;\n                        // Detalles de la detección para referenciar\n                        detectionInfo = {\n                            detected: response.applyTransitionDetection.detected,\n                            confidence: response.applyTransitionDetection.confidence,\n                            reason: response.applyTransitionDetection.reason\n                        };\n                    } catch (error) {\n                        var _error_constructor;\n                        // Capturar errores específicos de la transición\n                        console.error(\"Error al aplicar transici\\xf3n:\", error);\n                        actionSuccessful = false;\n                        operationDetails = \"Error al aplicar transici\\xf3n: \".concat(error.message || \"Error desconocido\");\n                        errorDetails = {\n                            message: error.message || \"Error desconocido\",\n                            stack: error.stack,\n                            type: ((_error_constructor = error.constructor) === null || _error_constructor === void 0 ? void 0 : _error_constructor.name) || \"Error\"\n                        };\n                    }\n                } else if (response.showScreenshotDetection && ((_response_urlAnalysis = response.urlAnalysis) === null || _response_urlAnalysis === void 0 ? void 0 : _response_urlAnalysis.containsURLs) && response.urlAnalysis.screenshots && response.urlAnalysis.screenshots.length > 0) {\n                    // Comprobar si la detección es positiva con confianza suficiente\n                    if (response.showScreenshotDetection.detected && response.showScreenshotDetection.confidence > 0.2) {\n                        actionDetected = true;\n                        // Seleccionar la primera captura disponible\n                        const firstScreenshot = response.urlAnalysis.screenshots[0];\n                        screenshotToAdd = firstScreenshot;\n                        // Guardar información de detección\n                        detectionInfo = {\n                            detected: response.showScreenshotDetection.detected,\n                            confidence: response.showScreenshotDetection.confidence,\n                            reason: response.showScreenshotDetection.reason\n                        };\n                        // Calcular tiempos para la imagen\n                        // Por defecto, usar la duración del elemento seleccionado\n                        startTime = 0;\n                        endTime = 5;\n                        // Añadir la captura a la timeline utilizando el CommandExecutorService\n                        const commandExecutor = _services_command_executor_service__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getExecutor();\n                        if (commandExecutor) {\n                            try {\n                                // Si hay elementos seleccionados, usar sus tiempos\n                                if (selectedItems && selectedItems.length > 0) {\n                                    // Obtener el primer elemento seleccionado\n                                    const firstItem = selectedItems[0];\n                                    // Intentar obtener los tiempos del elemento\n                                    if (firstItem.display) {\n                                        startTime = (firstItem.display.from || 0) / 1000; // convertir de ms a segundos\n                                        endTime = (firstItem.display.to || startTime * 1000 + 5000) / 1000; // convertir de ms a segundos\n                                    }\n                                }\n                                // Añadir la imagen a la timeline\n                                await commandExecutor.addImage(firstScreenshot.screenshotPath, {\n                                    startTime,\n                                    endTime\n                                });\n                                // Registrar la captura añadida\n                                setAddedScreenshots((prev)=>[\n                                        ...prev,\n                                        firstScreenshot\n                                    ]);\n                                // Detalles de la operación\n                                operationDetails = \"Captura aplicada a la timeline desde \".concat(startTime.toFixed(1), \"s hasta \").concat(endTime.toFixed(1), \"s\");\n                                console.log(\"Imagen a\\xf1adida a la timeline desde \".concat(startTime, \"s hasta \").concat(endTime, \"s: \").concat(firstScreenshot.screenshotPath));\n                            } catch (error) {\n                                console.error(\"Error al a\\xf1adir imagen a la timeline:\", error);\n                                actionSuccessful = false;\n                                operationDetails = \"Error al a\\xf1adir imagen: \".concat(error instanceof Error ? error.message : String(error));\n                            }\n                        } else {\n                            console.error(\"CommandExecutor no disponible\");\n                            actionSuccessful = false;\n                            operationDetails = \"CommandExecutor no disponible\";\n                        }\n                    }\n                }\n                // Actualizar estado según los resultados\n                setActionSuccess(actionSuccessful);\n                // Si hubo un error, actualizar con detalles adicionales\n                if (!actionSuccessful && errorDetails) {\n                    setLastActionInfo({\n                        operationDetails,\n                        errorDetails,\n                        confidence: (detectionInfo === null || detectionInfo === void 0 ? void 0 : detectionInfo.confidence) || 0,\n                        reason: (detectionInfo === null || detectionInfo === void 0 ? void 0 : detectionInfo.reason) || \"Error en la operaci\\xf3n\",\n                        screenshotToAdd\n                    });\n                } else {\n                    setLastActionInfo({\n                        operationDetails,\n                        confidence: (detectionInfo === null || detectionInfo === void 0 ? void 0 : detectionInfo.confidence) || 0,\n                        reason: (detectionInfo === null || detectionInfo === void 0 ? void 0 : detectionInfo.reason) || \"\",\n                        screenshotToAdd\n                    });\n                }\n                setShowActionInfo(actionDetected || screenshotToAdd !== null);\n                // Componer el mensaje informativo si tenemos respuesta válida\n                let actionMessage;\n                if (actionDetected) {\n                    // Si se detectó una acción específica (como agregar captura o transición)\n                    actionMessage = actionSuccessful ? screenshotToAdd ? \"✨ \".concat(operationDetails || \"Captura aplicada correctamente\") : \"✨ \".concat(operationDetails || \"Fade out aplicado correctamente\") : \"❌ Error: \".concat(operationDetails || \"No se pudo completar la operaci\\xf3n.\");\n                } else {\n                    // Si no se detectó ninguna acción específica, mostrar un mensaje predeterminado\n                    actionMessage = \"ℹ️ Esta \\xe1rea es para ejecutar acciones espec\\xedficas en la timeline. Si deseas conversar, por favor utiliza el chat.\";\n                    setActionSuccess(null); // Neutro, ni éxito ni error\n                }\n                setLastActionInfo(actionMessage);\n                setShowActionInfo(true);\n                // Añadir la respuesta del asistente al chat interno (no se muestra)\n                const assistantMessage = {\n                    role: \"assistant\",\n                    content: response.response + (actionDetected && actionSuccessful ? screenshotToAdd ? \"\\n\\n✅ **Captura de pantalla aplicada a la timeline**\\n- URL: \".concat(screenshotToAdd.url, \"\\n- Tiempo: desde \").concat(startTime, \"s hasta \").concat(endTime, \"s\\n- Confianza: \").concat(Math.round((detectionInfo === null || detectionInfo === void 0 ? void 0 : detectionInfo.confidence) * 100), \"%\") : \"\\n\\n✅ **Fade out aplicado a la timeline**\\n- Efecto: Desvanecimiento al final del clip\\n- Tiempo: cerca del final en \".concat(endTime.toFixed(1), \"s\\n- Confianza: \").concat(Math.round((detectionInfo === null || detectionInfo === void 0 ? void 0 : detectionInfo.confidence) * 100), \"%\") : \"\"),\n                    timestamp: new Date(),\n                    detectionInfo: detectionInfo\n                };\n                setChatMessages((prevMessages)=>[\n                        ...prevMessages,\n                        assistantMessage\n                    ]);\n                // Ocultar la información de acción después de 4 segundos\n                setTimeout(()=>{\n                    setShowActionInfo(false);\n                }, 4000);\n            } else {\n                // Manejar caso de error en la respuesta\n                console.error(\"Error en la respuesta de la API:\", response);\n                setActionSuccess(false);\n                setLastActionInfo({\n                    operationDetails: \"Error al procesar la solicitud: \" + (response.error || \"Error desconocido\"),\n                    confidence: 0,\n                    reason: \"Error en la API\"\n                });\n                setShowActionInfo(true);\n            }\n        } catch (error) {\n            console.error(\"Error al enviar mensaje:\", error);\n            // Mostrar mensaje de error brevemente\n            setActionSuccess(false);\n            setLastActionInfo(\"❌ Error: \".concat(error instanceof Error ? error.message : \"Error de comunicaci\\xf3n con el servicio de IA.\"));\n            setShowActionInfo(true);\n            setTimeout(()=>{\n                setShowActionInfo(false);\n            }, 3000);\n        } finally{\n            setIsSending(false);\n        }\n    };\n    // Función para manejar cambios en el textarea\n    const handleTextareaChange = (e)=>{\n        setChatInput(e.target.value);\n    };\n    // Función para manejar el envío del mensaje con Enter\n    const handleKeyPress = (e)=>{\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            sendCommand();\n        }\n    };\n    const handleAddScreenshot = (url)=>{\n        try {\n            // Verificar si se trata de un APNG\n            const isAPNG = url.toLowerCase().endsWith(\".apng\");\n            if (isAPNG) {\n                console.log(\"Advertencia: Se est\\xe1 intentando a\\xf1adir un APNG como captura de pantalla\");\n                // Mostrar advertencia pero continuar con el proceso\n                setLastActionInfo({\n                    operationDetails: \"⚠️ Advertencia: El formato APNG puede no comportarse correctamente como captura. Se intentar\\xe1 usar como imagen est\\xe1tica.\",\n                    confidence: 0.5,\n                    reason: \"Formato potencialmente problem\\xe1tico\",\n                    screenshotToAdd: url\n                });\n                setActionSuccess(true);\n                setShowActionInfo(true);\n            }\n            // Continuar con la lógica normal\n            // Obtener el servicio de comandos\n            const commandExecutor = _services_command_executor_service__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getExecutor();\n            if (!commandExecutor) {\n                console.error(\"CommandExecutor no disponible\");\n                setLastActionInfo({\n                    operationDetails: \"Error: No se pudo obtener el servicio de comandos para a\\xf1adir la captura\",\n                    confidence: 0,\n                    reason: \"Error de servicio\",\n                    screenshotToAdd: null\n                });\n                setActionSuccess(false);\n                setShowActionInfo(true);\n                return;\n            }\n            // Calcular tiempo para ubicar la imagen\n            let startTime = 0;\n            // Si hay elementos seleccionados, usar su tiempo\n            if (selectedItems && selectedItems.length > 0) {\n                const firstItem = selectedItems[0];\n                if (firstItem.display) {\n                    startTime = (firstItem.display.from || 0) / 1000; // convertir de ms a segundos\n                }\n            }\n            // Añadir la imagen a la timeline\n            commandExecutor.addImage(url, {\n                startTime,\n                endTime: startTime + 5,\n                position: {\n                    x: 0.5,\n                    y: 0.5\n                },\n                isStatic: isAPNG // Si es APNG, forzar como estático\n            });\n            // Actualizar la UI con el éxito\n            setLastActionInfo({\n                operationDetails: \"Captura a\\xf1adida a la l\\xednea de tiempo\".concat(isAPNG ? \" (como imagen est\\xe1tica)\" : \"\"),\n                confidence: 1.0,\n                reason: \"Acci\\xf3n manual del usuario\",\n                screenshotToAdd: null\n            });\n            setActionSuccess(true);\n            setShowActionInfo(true);\n            // Ocultar después de 3 segundos\n            setTimeout(()=>{\n                setShowActionInfo(false);\n            }, 3000);\n        } catch (error) {\n            console.error(\"Error al a\\xf1adir captura:\", error);\n            // Extraer mensaje de error\n            let errorMessage = \"Error desconocido\";\n            if (error instanceof Error) {\n                errorMessage = error.message;\n            }\n            // Actualizar la UI con el error\n            setLastActionInfo({\n                operationDetails: \"Error al a\\xf1adir captura: \".concat(errorMessage),\n                confidence: 0,\n                reason: \"Error en el proceso\",\n                errorDetails: {\n                    message: errorMessage,\n                    type: error instanceof Error ? error.constructor.name : \"Error\",\n                    stack: error instanceof Error ? error.stack : undefined\n                },\n                screenshotToAdd: null\n            });\n            setActionSuccess(false);\n            setShowActionInfo(true);\n        }\n    };\n    if (!visible) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: modalRef,\n        style: {\n            position: \"fixed\",\n            left: position.x,\n            top: position.y,\n            zIndex: 9999,\n            background: \"linear-gradient(135deg, rgba(35, 20, 60, 0.95) 0%, rgba(45, 25, 85, 0.95) 100%)\",\n            borderRadius: \"12px\",\n            boxShadow: \"0 8px 32px rgba(0, 0, 0, 0.6), 0 0 0 1px rgba(156, 90, 250, 0.3)\",\n            padding: \"20px\",\n            width: \"380px\",\n            color: \"white\",\n            fontFamily: \"Inter, system-ui, sans-serif\",\n            border: \"1px solid rgba(156, 90, 250, 0.6)\",\n            backdropFilter: \"blur(10px)\",\n            animation: \"fadeIn 0.3s ease\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"style\", {\n                children: \"\\n          @keyframes fadeIn {\\n            from { opacity: 0; transform: scale(0.95); }\\n            to { opacity: 1; transform: scale(1); }\\n          }\\n          @keyframes pulse {\\n            0% { box-shadow: 0 0 0 0 rgba(156, 90, 250, 0.5); }\\n            70% { box-shadow: 0 0 0 10px rgba(156, 90, 250, 0); }\\n            100% { box-shadow: 0 0 0 0 rgba(156, 90, 250, 0); }\\n          }\\n          @keyframes glow {\\n            0% { border-color: rgba(156, 90, 250, 0.6); }\\n            50% { border-color: rgba(156, 90, 250, 0.9); }\\n            100% { border-color: rgba(156, 90, 250, 0.6); }\\n          }\\n          @keyframes spin {\\n            0% { transform: rotate(0deg); }\\n            100% { transform: rotate(360deg); }\\n          }\\n\\n          /* Estilos para detalles de error */\\n          .error-details {\\n            margin-top: 10px;\\n            padding: 8px;\\n            background-color: rgba(255, 0, 0, 0.05);\\n            border-radius: 4px;\\n            font-size: 13px;\\n          }\\n\\n          .error-technical-info {\\n            margin-top: 8px;\\n            padding: 8px;\\n            background-color: rgba(255, 255, 255, 0.1);\\n            border-radius: 4px;\\n            font-family: monospace;\\n            font-size: 12px;\\n            white-space: pre-wrap;\\n            overflow-x: auto;\\n          }\\n\\n          .error-actions {\\n            margin-top: 8px;\\n            display: flex;\\n            justify-content: flex-end;\\n          }\\n\\n          .log-button {\\n            background-color: rgba(156, 90, 250, 0.2);\\n            color: white;\\n            border: none;\\n            border-radius: 4px;\\n            padding: 4px 8px;\\n            font-size: 12px;\\n            cursor: pointer;\\n            transition: all 0.2s ease;\\n          }\\n\\n          .log-button:hover {\\n            background-color: rgba(156, 90, 250, 0.4);\\n          }\\n\\n          details summary {\\n            cursor: pointer;\\n            color: rgba(255, 255, 255, 0.7);\\n            font-weight: 500;\\n          }\\n\\n          details summary:hover {\\n            color: rgba(255, 255, 255, 0.9);\\n          }\\n        \"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                lineNumber: 616,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    justifyContent: \"space-between\",\n                    alignItems: \"center\",\n                    marginBottom: \"16px\",\n                    borderBottom: \"1px solid rgba(156, 90, 250, 0.4)\",\n                    paddingBottom: \"12px\",\n                    position: \"relative\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            position: \"absolute\",\n                            bottom: \"-1px\",\n                            left: \"0\",\n                            width: \"60%\",\n                            height: \"1px\",\n                            background: \"linear-gradient(90deg, rgba(156, 90, 250, 0.8) 0%, rgba(156, 90, 250, 0) 100%)\",\n                            animation: \"glow 1.5s infinite alternate\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                        lineNumber: 699,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        style: {\n                            margin: 0,\n                            fontSize: \"18px\",\n                            fontWeight: \"600\",\n                            color: \"rgba(156, 90, 250, 1.0)\",\n                            textShadow: \"0 2px 4px rgba(0,0,0,0.3)\"\n                        },\n                        children: selectedItems.length > 1 ? \"\".concat(selectedItems.length, \" elementos seleccionados\") : \"Elemento seleccionado\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                        lineNumber: 709,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            gap: \"8px\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleClose,\n                            style: {\n                                background: \"rgba(156, 90, 250, 0.2)\",\n                                border: \"none\",\n                                borderRadius: \"50%\",\n                                color: \"rgba(255, 255, 255, 0.9)\",\n                                cursor: \"pointer\",\n                                fontSize: \"16px\",\n                                padding: \"5px\",\n                                width: \"24px\",\n                                height: \"24px\",\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                justifyContent: \"center\",\n                                lineHeight: \"1\",\n                                transition: \"all 0.2s ease\"\n                            },\n                            onMouseOver: (e)=>{\n                                e.currentTarget.style.background = \"rgba(156, 90, 250, 0.4)\";\n                                e.currentTarget.style.transform = \"scale(1.1)\";\n                            },\n                            onMouseOut: (e)=>{\n                                e.currentTarget.style.background = \"rgba(156, 90, 250, 0.2)\";\n                                e.currentTarget.style.transform = \"scale(1)\";\n                            },\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                            lineNumber: 719,\n                            columnNumber: 9\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                        lineNumber: 718,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                lineNumber: 690,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    marginTop: \"12px\",\n                    marginBottom: \"16px\"\n                },\n                children: [\n                    showActionInfo && lastActionInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            padding: \"12px\",\n                            marginBottom: \"16px\",\n                            background: actionSuccess === false ? \"linear-gradient(to right, rgba(220, 50, 50, 0.15), rgba(220, 50, 50, 0.05))\" : actionSuccess === true ? \"linear-gradient(to right, rgba(70, 200, 120, 0.15), rgba(70, 200, 120, 0.05))\" : \"linear-gradient(to right, rgba(156, 90, 250, 0.15), rgba(156, 90, 250, 0.05))\",\n                            borderRadius: \"8px\",\n                            fontSize: \"14px\",\n                            border: \"1px solid \".concat(actionSuccess === false ? \"rgba(220, 50, 50, 0.3)\" : actionSuccess === true ? \"rgba(70, 200, 120, 0.3)\" : \"rgba(156, 90, 250, 0.3)\"),\n                            boxShadow: \"0 2px 10px rgba(0, 0, 0, 0.1)\",\n                            transition: \"all 0.3s ease\",\n                            animation: actionSuccess ? \"pulse 2s infinite\" : \"\",\n                            color: actionSuccess === false ? \"rgba(255, 220, 220, 0.9)\" : actionSuccess === true ? \"rgba(220, 255, 230, 0.9)\" : \"rgba(240, 230, 255, 0.9)\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    alignItems: \"flex-start\",\n                                    gap: \"8px\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            flexShrink: 0,\n                                            marginTop: \"2px\"\n                                        },\n                                        children: actionSuccess === false ? \"❌\" : actionSuccess === true ? \"✨\" : \"ℹ️\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                        lineNumber: 783,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: lastActionInfo.operationDetails\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                        lineNumber: 793,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                lineNumber: 778,\n                                columnNumber: 13\n                            }, undefined),\n                            !actionSuccess && lastActionInfo.errorDetails && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"error-details\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"details\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"summary\", {\n                                                children: \"Ver detalles t\\xe9cnicos del error\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                                lineNumber: 800,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"error-technical-info\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                children: \"Tipo de error:\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                                                lineNumber: 802,\n                                                                columnNumber: 24\n                                                            }, undefined),\n                                                            \" \",\n                                                            lastActionInfo.errorDetails.type\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                                        lineNumber: 802,\n                                                        columnNumber: 21\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                children: \"Mensaje:\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                                                lineNumber: 803,\n                                                                columnNumber: 24\n                                                            }, undefined),\n                                                            \" \",\n                                                            lastActionInfo.errorDetails.message\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                                        lineNumber: 803,\n                                                        columnNumber: 21\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                children: \"Recomendaci\\xf3n:\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                                                lineNumber: 804,\n                                                                columnNumber: 24\n                                                            }, undefined),\n                                                            \" Verifique los logs en la consola del navegador para m\\xe1s informaci\\xf3n o intente usar un formato diferente para la transici\\xf3n (GIF/MP4).\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                                        lineNumber: 804,\n                                                        columnNumber: 21\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                                lineNumber: 801,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                        lineNumber: 799,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"error-actions\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: \"log-button\",\n                                            onClick: ()=>{\n                                                console.log(\"Consulte la consola para m\\xe1s informaci\\xf3n de depuraci\\xf3n\");\n                                                alert(\"Los logs de depuraci\\xf3n est\\xe1n disponibles en la consola del navegador (F12 > Console)\");\n                                            },\n                                            children: \"Ver logs\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                            lineNumber: 809,\n                                            columnNumber: 35\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                        lineNumber: 808,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                lineNumber: 798,\n                                columnNumber: 15\n                            }, undefined),\n                            lastActionInfo.screenshotToAdd && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    marginTop: \"16px\",\n                                    borderTop: \"1px solid rgba(255, 255, 255, 0.1)\",\n                                    paddingTop: \"16px\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                        src: lastActionInfo.screenshotToAdd,\n                                        alt: \"Captura de pantalla\",\n                                        style: {\n                                            width: \"100%\",\n                                            borderRadius: \"4px\",\n                                            marginBottom: \"12px\",\n                                            border: \"1px solid rgba(255, 255, 255, 0.2)\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                        lineNumber: 829,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            display: \"flex\",\n                                            gap: \"8px\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>handleAddScreenshot(lastActionInfo.screenshotToAdd),\n                                                style: {\n                                                    flex: \"1\",\n                                                    background: \"linear-gradient(135deg, rgba(70, 200, 120, 0.7) 0%, rgba(50, 180, 100, 0.8) 100%)\",\n                                                    border: \"none\",\n                                                    borderRadius: \"6px\",\n                                                    color: \"white\",\n                                                    cursor: \"pointer\",\n                                                    padding: \"8px 16px\",\n                                                    fontSize: \"13px\",\n                                                    fontWeight: \"500\",\n                                                    transition: \"all 0.2s ease\",\n                                                    boxShadow: \"0 4px 12px rgba(50, 180, 100, 0.3)\"\n                                                },\n                                                onMouseOver: (e)=>{\n                                                    e.currentTarget.style.transform = \"translateY(-2px)\";\n                                                    e.currentTarget.style.boxShadow = \"0 6px 14px rgba(50, 180, 100, 0.4)\";\n                                                },\n                                                onMouseOut: (e)=>{\n                                                    e.currentTarget.style.transform = \"translateY(0)\";\n                                                    e.currentTarget.style.boxShadow = \"0 4px 12px rgba(50, 180, 100, 0.3)\";\n                                                },\n                                                children: \"A\\xf1adir a Timeline\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                                lineNumber: 843,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    setShowActionInfo(false);\n                                                    setLastActionInfo(null);\n                                                },\n                                                style: {\n                                                    background: \"rgba(255, 255, 255, 0.1)\",\n                                                    border: \"1px solid rgba(255, 255, 255, 0.2)\",\n                                                    borderRadius: \"6px\",\n                                                    color: \"rgba(255, 255, 255, 0.8)\",\n                                                    cursor: \"pointer\",\n                                                    padding: \"8px 16px\",\n                                                    fontSize: \"13px\",\n                                                    transition: \"all 0.2s ease\"\n                                                },\n                                                onMouseOver: (e)=>{\n                                                    e.currentTarget.style.background = \"rgba(255, 255, 255, 0.15)\";\n                                                },\n                                                onMouseOut: (e)=>{\n                                                    e.currentTarget.style.background = \"rgba(255, 255, 255, 0.1)\";\n                                                },\n                                                children: \"Cerrar\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                                lineNumber: 869,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                        lineNumber: 839,\n                                        columnNumber: 21\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                lineNumber: 824,\n                                columnNumber: 19\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                        lineNumber: 754,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            flexDirection: \"column\",\n                            gap: \"12px\",\n                            borderTop: \"1px solid rgba(156, 90, 250, 0.2)\",\n                            paddingTop: \"16px\",\n                            position: \"relative\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                ref: textareaRef,\n                                value: chatInput,\n                                onChange: handleTextareaChange,\n                                placeholder: \"Ejemplo: 'aplica captura a la timeline' o 'a\\xf1ade transici\\xf3n'\",\n                                disabled: isSending,\n                                style: {\n                                    background: \"rgba(20, 10, 35, 0.5)\",\n                                    border: \"1px solid rgba(156, 90, 250, 0.4)\",\n                                    borderRadius: \"8px\",\n                                    color: \"white\",\n                                    fontSize: \"14px\",\n                                    padding: \"12px\",\n                                    resize: \"vertical\",\n                                    minHeight: \"80px\",\n                                    width: \"100%\",\n                                    boxSizing: \"border-box\",\n                                    transition: \"all 0.2s ease\",\n                                    outline: \"none\",\n                                    boxShadow: \"inset 0 2px 4px rgba(0, 0, 0, 0.3)\",\n                                    fontFamily: \"Inter, system-ui, sans-serif\"\n                                },\n                                onFocus: (e)=>{\n                                    e.target.style.borderColor = \"rgba(156, 90, 250, 0.7)\";\n                                    e.target.style.boxShadow = \"inset 0 2px 4px rgba(0, 0, 0, 0.3), 0 0 0 2px rgba(156, 90, 250, 0.2)\";\n                                },\n                                onBlur: (e)=>{\n                                    e.target.style.borderColor = \"rgba(156, 90, 250, 0.4)\";\n                                    e.target.style.boxShadow = \"inset 0 2px 4px rgba(0, 0, 0, 0.3)\";\n                                }\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                lineNumber: 907,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: sendCommand,\n                                disabled: isSending || !chatInput.trim(),\n                                style: {\n                                    background: isSending || !chatInput.trim() ? \"rgba(156, 90, 250, 0.3)\" : \"linear-gradient(135deg, rgba(156, 90, 250, 0.8) 0%, rgba(120, 60, 220, 0.9) 100%)\",\n                                    border: \"none\",\n                                    borderRadius: \"8px\",\n                                    color: \"white\",\n                                    cursor: isSending || !chatInput.trim() ? \"not-allowed\" : \"pointer\",\n                                    padding: \"12px 16px\",\n                                    fontSize: \"14px\",\n                                    fontWeight: \"500\",\n                                    transition: \"all 0.2s ease\",\n                                    boxShadow: isSending || !chatInput.trim() ? \"none\" : \"0 4px 12px rgba(156, 90, 250, 0.3)\",\n                                    textShadow: \"0 1px 2px rgba(0,0,0,0.2)\"\n                                },\n                                onMouseOver: (e)=>{\n                                    if (!isSending && chatInput.trim()) {\n                                        e.currentTarget.style.transform = \"translateY(-2px)\";\n                                        e.currentTarget.style.boxShadow = \"0 6px 16px rgba(156, 90, 250, 0.4)\";\n                                    }\n                                },\n                                onMouseOut: (e)=>{\n                                    if (!isSending && chatInput.trim()) {\n                                        e.currentTarget.style.transform = \"translateY(0)\";\n                                        e.currentTarget.style.boxShadow = \"0 4px 12px rgba(156, 90, 250, 0.3)\";\n                                    }\n                                },\n                                children: isSending ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"flex\",\n                                        alignItems: \"center\",\n                                        justifyContent: \"center\",\n                                        gap: \"8px\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                width: \"14px\",\n                                                height: \"14px\",\n                                                borderRadius: \"50%\",\n                                                border: \"2px solid rgba(255,255,255,0.3)\",\n                                                borderTopColor: \"white\",\n                                                animation: \"spin 1s linear infinite\"\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                            lineNumber: 973,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: \"Procesando...\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                            lineNumber: 981,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                    lineNumber: 972,\n                                    columnNumber: 15\n                                }, undefined) : \"Ejecutar\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                lineNumber: 938,\n                                columnNumber: 9\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                        lineNumber: 899,\n                        columnNumber: 7\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                lineNumber: 752,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n        lineNumber: 597,\n        columnNumber: 5\n    }, undefined);\n};\n_s(SelectionModal, \"7c6qMWbrXr8FWFwpYRtbXIdwoYU=\");\n_c = SelectionModal;\n/* harmony default export */ __webpack_exports__[\"default\"] = (SelectionModal);\nvar _c;\n$RefreshReg$(_c, \"SelectionModal\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2ZlYXR1cmVzL2VkaXRvci90aW1lbGluZS9zZWxlY3Rpb24tbW9kYWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUEyRDtBQUNLO0FBQ0o7QUFDYjtBQUMyQjtBQUN2QjtBQUNpQjtBQStDcEU7OztDQUdDLEdBQ0QsTUFBTVksaUJBQTJCOztJQUMvQixNQUFNLENBQUNDLFNBQVNDLFdBQVcsR0FBR1osK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDYSxVQUFVQyxZQUFZLEdBQUdkLCtDQUFRQSxDQUFXO1FBQUVlLEdBQUc7UUFBR0MsR0FBRztJQUFFO0lBQ2hFLE1BQU0sQ0FBQ0MsZUFBZUMsaUJBQWlCLEdBQUdsQiwrQ0FBUUEsQ0FBUSxFQUFFO0lBQzVELE1BQU0sQ0FBQ21CLFdBQVdDLGFBQWEsR0FBR3BCLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ3FCLGdCQUFnQkMsa0JBQWtCLEdBQUd0QiwrQ0FBUUEsQ0FBZ0I7SUFDcEUsTUFBTSxDQUFDdUIsZ0JBQWdCQyxrQkFBa0IsR0FBR3hCLCtDQUFRQSxDQUFDO0lBQ3JELE1BQU0sQ0FBQ3lCLGVBQWVDLGlCQUFpQixHQUFHMUIsK0NBQVFBLENBQWlCO0lBQ25FLE1BQU0yQixXQUFXMUIsNkNBQU1BLENBQWlCO0lBQ3hDLE1BQU0yQixjQUFjM0IsNkNBQU1BLENBQXNCO0lBRWhELHNCQUFzQjtJQUN0QixNQUFNLENBQUM0QixjQUFjQyxnQkFBZ0IsR0FBRzlCLCtDQUFRQSxDQUFnQixFQUFFO0lBQ2xFLE1BQU0sQ0FBQytCLFdBQVdDLGFBQWEsR0FBR2hDLCtDQUFRQSxDQUFDO0lBRTNDLHVEQUF1RDtJQUN2RCxNQUFNLENBQUNpQyxrQkFBa0JDLG9CQUFvQixHQUFHbEMsK0NBQVFBLENBQTBDLEVBQUU7SUFFcEdELGdEQUFTQSxDQUFDO1FBQ1Isa0RBQWtEO1FBQ2xELE1BQU1vQyxrQkFBa0JoQyx3REFBT0EsQ0FBQ2lDLElBQUksQ0FDbENsQywyREFB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LEtBQ25DLFNBQ0E7b0NBQ0pvRSxZQUFZO2dDQUNkO2dDQUNBTyxhQUFhLENBQUN4QztvQ0FDWixJQUFJLENBQUMvSCxhQUFhWSxVQUFVZ0YsSUFBSSxJQUFJO3dDQUNsQ21DLEVBQUV5QyxhQUFhLENBQUM1QixLQUFLLENBQUM2QixTQUFTLEdBQUc7d0NBQ2xDMUMsRUFBRXlDLGFBQWEsQ0FBQzVCLEtBQUssQ0FBQ0csU0FBUyxHQUFHO29DQUNwQztnQ0FDRjtnQ0FDQTJCLFlBQVksQ0FBQzNDO29DQUNYLElBQUksQ0FBQy9ILGFBQWFZLFVBQVVnRixJQUFJLElBQUk7d0NBQ2xDbUMsRUFBRXlDLGFBQWEsQ0FBQzVCLEtBQUssQ0FBQzZCLFNBQVMsR0FBRzt3Q0FDbEMxQyxFQUFFeUMsYUFBYSxDQUFDNUIsS0FBSyxDQUFDRyxTQUFTLEdBQUc7b0NBQ3BDO2dDQUNGOzBDQUVDL0ksMEJBQ0MsOERBQUMwSTtvQ0FBSUUsT0FBTzt3Q0FBRXZGLFNBQVM7d0NBQVFrRyxZQUFZO3dDQUFVRCxnQkFBZ0I7d0NBQVVXLEtBQUs7b0NBQU07O3NEQUN4Riw4REFBQ3ZCOzRDQUFJRSxPQUFPO2dEQUNWN0QsT0FBTztnREFDUEMsUUFBUTtnREFDUjhELGNBQWM7Z0RBQ2RLLFFBQVE7Z0RBQ1JnRCxnQkFBZ0I7Z0RBQ2hCOUMsV0FBVzs0Q0FDYjs7Ozs7O3NEQUNBLDhEQUFDK0M7c0RBQUs7Ozs7Ozs7Ozs7O2dEQUVOOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNaEI7R0FuNkJNN007S0FBQUE7QUFxNkJOLCtEQUFlQSxjQUFjQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2ZlYXR1cmVzL2VkaXRvci90aW1lbGluZS9zZWxlY3Rpb24tbW9kYWwudHN4PzgwNDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGZpbHRlciwgc3ViamVjdCwgZGlzcGF0Y2ggfSBmcm9tIFwiQGRlc2lnbmNvbWJvL2V2ZW50c1wiO1xuaW1wb3J0IHsgVElNRUxJTkVfU0VMRUNUSU9OX01PREFMIH0gZnJvbSAnLi9pdGVtcy90aW1lbGluZSc7XG5pbXBvcnQgQUlTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL2FpLXNlcnZpY2UnO1xuaW1wb3J0IENvbW1hbmRFeGVjdXRvclNlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvY29tbWFuZC1leGVjdXRvci1zZXJ2aWNlJztcbmltcG9ydCB7IGdlbmVyYXRlSWQgfSBmcm9tIFwiQGRlc2lnbmNvbWJvL3RpbWVsaW5lXCI7XG5pbXBvcnQgeyBBRERfSU1BR0UsIEFERF9WSURFTywgQUREX1RFWFQgfSBmcm9tIFwiQGRlc2lnbmNvbWJvL3N0YXRlXCI7XG5cbmludGVyZmFjZSBQb3NpdGlvbiB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgU2VsZWN0ZWRJdGVtcyB7XG4gIHNlbGVjdGVkSXRlbXM6IGFueVtdO1xuICBwb3NpdGlvbjogUG9zaXRpb247XG4gIHNvdXJjZTogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgVVJMQW5hbHlzaXNSZXN1bHQge1xuICBjb250YWluc1VSTHM6IGJvb2xlYW47XG4gIHVybHM6IHN0cmluZ1tdO1xuICBzY3JlZW5zaG90cz86IFVSTFNjcmVlbnNob3RJbmZvW107XG59XG5cbmludGVyZmFjZSBVUkxTY3JlZW5zaG90SW5mbyB7XG4gIHVybDogc3RyaW5nO1xuICBzY3JlZW5zaG90UGF0aDogc3RyaW5nO1xufVxuXG4vLyBJbnRlcmZheiBwYXJhIGRldGVjY2nDs24gZGUgdHJhbnNpY2lvbmVzXG5pbnRlcmZhY2UgVHJhbnNpdGlvbkRldGVjdGlvblJlc3VsdCB7XG4gIGRldGVjdGVkOiBib29sZWFuO1xuICBjb25maWRlbmNlOiBudW1iZXI7XG4gIHJlYXNvbjogc3RyaW5nO1xuICB0cmFuc2l0aW9uUGF0aD86IHN0cmluZztcbn1cblxuLy8gSW50ZXJmYXogcGFyYSBtZW5zYWplcyBkZSBjaGF0XG5pbnRlcmZhY2UgQ2hhdE1lc3NhZ2Uge1xuICByb2xlOiAndXNlcicgfCAnYXNzaXN0YW50JztcbiAgY29udGVudDogc3RyaW5nO1xuICB0aW1lc3RhbXA6IERhdGU7XG4gIC8vIFNpIGVsIG1lbnNhamUgbW9zdHLDsyBjYXB0dXJhIGRlIHBhbnRhbGxhLCBndWFyZGFyIGluZm9ybWFjacOzblxuICBzaG93U2NyZWVuc2hvdD86IGJvb2xlYW47XG4gIHNjcmVlbnNob3RVcmw/OiBzdHJpbmc7XG4gIGRldGVjdGlvbkluZm8/OiB7XG4gICAgZGV0ZWN0ZWQ6IGJvb2xlYW47XG4gICAgY29uZmlkZW5jZTogbnVtYmVyO1xuICAgIHJlYXNvbjogc3RyaW5nO1xuICB9O1xufVxuXG4vKipcbiAqIE1vZGFsIHF1ZSBzZSBtdWVzdHJhIGN1YW5kbyBzZSBzZWxlY2Npb25hbiBlbGVtZW50b3MgcG9yIGFycmFzdHJlIGVuIGxhIHRpbWVsaW5lXG4gKiBQcm9wb3JjaW9uYSB1bmEgaW50ZXJmYXogc2ltcGxlIHBhcmEgZW52aWFyIGNvbWFuZG9zIG1lZGlhbnRlIHRleHRvXG4gKi9cbmNvbnN0IFNlbGVjdGlvbk1vZGFsOiBSZWFjdC5GQyA9ICgpID0+IHtcbiAgY29uc3QgW3Zpc2libGUsIHNldFZpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcG9zaXRpb24sIHNldFBvc2l0aW9uXSA9IHVzZVN0YXRlPFBvc2l0aW9uPih7IHg6IDAsIHk6IDAgfSk7XG4gIGNvbnN0IFtzZWxlY3RlZEl0ZW1zLCBzZXRTZWxlY3RlZEl0ZW1zXSA9IHVzZVN0YXRlPGFueVtdPihbXSk7XG4gIGNvbnN0IFtpc1NlbmRpbmcsIHNldElzU2VuZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsYXN0QWN0aW9uSW5mbywgc2V0TGFzdEFjdGlvbkluZm9dID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzaG93QWN0aW9uSW5mbywgc2V0U2hvd0FjdGlvbkluZm9dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWN0aW9uU3VjY2Vzcywgc2V0QWN0aW9uU3VjY2Vzc10gPSB1c2VTdGF0ZTxib29sZWFuIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IG1vZGFsUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgdGV4dGFyZWFSZWYgPSB1c2VSZWY8SFRNTFRleHRBcmVhRWxlbWVudD4obnVsbCk7XG5cbiAgLy8gRXN0YWRvIHBhcmEgZWwgY2hhdFxuICBjb25zdCBbY2hhdE1lc3NhZ2VzLCBzZXRDaGF0TWVzc2FnZXNdID0gdXNlU3RhdGU8Q2hhdE1lc3NhZ2VbXT4oW10pO1xuICBjb25zdCBbY2hhdElucHV0LCBzZXRDaGF0SW5wdXRdID0gdXNlU3RhdGUoJycpO1xuXG4gIC8vIEVzdGFkbyBwYXJhIHJhc3RyZWFyIGltw6FnZW5lcyBhw7FhZGlkYXMgYSBsYSB0aW1lbGluZVxuICBjb25zdCBbYWRkZWRTY3JlZW5zaG90cywgc2V0QWRkZWRTY3JlZW5zaG90c10gPSB1c2VTdGF0ZTx7dXJsOiBzdHJpbmcsIHNjcmVlbnNob3RQYXRoOiBzdHJpbmd9W10+KFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIFN1c2NyaWJpcnNlIGFsIGV2ZW50byBkZSBzZWxlY2Npw7NuIHBvciBhcnJhc3RyZVxuICAgIGNvbnN0IHNlbGVjdGlvbkV2ZW50cyA9IHN1YmplY3QucGlwZShcbiAgICAgIGZpbHRlcigoeyBrZXkgfSkgPT4ga2V5ID09PSBUSU1FTElORV9TRUxFQ1RJT05fTU9EQUwpXG4gICAgKTtcblxuICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IHNlbGVjdGlvbkV2ZW50cy5zdWJzY3JpYmUoKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBwYXlsb2FkID0gZXZlbnQudmFsdWU/LnBheWxvYWQgYXMgU2VsZWN0ZWRJdGVtcztcbiAgICAgIGNvbnNvbGUubG9nKCdTZWxlY3Rpb24gbW9kYWwgZXZlbnQgcmVjZWl2ZWQ6JywgcGF5bG9hZCk7XG5cbiAgICAgIGlmIChwYXlsb2FkICYmIHBheWxvYWQuc2VsZWN0ZWRJdGVtcyAmJiBwYXlsb2FkLnNlbGVjdGVkSXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICBzZXRTZWxlY3RlZEl0ZW1zKHBheWxvYWQuc2VsZWN0ZWRJdGVtcyk7XG5cbiAgICAgICAgLy8gQWp1c3RhciBsYSBwb3NpY2nDs24gcGFyYSBxdWUgZWwgbW9kYWwgc2VhIHZpc2libGVcbiAgICAgICAgc2V0UG9zaXRpb24oe1xuICAgICAgICAgIHg6IE1hdGgubWluKHBheWxvYWQucG9zaXRpb24ueCwgd2luZG93LmlubmVyV2lkdGggLSAzNTApLFxuICAgICAgICAgIHk6IE1hdGgubWluKHBheWxvYWQucG9zaXRpb24ueSwgd2luZG93LmlubmVySGVpZ2h0IC0gMzUwKVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBSZXNldGVhciBlc3RhZG9zXG4gICAgICAgIHNldENoYXRNZXNzYWdlcyhbXSk7XG4gICAgICAgIHNldENoYXRJbnB1dCgnJyk7XG4gICAgICAgIHNldExhc3RBY3Rpb25JbmZvKG51bGwpO1xuICAgICAgICBzZXRBY3Rpb25TdWNjZXNzKG51bGwpO1xuICAgICAgICBzZXRWaXNpYmxlKHRydWUpO1xuXG4gICAgICAgIC8vIEVuZm9jYXIgZWwgdGV4dGFyZWEgY3VhbmRvIGVsIG1vZGFsIHNlIGFicmVcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgaWYgKHRleHRhcmVhUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHRleHRhcmVhUmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDEwMCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBNYW5lamFyIGNsaWMgZnVlcmEgZGVsIG1vZGFsIHBhcmEgY2VycmFybG9cbiAgICBjb25zdCBoYW5kbGVDbGlja091dHNpZGUgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGlmIChtb2RhbFJlZi5jdXJyZW50ICYmICFtb2RhbFJlZi5jdXJyZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCBhcyBOb2RlKSkge1xuICAgICAgICBzZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZUNsb3NlID0gKCkgPT4ge1xuICAgIHNldFZpc2libGUoZmFsc2UpO1xuICB9O1xuXG4gIC8vIEZ1bmNpw7NuIHBhcmEgYWdyZWdhciB1bmEgdHJhbnNpY2nDs24gYWwgdmlkZW9cbiAgY29uc3QgYXBwbHlUcmFuc2l0aW9uID0gYXN5bmMgKHRyYW5zaXRpb25QYXRoOiBzdHJpbmcpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZGV0YWlsczogc3RyaW5nIH0+ID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gQ2FsY3VsYXIgdGllbXBvcyBwYXJhIGxhIHRyYW5zaWNpw7NuXG4gICAgICAvLyBQb3IgZGVmZWN0bywgdXNhciBsYSBkdXJhY2nDs24gZGVsIGVsZW1lbnRvIHNlbGVjY2lvbmFkb1xuICAgICAgbGV0IHN0YXJ0VGltZSA9IDA7XG4gICAgICBsZXQgZW5kVGltZSA9IDU7XG5cbiAgICAgIC8vIE9idGVuZXIgZWwgQ29tbWFuZEV4ZWN1dG9yXG4gICAgICBjb25zdCBjb21tYW5kRXhlY3V0b3IgPSBDb21tYW5kRXhlY3V0b3JTZXJ2aWNlLmdldEV4ZWN1dG9yKCk7XG4gICAgICBpZiAoIWNvbW1hbmRFeGVjdXRvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQ29tbWFuZEV4ZWN1dG9yIG5vIGRpc3BvbmlibGVcIik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZGV0YWlsczogXCJDb21tYW5kRXhlY3V0b3Igbm8gZGlzcG9uaWJsZVwiXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIC8vIEzDs2dpY2EgcGFyYSBkZXRlcm1pbmFyIGxvcyB0aWVtcG9zIHNlZ8O6biBsYSBzZWxlY2Npw7NuXG4gICAgICBpZiAoc2VsZWN0ZWRJdGVtcyAmJiBzZWxlY3RlZEl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKHNlbGVjdGVkSXRlbXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgLy8gU2kgc29sbyBoYXkgdW4gZWxlbWVudG8gc2VsZWNjaW9uYWRvLCBhcGxpY2FyIGZhZGUgb3V0IGFsIGZpbmFsIGRlIGVzZSBlbGVtZW50b1xuICAgICAgICAgIGNvbnN0IGl0ZW0gPSBzZWxlY3RlZEl0ZW1zWzBdO1xuICAgICAgICAgIGlmIChpdGVtLmRpc3BsYXkpIHtcbiAgICAgICAgICAgIHN0YXJ0VGltZSA9IChpdGVtLmRpc3BsYXkuZnJvbSB8fCAwKSAvIDEwMDA7IC8vIGNvbnZlcnRpciBkZSBtcyBhIHNlZ3VuZG9zXG4gICAgICAgICAgICBlbmRUaW1lID0gKGl0ZW0uZGlzcGxheS50byB8fCAoc3RhcnRUaW1lICogMTAwMCArIDUwMDApKSAvIDEwMDA7IC8vIGNvbnZlcnRpciBkZSBtcyBhIHNlZ3VuZG9zXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdGVkSXRlbXMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAvLyBTaSBoYXkgZG9zIG8gbcOhcyBlbGVtZW50b3MsIGFwbGljYXIgZmFkZSBvdXQgYWwgZmluYWwgZGVsIHByaW1lciBlbGVtZW50b1xuICAgICAgICAgIGNvbnN0IGZpcnN0SXRlbSA9IHNlbGVjdGVkSXRlbXNbMF07XG4gICAgICAgICAgaWYgKGZpcnN0SXRlbS5kaXNwbGF5KSB7XG4gICAgICAgICAgICBzdGFydFRpbWUgPSAoZmlyc3RJdGVtLmRpc3BsYXkuZnJvbSB8fCAwKSAvIDEwMDA7XG4gICAgICAgICAgICBlbmRUaW1lID0gKGZpcnN0SXRlbS5kaXNwbGF5LnRvIHx8IChzdGFydFRpbWUgKiAxMDAwICsgNTAwMCkpIC8gMTAwMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQUpVU1RFOiBEdXJhY2nDs24gZmlqYSBkZSAzIHNlZ3VuZG9zIHBhcmEgZWwgZmFkZSBvdXQsIHNpZW1wcmUgYWwgZmluYWxcbiAgICAgIGNvbnN0IGNsaXBEdXJhdGlvbiA9IGVuZFRpbWUgLSBzdGFydFRpbWU7XG4gICAgICBjb25zdCBmYWRlRHVyYXRpb24gPSBNYXRoLm1pbigzLjAsIGNsaXBEdXJhdGlvbiAqIDAuNyk7IC8vIDMgc2VndW5kb3MgbyA3MCUgZGVsIGNsaXAgc2kgZXMgbcOhcyBjb3J0b1xuXG4gICAgICAvLyBDYWxjdWxhciBlbCB0aWVtcG8gZGUgaW5pY2lvIGRlbCBmYWRlIG91dCAoMyBzZWd1bmRvcyBhbnRlcyBkZWwgZmluYWwpXG4gICAgICBjb25zdCBmYWRlU3RhcnQgPSBlbmRUaW1lIC0gZmFkZUR1cmF0aW9uO1xuXG4gICAgICBjb25zdCBpbWFnZVBhdGggPSBcIi90cmFuc2l0aW9ucy9ibGFjay5wbmdcIjsgLy8gUnV0YSBhIGxhIGltYWdlbiBuZWdyYVxuXG4gICAgICBjb25zb2xlLmxvZyhgQXBsaWNhbmRvIGZhZGUgb3V0IGNvbiBpbWFnZW4gJHtpbWFnZVBhdGh9IGVuIGxvcyDDumx0aW1vcyAke2ZhZGVEdXJhdGlvbi50b0ZpeGVkKDIpfXMgZGVsIGNsaXAgKGRlc2RlICR7ZmFkZVN0YXJ0LnRvRml4ZWQoMil9cyBoYXN0YSAke2VuZFRpbWUudG9GaXhlZCgyKX1zKWApO1xuXG4gICAgICAvLyBOVUVWTyBFTkZPUVVFOiAyMCBjYXBhcyBxdWUgY29taWVuemFuIGVuIGRpZmVyZW50ZXMgbW9tZW50b3MgcGVybyB0b2RhcyB0ZXJtaW5hbiBhbCBmaW5hbFxuICAgICAgLy8geSBjYWRhIHVuYSBjb24gNSUgbcOhcyBkZSBvcGFjaWRhZCBxdWUgbGEgYW50ZXJpb3JcbiAgICAgIGNvbnN0IHRvdGFsU3RlcHMgPSAyMDsgIC8vIEFob3JhIGNvbiBpbmNyZW1lbnRvcyBkZSA1JVxuXG4gICAgICAvLyBDYWxjdWxhciBlbCBpbmNyZW1lbnRvIGRlIHRpZW1wbyBlbnRyZSBlbCBpbmljaW8gZGUgY2FkYSBjYXBhXG4gICAgICBjb25zdCB0aW1lSW5jcmVtZW50ID0gZmFkZUR1cmF0aW9uIC8gdG90YWxTdGVwcztcblxuICAgICAgLy8gSGVscGVyIGZ1bmN0aW9uIHBhcmEgYcOxYWRpciBkZWxheVxuICAgICAgY29uc3QgZGVsYXkgPSAobXMpID0+IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xuXG4gICAgICAvLyBDcmVhciBjYXBhcyBjb24gb3BhY2lkYWQgcHJvZ3Jlc2l2YSB1c2FuZG8gYXN5bmMvYXdhaXQgeSBkZWxheVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbFN0ZXBzOyBpKyspIHtcbiAgICAgICAgLy8gQcOxYWRpciBkZWxheSBlbnRyZSBjYWRhIGFwbGljYWNpw7NuXG4gICAgICAgIGF3YWl0IGRlbGF5KDEwMCk7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXIgdGllbXBvIGRlIGluaWNpbyBwYXJhIGVzdGEgY2FwYSAoZXNjYWxvbmFkbylcbiAgICAgICAgLy8gTGEgcHJpbWVyYSBjYXBhIGNvbWllbnphIGVuIGZhZGVTdGFydCwgbGFzIHNpZ3VpZW50ZXMgY2FkYSB2ZXogbcOhcyB0YXJkZVxuICAgICAgICBjb25zdCBzdGVwU3RhcnQgPSBmYWRlU3RhcnQgKyAoaSAqIHRpbWVJbmNyZW1lbnQpO1xuXG4gICAgICAgIC8vIFRvZGFzIGxhcyBjYXBhcyB0ZXJtaW5hbiBhbCBtaXNtbyB0aWVtcG8gKGFsIGZpbmFsIGRlbCBjbGlwKVxuICAgICAgICBjb25zdCBzdGVwRW5kID0gZW5kVGltZTtcblxuICAgICAgICAvLyBDYWxjdWxhciBvcGFjaWRhZCBwcm9ncmVzaXZhICg1JSwgMTAlLCAxNSUsIC4uLiAxMDAlKVxuICAgICAgICBjb25zdCBvcGFjaXR5ID0gKGkgKyAxKSAqIDU7XG5cbiAgICAgICAgY29uc29sZS5sb2coYFBhc28gJHtpKzF9LyR7dG90YWxTdGVwc306IENyZWFuZG8gY2FwYSBjb24gb3BhY2lkYWQgJHtvcGFjaXR5fSUgZGVzZGUgJHtzdGVwU3RhcnQudG9GaXhlZCgyKX1zIGhhc3RhICR7c3RlcEVuZC50b0ZpeGVkKDIpfXNgKTtcblxuICAgICAgICAvLyBDcmVhciB1biBvYmpldG8gaW1hZ2VuIGNvbiBsYSBpbWFnZW4gbmVncmEgY29uIHVuIElEIMO6bmljbyBiYXNhZG8gZW4gZWwgdGltZXN0YW1wXG4gICAgICAgIGNvbnN0IHVuaXF1ZUlkID0gZ2VuZXJhdGVJZCgpICsgJ19mYWRlXycgKyBEYXRlLm5vdygpICsgJ18nICsgaTtcbiAgICAgICAgY29uc3QgaW1hZ2VQYXlsb2FkID0ge1xuICAgICAgICAgIGlkOiB1bmlxdWVJZCxcbiAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICBmcm9tOiBzdGVwU3RhcnQgKiAxMDAwLCAvLyBDb252ZXJ0aXIgYSBtaWxpc2VndW5kb3NcbiAgICAgICAgICAgIHRvOiBzdGVwRW5kICogMTAwMCAgICAgIC8vIENvbnZlcnRpciBhIG1pbGlzZWd1bmRvcyAoZmluYWwgZGVsIGNsaXApXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0eXBlOiAnaW1hZ2UnLFxuICAgICAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgICAgIHNyYzogaW1hZ2VQYXRoLCAgICAgICAgLy8gSW1hZ2VuIG5lZ3JhXG4gICAgICAgICAgICB3aWR0aDogMTYwMCwgICAgICAgICAgIC8vIEFuY2hvIGNvbXBsZXRvXG4gICAgICAgICAgICBoZWlnaHQ6IDkwMCwgICAgICAgICAgLy8gQWx0byBjb21wbGV0b1xuICAgICAgICAgICAgb3BhY2l0eTogb3BhY2l0eSwgICAgICAvLyBPcGFjaWRhZCBpbmNyZW1lbnRhbCBlbiBwYXNvcyBkZSA1JVxuICAgICAgICAgICAgbGVmdDogMCwgICAgICAgICAgICAgLy8gQ2VudHJhZG9cbiAgICAgICAgICAgIHRvcDogMCwgICAgICAgICAgICAgIC8vIENlbnRyYWRvXG4gICAgICAgICAgICBzY2FsZU1vZGU6IFwiY292ZXJcIiwgICAgLy8gQ3VicmlyIHRvZGEgbGEgcGFudGFsbGFcbiAgICAgICAgICAgIG9yaWdpblg6IFwiY2VudGVyXCIsICAgICAvLyBPcmlnZW4gY2VudHJhZG9cbiAgICAgICAgICAgIG9yaWdpblk6IFwiY2VudGVyXCIsICAgICAvLyBPcmlnZW4gY2VudHJhZG9cbiAgICAgICAgICAgIHpJbmRleDogMTAwMCArIGksICAgICAgLy8gWi1pbmRleCBpbmNyZW1lbnRhbFxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBVc2FyIGRpc3BhdGNoIHBhcmEgYcOxYWRpciBsYSBpbWFnZW4geSBhc2VndXJhciBldmVudG8gY29tcGxldG9cbiAgICAgICAgY29uc29sZS5sb2coYERpc3BhdGNoaW5nIGltYWdlbiAjJHtpKzF9IGNvbiBJRDogJHt1bmlxdWVJZH0gKCR7b3BhY2l0eX0lIG9wYWNpZGFkKWApO1xuICAgICAgICBkaXNwYXRjaChBRERfSU1BR0UsIHtcbiAgICAgICAgICBwYXlsb2FkOiBpbWFnZVBheWxvYWQsXG4gICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgcG9zaXRpb246IHsgeDogMC41LCB5OiAwLjUgfSxcbiAgICAgICAgICAgIHNjYWxlTW9kZTogXCJjb3ZlclwiXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBMb2cgZGVzcHXDqXMgZGUgZGlzcGF0Y2hcbiAgICAgICAgY29uc29sZS5sb2coYOKckyBJbWFnZW4gIyR7aSsxfSBhw7FhZGlkYSBjb3JyZWN0YW1lbnRlYCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKGDinIUgRmFkZSBvdXQgYXBsaWNhZG8gY29uICR7dG90YWxTdGVwc30gY2FwYXMgc3VwZXJwdWVzdGFzIGRlIGltYWdlbiBjb24gb3BhY2lkYWQgcHJvZ3Jlc2l2YSBkZWwgNSUgYWwgMTAwJWApO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkZXRhaWxzOiBgRWZlY3RvIGRlIGZhZGUgb3V0IGFwbGljYWRvIGVuIGxvcyDDumx0aW1vcyAke2ZhZGVEdXJhdGlvbi50b0ZpeGVkKDEpfSBzZWd1bmRvcyAoY29uIGluaWNpbyBlc2NhbG9uYWRvKWBcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhbCBhw7FhZGlyIGZhZGUgb3V0OlwiLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZGV0YWlsczogYEVycm9yIGFsIGHDsWFkaXIgZmFkZSBvdXQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWBcbiAgICAgIH07XG4gICAgfVxuICB9O1xuXG4gIC8vIEZ1bmNpw7NuIHBhcmEgZW52aWFyIHVuIG1lbnNhamUgeSBwcm9jZXNhcmxvIHNpbiBtb3N0cmFyIGNoYXRcbiAgY29uc3Qgc2VuZENvbW1hbmQgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFjaGF0SW5wdXQudHJpbSgpKSByZXR1cm47XG5cbiAgICBjb25zdCB1c2VyTWVzc2FnZTogQ2hhdE1lc3NhZ2UgPSB7XG4gICAgICByb2xlOiAndXNlcicsXG4gICAgICBjb250ZW50OiBjaGF0SW5wdXQsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICB9O1xuXG4gICAgLy8gQcOxYWRpciBlbCBtZW5zYWplIGRlbCB1c3VhcmlvIGFsIGNoYXQgaW50ZXJubyAocGFyYSBsw7NnaWNhLCBubyBzZSBtdWVzdHJhKVxuICAgIHNldENoYXRNZXNzYWdlcyhbLi4uY2hhdE1lc3NhZ2VzLCB1c2VyTWVzc2FnZV0pO1xuICAgIHNldENoYXRJbnB1dCgnJyk7XG4gICAgc2V0SXNTZW5kaW5nKHRydWUpO1xuICAgIHNldExhc3RBY3Rpb25JbmZvKG51bGwpO1xuICAgIHNldFNob3dBY3Rpb25JbmZvKGZhbHNlKTtcbiAgICBzZXRBY3Rpb25TdWNjZXNzKG51bGwpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiPT09IElOSUNJQU5ETyBFTlbDjU8gREUgQ09NQU5ETyA9PT1cIik7XG5cbiAgICAgIC8vIEVudmlhciBlbCBtZW5zYWplIGEgbGEgQVBJXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEFJU2VydmljZS5zZW5kQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICBtZXNzYWdlOiBjaGF0SW5wdXQsXG4gICAgICAgIHNlbGVjdGVkSXRlbXM6IHNlbGVjdGVkSXRlbXNcbiAgICAgIH0pO1xuXG4gICAgICBjb25zb2xlLmxvZyhcIlJlc3B1ZXN0YSByZWNpYmlkYSBkZSBsYSBBUEk6XCIsIHJlc3BvbnNlKTtcblxuICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MgJiYgcmVzcG9uc2UucmVzcG9uc2UpIHtcbiAgICAgICAgbGV0IGFjdGlvblN1Y2Nlc3NmdWwgPSB0cnVlOyAvLyBQb3IgZGVmZWN0byBhc3VtaW1vcyDDqXhpdG9cbiAgICAgICAgbGV0IG9wZXJhdGlvbkRldGFpbHMgPSAnJztcbiAgICAgICAgbGV0IHNjcmVlbnNob3RUb0FkZCA9IG51bGw7XG4gICAgICAgIGxldCBkZXRlY3Rpb25JbmZvID0gbnVsbDtcbiAgICAgICAgbGV0IHN0YXJ0VGltZSA9IDA7XG4gICAgICAgIGxldCBlbmRUaW1lID0gNTtcbiAgICAgICAgbGV0IGFjdGlvbkRldGVjdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBlcnJvckRldGFpbHMgPSBudWxsO1xuXG4gICAgICAgIC8vIFZlcmlmaWNhciBzaSBkZWJlbW9zIGFwbGljYXIgdW5hIHRyYW5zaWNpw7NuXG4gICAgICAgIGlmIChyZXNwb25zZS5hcHBseVRyYW5zaXRpb25EZXRlY3Rpb24/LmRldGVjdGVkICYmXG4gICAgICAgICAgICByZXNwb25zZS5hcHBseVRyYW5zaXRpb25EZXRlY3Rpb24uY29uZmlkZW5jZSA+IDAuMiAmJlxuICAgICAgICAgICAgcmVzcG9uc2UuYXBwbHlUcmFuc2l0aW9uRGV0ZWN0aW9uLnRyYW5zaXRpb25QYXRoKSB7XG5cbiAgICAgICAgICBhY3Rpb25EZXRlY3RlZCA9IHRydWU7XG4gICAgICAgICAgY29uc3QgdHJhbnNpdGlvblBhdGggPSByZXNwb25zZS5hcHBseVRyYW5zaXRpb25EZXRlY3Rpb24udHJhbnNpdGlvblBhdGg7XG5cbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkFwbGljYW5kbyB0cmFuc2ljacOzbjpcIiwgdHJhbnNpdGlvblBhdGgpO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEFwbGljYXIgbGEgdHJhbnNpY2nDs24gZGUgZGVzdmFuZWNpbWllbnRvXG4gICAgICAgICAgICBjb25zdCB0cmFuc2l0aW9uUmVzdWx0ID0gYXdhaXQgYXBwbHlUcmFuc2l0aW9uKHRyYW5zaXRpb25QYXRoKTtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZXN1bHRhZG8gZGUgYXBsaWNhciB0cmFuc2ljacOzbjpcIiwgdHJhbnNpdGlvblJlc3VsdCk7XG5cbiAgICAgICAgICAgIGFjdGlvblN1Y2Nlc3NmdWwgPSB0cmFuc2l0aW9uUmVzdWx0LnN1Y2Nlc3M7XG4gICAgICAgICAgICBvcGVyYXRpb25EZXRhaWxzID0gdHJhbnNpdGlvblJlc3VsdC5kZXRhaWxzO1xuXG4gICAgICAgICAgICAvLyBEZXRhbGxlcyBkZSBsYSBkZXRlY2Npw7NuIHBhcmEgcmVmZXJlbmNpYXJcbiAgICAgICAgICAgIGRldGVjdGlvbkluZm8gPSB7XG4gICAgICAgICAgICAgIGRldGVjdGVkOiByZXNwb25zZS5hcHBseVRyYW5zaXRpb25EZXRlY3Rpb24uZGV0ZWN0ZWQsXG4gICAgICAgICAgICAgIGNvbmZpZGVuY2U6IHJlc3BvbnNlLmFwcGx5VHJhbnNpdGlvbkRldGVjdGlvbi5jb25maWRlbmNlLFxuICAgICAgICAgICAgICByZWFzb246IHJlc3BvbnNlLmFwcGx5VHJhbnNpdGlvbkRldGVjdGlvbi5yZWFzb25cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIENhcHR1cmFyIGVycm9yZXMgZXNwZWPDrWZpY29zIGRlIGxhIHRyYW5zaWNpw7NuXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWwgYXBsaWNhciB0cmFuc2ljacOzbjpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgYWN0aW9uU3VjY2Vzc2Z1bCA9IGZhbHNlO1xuICAgICAgICAgICAgb3BlcmF0aW9uRGV0YWlscyA9IGBFcnJvciBhbCBhcGxpY2FyIHRyYW5zaWNpw7NuOiAke2Vycm9yLm1lc3NhZ2UgfHwgJ0Vycm9yIGRlc2Nvbm9jaWRvJ31gO1xuICAgICAgICAgICAgZXJyb3JEZXRhaWxzID0ge1xuICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIHx8ICdFcnJvciBkZXNjb25vY2lkbycsXG4gICAgICAgICAgICAgIHN0YWNrOiBlcnJvci5zdGFjayxcbiAgICAgICAgICAgICAgdHlwZTogZXJyb3IuY29uc3RydWN0b3I/Lm5hbWUgfHwgJ0Vycm9yJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVmVyaWZpY2FyIHNpIGRlYmVtb3MgYXBsaWNhciB1bmEgY2FwdHVyYSBkZSBwYW50YWxsYSBhIGxhIHRpbWVsaW5lXG4gICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLnNob3dTY3JlZW5zaG90RGV0ZWN0aW9uICYmXG4gICAgICAgICAgICByZXNwb25zZS51cmxBbmFseXNpcz8uY29udGFpbnNVUkxzICYmXG4gICAgICAgICAgICByZXNwb25zZS51cmxBbmFseXNpcy5zY3JlZW5zaG90cyAmJlxuICAgICAgICAgICAgcmVzcG9uc2UudXJsQW5hbHlzaXMuc2NyZWVuc2hvdHMubGVuZ3RoID4gMCkge1xuXG4gICAgICAgICAgLy8gQ29tcHJvYmFyIHNpIGxhIGRldGVjY2nDs24gZXMgcG9zaXRpdmEgY29uIGNvbmZpYW56YSBzdWZpY2llbnRlXG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnNob3dTY3JlZW5zaG90RGV0ZWN0aW9uLmRldGVjdGVkICYmXG4gICAgICAgICAgICAgIHJlc3BvbnNlLnNob3dTY3JlZW5zaG90RGV0ZWN0aW9uLmNvbmZpZGVuY2UgPiAwLjIpIHtcblxuICAgICAgICAgICAgYWN0aW9uRGV0ZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgLy8gU2VsZWNjaW9uYXIgbGEgcHJpbWVyYSBjYXB0dXJhIGRpc3BvbmlibGVcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0U2NyZWVuc2hvdCA9IHJlc3BvbnNlLnVybEFuYWx5c2lzLnNjcmVlbnNob3RzWzBdO1xuICAgICAgICAgICAgc2NyZWVuc2hvdFRvQWRkID0gZmlyc3RTY3JlZW5zaG90O1xuXG4gICAgICAgICAgICAvLyBHdWFyZGFyIGluZm9ybWFjacOzbiBkZSBkZXRlY2Npw7NuXG4gICAgICAgICAgICBkZXRlY3Rpb25JbmZvID0ge1xuICAgICAgICAgICAgICBkZXRlY3RlZDogcmVzcG9uc2Uuc2hvd1NjcmVlbnNob3REZXRlY3Rpb24uZGV0ZWN0ZWQsXG4gICAgICAgICAgICAgIGNvbmZpZGVuY2U6IHJlc3BvbnNlLnNob3dTY3JlZW5zaG90RGV0ZWN0aW9uLmNvbmZpZGVuY2UsXG4gICAgICAgICAgICAgIHJlYXNvbjogcmVzcG9uc2Uuc2hvd1NjcmVlbnNob3REZXRlY3Rpb24ucmVhc29uXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBDYWxjdWxhciB0aWVtcG9zIHBhcmEgbGEgaW1hZ2VuXG4gICAgICAgICAgICAvLyBQb3IgZGVmZWN0bywgdXNhciBsYSBkdXJhY2nDs24gZGVsIGVsZW1lbnRvIHNlbGVjY2lvbmFkb1xuICAgICAgICAgICAgc3RhcnRUaW1lID0gMDtcbiAgICAgICAgICAgIGVuZFRpbWUgPSA1O1xuXG4gICAgICAgICAgICAvLyBBw7FhZGlyIGxhIGNhcHR1cmEgYSBsYSB0aW1lbGluZSB1dGlsaXphbmRvIGVsIENvbW1hbmRFeGVjdXRvclNlcnZpY2VcbiAgICAgICAgICAgIGNvbnN0IGNvbW1hbmRFeGVjdXRvciA9IENvbW1hbmRFeGVjdXRvclNlcnZpY2UuZ2V0RXhlY3V0b3IoKTtcbiAgICAgICAgICAgIGlmIChjb21tYW5kRXhlY3V0b3IpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBTaSBoYXkgZWxlbWVudG9zIHNlbGVjY2lvbmFkb3MsIHVzYXIgc3VzIHRpZW1wb3NcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRJdGVtcyAmJiBzZWxlY3RlZEl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIC8vIE9idGVuZXIgZWwgcHJpbWVyIGVsZW1lbnRvIHNlbGVjY2lvbmFkb1xuICAgICAgICAgICAgICAgICAgY29uc3QgZmlyc3RJdGVtID0gc2VsZWN0ZWRJdGVtc1swXTtcblxuICAgICAgICAgICAgICAgICAgLy8gSW50ZW50YXIgb2J0ZW5lciBsb3MgdGllbXBvcyBkZWwgZWxlbWVudG9cbiAgICAgICAgICAgICAgICAgIGlmIChmaXJzdEl0ZW0uZGlzcGxheSkge1xuICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSAoZmlyc3RJdGVtLmRpc3BsYXkuZnJvbSB8fCAwKSAvIDEwMDA7IC8vIGNvbnZlcnRpciBkZSBtcyBhIHNlZ3VuZG9zXG4gICAgICAgICAgICAgICAgICAgIGVuZFRpbWUgPSAoZmlyc3RJdGVtLmRpc3BsYXkudG8gfHwgKHN0YXJ0VGltZSAqIDEwMDAgKyA1MDAwKSkgLyAxMDAwOyAvLyBjb252ZXJ0aXIgZGUgbXMgYSBzZWd1bmRvc1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEHDsWFkaXIgbGEgaW1hZ2VuIGEgbGEgdGltZWxpbmVcbiAgICAgICAgICAgICAgICBhd2FpdCBjb21tYW5kRXhlY3V0b3IuYWRkSW1hZ2UoZmlyc3RTY3JlZW5zaG90LnNjcmVlbnNob3RQYXRoLCB7XG4gICAgICAgICAgICAgICAgICBzdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgICBlbmRUaW1lXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBSZWdpc3RyYXIgbGEgY2FwdHVyYSBhw7FhZGlkYVxuICAgICAgICAgICAgICAgIHNldEFkZGVkU2NyZWVuc2hvdHMocHJldiA9PiBbLi4ucHJldiwgZmlyc3RTY3JlZW5zaG90XSk7XG5cbiAgICAgICAgICAgICAgICAvLyBEZXRhbGxlcyBkZSBsYSBvcGVyYWNpw7NuXG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uRGV0YWlscyA9IGBDYXB0dXJhIGFwbGljYWRhIGEgbGEgdGltZWxpbmUgZGVzZGUgJHtzdGFydFRpbWUudG9GaXhlZCgxKX1zIGhhc3RhICR7ZW5kVGltZS50b0ZpeGVkKDEpfXNgO1xuXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEltYWdlbiBhw7FhZGlkYSBhIGxhIHRpbWVsaW5lIGRlc2RlICR7c3RhcnRUaW1lfXMgaGFzdGEgJHtlbmRUaW1lfXM6ICR7Zmlyc3RTY3JlZW5zaG90LnNjcmVlbnNob3RQYXRofWApO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhbCBhw7FhZGlyIGltYWdlbiBhIGxhIHRpbWVsaW5lOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgYWN0aW9uU3VjY2Vzc2Z1bCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIG9wZXJhdGlvbkRldGFpbHMgPSBgRXJyb3IgYWwgYcOxYWRpciBpbWFnZW46ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDb21tYW5kRXhlY3V0b3Igbm8gZGlzcG9uaWJsZVwiKTtcbiAgICAgICAgICAgICAgYWN0aW9uU3VjY2Vzc2Z1bCA9IGZhbHNlO1xuICAgICAgICAgICAgICBvcGVyYXRpb25EZXRhaWxzID0gXCJDb21tYW5kRXhlY3V0b3Igbm8gZGlzcG9uaWJsZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFjdHVhbGl6YXIgZXN0YWRvIHNlZ8O6biBsb3MgcmVzdWx0YWRvc1xuICAgICAgICBzZXRBY3Rpb25TdWNjZXNzKGFjdGlvblN1Y2Nlc3NmdWwpO1xuXG4gICAgICAgIC8vIFNpIGh1Ym8gdW4gZXJyb3IsIGFjdHVhbGl6YXIgY29uIGRldGFsbGVzIGFkaWNpb25hbGVzXG4gICAgICAgIGlmICghYWN0aW9uU3VjY2Vzc2Z1bCAmJiBlcnJvckRldGFpbHMpIHtcbiAgICAgICAgICBzZXRMYXN0QWN0aW9uSW5mbyh7XG4gICAgICAgICAgICBvcGVyYXRpb25EZXRhaWxzLFxuICAgICAgICAgICAgZXJyb3JEZXRhaWxzLFxuICAgICAgICAgICAgY29uZmlkZW5jZTogZGV0ZWN0aW9uSW5mbz8uY29uZmlkZW5jZSB8fCAwLFxuICAgICAgICAgICAgcmVhc29uOiBkZXRlY3Rpb25JbmZvPy5yZWFzb24gfHwgJ0Vycm9yIGVuIGxhIG9wZXJhY2nDs24nLFxuICAgICAgICAgICAgc2NyZWVuc2hvdFRvQWRkXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0TGFzdEFjdGlvbkluZm8oe1xuICAgICAgICAgICAgb3BlcmF0aW9uRGV0YWlscyxcbiAgICAgICAgICAgIGNvbmZpZGVuY2U6IGRldGVjdGlvbkluZm8/LmNvbmZpZGVuY2UgfHwgMCxcbiAgICAgICAgICAgIHJlYXNvbjogZGV0ZWN0aW9uSW5mbz8ucmVhc29uIHx8ICcnLFxuICAgICAgICAgICAgc2NyZWVuc2hvdFRvQWRkXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRTaG93QWN0aW9uSW5mbyhhY3Rpb25EZXRlY3RlZCB8fCBzY3JlZW5zaG90VG9BZGQgIT09IG51bGwpO1xuXG4gICAgICAgIC8vIENvbXBvbmVyIGVsIG1lbnNhamUgaW5mb3JtYXRpdm8gc2kgdGVuZW1vcyByZXNwdWVzdGEgdsOhbGlkYVxuICAgICAgICBsZXQgYWN0aW9uTWVzc2FnZTtcbiAgICAgICAgaWYgKGFjdGlvbkRldGVjdGVkKSB7XG4gICAgICAgICAgLy8gU2kgc2UgZGV0ZWN0w7MgdW5hIGFjY2nDs24gZXNwZWPDrWZpY2EgKGNvbW8gYWdyZWdhciBjYXB0dXJhIG8gdHJhbnNpY2nDs24pXG4gICAgICAgICAgYWN0aW9uTWVzc2FnZSA9IGFjdGlvblN1Y2Nlc3NmdWxcbiAgICAgICAgICAgID8gKHNjcmVlbnNob3RUb0FkZFxuICAgICAgICAgICAgICAgPyBg4pyoICR7b3BlcmF0aW9uRGV0YWlscyB8fCAnQ2FwdHVyYSBhcGxpY2FkYSBjb3JyZWN0YW1lbnRlJ31gXG4gICAgICAgICAgICAgICA6IGDinKggJHtvcGVyYXRpb25EZXRhaWxzIHx8ICdGYWRlIG91dCBhcGxpY2FkbyBjb3JyZWN0YW1lbnRlJ31gKVxuICAgICAgICAgICAgOiBg4p2MIEVycm9yOiAke29wZXJhdGlvbkRldGFpbHMgfHwgJ05vIHNlIHB1ZG8gY29tcGxldGFyIGxhIG9wZXJhY2nDs24uJ31gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFNpIG5vIHNlIGRldGVjdMOzIG5pbmd1bmEgYWNjacOzbiBlc3BlY8OtZmljYSwgbW9zdHJhciB1biBtZW5zYWplIHByZWRldGVybWluYWRvXG4gICAgICAgICAgYWN0aW9uTWVzc2FnZSA9IFwi4oS577iPIEVzdGEgw6FyZWEgZXMgcGFyYSBlamVjdXRhciBhY2Npb25lcyBlc3BlY8OtZmljYXMgZW4gbGEgdGltZWxpbmUuIFNpIGRlc2VhcyBjb252ZXJzYXIsIHBvciBmYXZvciB1dGlsaXphIGVsIGNoYXQuXCI7XG4gICAgICAgICAgc2V0QWN0aW9uU3VjY2VzcyhudWxsKTsgLy8gTmV1dHJvLCBuaSDDqXhpdG8gbmkgZXJyb3JcbiAgICAgICAgfVxuXG4gICAgICAgIHNldExhc3RBY3Rpb25JbmZvKGFjdGlvbk1lc3NhZ2UpO1xuICAgICAgICBzZXRTaG93QWN0aW9uSW5mbyh0cnVlKTtcblxuICAgICAgICAvLyBBw7FhZGlyIGxhIHJlc3B1ZXN0YSBkZWwgYXNpc3RlbnRlIGFsIGNoYXQgaW50ZXJubyAobm8gc2UgbXVlc3RyYSlcbiAgICAgICAgY29uc3QgYXNzaXN0YW50TWVzc2FnZTogQ2hhdE1lc3NhZ2UgPSB7XG4gICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgY29udGVudDogcmVzcG9uc2UucmVzcG9uc2UgKyAoYWN0aW9uRGV0ZWN0ZWQgJiYgYWN0aW9uU3VjY2Vzc2Z1bFxuICAgICAgICAgICAgPyAoc2NyZWVuc2hvdFRvQWRkXG4gICAgICAgICAgICAgID8gYFxcblxcbuKchSAqKkNhcHR1cmEgZGUgcGFudGFsbGEgYXBsaWNhZGEgYSBsYSB0aW1lbGluZSoqXFxuLSBVUkw6ICR7c2NyZWVuc2hvdFRvQWRkLnVybH1cXG4tIFRpZW1wbzogZGVzZGUgJHtzdGFydFRpbWV9cyBoYXN0YSAke2VuZFRpbWV9c1xcbi0gQ29uZmlhbnphOiAke01hdGgucm91bmQoZGV0ZWN0aW9uSW5mbz8uY29uZmlkZW5jZSAqIDEwMCl9JWBcbiAgICAgICAgICAgICAgOiBgXFxuXFxu4pyFICoqRmFkZSBvdXQgYXBsaWNhZG8gYSBsYSB0aW1lbGluZSoqXFxuLSBFZmVjdG86IERlc3ZhbmVjaW1pZW50byBhbCBmaW5hbCBkZWwgY2xpcFxcbi0gVGllbXBvOiBjZXJjYSBkZWwgZmluYWwgZW4gJHtlbmRUaW1lLnRvRml4ZWQoMSl9c1xcbi0gQ29uZmlhbnphOiAke01hdGgucm91bmQoZGV0ZWN0aW9uSW5mbz8uY29uZmlkZW5jZSAqIDEwMCl9JWApXG4gICAgICAgICAgICA6ICcnKSxcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgZGV0ZWN0aW9uSW5mbzogZGV0ZWN0aW9uSW5mb1xuICAgICAgICB9O1xuICAgICAgICBzZXRDaGF0TWVzc2FnZXMocHJldk1lc3NhZ2VzID0+IFsuLi5wcmV2TWVzc2FnZXMsIGFzc2lzdGFudE1lc3NhZ2VdKTtcblxuICAgICAgICAvLyBPY3VsdGFyIGxhIGluZm9ybWFjacOzbiBkZSBhY2Npw7NuIGRlc3B1w6lzIGRlIDQgc2VndW5kb3NcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgc2V0U2hvd0FjdGlvbkluZm8oZmFsc2UpO1xuICAgICAgICB9LCA0MDAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE1hbmVqYXIgY2FzbyBkZSBlcnJvciBlbiBsYSByZXNwdWVzdGFcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGVuIGxhIHJlc3B1ZXN0YSBkZSBsYSBBUEk6XCIsIHJlc3BvbnNlKTtcbiAgICAgICAgc2V0QWN0aW9uU3VjY2VzcyhmYWxzZSk7XG4gICAgICAgIHNldExhc3RBY3Rpb25JbmZvKHtcbiAgICAgICAgICBvcGVyYXRpb25EZXRhaWxzOiBcIkVycm9yIGFsIHByb2Nlc2FyIGxhIHNvbGljaXR1ZDogXCIgKyAocmVzcG9uc2UuZXJyb3IgfHwgXCJFcnJvciBkZXNjb25vY2lkb1wiKSxcbiAgICAgICAgICBjb25maWRlbmNlOiAwLFxuICAgICAgICAgIHJlYXNvbjogJ0Vycm9yIGVuIGxhIEFQSSdcbiAgICAgICAgfSk7XG4gICAgICAgIHNldFNob3dBY3Rpb25JbmZvKHRydWUpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBlbnZpYXIgbWVuc2FqZTonLCBlcnJvcik7XG4gICAgICAvLyBNb3N0cmFyIG1lbnNhamUgZGUgZXJyb3IgYnJldmVtZW50ZVxuICAgICAgc2V0QWN0aW9uU3VjY2VzcyhmYWxzZSk7XG4gICAgICBzZXRMYXN0QWN0aW9uSW5mbyhg4p2MIEVycm9yOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0Vycm9yIGRlIGNvbXVuaWNhY2nDs24gY29uIGVsIHNlcnZpY2lvIGRlIElBLid9YCk7XG4gICAgICBzZXRTaG93QWN0aW9uSW5mbyh0cnVlKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzZXRTaG93QWN0aW9uSW5mbyhmYWxzZSk7XG4gICAgICB9LCAzMDAwKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNTZW5kaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRnVuY2nDs24gcGFyYSBtYW5lamFyIGNhbWJpb3MgZW4gZWwgdGV4dGFyZWFcbiAgY29uc3QgaGFuZGxlVGV4dGFyZWFDaGFuZ2UgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTFRleHRBcmVhRWxlbWVudD4pID0+IHtcbiAgICBzZXRDaGF0SW5wdXQoZS50YXJnZXQudmFsdWUpO1xuICB9O1xuXG4gIC8vIEZ1bmNpw7NuIHBhcmEgbWFuZWphciBlbCBlbnbDrW8gZGVsIG1lbnNhamUgY29uIEVudGVyXG4gIGNvbnN0IGhhbmRsZUtleVByZXNzID0gKGU6IFJlYWN0LktleWJvYXJkRXZlbnQ8SFRNTFRleHRBcmVhRWxlbWVudD4pID0+IHtcbiAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHNlbmRDb21tYW5kKCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUFkZFNjcmVlbnNob3QgPSAodXJsOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gVmVyaWZpY2FyIHNpIHNlIHRyYXRhIGRlIHVuIEFQTkdcbiAgICAgIGNvbnN0IGlzQVBORyA9IHVybC50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKCcuYXBuZycpO1xuICAgICAgaWYgKGlzQVBORykge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkFkdmVydGVuY2lhOiBTZSBlc3TDoSBpbnRlbnRhbmRvIGHDsWFkaXIgdW4gQVBORyBjb21vIGNhcHR1cmEgZGUgcGFudGFsbGFcIik7XG5cbiAgICAgICAgLy8gTW9zdHJhciBhZHZlcnRlbmNpYSBwZXJvIGNvbnRpbnVhciBjb24gZWwgcHJvY2Vzb1xuICAgICAgICBzZXRMYXN0QWN0aW9uSW5mbyh7XG4gICAgICAgICAgb3BlcmF0aW9uRGV0YWlsczogXCLimqDvuI8gQWR2ZXJ0ZW5jaWE6IEVsIGZvcm1hdG8gQVBORyBwdWVkZSBubyBjb21wb3J0YXJzZSBjb3JyZWN0YW1lbnRlIGNvbW8gY2FwdHVyYS4gU2UgaW50ZW50YXLDoSB1c2FyIGNvbW8gaW1hZ2VuIGVzdMOhdGljYS5cIixcbiAgICAgICAgICBjb25maWRlbmNlOiAwLjUsXG4gICAgICAgICAgcmVhc29uOiAnRm9ybWF0byBwb3RlbmNpYWxtZW50ZSBwcm9ibGVtw6F0aWNvJyxcbiAgICAgICAgICBzY3JlZW5zaG90VG9BZGQ6IHVybFxuICAgICAgICB9KTtcbiAgICAgICAgc2V0QWN0aW9uU3VjY2Vzcyh0cnVlKTtcbiAgICAgICAgc2V0U2hvd0FjdGlvbkluZm8odHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbnRpbnVhciBjb24gbGEgbMOzZ2ljYSBub3JtYWxcbiAgICAgIC8vIE9idGVuZXIgZWwgc2VydmljaW8gZGUgY29tYW5kb3NcbiAgICAgIGNvbnN0IGNvbW1hbmRFeGVjdXRvciA9IENvbW1hbmRFeGVjdXRvclNlcnZpY2UuZ2V0RXhlY3V0b3IoKTtcbiAgICAgIGlmICghY29tbWFuZEV4ZWN1dG9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDb21tYW5kRXhlY3V0b3Igbm8gZGlzcG9uaWJsZVwiKTtcbiAgICAgICAgc2V0TGFzdEFjdGlvbkluZm8oe1xuICAgICAgICAgIG9wZXJhdGlvbkRldGFpbHM6IFwiRXJyb3I6IE5vIHNlIHB1ZG8gb2J0ZW5lciBlbCBzZXJ2aWNpbyBkZSBjb21hbmRvcyBwYXJhIGHDsWFkaXIgbGEgY2FwdHVyYVwiLFxuICAgICAgICAgIGNvbmZpZGVuY2U6IDAsXG4gICAgICAgICAgcmVhc29uOiAnRXJyb3IgZGUgc2VydmljaW8nLFxuICAgICAgICAgIHNjcmVlbnNob3RUb0FkZDogbnVsbFxuICAgICAgICB9KTtcbiAgICAgICAgc2V0QWN0aW9uU3VjY2VzcyhmYWxzZSk7XG4gICAgICAgIHNldFNob3dBY3Rpb25JbmZvKHRydWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIENhbGN1bGFyIHRpZW1wbyBwYXJhIHViaWNhciBsYSBpbWFnZW5cbiAgICAgIGxldCBzdGFydFRpbWUgPSAwO1xuXG4gICAgICAvLyBTaSBoYXkgZWxlbWVudG9zIHNlbGVjY2lvbmFkb3MsIHVzYXIgc3UgdGllbXBvXG4gICAgICBpZiAoc2VsZWN0ZWRJdGVtcyAmJiBzZWxlY3RlZEl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZmlyc3RJdGVtID0gc2VsZWN0ZWRJdGVtc1swXTtcbiAgICAgICAgaWYgKGZpcnN0SXRlbS5kaXNwbGF5KSB7XG4gICAgICAgICAgc3RhcnRUaW1lID0gKGZpcnN0SXRlbS5kaXNwbGF5LmZyb20gfHwgMCkgLyAxMDAwOyAvLyBjb252ZXJ0aXIgZGUgbXMgYSBzZWd1bmRvc1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEHDsWFkaXIgbGEgaW1hZ2VuIGEgbGEgdGltZWxpbmVcbiAgICAgIGNvbW1hbmRFeGVjdXRvci5hZGRJbWFnZSh1cmwsIHtcbiAgICAgICAgc3RhcnRUaW1lLFxuICAgICAgICBlbmRUaW1lOiBzdGFydFRpbWUgKyA1LCAvLyA1IHNlZ3VuZG9zIGRlIGR1cmFjacOzbiBwb3IgZGVmZWN0b1xuICAgICAgICBwb3NpdGlvbjogeyB4OiAwLjUsIHk6IDAuNSB9LCAvLyBjZW50cmFkb1xuICAgICAgICBpc1N0YXRpYzogaXNBUE5HIC8vIFNpIGVzIEFQTkcsIGZvcnphciBjb21vIGVzdMOhdGljb1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdHVhbGl6YXIgbGEgVUkgY29uIGVsIMOpeGl0b1xuICAgICAgc2V0TGFzdEFjdGlvbkluZm8oe1xuICAgICAgICBvcGVyYXRpb25EZXRhaWxzOiBgQ2FwdHVyYSBhw7FhZGlkYSBhIGxhIGzDrW5lYSBkZSB0aWVtcG8ke2lzQVBORyA/ICcgKGNvbW8gaW1hZ2VuIGVzdMOhdGljYSknIDogJyd9YCxcbiAgICAgICAgY29uZmlkZW5jZTogMS4wLFxuICAgICAgICByZWFzb246ICdBY2Npw7NuIG1hbnVhbCBkZWwgdXN1YXJpbycsXG4gICAgICAgIHNjcmVlbnNob3RUb0FkZDogbnVsbFxuICAgICAgfSk7XG5cbiAgICAgIHNldEFjdGlvblN1Y2Nlc3ModHJ1ZSk7XG4gICAgICBzZXRTaG93QWN0aW9uSW5mbyh0cnVlKTtcblxuICAgICAgLy8gT2N1bHRhciBkZXNwdcOpcyBkZSAzIHNlZ3VuZG9zXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc2V0U2hvd0FjdGlvbkluZm8oZmFsc2UpO1xuICAgICAgfSwgMzAwMCk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIGHDsWFkaXIgY2FwdHVyYTpcIiwgZXJyb3IpO1xuXG4gICAgICAvLyBFeHRyYWVyIG1lbnNhamUgZGUgZXJyb3JcbiAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBcIkVycm9yIGRlc2Nvbm9jaWRvXCI7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xuICAgICAgfVxuXG4gICAgICAvLyBBY3R1YWxpemFyIGxhIFVJIGNvbiBlbCBlcnJvclxuICAgICAgc2V0TGFzdEFjdGlvbkluZm8oe1xuICAgICAgICBvcGVyYXRpb25EZXRhaWxzOiBgRXJyb3IgYWwgYcOxYWRpciBjYXB0dXJhOiAke2Vycm9yTWVzc2FnZX1gLFxuICAgICAgICBjb25maWRlbmNlOiAwLFxuICAgICAgICByZWFzb246ICdFcnJvciBlbiBlbCBwcm9jZXNvJyxcbiAgICAgICAgZXJyb3JEZXRhaWxzOiB7XG4gICAgICAgICAgbWVzc2FnZTogZXJyb3JNZXNzYWdlLFxuICAgICAgICAgIHR5cGU6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5jb25zdHJ1Y3Rvci5uYW1lIDogJ0Vycm9yJyxcbiAgICAgICAgICBzdGFjazogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogdW5kZWZpbmVkXG4gICAgICAgIH0sXG4gICAgICAgIHNjcmVlbnNob3RUb0FkZDogbnVsbFxuICAgICAgfSk7XG5cbiAgICAgIHNldEFjdGlvblN1Y2Nlc3MoZmFsc2UpO1xuICAgICAgc2V0U2hvd0FjdGlvbkluZm8odHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIGlmICghdmlzaWJsZSkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICByZWY9e21vZGFsUmVmfVxuICAgICAgc3R5bGU9e3tcbiAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgIGxlZnQ6IHBvc2l0aW9uLngsXG4gICAgICAgIHRvcDogcG9zaXRpb24ueSxcbiAgICAgICAgekluZGV4OiA5OTk5LFxuICAgICAgICBiYWNrZ3JvdW5kOiAnbGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiYSgzNSwgMjAsIDYwLCAwLjk1KSAwJSwgcmdiYSg0NSwgMjUsIDg1LCAwLjk1KSAxMDAlKScsXG4gICAgICAgIGJvcmRlclJhZGl1czogJzEycHgnLFxuICAgICAgICBib3hTaGFkb3c6ICcwIDhweCAzMnB4IHJnYmEoMCwgMCwgMCwgMC42KSwgMCAwIDAgMXB4IHJnYmEoMTU2LCA5MCwgMjUwLCAwLjMpJyxcbiAgICAgICAgcGFkZGluZzogJzIwcHgnLFxuICAgICAgICB3aWR0aDogJzM4MHB4JyxcbiAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgIGZvbnRGYW1pbHk6ICdJbnRlciwgc3lzdGVtLXVpLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMTU2LCA5MCwgMjUwLCAwLjYpJyxcbiAgICAgICAgYmFja2Ryb3BGaWx0ZXI6ICdibHVyKDEwcHgpJyxcbiAgICAgICAgYW5pbWF0aW9uOiAnZmFkZUluIDAuM3MgZWFzZScsXG4gICAgICB9fVxuICAgID5cbiAgICAgIDxzdHlsZT5cbiAgICAgICAge2BcbiAgICAgICAgICBAa2V5ZnJhbWVzIGZhZGVJbiB7XG4gICAgICAgICAgICBmcm9tIHsgb3BhY2l0eTogMDsgdHJhbnNmb3JtOiBzY2FsZSgwLjk1KTsgfVxuICAgICAgICAgICAgdG8geyBvcGFjaXR5OiAxOyB0cmFuc2Zvcm06IHNjYWxlKDEpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIEBrZXlmcmFtZXMgcHVsc2Uge1xuICAgICAgICAgICAgMCUgeyBib3gtc2hhZG93OiAwIDAgMCAwIHJnYmEoMTU2LCA5MCwgMjUwLCAwLjUpOyB9XG4gICAgICAgICAgICA3MCUgeyBib3gtc2hhZG93OiAwIDAgMCAxMHB4IHJnYmEoMTU2LCA5MCwgMjUwLCAwKTsgfVxuICAgICAgICAgICAgMTAwJSB7IGJveC1zaGFkb3c6IDAgMCAwIDAgcmdiYSgxNTYsIDkwLCAyNTAsIDApOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIEBrZXlmcmFtZXMgZ2xvdyB7XG4gICAgICAgICAgICAwJSB7IGJvcmRlci1jb2xvcjogcmdiYSgxNTYsIDkwLCAyNTAsIDAuNik7IH1cbiAgICAgICAgICAgIDUwJSB7IGJvcmRlci1jb2xvcjogcmdiYSgxNTYsIDkwLCAyNTAsIDAuOSk7IH1cbiAgICAgICAgICAgIDEwMCUgeyBib3JkZXItY29sb3I6IHJnYmEoMTU2LCA5MCwgMjUwLCAwLjYpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIEBrZXlmcmFtZXMgc3BpbiB7XG4gICAgICAgICAgICAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9XG4gICAgICAgICAgICAxMDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8qIEVzdGlsb3MgcGFyYSBkZXRhbGxlcyBkZSBlcnJvciAqL1xuICAgICAgICAgIC5lcnJvci1kZXRhaWxzIHtcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgICAgICAgICBwYWRkaW5nOiA4cHg7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMCwgMCwgMC4wNSk7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgICAgICBmb250LXNpemU6IDEzcHg7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLmVycm9yLXRlY2huaWNhbC1pbmZvIHtcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDhweDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBtb25vc3BhY2U7XG4gICAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgICAgICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XG4gICAgICAgICAgICBvdmVyZmxvdy14OiBhdXRvO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5lcnJvci1hY3Rpb25zIHtcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDhweDtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5sb2ctYnV0dG9uIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTU2LCA5MCwgMjUwLCAwLjIpO1xuICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICAgICAgcGFkZGluZzogNHB4IDhweDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLmxvZy1idXR0b246aG92ZXIge1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxNTYsIDkwLCAyNTAsIDAuNCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGV0YWlscyBzdW1tYXJ5IHtcbiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgIGNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNyk7XG4gICAgICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRldGFpbHMgc3VtbWFyeTpob3ZlciB7XG4gICAgICAgICAgICBjb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjkpO1xuICAgICAgICAgIH1cbiAgICAgICAgYH1cbiAgICAgIDwvc3R5bGU+XG5cbiAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgbWFyZ2luQm90dG9tOiAnMTZweCcsXG4gICAgICAgIGJvcmRlckJvdHRvbTogJzFweCBzb2xpZCByZ2JhKDE1NiwgOTAsIDI1MCwgMC40KScsXG4gICAgICAgIHBhZGRpbmdCb3R0b206ICcxMnB4JyxcbiAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbiAgICAgIH19PlxuICAgICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgYm90dG9tOiAnLTFweCcsXG4gICAgICAgICAgbGVmdDogJzAnLFxuICAgICAgICAgIHdpZHRoOiAnNjAlJyxcbiAgICAgICAgICBoZWlnaHQ6ICcxcHgnLFxuICAgICAgICAgIGJhY2tncm91bmQ6ICdsaW5lYXItZ3JhZGllbnQoOTBkZWcsIHJnYmEoMTU2LCA5MCwgMjUwLCAwLjgpIDAlLCByZ2JhKDE1NiwgOTAsIDI1MCwgMCkgMTAwJSknLFxuICAgICAgICAgIGFuaW1hdGlvbjogJ2dsb3cgMS41cyBpbmZpbml0ZSBhbHRlcm5hdGUnXG4gICAgICAgIH19PjwvZGl2PlxuXG4gICAgICAgIDxoMyBzdHlsZT17e1xuICAgICAgICAgIG1hcmdpbjogMCxcbiAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxuICAgICAgICAgIGZvbnRXZWlnaHQ6ICc2MDAnLFxuICAgICAgICAgIGNvbG9yOiAncmdiYSgxNTYsIDkwLCAyNTAsIDEuMCknLFxuICAgICAgICAgIHRleHRTaGFkb3c6ICcwIDJweCA0cHggcmdiYSgwLDAsMCwwLjMpJ1xuICAgICAgICB9fT5cbiAgICAgICAgICB7c2VsZWN0ZWRJdGVtcy5sZW5ndGggPiAxID8gYCR7c2VsZWN0ZWRJdGVtcy5sZW5ndGh9IGVsZW1lbnRvcyBzZWxlY2Npb25hZG9zYCA6ICdFbGVtZW50byBzZWxlY2Npb25hZG8nfVxuICAgICAgICA8L2gzPlxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAnOHB4JyB9fT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsb3NlfVxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDE1NiwgOTAsIDI1MCwgMC4yKScsXG4gICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNTAlJyxcbiAgICAgICAgICAgICAgY29sb3I6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOSknLFxuICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXG4gICAgICAgICAgICAgIHBhZGRpbmc6ICc1cHgnLFxuICAgICAgICAgICAgICB3aWR0aDogJzI0cHgnLFxuICAgICAgICAgICAgICBoZWlnaHQ6ICcyNHB4JyxcbiAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgICAgbGluZUhlaWdodDogJzEnLFxuICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAnYWxsIDAuMnMgZWFzZScsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25Nb3VzZU92ZXI9eyhlKSA9PiB7XG4gICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JnYmEoMTU2LCA5MCwgMjUwLCAwLjQpJztcbiAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZSgxLjEpJztcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBvbk1vdXNlT3V0PXsoZSkgPT4ge1xuICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9ICdyZ2JhKDE1NiwgOTAsIDI1MCwgMC4yKSc7XG4gICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGUoMSknO1xuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICDDl1xuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIMOBcmVhIGRlIGNvbWFuZG8vZm9ybXVsYXJpbyAqL31cbiAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAnMTJweCcsIG1hcmdpbkJvdHRvbTogJzE2cHgnIH19PlxuICAgICAgICB7c2hvd0FjdGlvbkluZm8gJiYgbGFzdEFjdGlvbkluZm8gJiYgKFxuICAgICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICAgIHBhZGRpbmc6ICcxMnB4JyxcbiAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogJzE2cHgnLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogYWN0aW9uU3VjY2VzcyA9PT0gZmFsc2VcbiAgICAgICAgICAgICAgPyAnbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCByZ2JhKDIyMCwgNTAsIDUwLCAwLjE1KSwgcmdiYSgyMjAsIDUwLCA1MCwgMC4wNSkpJ1xuICAgICAgICAgICAgICA6IGFjdGlvblN1Y2Nlc3MgPT09IHRydWVcbiAgICAgICAgICAgICAgICA/ICdsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsIHJnYmEoNzAsIDIwMCwgMTIwLCAwLjE1KSwgcmdiYSg3MCwgMjAwLCAxMjAsIDAuMDUpKSdcbiAgICAgICAgICAgICAgICA6ICdsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsIHJnYmEoMTU2LCA5MCwgMjUwLCAwLjE1KSwgcmdiYSgxNTYsIDkwLCAyNTAsIDAuMDUpKScsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc4cHgnLFxuICAgICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcbiAgICAgICAgICAgIGJvcmRlcjogYDFweCBzb2xpZCAke2FjdGlvblN1Y2Nlc3MgPT09IGZhbHNlXG4gICAgICAgICAgICAgID8gJ3JnYmEoMjIwLCA1MCwgNTAsIDAuMyknXG4gICAgICAgICAgICAgIDogYWN0aW9uU3VjY2VzcyA9PT0gdHJ1ZVxuICAgICAgICAgICAgICAgID8gJ3JnYmEoNzAsIDIwMCwgMTIwLCAwLjMpJ1xuICAgICAgICAgICAgICAgIDogJ3JnYmEoMTU2LCA5MCwgMjUwLCAwLjMpJ31gLFxuICAgICAgICAgICAgYm94U2hhZG93OiAnMCAycHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMSknLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogJ2FsbCAwLjNzIGVhc2UnLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiBhY3Rpb25TdWNjZXNzID8gJ3B1bHNlIDJzIGluZmluaXRlJyA6ICcnLFxuICAgICAgICAgICAgY29sb3I6IGFjdGlvblN1Y2Nlc3MgPT09IGZhbHNlXG4gICAgICAgICAgICAgID8gJ3JnYmEoMjU1LCAyMjAsIDIyMCwgMC45KSdcbiAgICAgICAgICAgICAgOiBhY3Rpb25TdWNjZXNzID09PSB0cnVlXG4gICAgICAgICAgICAgICAgPyAncmdiYSgyMjAsIDI1NSwgMjMwLCAwLjkpJ1xuICAgICAgICAgICAgICAgIDogJ3JnYmEoMjQwLCAyMzAsIDI1NSwgMC45KScsXG4gICAgICAgICAgfX0+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2ZsZXgtc3RhcnQnLFxuICAgICAgICAgICAgICBnYXA6ICc4cHgnLFxuICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgICAgICAgICAgIG1hcmdpblRvcDogJzJweCdcbiAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAge2FjdGlvblN1Y2Nlc3MgPT09IGZhbHNlXG4gICAgICAgICAgICAgICAgICA/ICfinYwnXG4gICAgICAgICAgICAgICAgICA6IGFjdGlvblN1Y2Nlc3MgPT09IHRydWVcbiAgICAgICAgICAgICAgICAgICAgPyAn4pyoJ1xuICAgICAgICAgICAgICAgICAgICA6ICfihLnvuI8nfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdj57bGFzdEFjdGlvbkluZm8ub3BlcmF0aW9uRGV0YWlsc308L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogTW9zdHJhciBkZXRhbGxlcyBkZSBlcnJvciBwYXJhIGRlcHVyYWNpw7NuICovfVxuICAgICAgICAgICAgeyFhY3Rpb25TdWNjZXNzICYmIGxhc3RBY3Rpb25JbmZvLmVycm9yRGV0YWlscyAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXJyb3ItZGV0YWlsc1wiPlxuICAgICAgICAgICAgICAgIDxkZXRhaWxzPlxuICAgICAgICAgICAgICAgICAgPHN1bW1hcnk+VmVyIGRldGFsbGVzIHTDqWNuaWNvcyBkZWwgZXJyb3I8L3N1bW1hcnk+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVycm9yLXRlY2huaWNhbC1pbmZvXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+VGlwbyBkZSBlcnJvcjo8L3N0cm9uZz4ge2xhc3RBY3Rpb25JbmZvLmVycm9yRGV0YWlscy50eXBlfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPHA+PHN0cm9uZz5NZW5zYWplOjwvc3Ryb25nPiB7bGFzdEFjdGlvbkluZm8uZXJyb3JEZXRhaWxzLm1lc3NhZ2V9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPlJlY29tZW5kYWNpw7NuOjwvc3Ryb25nPiBWZXJpZmlxdWUgbG9zIGxvZ3MgZW4gbGEgY29uc29sYSBkZWwgbmF2ZWdhZG9yIHBhcmEgbcOhcyBpbmZvcm1hY2nDs24gbyBpbnRlbnRlIHVzYXIgdW4gZm9ybWF0byBkaWZlcmVudGUgcGFyYSBsYSB0cmFuc2ljacOzbiAoR0lGL01QNCkuPC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kZXRhaWxzPlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlcnJvci1hY3Rpb25zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJsb2ctYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29uc3VsdGUgbGEgY29uc29sYSBwYXJhIG3DoXMgaW5mb3JtYWNpw7NuIGRlIGRlcHVyYWNpw7NuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiTG9zIGxvZ3MgZGUgZGVwdXJhY2nDs24gZXN0w6FuIGRpc3BvbmlibGVzIGVuIGxhIGNvbnNvbGEgZGVsIG5hdmVnYWRvciAoRjEyID4gQ29uc29sZSlcIik7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIFZlciBsb2dzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7LyogU2kgaGFiw61hIGNhcHR1cmEgZGUgcGFudGFsbGEgKi99XG4gICAgICAgICAgICB7bGFzdEFjdGlvbkluZm8uc2NyZWVuc2hvdFRvQWRkICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6ICcxNnB4JyxcbiAgICAgICAgICAgICAgICBib3JkZXJUb3A6ICcxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJyxcbiAgICAgICAgICAgICAgICBwYWRkaW5nVG9wOiAnMTZweCcsXG4gICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgIHNyYz17bGFzdEFjdGlvbkluZm8uc2NyZWVuc2hvdFRvQWRkfVxuICAgICAgICAgICAgICAgICAgYWx0PVwiQ2FwdHVyYSBkZSBwYW50YWxsYVwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206ICcxMnB4JyxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSdcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgZ2FwOiAnOHB4J1xuICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVBZGRTY3JlZW5zaG90KGxhc3RBY3Rpb25JbmZvLnNjcmVlbnNob3RUb0FkZCl9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgZmxleDogJzEnLFxuICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICdsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2JhKDcwLCAyMDAsIDEyMCwgMC43KSAwJSwgcmdiYSg1MCwgMTgwLCAxMDAsIDAuOCkgMTAwJSknLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzZweCcsXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzhweCAxNnB4JyxcbiAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzEzcHgnLFxuICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICc1MDAnLFxuICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICdhbGwgMC4ycyBlYXNlJyxcbiAgICAgICAgICAgICAgICAgICAgICBib3hTaGFkb3c6ICcwIDRweCAxMnB4IHJnYmEoNTAsIDE4MCwgMTAwLCAwLjMpJyxcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25Nb3VzZU92ZXI9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKC0ycHgpJztcbiAgICAgICAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYm94U2hhZG93ID0gJzAgNnB4IDE0cHggcmdiYSg1MCwgMTgwLCAxMDAsIDAuNCknO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBvbk1vdXNlT3V0PXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgwKSc7XG4gICAgICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJveFNoYWRvdyA9ICcwIDRweCAxMnB4IHJnYmEoNTAsIDE4MCwgMTAwLCAwLjMpJztcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgQcOxYWRpciBhIFRpbWVsaW5lXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dBY3Rpb25JbmZvKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRMYXN0QWN0aW9uSW5mbyhudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKScsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKScsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNnB4JyxcbiAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC44KScsXG4gICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzhweCAxNnB4JyxcbiAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzEzcHgnLFxuICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICdhbGwgMC4ycyBlYXNlJyxcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25Nb3VzZU92ZXI9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSc7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIG9uTW91c2VPdXQ9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJztcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgQ2VycmFyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICAgICAgZ2FwOiAnMTJweCcsXG4gICAgICAgICAgYm9yZGVyVG9wOiAnMXB4IHNvbGlkIHJnYmEoMTU2LCA5MCwgMjUwLCAwLjIpJyxcbiAgICAgICAgICBwYWRkaW5nVG9wOiAnMTZweCcsXG4gICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbiAgICAgICAgfX0+XG4gICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICByZWY9e3RleHRhcmVhUmVmfVxuICAgICAgICAgICAgdmFsdWU9e2NoYXRJbnB1dH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVUZXh0YXJlYUNoYW5nZX1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRWplbXBsbzogJ2FwbGljYSBjYXB0dXJhIGEgbGEgdGltZWxpbmUnIG8gJ2HDsWFkZSB0cmFuc2ljacOzbidcIlxuICAgICAgICAgICAgZGlzYWJsZWQ9e2lzU2VuZGluZ31cbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDIwLCAxMCwgMzUsIDAuNSknLFxuICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgcmdiYSgxNTYsIDkwLCAyNTAsIDAuNCknLFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc4cHgnLFxuICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcbiAgICAgICAgICAgICAgcGFkZGluZzogJzEycHgnLFxuICAgICAgICAgICAgICByZXNpemU6ICd2ZXJ0aWNhbCcsXG4gICAgICAgICAgICAgIG1pbkhlaWdodDogJzgwcHgnLFxuICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ2FsbCAwLjJzIGVhc2UnLFxuICAgICAgICAgICAgICBvdXRsaW5lOiAnbm9uZScsXG4gICAgICAgICAgICAgIGJveFNoYWRvdzogJ2luc2V0IDAgMnB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMyknLFxuICAgICAgICAgICAgICBmb250RmFtaWx5OiAnSW50ZXIsIHN5c3RlbS11aSwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25Gb2N1cz17KGUpID0+IHtcbiAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuYm9yZGVyQ29sb3IgPSAncmdiYSgxNTYsIDkwLCAyNTAsIDAuNyknO1xuICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS5ib3hTaGFkb3cgPSAnaW5zZXQgMCAycHggNHB4IHJnYmEoMCwgMCwgMCwgMC4zKSwgMCAwIDAgMnB4IHJnYmEoMTU2LCA5MCwgMjUwLCAwLjIpJztcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBvbkJsdXI9eyhlKSA9PiB7XG4gICAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLmJvcmRlckNvbG9yID0gJ3JnYmEoMTU2LCA5MCwgMjUwLCAwLjQpJztcbiAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuYm94U2hhZG93ID0gJ2luc2V0IDAgMnB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMyknO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtzZW5kQ29tbWFuZH1cbiAgICAgICAgICAgIGRpc2FibGVkPXtpc1NlbmRpbmcgfHwgIWNoYXRJbnB1dC50cmltKCl9XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogaXNTZW5kaW5nIHx8ICFjaGF0SW5wdXQudHJpbSgpXG4gICAgICAgICAgICAgICAgPyAncmdiYSgxNTYsIDkwLCAyNTAsIDAuMyknXG4gICAgICAgICAgICAgICAgOiAnbGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiYSgxNTYsIDkwLCAyNTAsIDAuOCkgMCUsIHJnYmEoMTIwLCA2MCwgMjIwLCAwLjkpIDEwMCUpJyxcbiAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgY3Vyc29yOiBpc1NlbmRpbmcgfHwgIWNoYXRJbnB1dC50cmltKCkgPyAnbm90LWFsbG93ZWQnIDogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICBwYWRkaW5nOiAnMTJweCAxNnB4JyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICc1MDAnLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogJ2FsbCAwLjJzIGVhc2UnLFxuICAgICAgICAgICAgICBib3hTaGFkb3c6IGlzU2VuZGluZyB8fCAhY2hhdElucHV0LnRyaW0oKVxuICAgICAgICAgICAgICAgID8gJ25vbmUnXG4gICAgICAgICAgICAgICAgOiAnMCA0cHggMTJweCByZ2JhKDE1NiwgOTAsIDI1MCwgMC4zKScsXG4gICAgICAgICAgICAgIHRleHRTaGFkb3c6ICcwIDFweCAycHggcmdiYSgwLDAsMCwwLjIpJ1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uTW91c2VPdmVyPXsoZSkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIWlzU2VuZGluZyAmJiBjaGF0SW5wdXQudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKC0ycHgpJztcbiAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYm94U2hhZG93ID0gJzAgNnB4IDE2cHggcmdiYSgxNTYsIDkwLCAyNTAsIDAuNCknO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25Nb3VzZU91dD17KGUpID0+IHtcbiAgICAgICAgICAgICAgaWYgKCFpc1NlbmRpbmcgJiYgY2hhdElucHV0LnRyaW0oKSkge1xuICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgwKSc7XG4gICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJveFNoYWRvdyA9ICcwIDRweCAxMnB4IHJnYmEoMTU2LCA5MCwgMjUwLCAwLjMpJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7aXNTZW5kaW5nID8gKFxuICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJywgZ2FwOiAnOHB4JyB9fT5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICB3aWR0aDogJzE0cHgnLFxuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnMTRweCcsXG4gICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc1MCUnLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMnB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4zKScsXG4gICAgICAgICAgICAgICAgICBib3JkZXJUb3BDb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogJ3NwaW4gMXMgbGluZWFyIGluZmluaXRlJ1xuICAgICAgICAgICAgICAgIH19PjwvZGl2PlxuICAgICAgICAgICAgICAgIDxzcGFuPlByb2Nlc2FuZG8uLi48L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSA6ICdFamVjdXRhcid9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2VsZWN0aW9uTW9kYWw7XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZVJlZiIsImZpbHRlciIsInN1YmplY3QiLCJkaXNwYXRjaCIsIlRJTUVMSU5FX1NFTEVDVElPTl9NT0RBTCIsIkFJU2VydmljZSIsIkNvbW1hbmRFeGVjdXRvclNlcnZpY2UiLCJnZW5lcmF0ZUlkIiwiQUREX0lNQUdFIiwiU2VsZWN0aW9uTW9kYWwiLCJ2aXNpYmxlIiwic2V0VmlzaWJsZSIsInBvc2l0aW9uIiwic2V0UG9zaXRpb24iLCJ4IiwieSIsInNlbGVjdGVkSXRlbXMiLCJzZXRTZWxlY3RlZEl0ZW1zIiwiaXNTZW5kaW5nIiwic2V0SXNTZW5kaW5nIiwibGFzdEFjdGlvbkluZm8iLCJzZXRMYXN0QWN0aW9uSW5mbyIsInNob3dBY3Rpb25JbmZvIiwic2V0U2hvd0FjdGlvbkluZm8iLCJhY3Rpb25TdWNjZXNzIiwic2V0QWN0aW9uU3VjY2VzcyIsIm1vZGFsUmVmIiwidGV4dGFyZWFSZWYiLCJjaGF0TWVzc2FnZXMiLCJzZXRDaGF0TWVzc2FnZXMiLCJjaGF0SW5wdXQiLCJzZXRDaGF0SW5wdXQiLCJhZGRlZFNjcmVlbnNob3RzIiwic2V0QWRkZWRTY3JlZW5zaG90cyIsInNlbGVjdGlvbkV2ZW50cyIsInBpcGUiLCJrZXkiLCJzdWJzY3JpcHRpb24iLCJzdWJzY3JpYmUiLCJldmVudCIsInBheWxvYWQiLCJ2YWx1ZSIsImNvbnNvbGUiLCJsb2ciLCJsZW5ndGgiLCJNYXRoIiwibWluIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0Iiwic2V0VGltZW91dCIsImN1cnJlbnQiLCJmb2N1cyIsImhhbmRsZUNsaWNrT3V0c2lkZSIsImNvbnRhaW5zIiwidGFyZ2V0IiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwidW5zdWJzY3JpYmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlQ2xvc2UiLCJhcHBseVRyYW5zaXRpb24iLCJ0cmFuc2l0aW9uUGF0aCIsInN0YXJ0VGltZSIsImVuZFRpbWUiLCJjb21tYW5kRXhlY3V0b3IiLCJnZXRFeGVjdXRvciIsImVycm9yIiwic3VjY2VzcyIsImRldGFpbHMiLCJpdGVtIiwiZGlzcGxheSIsImZyb20iLCJ0byIsImZpcnN0SXRlbSIsImNsaXBEdXJhdGlvbiIsImZhZGVEdXJhdGlvbiIsImZhZGVTdGFydCIsImltYWdlUGF0aCIsInRvRml4ZWQiLCJ0b3RhbFN0ZXBzIiwidGltZUluY3JlbWVudCIsImRlbGF5IiwibXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsImkiLCJzdGVwU3RhcnQiLCJzdGVwRW5kIiwib3BhY2l0eSIsInVuaXF1ZUlkIiwiRGF0ZSIsIm5vdyIsImltYWdlUGF5bG9hZCIsImlkIiwidHlwZSIsInNyYyIsIndpZHRoIiwiaGVpZ2h0IiwibGVmdCIsInRvcCIsInNjYWxlTW9kZSIsIm9yaWdpblgiLCJvcmlnaW5ZIiwiekluZGV4Iiwib3B0aW9ucyIsIkVycm9yIiwibWVzc2FnZSIsIlN0cmluZyIsInNlbmRDb21tYW5kIiwidHJpbSIsInVzZXJNZXNzYWdlIiwicm9sZSIsImNvbnRlbnQiLCJ0aW1lc3RhbXAiLCJyZXNwb25zZSIsInNlbmRDaGF0TWVzc2FnZSIsImFjdGlvblN1Y2Nlc3NmdWwiLCJvcGVyYXRpb25EZXRhaWxzIiwic2NyZWVuc2hvdFRvQWRkIiwiZGV0ZWN0aW9uSW5mbyIsImFjdGlvbkRldGVjdGVkIiwiZXJyb3JEZXRhaWxzIiwiYXBwbHlUcmFuc2l0aW9uRGV0ZWN0aW9uIiwiZGV0ZWN0ZWQiLCJjb25maWRlbmNlIiwidHJhbnNpdGlvblJlc3VsdCIsInJlYXNvbiIsInN0YWNrIiwiY29uc3RydWN0b3IiLCJuYW1lIiwic2hvd1NjcmVlbnNob3REZXRlY3Rpb24iLCJ1cmxBbmFseXNpcyIsImNvbnRhaW5zVVJMcyIsInNjcmVlbnNob3RzIiwiZmlyc3RTY3JlZW5zaG90IiwiYWRkSW1hZ2UiLCJzY3JlZW5zaG90UGF0aCIsInByZXYiLCJhY3Rpb25NZXNzYWdlIiwiYXNzaXN0YW50TWVzc2FnZSIsInVybCIsInJvdW5kIiwicHJldk1lc3NhZ2VzIiwiaGFuZGxlVGV4dGFyZWFDaGFuZ2UiLCJlIiwiaGFuZGxlS2V5UHJlc3MiLCJzaGlmdEtleSIsInByZXZlbnREZWZhdWx0IiwiaGFuZGxlQWRkU2NyZWVuc2hvdCIsImlzQVBORyIsInRvTG93ZXJDYXNlIiwiZW5kc1dpdGgiLCJpc1N0YXRpYyIsImVycm9yTWVzc2FnZSIsInVuZGVmaW5lZCIsImRpdiIsInJlZiIsInN0eWxlIiwiYmFja2dyb3VuZCIsImJvcmRlclJhZGl1cyIsImJveFNoYWRvdyIsInBhZGRpbmciLCJjb2xvciIsImZvbnRGYW1pbHkiLCJib3JkZXIiLCJiYWNrZHJvcEZpbHRlciIsImFuaW1hdGlvbiIsImp1c3RpZnlDb250ZW50IiwiYWxpZ25JdGVtcyIsIm1hcmdpbkJvdHRvbSIsImJvcmRlckJvdHRvbSIsInBhZGRpbmdCb3R0b20iLCJib3R0b20iLCJoMyIsIm1hcmdpbiIsImZvbnRTaXplIiwiZm9udFdlaWdodCIsInRleHRTaGFkb3ciLCJnYXAiLCJidXR0b24iLCJvbkNsaWNrIiwiY3Vyc29yIiwibGluZUhlaWdodCIsInRyYW5zaXRpb24iLCJvbk1vdXNlT3ZlciIsImN1cnJlbnRUYXJnZXQiLCJ0cmFuc2Zvcm0iLCJvbk1vdXNlT3V0IiwibWFyZ2luVG9wIiwiZmxleFNocmluayIsImNsYXNzTmFtZSIsInN1bW1hcnkiLCJwIiwic3Ryb25nIiwiYWxlcnQiLCJib3JkZXJUb3AiLCJwYWRkaW5nVG9wIiwiaW1nIiwiYWx0IiwiZmxleCIsImZsZXhEaXJlY3Rpb24iLCJ0ZXh0YXJlYSIsIm9uQ2hhbmdlIiwicGxhY2Vob2xkZXIiLCJkaXNhYmxlZCIsInJlc2l6ZSIsIm1pbkhlaWdodCIsImJveFNpemluZyIsIm91dGxpbmUiLCJvbkZvY3VzIiwiYm9yZGVyQ29sb3IiLCJvbkJsdXIiLCJib3JkZXJUb3BDb2xvciIsInNwYW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./features/editor/timeline/selection-modal.tsx\n"));

/***/ })

});