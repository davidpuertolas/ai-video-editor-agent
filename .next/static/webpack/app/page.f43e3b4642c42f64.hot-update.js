"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./features/editor/services/ai-service.ts":
/*!************************************************!*\
  !*** ./features/editor/services/ai-service.ts ***!
  \************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AIService: function() { return /* binding */ AIService; }\n/* harmony export */ });\n/**\n * Servicio para manejar la comunicación con la IA.\n * Esta es una implementación base que simula respuestas.\n * En el futuro, se conectará con una API real.\n */ class AIService {\n    /**\n   * Analiza los elementos seleccionados para buscar URLs\n   */ static async analyzeItems(request) {\n        try {\n            // Simulamos un tiempo de respuesta de la API\n            await new Promise((resolve)=>setTimeout(resolve, 1000));\n            console.log(\"AI Service - Request:\", request);\n            // Extraer el texto relevante de los elementos seleccionados\n            const elementsText = this.extractTextFromElements(request.items);\n            // Mensaje explícito o texto extraído de los elementos\n            const textToAnalyze = request.message || elementsText;\n            // Analizar si el texto contiene URLs\n            const urlAnalysis = this.detectURLs(textToAnalyze);\n            // Si hay URLs, generar información de screenshots\n            if (urlAnalysis.containsURLs) {\n                urlAnalysis.screenshots = this.getScreenshotsForUrls(urlAnalysis.urls);\n            }\n            // Simulación de respuesta de la IA\n            // En un entorno real, esto enviaría la solicitud a un endpoint de API\n            return {\n                success: true,\n                message: \"An\\xe1lisis completado con \\xe9xito\",\n                analysis: {\n                    summary: this.generateURLAnalysisSummary(urlAnalysis, request.items.length),\n                    urlAnalysis: urlAnalysis,\n                    itemsAnalyzed: request.items.length,\n                    analyzedText: textToAnalyze,\n                    recommendations: this.generateRecommendations(urlAnalysis),\n                    confidence: 0.95\n                }\n            };\n        } catch (error) {\n            console.error(\"Error in AI service:\", error);\n            return {\n                success: false,\n                message: \"Error al procesar la solicitud\",\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    }\n    /**\n   * Obtiene las capturas de pantalla para las URLs detectadas\n   * (Como es un demo, utilizamos la misma imagen para todas las URLs)\n   */ static getScreenshotsForUrls(urls) {\n        // En un entorno real, esta función realizaría una llamada a un servicio\n        // que generaría capturas de pantalla para cada URL\n        // Por ahora, usamos una imagen de demostración para todas las URLs\n        return urls.map((url)=>({\n                url,\n                screenshotPath: \"/screenshots/screenshot1.png\"\n            }));\n    }\n    /**\n   * Extrae texto de los elementos seleccionados\n   */ static extractTextFromElements(items) {\n        // Aquí extraemos el texto de los elementos seleccionados\n        // En un caso real, esto dependería de la estructura de tus elementos\n        let extractedText = \"\";\n        for (const item of items){\n            var _item_details, _item_details1, _item_details2;\n            // Intentar extraer texto de diferentes propiedades comunes\n            // Esto es un ejemplo y debería adaptarse a tu estructura de datos real\n            if (item.text) {\n                extractedText += \" \" + item.text;\n            } else if ((_item_details = item.details) === null || _item_details === void 0 ? void 0 : _item_details.text) {\n                extractedText += \" \" + item.details.text;\n            } else if (item.name) {\n                extractedText += \" \" + item.name;\n            } else if (item.title) {\n                extractedText += \" \" + item.title;\n            } else if (item.description) {\n                extractedText += \" \" + item.description;\n            } else if ((_item_details1 = item.details) === null || _item_details1 === void 0 ? void 0 : _item_details1.description) {\n                extractedText += \" \" + item.details.description;\n            } else if ((_item_details2 = item.details) === null || _item_details2 === void 0 ? void 0 : _item_details2.src) {\n                extractedText += \" \" + item.details.src;\n            } else if (item.src) {\n                extractedText += \" \" + item.src;\n            } else if (item.content) {\n                extractedText += \" \" + item.content;\n            } else if (item.label) {\n                extractedText += \" \" + item.label;\n            } else if (item.value) {\n                extractedText += \" \" + item.value;\n            } else if (typeof item === \"string\") {\n                extractedText += \" \" + item;\n            }\n            // También podemos buscar en atributos anidados\n            if (item.props && typeof item.props === \"object\") {\n                for(const key in item.props){\n                    if (typeof item.props[key] === \"string\") {\n                        extractedText += \" \" + item.props[key];\n                    }\n                }\n            }\n            // Si todavía no hemos encontrado texto, intentamos convertir el objeto a string\n            if (extractedText.trim() === \"\" && item.toString) {\n                const str = item.toString();\n                if (str !== \"[object Object]\") {\n                    extractedText += \" \" + str;\n                }\n            }\n        }\n        return extractedText.trim();\n    }\n    /**\n   * Detecta URLs en un texto\n   */ static detectURLs(text) {\n        // Expresión regular mejorada para capturar una variedad más amplia de URLs\n        // Esta regex busca URLs con diversos dominios de nivel superior (.com, .org, .ai, etc.)\n        const urlRegex = /(?:https?:\\/\\/)?(?:www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b(?:[-a-zA-Z0-9()@:%_\\+.~#?&//=]*)/gi;\n        const matches = text.match(urlRegex) || [];\n        // Filtrar posibles falsos positivos (como números de versión: 1.0, etc.)\n        const validUrls = matches.filter((url)=>{\n            // Verificar que el dominio tenga al menos un punto y caracteres alfanuméricos\n            const domainParts = url.split(\".\");\n            // Debe tener al menos un punto y el TLD debe tener al menos 2 caracteres\n            return domainParts.length >= 2 && domainParts[domainParts.length - 1].length >= 2;\n        });\n        return {\n            containsURLs: validUrls.length > 0,\n            urls: validUrls\n        };\n    }\n    /**\n   * Genera un resumen basado en el análisis de URLs\n   */ static generateURLAnalysisSummary(analysis, itemCount) {\n        if (analysis.containsURLs) {\n            const urlCount = analysis.urls.length;\n            return \"He analizado el contenido de \".concat(itemCount, \" elemento\").concat(itemCount !== 1 ? \"s\" : \"\", \" y encontrado \").concat(urlCount, \" URL\").concat(urlCount !== 1 ? \"s\" : \"\", \".\");\n        } else {\n            return \"He analizado el contenido de \".concat(itemCount, \" elemento\").concat(itemCount !== 1 ? \"s\" : \"\", \" y no he encontrado ninguna URL.\");\n        }\n    }\n    /**\n   * Genera recomendaciones basadas en el análisis de URLs\n   */ static generateRecommendations(analysis) {\n        if (analysis.containsURLs) {\n            return [\n                \"Considere verificar si las URLs son seguras antes de utilizarlas.\",\n                \"Aseg\\xfarese de que las URLs est\\xe9n activas y funcionen correctamente.\",\n                \"Considere revisar si los enlaces apuntan a los recursos deseados.\"\n            ];\n        } else {\n            return [\n                \"El contenido no contiene URLs. Si necesita incluir referencias web, considere a\\xf1adirlas.\",\n                \"Puede a\\xf1adir enlaces a recursos adicionales para enriquecer el contenido.\"\n            ];\n        }\n    }\n    /**\n   * Detecta si el mensaje del usuario tiene intención de aplicar una transición\n   * @returns Objeto con la detección, nivel de confianza y el motivo\n   */ static detectApplyTransitionIntention(message) {\n        if (!message) {\n            return {\n                detected: false,\n                confidence: 0,\n                reason: \"Mensaje vac\\xedo\"\n            };\n        }\n        // Si hay mención explícita a capturas, evitar detección de transición\n        // para evitar falsos positivos cuando se combinen ambos términos\n        if (/(?:captura|screenshot|imagen)\\s+(?:de)?\\s+pantalla/i.test(message) || /mostrar\\s+(?:captura|screenshot|imagen)/i.test(message)) {\n            return {\n                detected: false,\n                confidence: 0,\n                reason: \"Se detect\\xf3 intenci\\xf3n de captura de pantalla en su lugar\"\n            };\n        }\n        // Patrones para detectar solicitudes de aplicar transiciones\n        const transitionPatterns = [\n            // Patrones de alta confianza - solicitudes muy específicas\n            {\n                pattern: /(?:aplica|agrega|añade|pon|coloca|mete|inserta)(?:r)?\\s+(?:una|la)?\\s+transici[óo]n(?:\\s+(?:smooth|suave|elegante|de video|entre|visual))?/i,\n                confidence: 0.98,\n                description: \"Solicitud directa de aplicar transici\\xf3n\"\n            },\n            {\n                pattern: /transici[óo]n(?:\\s+(?:smooth|suave|elegante))?(?:\\s+(?:entre|para|en(?:tre)?)\\s+(?:el|los)\\s+(?:video|clip|elemento|segmento))?/i,\n                confidence: 0.95,\n                description: \"Menci\\xf3n a transici\\xf3n con calificadores\"\n            },\n            {\n                pattern: /efecto\\s+(?:de)?\\s+transici[óo]n/i,\n                confidence: 0.90,\n                description: \"Menci\\xf3n a efecto de transici\\xf3n\"\n            },\n            // Patrones de media confianza\n            {\n                pattern: /a[ñn]adir\\s+(?:una|la)?\\s+transici[óo]n/i,\n                confidence: 0.88,\n                description: \"Solicitud de a\\xf1adir transici\\xf3n\"\n            },\n            {\n                pattern: /a[ñn]adir\\s+efecto\\s+(?:de)?\\s+transici[óo]n/i,\n                confidence: 0.85,\n                description: \"Solicitud de a\\xf1adir efecto de transici\\xf3n\"\n            },\n            {\n                pattern: /efecto\\s+visual\\s+(?:de)?\\s+transici[óo]n/i,\n                confidence: 0.83,\n                description: \"Menci\\xf3n a efecto visual de transici\\xf3n\"\n            },\n            // Patrones de baja confianza\n            {\n                pattern: /transici[óo]n\\s+de\\s+video/i,\n                confidence: 0.80,\n                description: \"Menci\\xf3n a transici\\xf3n de video\"\n            },\n            {\n                pattern: /transici[óo]n\\s+smooth/i,\n                confidence: 0.80,\n                description: \"Menci\\xf3n a transici\\xf3n smooth\"\n            },\n            {\n                pattern: /transici[óo]n\\s+suave/i,\n                confidence: 0.80,\n                description: \"Menci\\xf3n a transici\\xf3n suave\"\n            },\n            {\n                pattern: /implementa\\s+transici[óo]n/i,\n                confidence: 0.78,\n                description: \"Instrucci\\xf3n de implementar transici\\xf3n\"\n            },\n            {\n                pattern: /smooth\\s+transition/i,\n                confidence: 0.78,\n                description: \"Menci\\xf3n a smooth transition (ingl\\xe9s)\"\n            },\n            {\n                pattern: /transici[óo]n/i,\n                confidence: 0.75,\n                description: \"Menci\\xf3n general a transici\\xf3n\"\n            }\n        ];\n        // Buscar el patrón con mayor confianza que coincida\n        for (const item of transitionPatterns){\n            if (item.pattern.test(message)) {\n                return {\n                    detected: true,\n                    confidence: item.confidence,\n                    reason: item.description,\n                    transitionPath: \"/transitions/transition1.gif\" // Path predeterminado para la transición\n                };\n            }\n        }\n        // No se detectó ninguna intención de aplicar transición\n        return {\n            detected: false,\n            confidence: 0,\n            reason: \"No se detect\\xf3 intenci\\xf3n de aplicar transici\\xf3n\"\n        };\n    }\n    /**\n   * Detecta si el mensaje del usuario tiene intención de mostrar capturas de pantalla\n   * @returns Objeto con la detección, nivel de confianza y el motivo\n   */ static detectShowScreenshotIntention(message) {\n        if (!message) {\n            return {\n                detected: false,\n                confidence: 0,\n                reason: \"Mensaje vac\\xedo\"\n            };\n        }\n        // Si hay mención explícita a transiciones, evitar detección de capturas\n        if (/transici[óo]n/i.test(message) || /smooth\\s+transition/i.test(message)) {\n            // Verificar si hay mención explícita y fuerte a capturas que supere la mención a transiciones\n            const hasExplicitScreenshotMention = /(?:aplica|agrega|añade|pon|coloca|inserta|incorpora)(?:la|lo|r)?\\s+(?:captura|screenshot|imagen)/i.test(message);\n            if (!hasExplicitScreenshotMention) {\n                return {\n                    detected: false,\n                    confidence: 0,\n                    reason: \"Se detect\\xf3 intenci\\xf3n de transici\\xf3n en su lugar\"\n                };\n            }\n        }\n        // Patrones específicos para aplicar a la timeline\n        const timelinePatterns = [\n            {\n                pattern: /(?:aplica|agrega|añade|pon|coloca|inserta|incorpora)(?:la|lo|r)?\\s+(?:captura|screenshot|imagen|vista|preview)/i,\n                confidence: 0.98,\n                description: \"Solicitud directa de aplicar captura a la timeline\"\n            },\n            {\n                pattern: /(?:aplica|agrega|añade|pon|coloca|inserta|incorpora)(?:la|lo)?\\s+(?:a la|al|en la|en el)?\\s+(?:timeline|línea de tiempo)/i,\n                confidence: 0.95,\n                description: \"Solicitud directa de a\\xf1adir a la timeline\"\n            },\n            {\n                pattern: /(?:usa|usar|utiliza|utilizar)(?:la|lo)?\\s+(?:captura|screenshot|imagen|vista|preview)/i,\n                confidence: 0.93,\n                description: \"Solicitud de usar captura\"\n            }\n        ];\n        // Patrones muy específicos con alta confianza\n        const highConfidencePatterns = [\n            {\n                pattern: /muestra(?:me)?\\s+(?:la|el|una|un)?\\s+(?:captura|screenshot|imagen|vista|preview)/i,\n                confidence: 0.95,\n                description: \"Solicitud directa de mostrar captura\"\n            },\n            {\n                pattern: /ver\\s+(?:la|el|una|un)?\\s+(?:captura|screenshot|imagen|vista|preview)/i,\n                confidence: 0.95,\n                description: \"Solicitud de ver captura\"\n            },\n            {\n                pattern: /enseña(?:me)?\\s+(?:la|el|una|un)?\\s+(?:captura|screenshot|imagen|vista|preview)/i,\n                confidence: 0.95,\n                description: \"Solicitud de ense\\xf1ar captura\"\n            }\n        ];\n        // Patrones menos específicos pero igualmente válidos\n        const mediumConfidencePatterns = [\n            {\n                pattern: /(?:quiero|necesito|me gustaría)\\s+ver\\s+(?:la|el|una|un)?\\s+(?:captura|screenshot|imagen)/i,\n                confidence: 0.88,\n                description: \"Expresi\\xf3n de deseo de ver captura espec\\xedfica\"\n            },\n            {\n                pattern: /(?:puedes|podrías|puedo)\\s+ver\\s+(?:la|el|una|un)?\\s+(?:captura|screenshot|imagen)/i,\n                confidence: 0.88,\n                description: \"Pregunta sobre posibilidad de ver captura espec\\xedfica\"\n            },\n            {\n                pattern: /mostrar\\s+(?:captura|screenshot|imagen)/i,\n                confidence: 0.85,\n                description: \"Menci\\xf3n a mostrar captura espec\\xedfica\"\n            },\n            {\n                pattern: /visualizar\\s+(?:captura|screenshot|imagen)/i,\n                confidence: 0.85,\n                description: \"Menci\\xf3n a visualizar captura espec\\xedfica\"\n            },\n            {\n                pattern: /(?:quiero|necesito|me gustaría)\\s+ver/i,\n                confidence: 0.70,\n                description: \"Expresi\\xf3n de deseo de ver\"\n            },\n            {\n                pattern: /(?:puedes|podrías|puedo)\\s+ver/i,\n                confidence: 0.70,\n                description: \"Pregunta sobre posibilidad de ver\"\n            }\n        ];\n        // Patrones muy generales pero que podrían indicar intención\n        const lowConfidencePatterns = [\n            {\n                pattern: /captura\\s+(?:de)?\\s+pantalla/i,\n                confidence: 0.80,\n                description: \"Menci\\xf3n espec\\xedfica a captura de pantalla\"\n            },\n            {\n                pattern: /screenshot/i,\n                confidence: 0.75,\n                description: \"Menci\\xf3n a screenshot\"\n            },\n            {\n                pattern: /ver\\s+imagen/i,\n                confidence: 0.75,\n                description: \"Menci\\xf3n a ver imagen\"\n            },\n            {\n                pattern: /captura/i,\n                confidence: 0.65,\n                description: \"Menci\\xf3n a captura\"\n            },\n            {\n                pattern: /imagen/i,\n                confidence: 0.60,\n                description: \"Menci\\xf3n a imagen\"\n            },\n            {\n                pattern: /ver/i,\n                confidence: 0.40,\n                description: \"Menci\\xf3n a ver\"\n            },\n            {\n                pattern: /pantalla/i,\n                confidence: 0.40,\n                description: \"Menci\\xf3n a pantalla\"\n            },\n            {\n                pattern: /url/i,\n                confidence: 0.40,\n                description: \"Menci\\xf3n a URL\"\n            },\n            {\n                pattern: /link/i,\n                confidence: 0.40,\n                description: \"Menci\\xf3n a link\"\n            },\n            {\n                pattern: /enlace/i,\n                confidence: 0.40,\n                description: \"Menci\\xf3n a enlace\"\n            }\n        ];\n        // Primero comprobar patrones específicos de timeline\n        for (const item of timelinePatterns){\n            if (item.pattern.test(message)) {\n                return {\n                    detected: true,\n                    confidence: item.confidence,\n                    reason: item.description\n                };\n            }\n        }\n        // Luego buscar en el resto de patrones\n        // Combinar todos los patrones\n        const allPatterns = [\n            ...highConfidencePatterns,\n            ...mediumConfidencePatterns,\n            ...lowConfidencePatterns\n        ];\n        // Buscar el patrón con mayor confianza que coincida\n        for (const item of allPatterns){\n            if (item.pattern.test(message)) {\n                return {\n                    detected: true,\n                    confidence: item.confidence,\n                    reason: item.description\n                };\n            }\n        }\n        // Si hay alguna referencia a URLs en general - REDUCIR CONFIANZA\n        if (message.toLowerCase().includes(\"url\") || message.toLowerCase().includes(\"web\") || message.toLowerCase().includes(\"link\") || message.toLowerCase().includes(\"enlace\")) {\n            return {\n                detected: true,\n                confidence: 0.5,\n                reason: \"Posible inter\\xe9s en contenido web\"\n            };\n        }\n        // Detectar preguntas generales - REDUCIR CONFIANZA\n        if (message.toLowerCase().includes(\"?\") || message.toLowerCase().includes(\"\\xbf\") || /(?:puedes|podrías|me puedes)/i.test(message)) {\n            return {\n                detected: true,\n                confidence: 0.3,\n                reason: \"Pregunta que podr\\xeda implicar intenci\\xf3n visual\"\n            };\n        }\n        // Detección por defecto - REDUCIR CONFIANZA AÚN MÁS\n        if (message.length >= 5) {\n            return {\n                detected: true,\n                confidence: 0.2,\n                reason: \"Detecci\\xf3n por defecto\"\n            };\n        }\n        // Si no coincide ningún patrón y es muy corto\n        return {\n            detected: false,\n            confidence: 0,\n            reason: \"No se detect\\xf3 intenci\\xf3n de mostrar captura\"\n        };\n    }\n    /**\n   * Envía un mensaje al chat de la IA y devuelve la respuesta\n   */ static async sendChatMessage(request) {\n        try {\n            // Primero, analizar el texto del mensaje para detectar URLs\n            const selectedText = this.extractTextFromElements(request.selectedItems);\n            const urlAnalysis = this.detectURLs(selectedText);\n            // Si hay URLs, generar capturas de pantalla\n            if (urlAnalysis.containsURLs) {\n                urlAnalysis.screenshots = this.getScreenshotsForUrls(urlAnalysis.urls);\n            }\n            // Determinar si debemos mostrar la captura de pantalla\n            const showScreenshotDetection = this.detectShowScreenshotIntention(request.message);\n            // Determinar si debemos aplicar una transición\n            const applyTransitionDetection = this.detectApplyTransitionIntention(request.message);\n            // Asegurarse de que solo una de las detecciones sea positiva con alta confianza\n            let finalShowScreenshot = {\n                ...showScreenshotDetection\n            };\n            let finalApplyTransition = {\n                ...applyTransitionDetection\n            };\n            // Si ambas son detectadas, priorizar la que tenga mayor confianza\n            if (showScreenshotDetection.detected && applyTransitionDetection.detected) {\n                // Añadir un margen de seguridad para la transición (priorizar la transición ligeramente)\n                const transitionConfidence = applyTransitionDetection.confidence;\n                const screenshotConfidence = showScreenshotDetection.confidence * 0.95; // 5% de penalización\n                console.log(\"Detecci\\xf3n doble: Transici\\xf3n (\".concat(transitionConfidence, \") vs Screenshot (\").concat(screenshotConfidence, \")\"));\n                if (screenshotConfidence > transitionConfidence) {\n                    // Priorizar screenshot, desactivar transición\n                    finalApplyTransition.detected = false;\n                    finalApplyTransition.confidence = 0;\n                    finalApplyTransition.reason = \"Priorizada la detecci\\xf3n de captura de pantalla\";\n                    console.log(\"Priorizada captura de pantalla sobre transici\\xf3n\");\n                } else {\n                    // Priorizar transición, desactivar screenshot\n                    finalShowScreenshot.detected = false;\n                    finalShowScreenshot.confidence = 0;\n                    finalShowScreenshot.reason = \"Priorizada la detecci\\xf3n de transici\\xf3n\";\n                    console.log(\"Priorizada transici\\xf3n sobre captura de pantalla\");\n                }\n            }\n            // Enviar todo a la API junto con el mensaje del usuario\n            const response = await fetch(\"/api/ai\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    type: \"timeline_chat\",\n                    message: request.message,\n                    selectedItems: request.selectedItems,\n                    selectedText: selectedText,\n                    urlAnalysis: urlAnalysis,\n                    showScreenshotDetection: finalShowScreenshot,\n                    applyTransitionDetection: finalApplyTransition\n                })\n            });\n            const data = await response.json();\n            if (data.success) {\n                return {\n                    success: true,\n                    response: data.response,\n                    urlAnalysis: urlAnalysis,\n                    showScreenshotDetection: finalShowScreenshot,\n                    applyTransitionDetection: finalApplyTransition\n                };\n            } else {\n                return {\n                    success: false,\n                    error: data.error || \"Error desconocido al procesar la solicitud\"\n                };\n            }\n        } catch (error) {\n            console.error(\"Error en chat de timeline:\", error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (AIService);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2ZlYXR1cmVzL2VkaXRvci9zZXJ2aWNlcy9haS1zZXJ2aWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7OztDQUlDLEdBMERNLE1BQU1BO0lBQ1g7O0dBRUMsR0FDRCxhQUFvQkMsYUFBYUMsT0FBMEIsRUFBK0I7UUFDeEYsSUFBSTtZQUNGLDZDQUE2QztZQUM3QyxNQUFNLElBQUlDLFFBQVFDLENBQUFBLFVBQVdDLFdBQVdELFNBQVM7WUFFakRFLFFBQVFDLEdBQUcsQ0FBQyx5QkFBeUJMO1lBRXJDLDREQUE0RDtZQUM1RCxNQUFNTSxlQUFlLElBQUksQ0FBQ0MsdUJBQXVCLENBQUNQLFFBQVFRLEtBQUs7WUFFL0Qsc0RBQXNEO1lBQ3RELE1BQU1DLGdCQUFnQlQsUUFBUVUsT0FBTyxJQUFJSjtZQUV6QyxxQ0FBcUM7WUFDckMsTUFBTUssY0FBYyxJQUFJLENBQUNDLFVBQVUsQ0FBQ0g7WUFFcEMsa0RBQWtEO1lBQ2xELElBQUlFLFlBQVlFLFlBQVksRUFBRTtnQkFDNUJGLFlBQVlHLFdBQVcsR0FBRyxJQUFJLENBQUNDLHFCQUFxQixDQUFDSixZQUFZSyxJQUFJO1lBQ3ZFO1lBRUEsbUNBQW1DO1lBQ25DLHNFQUFzRTtZQUN0RSxPQUFPO2dCQUNMQyxTQUFTO2dCQUNUUCxTQUFTO2dCQUNUUSxVQUFVO29CQUNSQyxTQUFTLElBQUksQ0FBQ0MsMEJBQTBCLENBQUNULGFBQWFYLFFBQVFRLEtBQUssQ0FBQ2EsTUFBTTtvQkFDMUVWLGFBQWFBO29CQUNiVyxlQUFldEIsUUFBUVEsS0FBSyxDQUFDYSxNQUFNO29CQUNuQ0UsY0FBY2Q7b0JBQ2RlLGlCQUFpQixJQUFJLENBQUNDLHVCQUF1QixDQUFDZDtvQkFDOUNlLFlBQVk7Z0JBQ2Q7WUFDRjtRQUNGLEVBQUUsT0FBT0MsT0FBTztZQUNkdkIsUUFBUXVCLEtBQUssQ0FBQyx3QkFBd0JBO1lBQ3RDLE9BQU87Z0JBQ0xWLFNBQVM7Z0JBQ1RQLFNBQVM7Z0JBQ1RpQixPQUFP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PzBhZTIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTZXJ2aWNpbyBwYXJhIG1hbmVqYXIgbGEgY29tdW5pY2FjacOzbiBjb24gbGEgSUEuXG4gKiBFc3RhIGVzIHVuYSBpbXBsZW1lbnRhY2nDs24gYmFzZSBxdWUgc2ltdWxhIHJlc3B1ZXN0YXMuXG4gKiBFbiBlbCBmdXR1cm8sIHNlIGNvbmVjdGFyw6EgY29uIHVuYSBBUEkgcmVhbC5cbiAqL1xuXG5pbnRlcmZhY2UgQUlBbmFseXNpc1JlcXVlc3Qge1xuICBtZXNzYWdlPzogc3RyaW5nO1xuICBpdGVtczogYW55W107IC8vIExvcyBlbGVtZW50b3Mgc2VsZWNjaW9uYWRvcyBlbiBsYSB0aW1lbGluZVxuICBjb250ZXh0PzogYW55OyAvLyBJbmZvcm1hY2nDs24gZGUgY29udGV4dG8gYWRpY2lvbmFsXG59XG5cbmludGVyZmFjZSBBSUFuYWx5c2lzUmVzcG9uc2Uge1xuICBzdWNjZXNzOiBib29sZWFuO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIGFuYWx5c2lzPzogYW55OyAvLyBBbsOhbGlzaXMgZGV0YWxsYWRvIGRlIGxhIElBXG4gIGVycm9yPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgVVJMQW5hbHlzaXNSZXN1bHQge1xuICBjb250YWluc1VSTHM6IGJvb2xlYW47XG4gIHVybHM6IHN0cmluZ1tdO1xuICBzY3JlZW5zaG90cz86IFVSTFNjcmVlbnNob3RJbmZvW107IC8vIEluZm9ybWFjacOzbiBkZSBzY3JlZW5zaG90cyBwYXJhIGxhcyBVUkxzXG59XG5cbmludGVyZmFjZSBVUkxTY3JlZW5zaG90SW5mbyB7XG4gIHVybDogc3RyaW5nO1xuICBzY3JlZW5zaG90UGF0aDogc3RyaW5nO1xufVxuXG4vLyBOdWV2YSBpbnRlcmZheiBwYXJhIGxhIGRldGVjY2nDs24gZGUgYXBsaWNhciB0cmFuc2ljaW9uZXNcbmludGVyZmFjZSBUcmFuc2l0aW9uRGV0ZWN0aW9uUmVzdWx0IHtcbiAgZGV0ZWN0ZWQ6IGJvb2xlYW47XG4gIGNvbmZpZGVuY2U6IG51bWJlcjtcbiAgcmVhc29uOiBzdHJpbmc7XG4gIHRyYW5zaXRpb25QYXRoPzogc3RyaW5nO1xufVxuXG4vLyBOdWV2YSBpbnRlcmZheiBwYXJhIHNvbGljaXR1ZGVzIGRlIGNoYXRcbmludGVyZmFjZSBDaGF0UmVxdWVzdCB7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgc2VsZWN0ZWRJdGVtczogYW55W107XG59XG5cbi8vIE51ZXZhIGludGVyZmF6IHBhcmEgcmVzcHVlc3RhcyBkZSBjaGF0XG5pbnRlcmZhY2UgQ2hhdFJlc3BvbnNlIHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgcmVzcG9uc2U/OiBzdHJpbmc7XG4gIGVycm9yPzogc3RyaW5nO1xuICB1cmxBbmFseXNpcz86IHtcbiAgICBjb250YWluc1VSTHM6IGJvb2xlYW47XG4gICAgdXJsczogc3RyaW5nW107XG4gICAgc2NyZWVuc2hvdHM/OiBVUkxTY3JlZW5zaG90SW5mb1tdO1xuICB9O1xuICBzaG93U2NyZWVuc2hvdERldGVjdGlvbj86IHtcbiAgICBkZXRlY3RlZDogYm9vbGVhbjtcbiAgICBjb25maWRlbmNlOiBudW1iZXI7XG4gICAgcmVhc29uOiBzdHJpbmc7XG4gIH07XG4gIGFwcGx5VHJhbnNpdGlvbkRldGVjdGlvbj86IFRyYW5zaXRpb25EZXRlY3Rpb25SZXN1bHQ7XG59XG5cbmV4cG9ydCBjbGFzcyBBSVNlcnZpY2Uge1xuICAvKipcbiAgICogQW5hbGl6YSBsb3MgZWxlbWVudG9zIHNlbGVjY2lvbmFkb3MgcGFyYSBidXNjYXIgVVJMc1xuICAgKi9cbiAgcHVibGljIHN0YXRpYyBhc3luYyBhbmFseXplSXRlbXMocmVxdWVzdDogQUlBbmFseXNpc1JlcXVlc3QpOiBQcm9taXNlPEFJQW5hbHlzaXNSZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBTaW11bGFtb3MgdW4gdGllbXBvIGRlIHJlc3B1ZXN0YSBkZSBsYSBBUElcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdBSSBTZXJ2aWNlIC0gUmVxdWVzdDonLCByZXF1ZXN0KTtcblxuICAgICAgLy8gRXh0cmFlciBlbCB0ZXh0byByZWxldmFudGUgZGUgbG9zIGVsZW1lbnRvcyBzZWxlY2Npb25hZG9zXG4gICAgICBjb25zdCBlbGVtZW50c1RleHQgPSB0aGlzLmV4dHJhY3RUZXh0RnJvbUVsZW1lbnRzKHJlcXVlc3QuaXRlbXMpO1xuXG4gICAgICAvLyBNZW5zYWplIGV4cGzDrWNpdG8gbyB0ZXh0byBleHRyYcOtZG8gZGUgbG9zIGVsZW1lbnRvc1xuICAgICAgY29uc3QgdGV4dFRvQW5hbHl6ZSA9IHJlcXVlc3QubWVzc2FnZSB8fCBlbGVtZW50c1RleHQ7XG5cbiAgICAgIC8vIEFuYWxpemFyIHNpIGVsIHRleHRvIGNvbnRpZW5lIFVSTHNcbiAgICAgIGNvbnN0IHVybEFuYWx5c2lzID0gdGhpcy5kZXRlY3RVUkxzKHRleHRUb0FuYWx5emUpO1xuXG4gICAgICAvLyBTaSBoYXkgVVJMcywgZ2VuZXJhciBpbmZvcm1hY2nDs24gZGUgc2NyZWVuc2hvdHNcbiAgICAgIGlmICh1cmxBbmFseXNpcy5jb250YWluc1VSTHMpIHtcbiAgICAgICAgdXJsQW5hbHlzaXMuc2NyZWVuc2hvdHMgPSB0aGlzLmdldFNjcmVlbnNob3RzRm9yVXJscyh1cmxBbmFseXNpcy51cmxzKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2ltdWxhY2nDs24gZGUgcmVzcHVlc3RhIGRlIGxhIElBXG4gICAgICAvLyBFbiB1biBlbnRvcm5vIHJlYWwsIGVzdG8gZW52aWFyw61hIGxhIHNvbGljaXR1ZCBhIHVuIGVuZHBvaW50IGRlIEFQSVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgbWVzc2FnZTogXCJBbsOhbGlzaXMgY29tcGxldGFkbyBjb24gw6l4aXRvXCIsXG4gICAgICAgIGFuYWx5c2lzOiB7XG4gICAgICAgICAgc3VtbWFyeTogdGhpcy5nZW5lcmF0ZVVSTEFuYWx5c2lzU3VtbWFyeSh1cmxBbmFseXNpcywgcmVxdWVzdC5pdGVtcy5sZW5ndGgpLFxuICAgICAgICAgIHVybEFuYWx5c2lzOiB1cmxBbmFseXNpcyxcbiAgICAgICAgICBpdGVtc0FuYWx5emVkOiByZXF1ZXN0Lml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICBhbmFseXplZFRleHQ6IHRleHRUb0FuYWx5emUsXG4gICAgICAgICAgcmVjb21tZW5kYXRpb25zOiB0aGlzLmdlbmVyYXRlUmVjb21tZW5kYXRpb25zKHVybEFuYWx5c2lzKSxcbiAgICAgICAgICBjb25maWRlbmNlOiAwLjk1XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIEFJIHNlcnZpY2U6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2U6IFwiRXJyb3IgYWwgcHJvY2VzYXIgbGEgc29saWNpdHVkXCIsXG4gICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcilcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE9idGllbmUgbGFzIGNhcHR1cmFzIGRlIHBhbnRhbGxhIHBhcmEgbGFzIFVSTHMgZGV0ZWN0YWRhc1xuICAgKiAoQ29tbyBlcyB1biBkZW1vLCB1dGlsaXphbW9zIGxhIG1pc21hIGltYWdlbiBwYXJhIHRvZGFzIGxhcyBVUkxzKVxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgZ2V0U2NyZWVuc2hvdHNGb3JVcmxzKHVybHM6IHN0cmluZ1tdKTogVVJMU2NyZWVuc2hvdEluZm9bXSB7XG4gICAgLy8gRW4gdW4gZW50b3JubyByZWFsLCBlc3RhIGZ1bmNpw7NuIHJlYWxpemFyw61hIHVuYSBsbGFtYWRhIGEgdW4gc2VydmljaW9cbiAgICAvLyBxdWUgZ2VuZXJhcsOtYSBjYXB0dXJhcyBkZSBwYW50YWxsYSBwYXJhIGNhZGEgVVJMXG4gICAgLy8gUG9yIGFob3JhLCB1c2Ftb3MgdW5hIGltYWdlbiBkZSBkZW1vc3RyYWNpw7NuIHBhcmEgdG9kYXMgbGFzIFVSTHNcbiAgICByZXR1cm4gdXJscy5tYXAodXJsID0+ICh7XG4gICAgICB1cmwsXG4gICAgICBzY3JlZW5zaG90UGF0aDogJy9zY3JlZW5zaG90cy9zY3JlZW5zaG90MS5wbmcnXG4gICAgfSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4dHJhZSB0ZXh0byBkZSBsb3MgZWxlbWVudG9zIHNlbGVjY2lvbmFkb3NcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIGV4dHJhY3RUZXh0RnJvbUVsZW1lbnRzKGl0ZW1zOiBhbnlbXSk6IHN0cmluZyB7XG4gICAgLy8gQXF1w60gZXh0cmFlbW9zIGVsIHRleHRvIGRlIGxvcyBlbGVtZW50b3Mgc2VsZWNjaW9uYWRvc1xuICAgIC8vIEVuIHVuIGNhc28gcmVhbCwgZXN0byBkZXBlbmRlcsOtYSBkZSBsYSBlc3RydWN0dXJhIGRlIHR1cyBlbGVtZW50b3NcbiAgICBsZXQgZXh0cmFjdGVkVGV4dCA9IFwiXCI7XG5cbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgIC8vIEludGVudGFyIGV4dHJhZXIgdGV4dG8gZGUgZGlmZXJlbnRlcyBwcm9waWVkYWRlcyBjb211bmVzXG4gICAgICAvLyBFc3RvIGVzIHVuIGVqZW1wbG8geSBkZWJlcsOtYSBhZGFwdGFyc2UgYSB0dSBlc3RydWN0dXJhIGRlIGRhdG9zIHJlYWxcbiAgICAgIGlmIChpdGVtLnRleHQpIHtcbiAgICAgICAgZXh0cmFjdGVkVGV4dCArPSBcIiBcIiArIGl0ZW0udGV4dDtcbiAgICAgIH0gZWxzZSBpZiAoaXRlbS5kZXRhaWxzPy50ZXh0KSB7XG4gICAgICAgIGV4dHJhY3RlZFRleHQgKz0gXCIgXCIgKyBpdGVtLmRldGFpbHMudGV4dDtcbiAgICAgIH0gZWxzZSBpZiAoaXRlbS5uYW1lKSB7XG4gICAgICAgIGV4dHJhY3RlZFRleHQgKz0gXCIgXCIgKyBpdGVtLm5hbWU7XG4gICAgICB9IGVsc2UgaWYgKGl0ZW0udGl0bGUpIHtcbiAgICAgICAgZXh0cmFjdGVkVGV4dCArPSBcIiBcIiArIGl0ZW0udGl0bGU7XG4gICAgICB9IGVsc2UgaWYgKGl0ZW0uZGVzY3JpcHRpb24pIHtcbiAgICAgICAgZXh0cmFjdGVkVGV4dCArPSBcIiBcIiArIGl0ZW0uZGVzY3JpcHRpb247XG4gICAgICB9IGVsc2UgaWYgKGl0ZW0uZGV0YWlscz8uZGVzY3JpcHRpb24pIHtcbiAgICAgICAgZXh0cmFjdGVkVGV4dCArPSBcIiBcIiArIGl0ZW0uZGV0YWlscy5kZXNjcmlwdGlvbjtcbiAgICAgIH0gZWxzZSBpZiAoaXRlbS5kZXRhaWxzPy5zcmMpIHtcbiAgICAgICAgZXh0cmFjdGVkVGV4dCArPSBcIiBcIiArIGl0ZW0uZGV0YWlscy5zcmM7XG4gICAgICB9IGVsc2UgaWYgKGl0ZW0uc3JjKSB7XG4gICAgICAgIGV4dHJhY3RlZFRleHQgKz0gXCIgXCIgKyBpdGVtLnNyYztcbiAgICAgIH0gZWxzZSBpZiAoaXRlbS5jb250ZW50KSB7XG4gICAgICAgIGV4dHJhY3RlZFRleHQgKz0gXCIgXCIgKyBpdGVtLmNvbnRlbnQ7XG4gICAgICB9IGVsc2UgaWYgKGl0ZW0ubGFiZWwpIHtcbiAgICAgICAgZXh0cmFjdGVkVGV4dCArPSBcIiBcIiArIGl0ZW0ubGFiZWw7XG4gICAgICB9IGVsc2UgaWYgKGl0ZW0udmFsdWUpIHtcbiAgICAgICAgZXh0cmFjdGVkVGV4dCArPSBcIiBcIiArIGl0ZW0udmFsdWU7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJykge1xuICAgICAgICBleHRyYWN0ZWRUZXh0ICs9IFwiIFwiICsgaXRlbTtcbiAgICAgIH1cblxuICAgICAgLy8gVGFtYmnDqW4gcG9kZW1vcyBidXNjYXIgZW4gYXRyaWJ1dG9zIGFuaWRhZG9zXG4gICAgICBpZiAoaXRlbS5wcm9wcyAmJiB0eXBlb2YgaXRlbS5wcm9wcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gaXRlbS5wcm9wcykge1xuICAgICAgICAgIGlmICh0eXBlb2YgaXRlbS5wcm9wc1trZXldID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgZXh0cmFjdGVkVGV4dCArPSBcIiBcIiArIGl0ZW0ucHJvcHNba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gU2kgdG9kYXbDrWEgbm8gaGVtb3MgZW5jb250cmFkbyB0ZXh0bywgaW50ZW50YW1vcyBjb252ZXJ0aXIgZWwgb2JqZXRvIGEgc3RyaW5nXG4gICAgICBpZiAoZXh0cmFjdGVkVGV4dC50cmltKCkgPT09IFwiXCIgJiYgaXRlbS50b1N0cmluZykge1xuICAgICAgICBjb25zdCBzdHIgPSBpdGVtLnRvU3RyaW5nKCk7XG4gICAgICAgIGlmIChzdHIgIT09IFwiW29iamVjdCBPYmplY3RdXCIpIHtcbiAgICAgICAgICBleHRyYWN0ZWRUZXh0ICs9IFwiIFwiICsgc3RyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4dHJhY3RlZFRleHQudHJpbSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVjdGEgVVJMcyBlbiB1biB0ZXh0b1xuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgZGV0ZWN0VVJMcyh0ZXh0OiBzdHJpbmcpOiBVUkxBbmFseXNpc1Jlc3VsdCB7XG4gICAgLy8gRXhwcmVzacOzbiByZWd1bGFyIG1lam9yYWRhIHBhcmEgY2FwdHVyYXIgdW5hIHZhcmllZGFkIG3DoXMgYW1wbGlhIGRlIFVSTHNcbiAgICAvLyBFc3RhIHJlZ2V4IGJ1c2NhIFVSTHMgY29uIGRpdmVyc29zIGRvbWluaW9zIGRlIG5pdmVsIHN1cGVyaW9yICguY29tLCAub3JnLCAuYWksIGV0Yy4pXG4gICAgY29uc3QgdXJsUmVnZXggPSAvKD86aHR0cHM/OlxcL1xcLyk/KD86d3d3XFwuKT9bLWEtekEtWjAtOUA6JS5fXFwrfiM9XXsxLDI1Nn1cXC5bYS16QS1aMC05KCldezEsNn1cXGIoPzpbLWEtekEtWjAtOSgpQDolX1xcKy5+Iz8mLy89XSopL2dpO1xuXG4gICAgY29uc3QgbWF0Y2hlcyA9IHRleHQubWF0Y2godXJsUmVnZXgpIHx8IFtdO1xuXG4gICAgLy8gRmlsdHJhciBwb3NpYmxlcyBmYWxzb3MgcG9zaXRpdm9zIChjb21vIG7Dum1lcm9zIGRlIHZlcnNpw7NuOiAxLjAsIGV0Yy4pXG4gICAgY29uc3QgdmFsaWRVcmxzID0gbWF0Y2hlcy5maWx0ZXIodXJsID0+IHtcbiAgICAgIC8vIFZlcmlmaWNhciBxdWUgZWwgZG9taW5pbyB0ZW5nYSBhbCBtZW5vcyB1biBwdW50byB5IGNhcmFjdGVyZXMgYWxmYW51bcOpcmljb3NcbiAgICAgIGNvbnN0IGRvbWFpblBhcnRzID0gdXJsLnNwbGl0KCcuJyk7XG4gICAgICAvLyBEZWJlIHRlbmVyIGFsIG1lbm9zIHVuIHB1bnRvIHkgZWwgVExEIGRlYmUgdGVuZXIgYWwgbWVub3MgMiBjYXJhY3RlcmVzXG4gICAgICByZXR1cm4gZG9tYWluUGFydHMubGVuZ3RoID49IDIgJiYgZG9tYWluUGFydHNbZG9tYWluUGFydHMubGVuZ3RoIC0gMV0ubGVuZ3RoID49IDI7XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgY29udGFpbnNVUkxzOiB2YWxpZFVybHMubGVuZ3RoID4gMCxcbiAgICAgIHVybHM6IHZhbGlkVXJsc1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhIHVuIHJlc3VtZW4gYmFzYWRvIGVuIGVsIGFuw6FsaXNpcyBkZSBVUkxzXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBnZW5lcmF0ZVVSTEFuYWx5c2lzU3VtbWFyeShhbmFseXNpczogVVJMQW5hbHlzaXNSZXN1bHQsIGl0ZW1Db3VudDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBpZiAoYW5hbHlzaXMuY29udGFpbnNVUkxzKSB7XG4gICAgICBjb25zdCB1cmxDb3VudCA9IGFuYWx5c2lzLnVybHMubGVuZ3RoO1xuICAgICAgcmV0dXJuIGBIZSBhbmFsaXphZG8gZWwgY29udGVuaWRvIGRlICR7aXRlbUNvdW50fSBlbGVtZW50byR7aXRlbUNvdW50ICE9PSAxID8gJ3MnIDogJyd9IHkgZW5jb250cmFkbyAke3VybENvdW50fSBVUkwke3VybENvdW50ICE9PSAxID8gJ3MnIDogJyd9LmA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBgSGUgYW5hbGl6YWRvIGVsIGNvbnRlbmlkbyBkZSAke2l0ZW1Db3VudH0gZWxlbWVudG8ke2l0ZW1Db3VudCAhPT0gMSA/ICdzJyA6ICcnfSB5IG5vIGhlIGVuY29udHJhZG8gbmluZ3VuYSBVUkwuYDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhIHJlY29tZW5kYWNpb25lcyBiYXNhZGFzIGVuIGVsIGFuw6FsaXNpcyBkZSBVUkxzXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBnZW5lcmF0ZVJlY29tbWVuZGF0aW9ucyhhbmFseXNpczogVVJMQW5hbHlzaXNSZXN1bHQpOiBzdHJpbmdbXSB7XG4gICAgaWYgKGFuYWx5c2lzLmNvbnRhaW5zVVJMcykge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgXCJDb25zaWRlcmUgdmVyaWZpY2FyIHNpIGxhcyBVUkxzIHNvbiBzZWd1cmFzIGFudGVzIGRlIHV0aWxpemFybGFzLlwiLFxuICAgICAgICBcIkFzZWfDunJlc2UgZGUgcXVlIGxhcyBVUkxzIGVzdMOpbiBhY3RpdmFzIHkgZnVuY2lvbmVuIGNvcnJlY3RhbWVudGUuXCIsXG4gICAgICAgIFwiQ29uc2lkZXJlIHJldmlzYXIgc2kgbG9zIGVubGFjZXMgYXB1bnRhbiBhIGxvcyByZWN1cnNvcyBkZXNlYWRvcy5cIlxuICAgICAgXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgXCJFbCBjb250ZW5pZG8gbm8gY29udGllbmUgVVJMcy4gU2kgbmVjZXNpdGEgaW5jbHVpciByZWZlcmVuY2lhcyB3ZWIsIGNvbnNpZGVyZSBhw7FhZGlybGFzLlwiLFxuICAgICAgICBcIlB1ZWRlIGHDsWFkaXIgZW5sYWNlcyBhIHJlY3Vyc29zIGFkaWNpb25hbGVzIHBhcmEgZW5yaXF1ZWNlciBlbCBjb250ZW5pZG8uXCJcbiAgICAgIF07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERldGVjdGEgc2kgZWwgbWVuc2FqZSBkZWwgdXN1YXJpbyB0aWVuZSBpbnRlbmNpw7NuIGRlIGFwbGljYXIgdW5hIHRyYW5zaWNpw7NuXG4gICAqIEByZXR1cm5zIE9iamV0byBjb24gbGEgZGV0ZWNjacOzbiwgbml2ZWwgZGUgY29uZmlhbnphIHkgZWwgbW90aXZvXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBkZXRlY3RBcHBseVRyYW5zaXRpb25JbnRlbnRpb24obWVzc2FnZTogc3RyaW5nKTogVHJhbnNpdGlvbkRldGVjdGlvblJlc3VsdCB7XG4gICAgaWYgKCFtZXNzYWdlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkZXRlY3RlZDogZmFsc2UsXG4gICAgICAgIGNvbmZpZGVuY2U6IDAsXG4gICAgICAgIHJlYXNvbjogXCJNZW5zYWplIHZhY8Otb1wiXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIFNpIGhheSBtZW5jacOzbiBleHBsw61jaXRhIGEgY2FwdHVyYXMsIGV2aXRhciBkZXRlY2Npw7NuIGRlIHRyYW5zaWNpw7NuXG4gICAgLy8gcGFyYSBldml0YXIgZmFsc29zIHBvc2l0aXZvcyBjdWFuZG8gc2UgY29tYmluZW4gYW1ib3MgdMOpcm1pbm9zXG4gICAgaWYgKC8oPzpjYXB0dXJhfHNjcmVlbnNob3R8aW1hZ2VuKVxccysoPzpkZSk/XFxzK3BhbnRhbGxhL2kudGVzdChtZXNzYWdlKSB8fFxuICAgICAgICAvbW9zdHJhclxccysoPzpjYXB0dXJhfHNjcmVlbnNob3R8aW1hZ2VuKS9pLnRlc3QobWVzc2FnZSkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRldGVjdGVkOiBmYWxzZSxcbiAgICAgICAgY29uZmlkZW5jZTogMCxcbiAgICAgICAgcmVhc29uOiBcIlNlIGRldGVjdMOzIGludGVuY2nDs24gZGUgY2FwdHVyYSBkZSBwYW50YWxsYSBlbiBzdSBsdWdhclwiXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIFBhdHJvbmVzIHBhcmEgZGV0ZWN0YXIgc29saWNpdHVkZXMgZGUgYXBsaWNhciB0cmFuc2ljaW9uZXNcbiAgICBjb25zdCB0cmFuc2l0aW9uUGF0dGVybnMgPSBbXG4gICAgICAvLyBQYXRyb25lcyBkZSBhbHRhIGNvbmZpYW56YSAtIHNvbGljaXR1ZGVzIG11eSBlc3BlY8OtZmljYXNcbiAgICAgIHtcbiAgICAgICAgcGF0dGVybjogLyg/OmFwbGljYXxhZ3JlZ2F8YcOxYWRlfHBvbnxjb2xvY2F8bWV0ZXxpbnNlcnRhKSg/OnIpP1xccysoPzp1bmF8bGEpP1xccyt0cmFuc2ljaVvDs29dbig/OlxccysoPzpzbW9vdGh8c3VhdmV8ZWxlZ2FudGV8ZGUgdmlkZW98ZW50cmV8dmlzdWFsKSk/L2ksXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuOTgsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlNvbGljaXR1ZCBkaXJlY3RhIGRlIGFwbGljYXIgdHJhbnNpY2nDs25cIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcGF0dGVybjogL3RyYW5zaWNpW8Ozb11uKD86XFxzKyg/OnNtb290aHxzdWF2ZXxlbGVnYW50ZSkpPyg/OlxccysoPzplbnRyZXxwYXJhfGVuKD86dHJlKT8pXFxzKyg/OmVsfGxvcylcXHMrKD86dmlkZW98Y2xpcHxlbGVtZW50b3xzZWdtZW50bykpPy9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjk1LFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJNZW5jacOzbiBhIHRyYW5zaWNpw7NuIGNvbiBjYWxpZmljYWRvcmVzXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHBhdHRlcm46IC9lZmVjdG9cXHMrKD86ZGUpP1xccyt0cmFuc2ljaVvDs29dbi9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjkwLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJNZW5jacOzbiBhIGVmZWN0byBkZSB0cmFuc2ljacOzblwiXG4gICAgICB9LFxuICAgICAgLy8gUGF0cm9uZXMgZGUgbWVkaWEgY29uZmlhbnphXG4gICAgICB7XG4gICAgICAgIHBhdHRlcm46IC9hW8Oxbl1hZGlyXFxzKyg/OnVuYXxsYSk/XFxzK3RyYW5zaWNpW8Ozb11uL2ksXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuODgsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlNvbGljaXR1ZCBkZSBhw7FhZGlyIHRyYW5zaWNpw7NuXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHBhdHRlcm46IC9hW8Oxbl1hZGlyXFxzK2VmZWN0b1xccysoPzpkZSk/XFxzK3RyYW5zaWNpW8Ozb11uL2ksXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuODUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlNvbGljaXR1ZCBkZSBhw7FhZGlyIGVmZWN0byBkZSB0cmFuc2ljacOzblwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBwYXR0ZXJuOiAvZWZlY3RvXFxzK3Zpc3VhbFxccysoPzpkZSk/XFxzK3RyYW5zaWNpW8Ozb11uL2ksXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuODMsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIk1lbmNpw7NuIGEgZWZlY3RvIHZpc3VhbCBkZSB0cmFuc2ljacOzblwiXG4gICAgICB9LFxuICAgICAgLy8gUGF0cm9uZXMgZGUgYmFqYSBjb25maWFuemFcbiAgICAgIHtcbiAgICAgICAgcGF0dGVybjogL3RyYW5zaWNpW8Ozb11uXFxzK2RlXFxzK3ZpZGVvL2ksXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuODAsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIk1lbmNpw7NuIGEgdHJhbnNpY2nDs24gZGUgdmlkZW9cIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcGF0dGVybjogL3RyYW5zaWNpW8Ozb11uXFxzK3Ntb290aC9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjgwLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJNZW5jacOzbiBhIHRyYW5zaWNpw7NuIHNtb290aFwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBwYXR0ZXJuOiAvdHJhbnNpY2lbw7NvXW5cXHMrc3VhdmUvaSxcbiAgICAgICAgY29uZmlkZW5jZTogMC44MCxcbiAgICAgICAgZGVzY3JpcHRpb246IFwiTWVuY2nDs24gYSB0cmFuc2ljacOzbiBzdWF2ZVwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBwYXR0ZXJuOiAvaW1wbGVtZW50YVxccyt0cmFuc2ljaVvDs29dbi9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjc4LFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJJbnN0cnVjY2nDs24gZGUgaW1wbGVtZW50YXIgdHJhbnNpY2nDs25cIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcGF0dGVybjogL3Ntb290aFxccyt0cmFuc2l0aW9uL2ksXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuNzgsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIk1lbmNpw7NuIGEgc21vb3RoIHRyYW5zaXRpb24gKGluZ2zDqXMpXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHBhdHRlcm46IC90cmFuc2ljaVvDs29dbi9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjc1LFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJNZW5jacOzbiBnZW5lcmFsIGEgdHJhbnNpY2nDs25cIlxuICAgICAgfVxuICAgIF07XG5cbiAgICAvLyBCdXNjYXIgZWwgcGF0csOzbiBjb24gbWF5b3IgY29uZmlhbnphIHF1ZSBjb2luY2lkYVxuICAgIGZvciAoY29uc3QgaXRlbSBvZiB0cmFuc2l0aW9uUGF0dGVybnMpIHtcbiAgICAgIGlmIChpdGVtLnBhdHRlcm4udGVzdChtZXNzYWdlKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRldGVjdGVkOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZGVuY2U6IGl0ZW0uY29uZmlkZW5jZSxcbiAgICAgICAgICByZWFzb246IGl0ZW0uZGVzY3JpcHRpb24sXG4gICAgICAgICAgdHJhbnNpdGlvblBhdGg6ICcvdHJhbnNpdGlvbnMvdHJhbnNpdGlvbjEuZ2lmJyAvLyBQYXRoIHByZWRldGVybWluYWRvIHBhcmEgbGEgdHJhbnNpY2nDs25cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBObyBzZSBkZXRlY3TDsyBuaW5ndW5hIGludGVuY2nDs24gZGUgYXBsaWNhciB0cmFuc2ljacOzblxuICAgIHJldHVybiB7XG4gICAgICBkZXRlY3RlZDogZmFsc2UsXG4gICAgICBjb25maWRlbmNlOiAwLFxuICAgICAgcmVhc29uOiBcIk5vIHNlIGRldGVjdMOzIGludGVuY2nDs24gZGUgYXBsaWNhciB0cmFuc2ljacOzblwiXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlY3RhIHNpIGVsIG1lbnNhamUgZGVsIHVzdWFyaW8gdGllbmUgaW50ZW5jacOzbiBkZSBtb3N0cmFyIGNhcHR1cmFzIGRlIHBhbnRhbGxhXG4gICAqIEByZXR1cm5zIE9iamV0byBjb24gbGEgZGV0ZWNjacOzbiwgbml2ZWwgZGUgY29uZmlhbnphIHkgZWwgbW90aXZvXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBkZXRlY3RTaG93U2NyZWVuc2hvdEludGVudGlvbihtZXNzYWdlOiBzdHJpbmcpOiB7XG4gICAgZGV0ZWN0ZWQ6IGJvb2xlYW47XG4gICAgY29uZmlkZW5jZTogbnVtYmVyO1xuICAgIHJlYXNvbjogc3RyaW5nO1xuICB9IHtcbiAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRldGVjdGVkOiBmYWxzZSxcbiAgICAgICAgY29uZmlkZW5jZTogMCxcbiAgICAgICAgcmVhc29uOiBcIk1lbnNhamUgdmFjw61vXCJcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gU2kgaGF5IG1lbmNpw7NuIGV4cGzDrWNpdGEgYSB0cmFuc2ljaW9uZXMsIGV2aXRhciBkZXRlY2Npw7NuIGRlIGNhcHR1cmFzXG4gICAgaWYgKC90cmFuc2ljaVvDs29dbi9pLnRlc3QobWVzc2FnZSkgfHwgL3Ntb290aFxccyt0cmFuc2l0aW9uL2kudGVzdChtZXNzYWdlKSkge1xuICAgICAgLy8gVmVyaWZpY2FyIHNpIGhheSBtZW5jacOzbiBleHBsw61jaXRhIHkgZnVlcnRlIGEgY2FwdHVyYXMgcXVlIHN1cGVyZSBsYSBtZW5jacOzbiBhIHRyYW5zaWNpb25lc1xuICAgICAgY29uc3QgaGFzRXhwbGljaXRTY3JlZW5zaG90TWVudGlvbiA9IC8oPzphcGxpY2F8YWdyZWdhfGHDsWFkZXxwb258Y29sb2NhfGluc2VydGF8aW5jb3Jwb3JhKSg/OmxhfGxvfHIpP1xccysoPzpjYXB0dXJhfHNjcmVlbnNob3R8aW1hZ2VuKS9pLnRlc3QobWVzc2FnZSk7XG5cbiAgICAgIGlmICghaGFzRXhwbGljaXRTY3JlZW5zaG90TWVudGlvbikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRldGVjdGVkOiBmYWxzZSxcbiAgICAgICAgICBjb25maWRlbmNlOiAwLFxuICAgICAgICAgIHJlYXNvbjogXCJTZSBkZXRlY3TDsyBpbnRlbmNpw7NuIGRlIHRyYW5zaWNpw7NuIGVuIHN1IGx1Z2FyXCJcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBQYXRyb25lcyBlc3BlY8OtZmljb3MgcGFyYSBhcGxpY2FyIGEgbGEgdGltZWxpbmVcbiAgICBjb25zdCB0aW1lbGluZVBhdHRlcm5zID0gW1xuICAgICAge1xuICAgICAgICBwYXR0ZXJuOiAvKD86YXBsaWNhfGFncmVnYXxhw7FhZGV8cG9ufGNvbG9jYXxpbnNlcnRhfGluY29ycG9yYSkoPzpsYXxsb3xyKT9cXHMrKD86Y2FwdHVyYXxzY3JlZW5zaG90fGltYWdlbnx2aXN0YXxwcmV2aWV3KS9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjk4LFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJTb2xpY2l0dWQgZGlyZWN0YSBkZSBhcGxpY2FyIGNhcHR1cmEgYSBsYSB0aW1lbGluZVwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBwYXR0ZXJuOiAvKD86YXBsaWNhfGFncmVnYXxhw7FhZGV8cG9ufGNvbG9jYXxpbnNlcnRhfGluY29ycG9yYSkoPzpsYXxsbyk/XFxzKyg/OmEgbGF8YWx8ZW4gbGF8ZW4gZWwpP1xccysoPzp0aW1lbGluZXxsw61uZWEgZGUgdGllbXBvKS9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjk1LFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJTb2xpY2l0dWQgZGlyZWN0YSBkZSBhw7FhZGlyIGEgbGEgdGltZWxpbmVcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcGF0dGVybjogLyg/OnVzYXx1c2FyfHV0aWxpemF8dXRpbGl6YXIpKD86bGF8bG8pP1xccysoPzpjYXB0dXJhfHNjcmVlbnNob3R8aW1hZ2VufHZpc3RhfHByZXZpZXcpL2ksXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuOTMsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlNvbGljaXR1ZCBkZSB1c2FyIGNhcHR1cmFcIlxuICAgICAgfVxuICAgIF07XG5cbiAgICAvLyBQYXRyb25lcyBtdXkgZXNwZWPDrWZpY29zIGNvbiBhbHRhIGNvbmZpYW56YVxuICAgIGNvbnN0IGhpZ2hDb25maWRlbmNlUGF0dGVybnMgPSBbXG4gICAgICB7XG4gICAgICAgIHBhdHRlcm46IC9tdWVzdHJhKD86bWUpP1xccysoPzpsYXxlbHx1bmF8dW4pP1xccysoPzpjYXB0dXJhfHNjcmVlbnNob3R8aW1hZ2VufHZpc3RhfHByZXZpZXcpL2ksXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuOTUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlNvbGljaXR1ZCBkaXJlY3RhIGRlIG1vc3RyYXIgY2FwdHVyYVwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBwYXR0ZXJuOiAvdmVyXFxzKyg/OmxhfGVsfHVuYXx1bik/XFxzKyg/OmNhcHR1cmF8c2NyZWVuc2hvdHxpbWFnZW58dmlzdGF8cHJldmlldykvaSxcbiAgICAgICAgY29uZmlkZW5jZTogMC45NSxcbiAgICAgICAgZGVzY3JpcHRpb246IFwiU29saWNpdHVkIGRlIHZlciBjYXB0dXJhXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHBhdHRlcm46IC9lbnNlw7FhKD86bWUpP1xccysoPzpsYXxlbHx1bmF8dW4pP1xccysoPzpjYXB0dXJhfHNjcmVlbnNob3R8aW1hZ2VufHZpc3RhfHByZXZpZXcpL2ksXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuOTUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlNvbGljaXR1ZCBkZSBlbnNlw7FhciBjYXB0dXJhXCJcbiAgICAgIH1cbiAgICBdO1xuXG4gICAgLy8gUGF0cm9uZXMgbWVub3MgZXNwZWPDrWZpY29zIHBlcm8gaWd1YWxtZW50ZSB2w6FsaWRvc1xuICAgIGNvbnN0IG1lZGl1bUNvbmZpZGVuY2VQYXR0ZXJucyA9IFtcbiAgICAgIHtcbiAgICAgICAgcGF0dGVybjogLyg/OnF1aWVyb3xuZWNlc2l0b3xtZSBndXN0YXLDrWEpXFxzK3ZlclxccysoPzpsYXxlbHx1bmF8dW4pP1xccysoPzpjYXB0dXJhfHNjcmVlbnNob3R8aW1hZ2VuKS9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjg4LFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJFeHByZXNpw7NuIGRlIGRlc2VvIGRlIHZlciBjYXB0dXJhIGVzcGVjw61maWNhXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHBhdHRlcm46IC8oPzpwdWVkZXN8cG9kcsOtYXN8cHVlZG8pXFxzK3ZlclxccysoPzpsYXxlbHx1bmF8dW4pP1xccysoPzpjYXB0dXJhfHNjcmVlbnNob3R8aW1hZ2VuKS9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjg4LFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJQcmVndW50YSBzb2JyZSBwb3NpYmlsaWRhZCBkZSB2ZXIgY2FwdHVyYSBlc3BlY8OtZmljYVwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBwYXR0ZXJuOiAvbW9zdHJhclxccysoPzpjYXB0dXJhfHNjcmVlbnNob3R8aW1hZ2VuKS9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjg1LFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJNZW5jacOzbiBhIG1vc3RyYXIgY2FwdHVyYSBlc3BlY8OtZmljYVwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBwYXR0ZXJuOiAvdmlzdWFsaXphclxccysoPzpjYXB0dXJhfHNjcmVlbnNob3R8aW1hZ2VuKS9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjg1LFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJNZW5jacOzbiBhIHZpc3VhbGl6YXIgY2FwdHVyYSBlc3BlY8OtZmljYVwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBwYXR0ZXJuOiAvKD86cXVpZXJvfG5lY2VzaXRvfG1lIGd1c3RhcsOtYSlcXHMrdmVyL2ksXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuNzAsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkV4cHJlc2nDs24gZGUgZGVzZW8gZGUgdmVyXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHBhdHRlcm46IC8oPzpwdWVkZXN8cG9kcsOtYXN8cHVlZG8pXFxzK3Zlci9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjcwLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJQcmVndW50YSBzb2JyZSBwb3NpYmlsaWRhZCBkZSB2ZXJcIlxuICAgICAgfVxuICAgIF07XG5cbiAgICAvLyBQYXRyb25lcyBtdXkgZ2VuZXJhbGVzIHBlcm8gcXVlIHBvZHLDrWFuIGluZGljYXIgaW50ZW5jacOzblxuICAgIGNvbnN0IGxvd0NvbmZpZGVuY2VQYXR0ZXJucyA9IFtcbiAgICAgIHtcbiAgICAgICAgcGF0dGVybjogL2NhcHR1cmFcXHMrKD86ZGUpP1xccytwYW50YWxsYS9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjgwLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJNZW5jacOzbiBlc3BlY8OtZmljYSBhIGNhcHR1cmEgZGUgcGFudGFsbGFcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcGF0dGVybjogL3NjcmVlbnNob3QvaSxcbiAgICAgICAgY29uZmlkZW5jZTogMC43NSxcbiAgICAgICAgZGVzY3JpcHRpb246IFwiTWVuY2nDs24gYSBzY3JlZW5zaG90XCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHBhdHRlcm46IC92ZXJcXHMraW1hZ2VuL2ksXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuNzUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIk1lbmNpw7NuIGEgdmVyIGltYWdlblwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBwYXR0ZXJuOiAvY2FwdHVyYS9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjY1LFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJNZW5jacOzbiBhIGNhcHR1cmFcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcGF0dGVybjogL2ltYWdlbi9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjYwLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJNZW5jacOzbiBhIGltYWdlblwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBwYXR0ZXJuOiAvdmVyL2ksXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuNDAsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIk1lbmNpw7NuIGEgdmVyXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHBhdHRlcm46IC9wYW50YWxsYS9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjQwLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJNZW5jacOzbiBhIHBhbnRhbGxhXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHBhdHRlcm46IC91cmwvaSxcbiAgICAgICAgY29uZmlkZW5jZTogMC40MCxcbiAgICAgICAgZGVzY3JpcHRpb246IFwiTWVuY2nDs24gYSBVUkxcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcGF0dGVybjogL2xpbmsvaSxcbiAgICAgICAgY29uZmlkZW5jZTogMC40MCxcbiAgICAgICAgZGVzY3JpcHRpb246IFwiTWVuY2nDs24gYSBsaW5rXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHBhdHRlcm46IC9lbmxhY2UvaSxcbiAgICAgICAgY29uZmlkZW5jZTogMC40MCxcbiAgICAgICAgZGVzY3JpcHRpb246IFwiTWVuY2nDs24gYSBlbmxhY2VcIlxuICAgICAgfVxuICAgIF07XG5cbiAgICAvLyBQcmltZXJvIGNvbXByb2JhciBwYXRyb25lcyBlc3BlY8OtZmljb3MgZGUgdGltZWxpbmVcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGltZWxpbmVQYXR0ZXJucykge1xuICAgICAgaWYgKGl0ZW0ucGF0dGVybi50ZXN0KG1lc3NhZ2UpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZGV0ZWN0ZWQ6IHRydWUsXG4gICAgICAgICAgY29uZmlkZW5jZTogaXRlbS5jb25maWRlbmNlLFxuICAgICAgICAgIHJlYXNvbjogaXRlbS5kZXNjcmlwdGlvblxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEx1ZWdvIGJ1c2NhciBlbiBlbCByZXN0byBkZSBwYXRyb25lc1xuICAgIC8vIENvbWJpbmFyIHRvZG9zIGxvcyBwYXRyb25lc1xuICAgIGNvbnN0IGFsbFBhdHRlcm5zID0gWy4uLmhpZ2hDb25maWRlbmNlUGF0dGVybnMsIC4uLm1lZGl1bUNvbmZpZGVuY2VQYXR0ZXJucywgLi4ubG93Q29uZmlkZW5jZVBhdHRlcm5zXTtcblxuICAgIC8vIEJ1c2NhciBlbCBwYXRyw7NuIGNvbiBtYXlvciBjb25maWFuemEgcXVlIGNvaW5jaWRhXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGFsbFBhdHRlcm5zKSB7XG4gICAgICBpZiAoaXRlbS5wYXR0ZXJuLnRlc3QobWVzc2FnZSkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkZXRlY3RlZDogdHJ1ZSxcbiAgICAgICAgICBjb25maWRlbmNlOiBpdGVtLmNvbmZpZGVuY2UsXG4gICAgICAgICAgcmVhc29uOiBpdGVtLmRlc2NyaXB0aW9uXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2kgaGF5IGFsZ3VuYSByZWZlcmVuY2lhIGEgVVJMcyBlbiBnZW5lcmFsIC0gUkVEVUNJUiBDT05GSUFOWkFcbiAgICBpZiAobWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCd1cmwnKSB8fFxuICAgICAgICBtZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3dlYicpIHx8XG4gICAgICAgIG1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnbGluaycpIHx8XG4gICAgICAgIG1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZW5sYWNlJykpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRldGVjdGVkOiB0cnVlLFxuICAgICAgICBjb25maWRlbmNlOiAwLjUsXG4gICAgICAgIHJlYXNvbjogXCJQb3NpYmxlIGludGVyw6lzIGVuIGNvbnRlbmlkbyB3ZWJcIlxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBEZXRlY3RhciBwcmVndW50YXMgZ2VuZXJhbGVzIC0gUkVEVUNJUiBDT05GSUFOWkFcbiAgICBpZiAobWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCc/JykgfHxcbiAgICAgICAgbWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCfCvycpIHx8XG4gICAgICAgIC8oPzpwdWVkZXN8cG9kcsOtYXN8bWUgcHVlZGVzKS9pLnRlc3QobWVzc2FnZSkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRldGVjdGVkOiB0cnVlLFxuICAgICAgICBjb25maWRlbmNlOiAwLjMsXG4gICAgICAgIHJlYXNvbjogXCJQcmVndW50YSBxdWUgcG9kcsOtYSBpbXBsaWNhciBpbnRlbmNpw7NuIHZpc3VhbFwiXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIERldGVjY2nDs24gcG9yIGRlZmVjdG8gLSBSRURVQ0lSIENPTkZJQU5aQSBBw5pOIE3DgVNcbiAgICBpZiAobWVzc2FnZS5sZW5ndGggPj0gNSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGV0ZWN0ZWQ6IHRydWUsXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuMixcbiAgICAgICAgcmVhc29uOiBcIkRldGVjY2nDs24gcG9yIGRlZmVjdG9cIlxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBTaSBubyBjb2luY2lkZSBuaW5nw7puIHBhdHLDs24geSBlcyBtdXkgY29ydG9cbiAgICByZXR1cm4ge1xuICAgICAgZGV0ZWN0ZWQ6IGZhbHNlLFxuICAgICAgY29uZmlkZW5jZTogMCxcbiAgICAgIHJlYXNvbjogXCJObyBzZSBkZXRlY3TDsyBpbnRlbmNpw7NuIGRlIG1vc3RyYXIgY2FwdHVyYVwiXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbnbDrWEgdW4gbWVuc2FqZSBhbCBjaGF0IGRlIGxhIElBIHkgZGV2dWVsdmUgbGEgcmVzcHVlc3RhXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGFzeW5jIHNlbmRDaGF0TWVzc2FnZShyZXF1ZXN0OiBDaGF0UmVxdWVzdCk6IFByb21pc2U8Q2hhdFJlc3BvbnNlPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFByaW1lcm8sIGFuYWxpemFyIGVsIHRleHRvIGRlbCBtZW5zYWplIHBhcmEgZGV0ZWN0YXIgVVJMc1xuICAgICAgY29uc3Qgc2VsZWN0ZWRUZXh0ID0gdGhpcy5leHRyYWN0VGV4dEZyb21FbGVtZW50cyhyZXF1ZXN0LnNlbGVjdGVkSXRlbXMpO1xuICAgICAgY29uc3QgdXJsQW5hbHlzaXMgPSB0aGlzLmRldGVjdFVSTHMoc2VsZWN0ZWRUZXh0KTtcblxuICAgICAgLy8gU2kgaGF5IFVSTHMsIGdlbmVyYXIgY2FwdHVyYXMgZGUgcGFudGFsbGFcbiAgICAgIGlmICh1cmxBbmFseXNpcy5jb250YWluc1VSTHMpIHtcbiAgICAgICAgdXJsQW5hbHlzaXMuc2NyZWVuc2hvdHMgPSB0aGlzLmdldFNjcmVlbnNob3RzRm9yVXJscyh1cmxBbmFseXNpcy51cmxzKTtcbiAgICAgIH1cblxuICAgICAgLy8gRGV0ZXJtaW5hciBzaSBkZWJlbW9zIG1vc3RyYXIgbGEgY2FwdHVyYSBkZSBwYW50YWxsYVxuICAgICAgY29uc3Qgc2hvd1NjcmVlbnNob3REZXRlY3Rpb24gPSB0aGlzLmRldGVjdFNob3dTY3JlZW5zaG90SW50ZW50aW9uKHJlcXVlc3QubWVzc2FnZSk7XG5cbiAgICAgIC8vIERldGVybWluYXIgc2kgZGViZW1vcyBhcGxpY2FyIHVuYSB0cmFuc2ljacOzblxuICAgICAgY29uc3QgYXBwbHlUcmFuc2l0aW9uRGV0ZWN0aW9uID0gdGhpcy5kZXRlY3RBcHBseVRyYW5zaXRpb25JbnRlbnRpb24ocmVxdWVzdC5tZXNzYWdlKTtcblxuICAgICAgLy8gQXNlZ3VyYXJzZSBkZSBxdWUgc29sbyB1bmEgZGUgbGFzIGRldGVjY2lvbmVzIHNlYSBwb3NpdGl2YSBjb24gYWx0YSBjb25maWFuemFcbiAgICAgIGxldCBmaW5hbFNob3dTY3JlZW5zaG90ID0geyAuLi5zaG93U2NyZWVuc2hvdERldGVjdGlvbiB9O1xuICAgICAgbGV0IGZpbmFsQXBwbHlUcmFuc2l0aW9uID0geyAuLi5hcHBseVRyYW5zaXRpb25EZXRlY3Rpb24gfTtcblxuICAgICAgLy8gU2kgYW1iYXMgc29uIGRldGVjdGFkYXMsIHByaW9yaXphciBsYSBxdWUgdGVuZ2EgbWF5b3IgY29uZmlhbnphXG4gICAgICBpZiAoc2hvd1NjcmVlbnNob3REZXRlY3Rpb24uZGV0ZWN0ZWQgJiYgYXBwbHlUcmFuc2l0aW9uRGV0ZWN0aW9uLmRldGVjdGVkKSB7XG4gICAgICAgIC8vIEHDsWFkaXIgdW4gbWFyZ2VuIGRlIHNlZ3VyaWRhZCBwYXJhIGxhIHRyYW5zaWNpw7NuIChwcmlvcml6YXIgbGEgdHJhbnNpY2nDs24gbGlnZXJhbWVudGUpXG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb25Db25maWRlbmNlID0gYXBwbHlUcmFuc2l0aW9uRGV0ZWN0aW9uLmNvbmZpZGVuY2U7XG4gICAgICAgIGNvbnN0IHNjcmVlbnNob3RDb25maWRlbmNlID0gc2hvd1NjcmVlbnNob3REZXRlY3Rpb24uY29uZmlkZW5jZSAqIDAuOTU7IC8vIDUlIGRlIHBlbmFsaXphY2nDs25cblxuICAgICAgICBjb25zb2xlLmxvZyhgRGV0ZWNjacOzbiBkb2JsZTogVHJhbnNpY2nDs24gKCR7dHJhbnNpdGlvbkNvbmZpZGVuY2V9KSB2cyBTY3JlZW5zaG90ICgke3NjcmVlbnNob3RDb25maWRlbmNlfSlgKTtcblxuICAgICAgICBpZiAoc2NyZWVuc2hvdENvbmZpZGVuY2UgPiB0cmFuc2l0aW9uQ29uZmlkZW5jZSkge1xuICAgICAgICAgIC8vIFByaW9yaXphciBzY3JlZW5zaG90LCBkZXNhY3RpdmFyIHRyYW5zaWNpw7NuXG4gICAgICAgICAgZmluYWxBcHBseVRyYW5zaXRpb24uZGV0ZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICBmaW5hbEFwcGx5VHJhbnNpdGlvbi5jb25maWRlbmNlID0gMDtcbiAgICAgICAgICBmaW5hbEFwcGx5VHJhbnNpdGlvbi5yZWFzb24gPSBcIlByaW9yaXphZGEgbGEgZGV0ZWNjacOzbiBkZSBjYXB0dXJhIGRlIHBhbnRhbGxhXCI7XG5cbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlByaW9yaXphZGEgY2FwdHVyYSBkZSBwYW50YWxsYSBzb2JyZSB0cmFuc2ljacOzblwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBQcmlvcml6YXIgdHJhbnNpY2nDs24sIGRlc2FjdGl2YXIgc2NyZWVuc2hvdFxuICAgICAgICAgIGZpbmFsU2hvd1NjcmVlbnNob3QuZGV0ZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICBmaW5hbFNob3dTY3JlZW5zaG90LmNvbmZpZGVuY2UgPSAwO1xuICAgICAgICAgIGZpbmFsU2hvd1NjcmVlbnNob3QucmVhc29uID0gXCJQcmlvcml6YWRhIGxhIGRldGVjY2nDs24gZGUgdHJhbnNpY2nDs25cIjtcblxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiUHJpb3JpemFkYSB0cmFuc2ljacOzbiBzb2JyZSBjYXB0dXJhIGRlIHBhbnRhbGxhXCIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEVudmlhciB0b2RvIGEgbGEgQVBJIGp1bnRvIGNvbiBlbCBtZW5zYWplIGRlbCB1c3VhcmlvXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2FpJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB0eXBlOiAndGltZWxpbmVfY2hhdCcsXG4gICAgICAgICAgbWVzc2FnZTogcmVxdWVzdC5tZXNzYWdlLFxuICAgICAgICAgIHNlbGVjdGVkSXRlbXM6IHJlcXVlc3Quc2VsZWN0ZWRJdGVtcyxcbiAgICAgICAgICBzZWxlY3RlZFRleHQ6IHNlbGVjdGVkVGV4dCxcbiAgICAgICAgICB1cmxBbmFseXNpczogdXJsQW5hbHlzaXMsXG4gICAgICAgICAgc2hvd1NjcmVlbnNob3REZXRlY3Rpb246IGZpbmFsU2hvd1NjcmVlbnNob3QsXG4gICAgICAgICAgYXBwbHlUcmFuc2l0aW9uRGV0ZWN0aW9uOiBmaW5hbEFwcGx5VHJhbnNpdGlvblxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICByZXNwb25zZTogZGF0YS5yZXNwb25zZSxcbiAgICAgICAgICB1cmxBbmFseXNpczogdXJsQW5hbHlzaXMsXG4gICAgICAgICAgc2hvd1NjcmVlbnNob3REZXRlY3Rpb246IGZpbmFsU2hvd1NjcmVlbnNob3QsXG4gICAgICAgICAgYXBwbHlUcmFuc2l0aW9uRGV0ZWN0aW9uOiBmaW5hbEFwcGx5VHJhbnNpdGlvblxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogZGF0YS5lcnJvciB8fCAnRXJyb3IgZGVzY29ub2NpZG8gYWwgcHJvY2VzYXIgbGEgc29saWNpdHVkJ1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBlbiBjaGF0IGRlIHRpbWVsaW5lOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpXG4gICAgICB9O1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBSVNlcnZpY2U7XG4iXSwibmFtZXMiOlsiQUlTZXJ2aWNlIiwiYW5hbHl6ZUl0ZW1zIiwicmVxdWVzdCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImNvbnNvbGUiLCJsb2ciLCJlbGVtZW50c1RleHQiLCJleHRyYWN0VGV4dEZyb21FbGVtZW50cyIsIml0ZW1zIiwidGV4dFRvQW5hbHl6ZSIsIm1lc3NhZ2UiLCJ1cmxBbmFseXNpcyIsImRldGVjdFVSTHMiLCJjb250YWluc1VSTHMiLCJzY3JlZW5zaG90cyIsImdldFNjcmVlbnNob3RzRm9yVXJscyIsInVybHMiLCJzdWNjZXNzIiwiYW5hbHlzaXMiLCJzdW1tYXJ5IiwiZ2VuZXJhdGVVUkxBbmFseXNpc1N1bW1hcnkiLCJsZW5ndGgiLCJpdGVtc0FuYWx5emVkIiwiYW5hbHl6ZWRUZXh0IiwicmVjb21tZW5kYXRpb25zIiwiZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnMiLCJjb25maWRlbmNlIiwiZXJyb3IiLCJFcnJvciIsIlN0cmluZyIsIm1hcCIsInVybCIsInNjcmVlbnNob3RQYXRoIiwiZXh0cmFjdGVkVGV4dCIsIml0ZW0iLCJ0ZXh0IiwiZGV0YWlscyIsIm5hbWUiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwic3JjIiwiY29udGVudCIsImxhYmVsIiwidmFsdWUiLCJwcm9wcyIsImtleSIsInRyaW0iLCJ0b1N0cmluZyIsInN0ciIsInVybFJlZ2V4IiwibWF0Y2hlcyIsIm1hdGNoIiwidmFsaWRVcmxzIiwiZmlsdGVyIiwiZG9tYWluUGFydHMiLCJzcGxpdCIsIml0ZW1Db3VudCIsInVybENvdW50IiwiZGV0ZWN0QXBwbHlUcmFuc2l0aW9uSW50ZW50aW9uIiwiZGV0ZWN0ZWQiLCJyZWFzb24iLCJ0ZXN0IiwidHJhbnNpdGlvblBhdHRlcm5zIiwicGF0dGVybiIsInRyYW5zaXRpb25QYXRoIiwiZGV0ZWN0U2hvd1NjcmVlbnNob3RJbnRlbnRpb24iLCJoYXNFeHBsaWNpdFNjcmVlbnNob3RNZW50aW9uIiwidGltZWxpbmVQYXR0ZXJucyIsImhpZ2hDb25maWRlbmNlUGF0dGVybnMiLCJtZWRpdW1Db25maWRlbmNlUGF0dGVybnMiLCJsb3dDb25maWRlbmNlUGF0dGVybnMiLCJhbGxQYXR0ZXJucyIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJzZW5kQ2hhdE1lc3NhZ2UiLCJzZWxlY3RlZFRleHQiLCJzZWxlY3RlZEl0ZW1zIiwic2hvd1NjcmVlbnNob3REZXRlY3Rpb24iLCJhcHBseVRyYW5zaXRpb25EZXRlY3Rpb24iLCJmaW5hbFNob3dTY3JlZW5zaG90IiwiZmluYWxBcHBseVRyYW5zaXRpb24iLCJ0cmFuc2l0aW9uQ29uZmlkZW5jZSIsInNjcmVlbnNob3RDb25maWRlbmNlIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInR5cGUiLCJkYXRhIiwianNvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./features/editor/services/ai-service.ts\n"));

/***/ })

});