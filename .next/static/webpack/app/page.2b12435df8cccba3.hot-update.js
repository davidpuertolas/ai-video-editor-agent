"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./features/editor/menu-item/subtitles.tsx":
/*!*************************************************!*\
  !*** ./features/editor/menu-item/subtitles.tsx ***!
  \*************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Subtitles: function() { return /* binding */ Subtitles; },\n/* harmony export */   getAddTextPayload: function() { return /* binding */ getAddTextPayload; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _components_shared_draggable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/components/shared/draggable */ \"(app-pages-browser)/./components/shared/draggable.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/utils */ \"(app-pages-browser)/./lib/utils.ts\");\n/* harmony import */ var _designcombo_events__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @designcombo/events */ \"(app-pages-browser)/./node_modules/@designcombo/events/dist/index.es.js\");\n/* harmony import */ var _designcombo_state__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @designcombo/state */ \"(app-pages-browser)/./node_modules/@designcombo/state/dist/index.es.js\");\n/* harmony import */ var _designcombo_timeline__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @designcombo/timeline */ \"(app-pages-browser)/./node_modules/@designcombo/timeline/dist/index.es.js\");\n/* harmony import */ var _hooks_is_dragging_over_timeline__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../hooks/is-dragging-over-timeline */ \"(app-pages-browser)/./features/editor/hooks/is-dragging-over-timeline.tsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _store_use_store__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../store/use-store */ \"(app-pages-browser)/./features/editor/store/use-store.ts\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n// Componente Spinner simple\nconst Spinner = ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"animate-spin h-5 w-5 border-2 border-primary border-t-transparent rounded-full\"\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n        lineNumber: 15,\n        columnNumber: 3\n    }, undefined);\n_c = Spinner;\n// Función para parsear el tiempo de formato SRT a milisegundos\nconst parseTimeToMs = (timeString)=>{\n    const [hours, minutes, secondsAndMs] = timeString.split(\":\");\n    const [seconds, ms] = secondsAndMs.split(\",\");\n    return parseInt(hours) * 3600000 + parseInt(minutes) * 60000 + parseInt(seconds) * 1000 + parseInt(ms);\n};\n// Función para parsear el archivo SRT\nconst parseSRT = (srtContent)=>{\n    const segments = [];\n    const blocks = srtContent.trim().split(\"\\n\\n\");\n    blocks.forEach((block)=>{\n        const lines = block.split(\"\\n\");\n        if (lines.length >= 3) {\n            const id = parseInt(lines[0]);\n            const timeRange = lines[1].split(\" --> \");\n            const startTime = parseTimeToMs(timeRange[0]);\n            const endTime = parseTimeToMs(timeRange[1]);\n            const text = lines.slice(2).join(\"\\n\"); // Unir todas las líneas de texto\n            segments.push({\n                id,\n                startTime,\n                endTime,\n                text\n            });\n        }\n    });\n    return segments;\n};\n// Función para formatear milisegundos a formato legible (MM:SS)\nconst formatTime = (ms)=>{\n    const seconds = Math.floor(ms / 1000);\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = seconds % 60;\n    return \"\".concat(minutes.toString().padStart(2, \"0\"), \":\").concat(remainingSeconds.toString().padStart(2, \"0\"));\n};\n// Función para dividir un texto en grupos de aproximadamente 3 palabras\nconst splitTextIntoGroups = function(text) {\n    let wordsPerGroup = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 3;\n    const words = text.split(/\\s+/);\n    const groups = [];\n    for(let i = 0; i < words.length; i += wordsPerGroup){\n        const group = words.slice(i, i + wordsPerGroup).join(\" \");\n        groups.push(group);\n    }\n    return groups;\n};\n// Función para procesar un segmento y dividirlo en múltiples segmentos si es necesario\nconst processSegment = (segment)=>{\n    const textGroups = splitTextIntoGroups(segment.text);\n    // Si solo hay un grupo, devolver el segmento original\n    if (textGroups.length <= 1) {\n        return [\n            segment\n        ];\n    }\n    // Calcular la duración de cada grupo\n    const totalDuration = segment.endTime - segment.startTime;\n    const groupDuration = totalDuration / textGroups.length;\n    // Crear un nuevo segmento para cada grupo\n    return textGroups.map((groupText, index)=>{\n        const startTime = segment.startTime + index * groupDuration;\n        const endTime = startTime + groupDuration;\n        return {\n            id: segment.id * 1000 + index,\n            startTime,\n            endTime,\n            text: groupText\n        };\n    });\n};\nconst getAddTextPayload = function() {\n    let text = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"Demo\", startTime = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, endTime = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 5000;\n    return {\n        id: (0,_designcombo_timeline__WEBPACK_IMPORTED_MODULE_6__.generateId)(),\n        display: {\n            from: startTime,\n            to: endTime\n        },\n        type: \"text\",\n        details: {\n            text: text.toUpperCase(),\n            fontSize: 80,\n            width: 900,\n            fontUrl: \"/fonts/mrbeast.ttf\",\n            fontFamily: \"MrBeast\",\n            color: \"#FFFF00\",\n            wordWrap: \"break-word\",\n            textAlign: \"center\",\n            borderWidth: 20,\n            borderColor: \"#000000\",\n            boxShadow: {\n                color: \"#000000\",\n                x: 3,\n                y: 3,\n                blur: 0\n            },\n            backgroundColor: \"transparent\",\n            padding: 10,\n            borderRadius: 0\n        }\n    };\n};\nconst Subtitles = ()=>{\n    _s();\n    const isDraggingOverTimeline = (0,_hooks_is_dragging_over_timeline__WEBPACK_IMPORTED_MODULE_7__.useIsDraggingOverTimeline)();\n    const [subtitleSegments, setSubtitleSegments] = (0,react__WEBPACK_IMPORTED_MODULE_8__.useState)([]);\n    const [originalSegments, setOriginalSegments] = (0,react__WEBPACK_IMPORTED_MODULE_8__.useState)([]);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_8__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_8__.useState)(null);\n    const [addedSubtitles, setAddedSubtitles] = (0,react__WEBPACK_IMPORTED_MODULE_8__.useState)(new Set());\n    const [groupWords, setGroupWords] = (0,react__WEBPACK_IMPORTED_MODULE_8__.useState)(true); // Estado para controlar si agrupar palabras\n    const { tracks, timeline } = (0,_store_use_store__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(); // Acceder a los tracks del store\n    const [subtitleTrackId, setSubtitleTrackId] = (0,react__WEBPACK_IMPORTED_MODULE_8__.useState)(null); // Track ID específico para subtítulos\n    const [statusMessage, setStatusMessage] = (0,react__WEBPACK_IMPORTED_MODULE_8__.useState)(null); // Mensaje de estado para mostrar al usuario\n    // Efecto para escuchar los eventos de selección del timeline\n    (0,react__WEBPACK_IMPORTED_MODULE_8__.useEffect)(()=>{\n        // Filtrar eventos del timeline\n        const timelineEvents = _designcombo_events__WEBPACK_IMPORTED_MODULE_4__.subject.pipe((0,_designcombo_events__WEBPACK_IMPORTED_MODULE_4__.filter)((param)=>{\n            let { key } = param;\n            return key.startsWith(_designcombo_timeline__WEBPACK_IMPORTED_MODULE_6__.TIMELINE_PREFIX);\n        }));\n        // Suscribirse a los eventos de selección\n        const subscription = timelineEvents.subscribe((obj)=>{\n            // Verificar si es un evento de creación o actualización de selección\n            if ((obj.key === _designcombo_timeline__WEBPACK_IMPORTED_MODULE_6__.SELECTION_CREATED || obj.key === _designcombo_timeline__WEBPACK_IMPORTED_MODULE_6__.SELECTION_UPDATED) && obj.value) {\n                console.log(\"Timeline selection event:\", obj.key, obj.value);\n                // Intentar obtener los elementos seleccionados\n                const selected = obj.value.selected;\n                if (selected && selected.length > 0) {\n                    // Obtener el canvas y los tracks\n                    try {\n                        const canvas = selected[0].canvas;\n                        if (canvas && canvas.tracks && canvas.tracks.length > 0) {\n                            // Extraer el ID del primer track\n                            const trackId = canvas.tracks[0].id;\n                            console.log(\"Seleccionado track con ID:\", trackId);\n                            // Guardar el ID del track para usar con los subtítulos\n                            setSubtitleTrackId(trackId);\n                            setStatusMessage(\"Track seleccionado para subt\\xedtulos (ID: \".concat(trackId.substr(0, 8), \"...)\"));\n                            // El mensaje se eliminará después de 3 segundos\n                            setTimeout(()=>setStatusMessage(null), 3000);\n                        }\n                    } catch (error) {\n                        console.error(\"Error al procesar selecci\\xf3n del timeline:\", error);\n                    }\n                }\n            }\n        });\n        // Limpiar suscripción cuando el componente se desmonte\n        return ()=>subscription.unsubscribe();\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_8__.useEffect)(()=>{\n        const fetchTranscription = async ()=>{\n            setIsLoading(true);\n            setError(null);\n            try {\n                const response = await fetch(\"/transcriptions/transcription1.srt\");\n                if (!response.ok) {\n                    throw new Error(\"Error al cargar el archivo SRT: \".concat(response.status));\n                }\n                const text = await response.text();\n                const segments = parseSRT(text);\n                setOriginalSegments(segments);\n                // Procesar los segmentos según la configuración actual\n                if (groupWords) {\n                    const processedSegments = segments.flatMap(processSegment);\n                    setSubtitleSegments(processedSegments);\n                } else {\n                    setSubtitleSegments(segments);\n                }\n            } catch (error) {\n                console.error(\"Failed to load transcription:\", error);\n                setError(\"No se pudo cargar el archivo de subt\\xedtulos\");\n                setSubtitleSegments([]);\n                setOriginalSegments([]);\n            } finally{\n                setIsLoading(false);\n            }\n        };\n        fetchTranscription();\n    }, [\n        groupWords\n    ]);\n    // Función para cambiar entre modo agrupado y no agrupado\n    const toggleGroupWords = ()=>{\n        setGroupWords(!groupWords);\n    };\n    // Función para encontrar o crear un track para subtítulos\n    const getSubtitleTrackId = ()=>{\n        var _tracks_find;\n        // Si ya tenemos un ID de track, usarlo\n        if (subtitleTrackId) return subtitleTrackId;\n        // Buscar un track de tipo \"text\" existente\n        let trackId = (_tracks_find = tracks.find((track)=>track.type === \"text\" && track.accepts.includes(\"text\"))) === null || _tracks_find === void 0 ? void 0 : _tracks_find.id;\n        if (trackId) {\n            setSubtitleTrackId(trackId);\n            return trackId;\n        }\n        // Si no hay tracks o no se puede obtener timeline, usar un enfoque alternativo\n        if (timeline && timeline.canvas) {\n            // Intentar obtener tracks a través del canvas de timeline\n            const canvasTracks = timeline.canvas.tracks;\n            if (canvasTracks && canvasTracks.length > 0) {\n                trackId = canvasTracks[0].id;\n                setSubtitleTrackId(trackId);\n                return trackId;\n            }\n        }\n        // Si no se pudo obtener ningún track, null indicará usar el comportamiento por defecto\n        return null;\n    };\n    const handleAddSubtitle = (segment)=>{\n        // Intentar obtener un track ID para subtítulos\n        const trackId = getSubtitleTrackId();\n        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_4__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_5__.ADD_TEXT, {\n            payload: getAddTextPayload(segment.text, segment.startTime, segment.endTime),\n            options: trackId ? {\n                trackId\n            } : {}\n        });\n        // Marcar este subtítulo como añadido\n        setAddedSubtitles((prev)=>{\n            const newSet = new Set(prev);\n            newSet.add(segment.id);\n            return newSet;\n        });\n    };\n    const handleAddAllSubtitles = ()=>{\n        // Desactivar el botón mientras se procesan los subtítulos\n        setIsLoading(true);\n        // Intentar obtener un track ID para subtítulos\n        const trackId = getSubtitleTrackId();\n        console.log(\"Usando track ID para subt\\xedtulos: \".concat(trackId || \"ninguno (comportamiento por defecto)\"));\n        // Añadir subtítulos con un retraso entre cada uno\n        subtitleSegments.forEach((segment, index)=>{\n            setTimeout(()=>{\n                (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_4__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_5__.ADD_TEXT, {\n                    payload: getAddTextPayload(segment.text, segment.startTime, segment.endTime),\n                    options: trackId ? {\n                        trackId\n                    } : {}\n                });\n                // Si es el último subtítulo, actualizar el estado\n                if (index === subtitleSegments.length - 1) {\n                    // Marcar todos los subtítulos como añadidos\n                    const allIds = new Set(subtitleSegments.map((segment)=>segment.id));\n                    setAddedSubtitles(allIds);\n                    setIsLoading(false);\n                    // Mostrar mensaje de finalización\n                    setStatusMessage(\"Se a\\xf1adieron \".concat(subtitleSegments.length, \" subt\\xedtulos al track\"));\n                    // El mensaje se eliminará después de 3 segundos\n                    setTimeout(()=>setStatusMessage(null), 3000);\n                }\n            }, index * 200); // 200ms de retraso entre cada subtítulo\n        });\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-1 flex-col\",\n        \"data-subtitles\": true,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex h-12 flex-none items-center px-4 font-medium text-sm text-text-primary\",\n                children: \"Subt\\xedtulos\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                lineNumber: 313,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col gap-2 px-4\",\n                children: isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-center items-center py-8\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Spinner, {}, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                        lineNumber: 319,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                    lineNumber: 318,\n                    columnNumber: 11\n                }, undefined) : error ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-red-500 text-sm py-2\",\n                    children: error\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                    lineNumber: 322,\n                    columnNumber: 11\n                }, undefined) : subtitleSegments.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex justify-between items-center mb-2\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                onClick: toggleGroupWords,\n                                className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)((0,_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.buttonVariants)({\n                                    variant: \"outline\",\n                                    size: \"sm\"\n                                }), \"cursor-pointer\"),\n                                children: groupWords ? \"Ver subt\\xedtulos completos\" : \"Dividir en grupos de 3 palabras\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                                lineNumber: 326,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                            lineNumber: 325,\n                            columnNumber: 13\n                        }, undefined),\n                        statusMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-green-500 text-sm py-2 mb-2 text-center bg-green-500/10 rounded border border-green-500\",\n                            children: statusMessage\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                            lineNumber: 339,\n                            columnNumber: 15\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-xs text-muted-foreground mb-2 bg-gray-800/50 p-2 rounded\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: \"Para a\\xf1adir todos los subt\\xedtulos a un mismo track:\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                                    lineNumber: 346,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ol\", {\n                                    className: \"list-decimal pl-4 mt-1\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                            children: \"Selecciona un elemento en la l\\xednea de tiempo\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                                            lineNumber: 348,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                            children: 'Luego haz clic en \"A\\xf1adir todos los subt\\xedtulos\"'\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                                            lineNumber: 349,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                                    lineNumber: 347,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                            lineNumber: 345,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            onClick: handleAddAllSubtitles,\n                            className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)((0,_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.buttonVariants)({\n                                variant: \"secondary\"\n                            }), \"cursor-pointer flex justify-center items-center\"),\n                            disabled: isLoading,\n                            // ID dinámico según el modo de agrupación\n                            id: groupWords ? \"add-all-subtitles-grouped\" : \"add-all-subtitles-complete\",\n                            \"data-subtitles-add-all\": true,\n                            children: isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Spinner, {}, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                                        lineNumber: 366,\n                                        columnNumber: 19\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"ml-2\",\n                                        children: \"A\\xf1adiendo subt\\xedtulos...\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                                        lineNumber: 367,\n                                        columnNumber: 19\n                                    }, undefined)\n                                ]\n                            }, void 0, true) : \"A\\xf1adir todos los subt\\xedtulos \".concat(groupWords ? \"(agrupados)\" : \"(completos)\")\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                            lineNumber: 353,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-2 text-sm font-medium\",\n                            children: \"Subt\\xedtulos individuales:\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                            lineNumber: 373,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"max-h-60 overflow-y-auto pr-1\",\n                            children: subtitleSegments.map((segment)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_shared_draggable__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                                    data: ()=>getAddTextPayload(segment.text, segment.startTime, segment.endTime),\n                                    renderCustomPreview: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-background border border-border p-2 rounded-md max-w-xs\",\n                                        children: segment.text\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                                        lineNumber: 380,\n                                        columnNumber: 21\n                                    }, void 0),\n                                    shouldDisplayPreview: !isDraggingOverTimeline,\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        onClick: ()=>handleAddSubtitle(segment),\n                                        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)((0,_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.buttonVariants)({\n                                            variant: \"outline\"\n                                        }), \"mb-2 text-left flex flex-col w-full\", addedSubtitles.has(segment.id) && \"border-green-500 bg-green-500/10\"),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"truncate\",\n                                                title: segment.text,\n                                                children: segment.text.length > 30 ? \"\".concat(segment.text.substring(0, 30), \"...\") : segment.text\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                                                lineNumber: 394,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-xs text-muted-foreground mt-1\",\n                                                children: [\n                                                    formatTime(segment.startTime),\n                                                    \" - \",\n                                                    formatTime(segment.endTime)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                                                lineNumber: 397,\n                                                columnNumber: 21\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                                        lineNumber: 386,\n                                        columnNumber: 19\n                                    }, undefined)\n                                }, segment.id, false, {\n                                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                                    lineNumber: 376,\n                                    columnNumber: 17\n                                }, undefined))\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                            lineNumber: 374,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_shared_draggable__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                    data: ()=>getAddTextPayload(\"Demo\"),\n                    renderCustomPreview: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        variant: \"secondary\",\n                        className: \"w-60\",\n                        children: \"Add text\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                        lineNumber: 409,\n                        columnNumber: 15\n                    }, void 0),\n                    shouldDisplayPreview: !isDraggingOverTimeline,\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        onClick: ()=>handleAddSubtitle({\n                                id: 0,\n                                startTime: 0,\n                                endTime: 5000,\n                                text: \"Demo\"\n                            }),\n                        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)((0,_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.buttonVariants)({\n                            variant: \"secondary\"\n                        })),\n                        children: \"Add text\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                        lineNumber: 415,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                    lineNumber: 406,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                lineNumber: 316,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n        lineNumber: 312,\n        columnNumber: 5\n    }, undefined);\n};\n_s(Subtitles, \"z0g1rOG+eSYTKgLDCxRGtNps+pQ=\", false, function() {\n    return [\n        _hooks_is_dragging_over_timeline__WEBPACK_IMPORTED_MODULE_7__.useIsDraggingOverTimeline,\n        _store_use_store__WEBPACK_IMPORTED_MODULE_9__[\"default\"]\n    ];\n});\n_c1 = Subtitles;\nvar _c, _c1;\n$RefreshReg$(_c, \"Spinner\");\n$RefreshReg$(_c1, \"Subtitles\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2ZlYXR1cmVzL2VkaXRvci9tZW51LWl0ZW0vc3VidGl0bGVzLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0Q7QUFDVTtBQUUvQjtBQUMrQjtBQUNsQjtBQUNLO0FBQzRCO0FBQ25DO0FBQ0Y7QUFDb0Q7QUFFOUYsNEJBQTRCO0FBQzVCLE1BQU1nQixVQUFVLGtCQUNkLDhEQUFDQztRQUFJQyxXQUFVOzs7Ozs7S0FEWEY7QUFZTiwrREFBK0Q7QUFDL0QsTUFBTUcsZ0JBQWdCLENBQUNDO0lBQ3JCLE1BQU0sQ0FBQ0MsT0FBT0MsU0FBU0MsYUFBYSxHQUFHSCxXQUFXSSxLQUFLLENBQUM7SUFDeEQsTUFBTSxDQUFDQyxTQUFTQyxHQUFHLEdBQUdILGFBQWFDLEtBQUssQ0FBQztJQUV6QyxPQUNFRyxTQUFTTixTQUFTLFVBQ2xCTSxTQUFTTCxXQUFXLFFBQ3BCSyxTQUFTRixXQUFXLE9BQ3BCRSxTQUFTRDtBQUViO0FBRUEsc0NBQXNDO0FBQ3RDLE1BQU1FLFdBQVcsQ0FBQ0M7SUFDaEIsTUFBTUMsV0FBOEIsRUFBRTtJQUN0QyxNQUFNQyxTQUFTRixXQUFXRyxJQUFJLEdBQUdSLEtBQUssQ0FBQztJQUV2Q08sT0FBT0UsT0FBTyxDQUFDQyxDQUFBQTtRQUNiLE1BQU1DLFFBQVFELE1BQU1WLEtBQUssQ0FBQztRQUMxQixJQUFJVyxNQUFNQyxNQUFNLElBQUksR0FBRztZQUNyQixNQUFNQyxLQUFLVixTQUFTUSxLQUFLLENBQUMsRUFBRTtZQUM1QixNQUFNRyxZQUFZSCxLQUFLLENBQUMsRUFBRSxDQUFDWCxLQUFLLENBQUM7WUFDakMsTUFBTWUsWUFBWXBCLGNBQWNtQixTQUFTLENBQUMsRUFBRTtZQUM1QyxNQUFNRSxVQUFVckIsY0FBY21CLFNBQVMsQ0FBQyxFQUFFO1lBQzFDLE1BQU1HLE9BQU9OLE1BQU1PLEtBQUssQ0FBQyxHQUFHQyxJQUFJLENBQUMsT0FBTyxpQ0FBaUM7WUFFekViLFNBQVNj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QjRFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2ZlYXR1cmVzL2VkaXRvci9tZW51LWl0ZW0vc3VidGl0bGVzLnRzeD9iZDE2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEcmFnZ2FibGUgZnJvbSAnQC9jb21wb25lbnRzL3NoYXJlZC9kcmFnZ2FibGUnO1xuaW1wb3J0IHsgQnV0dG9uLCBidXR0b25WYXJpYW50cyB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nO1xuaW1wb3J0IHsgREVGQVVMVF9GT05UIH0gZnJvbSAnQC9mZWF0dXJlcy9lZGl0b3IvY29uc3RhbnRzL2ZvbnQnO1xuaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7XG5pbXBvcnQgeyBkaXNwYXRjaCwgc3ViamVjdCwgZmlsdGVyIH0gZnJvbSAnQGRlc2lnbmNvbWJvL2V2ZW50cyc7XG5pbXBvcnQgeyBBRERfVEVYVCB9IGZyb20gJ0BkZXNpZ25jb21iby9zdGF0ZSc7XG5pbXBvcnQgeyBnZW5lcmF0ZUlkIH0gZnJvbSAnQGRlc2lnbmNvbWJvL3RpbWVsaW5lJztcbmltcG9ydCB7IHVzZUlzRHJhZ2dpbmdPdmVyVGltZWxpbmUgfSBmcm9tICcuLi9ob29rcy9pcy1kcmFnZ2luZy1vdmVyLXRpbWVsaW5lJztcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdXNlU3RvcmUgZnJvbSAnLi4vc3RvcmUvdXNlLXN0b3JlJztcbmltcG9ydCB7IFRJTUVMSU5FX1BSRUZJWCwgU0VMRUNUSU9OX0NSRUFURUQsIFNFTEVDVElPTl9VUERBVEVEIH0gZnJvbSAnQGRlc2lnbmNvbWJvL3RpbWVsaW5lJztcblxuLy8gQ29tcG9uZW50ZSBTcGlubmVyIHNpbXBsZVxuY29uc3QgU3Bpbm5lciA9ICgpID0+IChcbiAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gaC01IHctNSBib3JkZXItMiBib3JkZXItcHJpbWFyeSBib3JkZXItdC10cmFuc3BhcmVudCByb3VuZGVkLWZ1bGxcIiAvPlxuKTtcblxuLy8gVGlwbyBwYXJhIHJlcHJlc2VudGFyIHVuIHNlZ21lbnRvIGRlIHN1YnTDrXR1bG9cbmludGVyZmFjZSBTdWJ0aXRsZVNlZ21lbnQge1xuICBpZDogbnVtYmVyO1xuICBzdGFydFRpbWU6IG51bWJlcjsgLy8gZW4gbWlsaXNlZ3VuZG9zXG4gIGVuZFRpbWU6IG51bWJlcjsgICAvLyBlbiBtaWxpc2VndW5kb3NcbiAgdGV4dDogc3RyaW5nO1xufVxuXG4vLyBGdW5jacOzbiBwYXJhIHBhcnNlYXIgZWwgdGllbXBvIGRlIGZvcm1hdG8gU1JUIGEgbWlsaXNlZ3VuZG9zXG5jb25zdCBwYXJzZVRpbWVUb01zID0gKHRpbWVTdHJpbmc6IHN0cmluZyk6IG51bWJlciA9PiB7XG4gIGNvbnN0IFtob3VycywgbWludXRlcywgc2Vjb25kc0FuZE1zXSA9IHRpbWVTdHJpbmcuc3BsaXQoJzonKTtcbiAgY29uc3QgW3NlY29uZHMsIG1zXSA9IHNlY29uZHNBbmRNcy5zcGxpdCgnLCcpO1xuXG4gIHJldHVybiAoXG4gICAgcGFyc2VJbnQoaG91cnMpICogMzYwMDAwMCArXG4gICAgcGFyc2VJbnQobWludXRlcykgKiA2MDAwMCArXG4gICAgcGFyc2VJbnQoc2Vjb25kcykgKiAxMDAwICtcbiAgICBwYXJzZUludChtcylcbiAgKTtcbn07XG5cbi8vIEZ1bmNpw7NuIHBhcmEgcGFyc2VhciBlbCBhcmNoaXZvIFNSVFxuY29uc3QgcGFyc2VTUlQgPSAoc3J0Q29udGVudDogc3RyaW5nKTogU3VidGl0bGVTZWdtZW50W10gPT4ge1xuICBjb25zdCBzZWdtZW50czogU3VidGl0bGVTZWdtZW50W10gPSBbXTtcbiAgY29uc3QgYmxvY2tzID0gc3J0Q29udGVudC50cmltKCkuc3BsaXQoJ1xcblxcbicpO1xuXG4gIGJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcbiAgICBjb25zdCBsaW5lcyA9IGJsb2NrLnNwbGl0KCdcXG4nKTtcbiAgICBpZiAobGluZXMubGVuZ3RoID49IDMpIHtcbiAgICAgIGNvbnN0IGlkID0gcGFyc2VJbnQobGluZXNbMF0pO1xuICAgICAgY29uc3QgdGltZVJhbmdlID0gbGluZXNbMV0uc3BsaXQoJyAtLT4gJyk7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBwYXJzZVRpbWVUb01zKHRpbWVSYW5nZVswXSk7XG4gICAgICBjb25zdCBlbmRUaW1lID0gcGFyc2VUaW1lVG9Ncyh0aW1lUmFuZ2VbMV0pO1xuICAgICAgY29uc3QgdGV4dCA9IGxpbmVzLnNsaWNlKDIpLmpvaW4oJ1xcbicpOyAvLyBVbmlyIHRvZGFzIGxhcyBsw61uZWFzIGRlIHRleHRvXG5cbiAgICAgIHNlZ21lbnRzLnB1c2goe1xuICAgICAgICBpZCxcbiAgICAgICAgc3RhcnRUaW1lLFxuICAgICAgICBlbmRUaW1lLFxuICAgICAgICB0ZXh0XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBzZWdtZW50cztcbn07XG5cbi8vIEZ1bmNpw7NuIHBhcmEgZm9ybWF0ZWFyIG1pbGlzZWd1bmRvcyBhIGZvcm1hdG8gbGVnaWJsZSAoTU06U1MpXG5jb25zdCBmb3JtYXRUaW1lID0gKG1zOiBudW1iZXIpOiBzdHJpbmcgPT4ge1xuICBjb25zdCBzZWNvbmRzID0gTWF0aC5mbG9vcihtcyAvIDEwMDApO1xuICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gNjApO1xuICBjb25zdCByZW1haW5pbmdTZWNvbmRzID0gc2Vjb25kcyAlIDYwO1xuICByZXR1cm4gYCR7bWludXRlcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9OiR7cmVtYWluaW5nU2Vjb25kcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YDtcbn07XG5cbi8vIEZ1bmNpw7NuIHBhcmEgZGl2aWRpciB1biB0ZXh0byBlbiBncnVwb3MgZGUgYXByb3hpbWFkYW1lbnRlIDMgcGFsYWJyYXNcbmNvbnN0IHNwbGl0VGV4dEludG9Hcm91cHMgPSAodGV4dDogc3RyaW5nLCB3b3Jkc1Blckdyb3VwID0gMyk6IHN0cmluZ1tdID0+IHtcbiAgY29uc3Qgd29yZHMgPSB0ZXh0LnNwbGl0KC9cXHMrLyk7XG4gIGNvbnN0IGdyb3Vwczogc3RyaW5nW10gPSBbXTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHdvcmRzLmxlbmd0aDsgaSArPSB3b3Jkc1Blckdyb3VwKSB7XG4gICAgY29uc3QgZ3JvdXAgPSB3b3Jkcy5zbGljZShpLCBpICsgd29yZHNQZXJHcm91cCkuam9pbignICcpO1xuICAgIGdyb3Vwcy5wdXNoKGdyb3VwKTtcbiAgfVxuXG4gIHJldHVybiBncm91cHM7XG59O1xuXG4vLyBGdW5jacOzbiBwYXJhIHByb2Nlc2FyIHVuIHNlZ21lbnRvIHkgZGl2aWRpcmxvIGVuIG3Dumx0aXBsZXMgc2VnbWVudG9zIHNpIGVzIG5lY2VzYXJpb1xuY29uc3QgcHJvY2Vzc1NlZ21lbnQgPSAoc2VnbWVudDogU3VidGl0bGVTZWdtZW50KTogU3VidGl0bGVTZWdtZW50W10gPT4ge1xuICBjb25zdCB0ZXh0R3JvdXBzID0gc3BsaXRUZXh0SW50b0dyb3VwcyhzZWdtZW50LnRleHQpO1xuXG4gIC8vIFNpIHNvbG8gaGF5IHVuIGdydXBvLCBkZXZvbHZlciBlbCBzZWdtZW50byBvcmlnaW5hbFxuICBpZiAodGV4dEdyb3Vwcy5sZW5ndGggPD0gMSkge1xuICAgIHJldHVybiBbc2VnbWVudF07XG4gIH1cblxuICAvLyBDYWxjdWxhciBsYSBkdXJhY2nDs24gZGUgY2FkYSBncnVwb1xuICBjb25zdCB0b3RhbER1cmF0aW9uID0gc2VnbWVudC5lbmRUaW1lIC0gc2VnbWVudC5zdGFydFRpbWU7XG4gIGNvbnN0IGdyb3VwRHVyYXRpb24gPSB0b3RhbER1cmF0aW9uIC8gdGV4dEdyb3Vwcy5sZW5ndGg7XG5cbiAgLy8gQ3JlYXIgdW4gbnVldm8gc2VnbWVudG8gcGFyYSBjYWRhIGdydXBvXG4gIHJldHVybiB0ZXh0R3JvdXBzLm1hcCgoZ3JvdXBUZXh0LCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IHN0YXJ0VGltZSA9IHNlZ21lbnQuc3RhcnRUaW1lICsgKGluZGV4ICogZ3JvdXBEdXJhdGlvbik7XG4gICAgY29uc3QgZW5kVGltZSA9IHN0YXJ0VGltZSArIGdyb3VwRHVyYXRpb247XG5cbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHNlZ21lbnQuaWQgKiAxMDAwICsgaW5kZXgsIC8vIEdlbmVyYXIgdW4gSUQgw7puaWNvXG4gICAgICBzdGFydFRpbWUsXG4gICAgICBlbmRUaW1lLFxuICAgICAgdGV4dDogZ3JvdXBUZXh0XG4gICAgfTtcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0QWRkVGV4dFBheWxvYWQgPSAodGV4dCA9ICdEZW1vJywgc3RhcnRUaW1lID0gMCwgZW5kVGltZSA9IDUwMDApID0+ICh7XG4gIGlkOiBnZW5lcmF0ZUlkKCksXG4gIGRpc3BsYXk6IHtcbiAgICBmcm9tOiBzdGFydFRpbWUsXG4gICAgdG86IGVuZFRpbWUsXG4gIH0sXG4gIHR5cGU6ICd0ZXh0JyxcbiAgZGV0YWlsczoge1xuICAgIHRleHQ6IHRleHQudG9VcHBlckNhc2UoKSwgLy8gQ29udmVydGlyIGEgbWF5w7pzY3VsYXMgY29tbyBNckJlYXN0XG4gICAgZm9udFNpemU6IDgwLCAvLyBUYW1hw7FvIG3DoXMgZ3JhbmRlIHBhcmEgZXN0aWxvIE1yQmVhc3RcbiAgICB3aWR0aDogOTAwLFxuICAgIGZvbnRVcmw6ICcvZm9udHMvbXJiZWFzdC50dGYnLCAvLyBVc2FyIGxhIGZ1ZW50ZSBNckJlYXN0XG4gICAgZm9udEZhbWlseTogJ01yQmVhc3QnLCAvLyBOb21icmUgZGUgbGEgZnVlbnRlIE1yQmVhc3RcbiAgICBjb2xvcjogJyNGRkZGMDAnLCAvLyBBbWFyaWxsbyBicmlsbGFudGVcbiAgICB3b3JkV3JhcDogJ2JyZWFrLXdvcmQnLFxuICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgYm9yZGVyV2lkdGg6IDIwLCAvLyBTdHJva2UgbmVncm8gZ3J1ZXNvXG4gICAgYm9yZGVyQ29sb3I6ICcjMDAwMDAwJyxcbiAgICBib3hTaGFkb3c6IHtcbiAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXG4gICAgICB4OiAzLFxuICAgICAgeTogMyxcbiAgICAgIGJsdXI6IDAsIC8vIFNpbiBkZXNlbmZvcXVlIHBhcmEgdW4gZXN0aWxvIG3DoXMgaW1wYWN0YW50ZVxuICAgIH0sXG4gICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLCAvLyBTaW4gZm9uZG8gcGFyYSBxdWUgZGVzdGFxdWUgbcOhc1xuICAgIHBhZGRpbmc6IDEwLFxuICAgIGJvcmRlclJhZGl1czogMCwgLy8gU2luIGJvcmRlcyByZWRvbmRlYWRvcyBwYXJhIHVuIGVzdGlsbyBtw6FzIGltcGFjdGFudGVcbiAgfSxcbn0pO1xuXG5leHBvcnQgY29uc3QgU3VidGl0bGVzID0gKCkgPT4ge1xuICBjb25zdCBpc0RyYWdnaW5nT3ZlclRpbWVsaW5lID0gdXNlSXNEcmFnZ2luZ092ZXJUaW1lbGluZSgpO1xuICBjb25zdCBbc3VidGl0bGVTZWdtZW50cywgc2V0U3VidGl0bGVTZWdtZW50c10gPSB1c2VTdGF0ZTxTdWJ0aXRsZVNlZ21lbnRbXT4oW10pO1xuICBjb25zdCBbb3JpZ2luYWxTZWdtZW50cywgc2V0T3JpZ2luYWxTZWdtZW50c10gPSB1c2VTdGF0ZTxTdWJ0aXRsZVNlZ21lbnRbXT4oW10pO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFthZGRlZFN1YnRpdGxlcywgc2V0QWRkZWRTdWJ0aXRsZXNdID0gdXNlU3RhdGU8U2V0PG51bWJlcj4+KG5ldyBTZXQoKSk7XG4gIGNvbnN0IFtncm91cFdvcmRzLCBzZXRHcm91cFdvcmRzXSA9IHVzZVN0YXRlKHRydWUpOyAvLyBFc3RhZG8gcGFyYSBjb250cm9sYXIgc2kgYWdydXBhciBwYWxhYnJhc1xuICBjb25zdCB7IHRyYWNrcywgdGltZWxpbmUgfSA9IHVzZVN0b3JlKCk7IC8vIEFjY2VkZXIgYSBsb3MgdHJhY2tzIGRlbCBzdG9yZVxuICBjb25zdCBbc3VidGl0bGVUcmFja0lkLCBzZXRTdWJ0aXRsZVRyYWNrSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7IC8vIFRyYWNrIElEIGVzcGVjw61maWNvIHBhcmEgc3VidMOtdHVsb3NcbiAgY29uc3QgW3N0YXR1c01lc3NhZ2UsIHNldFN0YXR1c01lc3NhZ2VdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7IC8vIE1lbnNhamUgZGUgZXN0YWRvIHBhcmEgbW9zdHJhciBhbCB1c3VhcmlvXG5cbiAgLy8gRWZlY3RvIHBhcmEgZXNjdWNoYXIgbG9zIGV2ZW50b3MgZGUgc2VsZWNjacOzbiBkZWwgdGltZWxpbmVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBGaWx0cmFyIGV2ZW50b3MgZGVsIHRpbWVsaW5lXG4gICAgY29uc3QgdGltZWxpbmVFdmVudHMgPSBzdWJqZWN0LnBpcGUoXG4gICAgICBmaWx0ZXIoKHsga2V5IH0pID0+IGtleS5zdGFydHNXaXRoKFRJTUVMSU5FX1BSRUZJWCkpXG4gICAgKTtcblxuICAgIC8vIFN1c2NyaWJpcnNlIGEgbG9zIGV2ZW50b3MgZGUgc2VsZWNjacOzblxuICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IHRpbWVsaW5lRXZlbnRzLnN1YnNjcmliZSgob2JqKSA9PiB7XG4gICAgICAvLyBWZXJpZmljYXIgc2kgZXMgdW4gZXZlbnRvIGRlIGNyZWFjacOzbiBvIGFjdHVhbGl6YWNpw7NuIGRlIHNlbGVjY2nDs25cbiAgICAgIGlmICgob2JqLmtleSA9PT0gU0VMRUNUSU9OX0NSRUFURUQgfHwgb2JqLmtleSA9PT0gU0VMRUNUSU9OX1VQREFURUQpICYmIG9iai52YWx1ZSkge1xuICAgICAgICBjb25zb2xlLmxvZygnVGltZWxpbmUgc2VsZWN0aW9uIGV2ZW50OicsIG9iai5rZXksIG9iai52YWx1ZSk7XG5cbiAgICAgICAgLy8gSW50ZW50YXIgb2J0ZW5lciBsb3MgZWxlbWVudG9zIHNlbGVjY2lvbmFkb3NcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBvYmoudmFsdWUuc2VsZWN0ZWQ7XG4gICAgICAgIGlmIChzZWxlY3RlZCAmJiBzZWxlY3RlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgLy8gT2J0ZW5lciBlbCBjYW52YXMgeSBsb3MgdHJhY2tzXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IHNlbGVjdGVkWzBdLmNhbnZhcztcbiAgICAgICAgICAgIGlmIChjYW52YXMgJiYgY2FudmFzLnRyYWNrcyAmJiBjYW52YXMudHJhY2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgLy8gRXh0cmFlciBlbCBJRCBkZWwgcHJpbWVyIHRyYWNrXG4gICAgICAgICAgICAgIGNvbnN0IHRyYWNrSWQgPSBjYW52YXMudHJhY2tzWzBdLmlkO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU2VsZWNjaW9uYWRvIHRyYWNrIGNvbiBJRDonLCB0cmFja0lkKTtcblxuICAgICAgICAgICAgICAvLyBHdWFyZGFyIGVsIElEIGRlbCB0cmFjayBwYXJhIHVzYXIgY29uIGxvcyBzdWJ0w610dWxvc1xuICAgICAgICAgICAgICBzZXRTdWJ0aXRsZVRyYWNrSWQodHJhY2tJZCk7XG4gICAgICAgICAgICAgIHNldFN0YXR1c01lc3NhZ2UoYFRyYWNrIHNlbGVjY2lvbmFkbyBwYXJhIHN1YnTDrXR1bG9zIChJRDogJHt0cmFja0lkLnN1YnN0cigwLCA4KX0uLi4pYCk7XG5cbiAgICAgICAgICAgICAgLy8gRWwgbWVuc2FqZSBzZSBlbGltaW5hcsOhIGRlc3B1w6lzIGRlIDMgc2VndW5kb3NcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRTdGF0dXNNZXNzYWdlKG51bGwpLCAzMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgcHJvY2VzYXIgc2VsZWNjacOzbiBkZWwgdGltZWxpbmU6JywgZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gTGltcGlhciBzdXNjcmlwY2nDs24gY3VhbmRvIGVsIGNvbXBvbmVudGUgc2UgZGVzbW9udGVcbiAgICByZXR1cm4gKCkgPT4gc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGZldGNoVHJhbnNjcmlwdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL3RyYW5zY3JpcHRpb25zL3RyYW5zY3JpcHRpb24xLnNydCcpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBhbCBjYXJnYXIgZWwgYXJjaGl2byBTUlQ6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gcGFyc2VTUlQodGV4dCk7XG4gICAgICAgIHNldE9yaWdpbmFsU2VnbWVudHMoc2VnbWVudHMpO1xuXG4gICAgICAgIC8vIFByb2Nlc2FyIGxvcyBzZWdtZW50b3Mgc2Vnw7puIGxhIGNvbmZpZ3VyYWNpw7NuIGFjdHVhbFxuICAgICAgICBpZiAoZ3JvdXBXb3Jkcykge1xuICAgICAgICAgIGNvbnN0IHByb2Nlc3NlZFNlZ21lbnRzID0gc2VnbWVudHMuZmxhdE1hcChwcm9jZXNzU2VnbWVudCk7XG4gICAgICAgICAgc2V0U3VidGl0bGVTZWdtZW50cyhwcm9jZXNzZWRTZWdtZW50cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0U3VidGl0bGVTZWdtZW50cyhzZWdtZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHRyYW5zY3JpcHRpb246JywgZXJyb3IpO1xuICAgICAgICBzZXRFcnJvcignTm8gc2UgcHVkbyBjYXJnYXIgZWwgYXJjaGl2byBkZSBzdWJ0w610dWxvcycpO1xuICAgICAgICBzZXRTdWJ0aXRsZVNlZ21lbnRzKFtdKTtcbiAgICAgICAgc2V0T3JpZ2luYWxTZWdtZW50cyhbXSk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmZXRjaFRyYW5zY3JpcHRpb24oKTtcbiAgfSwgW2dyb3VwV29yZHNdKTtcblxuICAvLyBGdW5jacOzbiBwYXJhIGNhbWJpYXIgZW50cmUgbW9kbyBhZ3J1cGFkbyB5IG5vIGFncnVwYWRvXG4gIGNvbnN0IHRvZ2dsZUdyb3VwV29yZHMgPSAoKSA9PiB7XG4gICAgc2V0R3JvdXBXb3JkcyghZ3JvdXBXb3Jkcyk7XG4gIH07XG5cbiAgLy8gRnVuY2nDs24gcGFyYSBlbmNvbnRyYXIgbyBjcmVhciB1biB0cmFjayBwYXJhIHN1YnTDrXR1bG9zXG4gIGNvbnN0IGdldFN1YnRpdGxlVHJhY2tJZCA9ICgpID0+IHtcbiAgICAvLyBTaSB5YSB0ZW5lbW9zIHVuIElEIGRlIHRyYWNrLCB1c2FybG9cbiAgICBpZiAoc3VidGl0bGVUcmFja0lkKSByZXR1cm4gc3VidGl0bGVUcmFja0lkO1xuXG4gICAgLy8gQnVzY2FyIHVuIHRyYWNrIGRlIHRpcG8gXCJ0ZXh0XCIgZXhpc3RlbnRlXG4gICAgbGV0IHRyYWNrSWQgPSB0cmFja3MuZmluZCh0cmFjayA9PiB0cmFjay50eXBlID09PSAndGV4dCcgJiYgdHJhY2suYWNjZXB0cy5pbmNsdWRlcygndGV4dCcpKT8uaWQ7XG5cbiAgICBpZiAodHJhY2tJZCkge1xuICAgICAgc2V0U3VidGl0bGVUcmFja0lkKHRyYWNrSWQpO1xuICAgICAgcmV0dXJuIHRyYWNrSWQ7XG4gICAgfVxuXG4gICAgLy8gU2kgbm8gaGF5IHRyYWNrcyBvIG5vIHNlIHB1ZWRlIG9idGVuZXIgdGltZWxpbmUsIHVzYXIgdW4gZW5mb3F1ZSBhbHRlcm5hdGl2b1xuICAgIGlmICh0aW1lbGluZSAmJiB0aW1lbGluZS5jYW52YXMpIHtcbiAgICAgIC8vIEludGVudGFyIG9idGVuZXIgdHJhY2tzIGEgdHJhdsOpcyBkZWwgY2FudmFzIGRlIHRpbWVsaW5lXG4gICAgICBjb25zdCBjYW52YXNUcmFja3MgPSB0aW1lbGluZS5jYW52YXMudHJhY2tzO1xuICAgICAgaWYgKGNhbnZhc1RyYWNrcyAmJiBjYW52YXNUcmFja3MubGVuZ3RoID4gMCkge1xuICAgICAgICB0cmFja0lkID0gY2FudmFzVHJhY2tzWzBdLmlkO1xuICAgICAgICBzZXRTdWJ0aXRsZVRyYWNrSWQodHJhY2tJZCk7XG4gICAgICAgIHJldHVybiB0cmFja0lkO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNpIG5vIHNlIHB1ZG8gb2J0ZW5lciBuaW5nw7puIHRyYWNrLCBudWxsIGluZGljYXLDoSB1c2FyIGVsIGNvbXBvcnRhbWllbnRvIHBvciBkZWZlY3RvXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQWRkU3VidGl0bGUgPSAoc2VnbWVudDogU3VidGl0bGVTZWdtZW50KSA9PiB7XG4gICAgLy8gSW50ZW50YXIgb2J0ZW5lciB1biB0cmFjayBJRCBwYXJhIHN1YnTDrXR1bG9zXG4gICAgY29uc3QgdHJhY2tJZCA9IGdldFN1YnRpdGxlVHJhY2tJZCgpO1xuXG4gICAgZGlzcGF0Y2goQUREX1RFWFQsIHtcbiAgICAgIHBheWxvYWQ6IGdldEFkZFRleHRQYXlsb2FkKHNlZ21lbnQudGV4dCwgc2VnbWVudC5zdGFydFRpbWUsIHNlZ21lbnQuZW5kVGltZSksXG4gICAgICBvcHRpb25zOiB0cmFja0lkID8geyB0cmFja0lkIH0gOiB7fSwgLy8gU29sbyBhw7FhZGlyIHRyYWNrSWQgc2kgZXhpc3RlXG4gICAgfSk7XG5cbiAgICAvLyBNYXJjYXIgZXN0ZSBzdWJ0w610dWxvIGNvbW8gYcOxYWRpZG9cbiAgICBzZXRBZGRlZFN1YnRpdGxlcyhwcmV2ID0+IHtcbiAgICAgIGNvbnN0IG5ld1NldCA9IG5ldyBTZXQocHJldik7XG4gICAgICBuZXdTZXQuYWRkKHNlZ21lbnQuaWQpO1xuICAgICAgcmV0dXJuIG5ld1NldDtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVBZGRBbGxTdWJ0aXRsZXMgPSAoKSA9PiB7XG4gICAgLy8gRGVzYWN0aXZhciBlbCBib3TDs24gbWllbnRyYXMgc2UgcHJvY2VzYW4gbG9zIHN1YnTDrXR1bG9zXG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuXG4gICAgLy8gSW50ZW50YXIgb2J0ZW5lciB1biB0cmFjayBJRCBwYXJhIHN1YnTDrXR1bG9zXG4gICAgY29uc3QgdHJhY2tJZCA9IGdldFN1YnRpdGxlVHJhY2tJZCgpO1xuICAgIGNvbnNvbGUubG9nKGBVc2FuZG8gdHJhY2sgSUQgcGFyYSBzdWJ0w610dWxvczogJHt0cmFja0lkIHx8ICduaW5ndW5vIChjb21wb3J0YW1pZW50byBwb3IgZGVmZWN0byknfWApO1xuXG4gICAgLy8gQcOxYWRpciBzdWJ0w610dWxvcyBjb24gdW4gcmV0cmFzbyBlbnRyZSBjYWRhIHVub1xuICAgIHN1YnRpdGxlU2VnbWVudHMuZm9yRWFjaCgoc2VnbWVudCwgaW5kZXgpID0+IHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBkaXNwYXRjaChBRERfVEVYVCwge1xuICAgICAgICAgIHBheWxvYWQ6IGdldEFkZFRleHRQYXlsb2FkKHNlZ21lbnQudGV4dCwgc2VnbWVudC5zdGFydFRpbWUsIHNlZ21lbnQuZW5kVGltZSksXG4gICAgICAgICAgb3B0aW9uczogdHJhY2tJZCA/IHsgdHJhY2tJZCB9IDoge30sIC8vIFNvbG8gYcOxYWRpciB0cmFja0lkIHNpIGV4aXN0ZVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTaSBlcyBlbCDDumx0aW1vIHN1YnTDrXR1bG8sIGFjdHVhbGl6YXIgZWwgZXN0YWRvXG4gICAgICAgIGlmIChpbmRleCA9PT0gc3VidGl0bGVTZWdtZW50cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgLy8gTWFyY2FyIHRvZG9zIGxvcyBzdWJ0w610dWxvcyBjb21vIGHDsWFkaWRvc1xuICAgICAgICAgIGNvbnN0IGFsbElkcyA9IG5ldyBTZXQoc3VidGl0bGVTZWdtZW50cy5tYXAoc2VnbWVudCA9PiBzZWdtZW50LmlkKSk7XG4gICAgICAgICAgc2V0QWRkZWRTdWJ0aXRsZXMoYWxsSWRzKTtcbiAgICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgIC8vIE1vc3RyYXIgbWVuc2FqZSBkZSBmaW5hbGl6YWNpw7NuXG4gICAgICAgICAgc2V0U3RhdHVzTWVzc2FnZShgU2UgYcOxYWRpZXJvbiAke3N1YnRpdGxlU2VnbWVudHMubGVuZ3RofSBzdWJ0w610dWxvcyBhbCB0cmFja2ApO1xuICAgICAgICAgIC8vIEVsIG1lbnNhamUgc2UgZWxpbWluYXLDoSBkZXNwdcOpcyBkZSAzIHNlZ3VuZG9zXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRTdGF0dXNNZXNzYWdlKG51bGwpLCAzMDAwKTtcbiAgICAgICAgfVxuICAgICAgfSwgaW5kZXggKiAyMDApOyAvLyAyMDBtcyBkZSByZXRyYXNvIGVudHJlIGNhZGEgc3VidMOtdHVsb1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtMSBmbGV4LWNvbFwiIGRhdGEtc3VidGl0bGVzPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtMTIgZmxleC1ub25lIGl0ZW1zLWNlbnRlciBweC00IGZvbnQtbWVkaXVtIHRleHQtc20gdGV4dC10ZXh0LXByaW1hcnlcIj5cbiAgICAgICAgU3VidMOtdHVsb3NcbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC0yIHB4LTRcIj5cbiAgICAgICAge2lzTG9hZGluZyA/IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIHB5LThcIj5cbiAgICAgICAgICAgIDxTcGlubmVyIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiBlcnJvciA/IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtcmVkLTUwMCB0ZXh0LXNtIHB5LTJcIj57ZXJyb3J9PC9kaXY+XG4gICAgICAgICkgOiBzdWJ0aXRsZVNlZ21lbnRzLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTJcIj5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZUdyb3VwV29yZHN9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICAgICAgICAgIGJ1dHRvblZhcmlhbnRzKHsgdmFyaWFudDogJ291dGxpbmUnLCBzaXplOiAnc20nIH0pLFxuICAgICAgICAgICAgICAgICAgXCJjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtncm91cFdvcmRzID8gXCJWZXIgc3VidMOtdHVsb3MgY29tcGxldG9zXCIgOiBcIkRpdmlkaXIgZW4gZ3J1cG9zIGRlIDMgcGFsYWJyYXNcIn1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIE1lbnNhamUgaW5mb3JtYXRpdm8gcGFyYSBlbCB1c3VhcmlvIHNvYnJlIGVsIHRyYWNrIHNlbGVjY2lvbmFkbyAqL31cbiAgICAgICAgICAgIHtzdGF0dXNNZXNzYWdlICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWdyZWVuLTUwMCB0ZXh0LXNtIHB5LTIgbWItMiB0ZXh0LWNlbnRlciBiZy1ncmVlbi01MDAvMTAgcm91bmRlZCBib3JkZXIgYm9yZGVyLWdyZWVuLTUwMFwiPlxuICAgICAgICAgICAgICAgIHtzdGF0dXNNZXNzYWdlfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHsvKiBJbmZvcm1hY2nDs24gc29icmUgY8OzbW8gc2VsZWNjaW9uYXIgdW4gdHJhY2sgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIG1iLTIgYmctZ3JheS04MDAvNTAgcC0yIHJvdW5kZWRcIj5cbiAgICAgICAgICAgICAgPHA+UGFyYSBhw7FhZGlyIHRvZG9zIGxvcyBzdWJ0w610dWxvcyBhIHVuIG1pc21vIHRyYWNrOjwvcD5cbiAgICAgICAgICAgICAgPG9sIGNsYXNzTmFtZT1cImxpc3QtZGVjaW1hbCBwbC00IG10LTFcIj5cbiAgICAgICAgICAgICAgICA8bGk+U2VsZWNjaW9uYSB1biBlbGVtZW50byBlbiBsYSBsw61uZWEgZGUgdGllbXBvPC9saT5cbiAgICAgICAgICAgICAgICA8bGk+THVlZ28gaGF6IGNsaWMgZW4gXCJBw7FhZGlyIHRvZG9zIGxvcyBzdWJ0w610dWxvc1wiPC9saT5cbiAgICAgICAgICAgICAgPC9vbD5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFkZEFsbFN1YnRpdGxlc31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICAgICAgICBidXR0b25WYXJpYW50cyh7IHZhcmlhbnQ6ICdzZWNvbmRhcnknIH0pLFxuICAgICAgICAgICAgICAgIFwiY3Vyc29yLXBvaW50ZXIgZmxleCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXJcIlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfVxuICAgICAgICAgICAgICAvLyBJRCBkaW7DoW1pY28gc2Vnw7puIGVsIG1vZG8gZGUgYWdydXBhY2nDs25cbiAgICAgICAgICAgICAgaWQ9e2dyb3VwV29yZHMgPyBcImFkZC1hbGwtc3VidGl0bGVzLWdyb3VwZWRcIiA6IFwiYWRkLWFsbC1zdWJ0aXRsZXMtY29tcGxldGVcIn1cbiAgICAgICAgICAgICAgZGF0YS1zdWJ0aXRsZXMtYWRkLWFsbFxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7aXNMb2FkaW5nID8gKFxuICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICA8U3Bpbm5lciAvPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMlwiPkHDsWFkaWVuZG8gc3VidMOtdHVsb3MuLi48L3NwYW4+XG4gICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgYEHDsWFkaXIgdG9kb3MgbG9zIHN1YnTDrXR1bG9zICR7Z3JvdXBXb3JkcyA/IFwiKGFncnVwYWRvcylcIiA6IFwiKGNvbXBsZXRvcylcIn1gXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+U3VidMOtdHVsb3MgaW5kaXZpZHVhbGVzOjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtaC02MCBvdmVyZmxvdy15LWF1dG8gcHItMVwiPlxuICAgICAgICAgICAgICB7c3VidGl0bGVTZWdtZW50cy5tYXAoKHNlZ21lbnQpID0+IChcbiAgICAgICAgICAgICAgICA8RHJhZ2dhYmxlXG4gICAgICAgICAgICAgICAgICBrZXk9e3NlZ21lbnQuaWR9XG4gICAgICAgICAgICAgICAgICBkYXRhPXsoKSA9PiBnZXRBZGRUZXh0UGF5bG9hZChzZWdtZW50LnRleHQsIHNlZ21lbnQuc3RhcnRUaW1lLCBzZWdtZW50LmVuZFRpbWUpfVxuICAgICAgICAgICAgICAgICAgcmVuZGVyQ3VzdG9tUHJldmlldz17XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYmFja2dyb3VuZCBib3JkZXIgYm9yZGVyLWJvcmRlciBwLTIgcm91bmRlZC1tZCBtYXgtdy14c1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHtzZWdtZW50LnRleHR9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgc2hvdWxkRGlzcGxheVByZXZpZXc9eyFpc0RyYWdnaW5nT3ZlclRpbWVsaW5lfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQWRkU3VidGl0bGUoc2VnbWVudCl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgICAgICAgICAgICAgICAgYnV0dG9uVmFyaWFudHMoeyB2YXJpYW50OiAnb3V0bGluZScgfSksXG4gICAgICAgICAgICAgICAgICAgICAgXCJtYi0yIHRleHQtbGVmdCBmbGV4IGZsZXgtY29sIHctZnVsbFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGFkZGVkU3VidGl0bGVzLmhhcyhzZWdtZW50LmlkKSAmJiBcImJvcmRlci1ncmVlbi01MDAgYmctZ3JlZW4tNTAwLzEwXCJcbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0cnVuY2F0ZVwiIHRpdGxlPXtzZWdtZW50LnRleHR9PlxuICAgICAgICAgICAgICAgICAgICAgIHtzZWdtZW50LnRleHQubGVuZ3RoID4gMzAgPyBgJHtzZWdtZW50LnRleHQuc3Vic3RyaW5nKDAsIDMwKX0uLi5gIDogc2VnbWVudC50ZXh0fVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdFRpbWUoc2VnbWVudC5zdGFydFRpbWUpfSAtIHtmb3JtYXRUaW1lKHNlZ21lbnQuZW5kVGltZSl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9EcmFnZ2FibGU+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC8+XG4gICAgICAgICkgOlxuICAgICAgICAgIDxEcmFnZ2FibGVcbiAgICAgICAgICAgIGRhdGE9eygpID0+IGdldEFkZFRleHRQYXlsb2FkKFwiRGVtb1wiKX1cbiAgICAgICAgICAgIHJlbmRlckN1c3RvbVByZXZpZXc9e1xuICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIiBjbGFzc05hbWU9XCJ3LTYwXCI+XG4gICAgICAgICAgICAgICAgQWRkIHRleHRcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaG91bGREaXNwbGF5UHJldmlldz17IWlzRHJhZ2dpbmdPdmVyVGltZWxpbmV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVBZGRTdWJ0aXRsZSh7aWQ6IDAsIHN0YXJ0VGltZTogMCwgZW5kVGltZTogNTAwMCwgdGV4dDogXCJEZW1vXCJ9KX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihidXR0b25WYXJpYW50cyh7IHZhcmlhbnQ6ICdzZWNvbmRhcnknIH0pKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgQWRkIHRleHRcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvRHJhZ2dhYmxlPlxuICAgICAgICB9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG4iXSwibmFtZXMiOlsiRHJhZ2dhYmxlIiwiQnV0dG9uIiwiYnV0dG9uVmFyaWFudHMiLCJjbiIsImRpc3BhdGNoIiwic3ViamVjdCIsImZpbHRlciIsIkFERF9URVhUIiwiZ2VuZXJhdGVJZCIsInVzZUlzRHJhZ2dpbmdPdmVyVGltZWxpbmUiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZVN0b3JlIiwiVElNRUxJTkVfUFJFRklYIiwiU0VMRUNUSU9OX0NSRUFURUQiLCJTRUxFQ1RJT05fVVBEQVRFRCIsIlNwaW5uZXIiLCJkaXYiLCJjbGFzc05hbWUiLCJwYXJzZVRpbWVUb01zIiwidGltZVN0cmluZyIsImhvdXJzIiwibWludXRlcyIsInNlY29uZHNBbmRNcyIsInNwbGl0Iiwic2Vjb25kcyIsIm1zIiwicGFyc2VJbnQiLCJwYXJzZVNSVCIsInNydENvbnRlbnQiLCJzZWdtZW50cyIsImJsb2NrcyIsInRyaW0iLCJmb3JFYWNoIiwiYmxvY2siLCJsaW5lcyIsImxlbmd0aCIsImlkIiwidGltZVJhbmdlIiwic3RhcnRUaW1lIiwiZW5kVGltZSIsInRleHQiLCJzbGljZSIsImpvaW4iLCJwdXNoIiwiZm9ybWF0VGltZSIsIk1hdGgiLCJmbG9vciIsInJlbWFpbmluZ1NlY29uZHMiLCJ0b1N0cmluZyIsInBhZFN0YXJ0Iiwic3BsaXRUZXh0SW50b0dyb3VwcyIsIndvcmRzUGVyR3JvdXAiLCJ3b3JkcyIsImdyb3VwcyIsImkiLCJncm91cCIsInByb2Nlc3NTZWdtZW50Iiwic2VnbWVudCIsInRleHRHcm91cHMiLCJ0b3RhbER1cmF0aW9uIiwiZ3JvdXBEdXJhdGlvbiIsIm1hcCIsImdyb3VwVGV4dCIsImluZGV4IiwiZ2V0QWRkVGV4dFBheWxvYWQiLCJkaXNwbGF5IiwiZnJvbSIsInRvIiwidHlwZSIsImRldGFpbHMiLCJ0b1VwcGVyQ2FzZSIsImZvbnRTaXplIiwid2lkdGgiLCJmb250VXJsIiwiZm9udEZhbWlseSIsImNvbG9yIiwid29yZFdyYXAiLCJ0ZXh0QWxpZ24iLCJib3JkZXJXaWR0aCIsImJvcmRlckNvbG9yIiwiYm94U2hhZG93IiwieCIsInkiLCJibHVyIiwiYmFja2dyb3VuZENvbG9yIiwicGFkZGluZyIsImJvcmRlclJhZGl1cyIsIlN1YnRpdGxlcyIsImlzRHJhZ2dpbmdPdmVyVGltZWxpbmUiLCJzdWJ0aXRsZVNlZ21lbnRzIiwic2V0U3VidGl0bGVTZWdtZW50cyIsIm9yaWdpbmFsU2VnbWVudHMiLCJzZXRPcmlnaW5hbFNlZ21lbnRzIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImFkZGVkU3VidGl0bGVzIiwic2V0QWRkZWRTdWJ0aXRsZXMiLCJTZXQiLCJncm91cFdvcmRzIiwic2V0R3JvdXBXb3JkcyIsInRyYWNrcyIsInRpbWVsaW5lIiwic3VidGl0bGVUcmFja0lkIiwic2V0U3VidGl0bGVUcmFja0lkIiwic3RhdHVzTWVzc2FnZSIsInNldFN0YXR1c01lc3NhZ2UiLCJ0aW1lbGluZUV2ZW50cyIsInBpcGUiLCJrZXkiLCJzdGFydHNXaXRoIiwic3Vic2NyaXB0aW9uIiwic3Vic2NyaWJlIiwib2JqIiwidmFsdWUiLCJjb25zb2xlIiwibG9nIiwic2VsZWN0ZWQiLCJjYW52YXMiLCJ0cmFja0lkIiwic3Vic3RyIiwic2V0VGltZW91dCIsInVuc3Vic2NyaWJlIiwiZmV0Y2hUcmFuc2NyaXB0aW9uIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJwcm9jZXNzZWRTZWdtZW50cyIsImZsYXRNYXAiLCJ0b2dnbGVHcm91cFdvcmRzIiwiZ2V0U3VidGl0bGVUcmFja0lkIiwiZmluZCIsInRyYWNrIiwiYWNjZXB0cyIsImluY2x1ZGVzIiwiY2FudmFzVHJhY2tzIiwiaGFuZGxlQWRkU3VidGl0bGUiLCJwYXlsb2FkIiwib3B0aW9ucyIsInByZXYiLCJuZXdTZXQiLCJhZGQiLCJoYW5kbGVBZGRBbGxTdWJ0aXRsZXMiLCJhbGxJZHMiLCJkYXRhLXN1YnRpdGxlcyIsIm9uQ2xpY2siLCJ2YXJpYW50Iiwic2l6ZSIsInAiLCJvbCIsImxpIiwiZGlzYWJsZWQiLCJkYXRhLXN1YnRpdGxlcy1hZGQtYWxsIiwic3BhbiIsImRhdGEiLCJyZW5kZXJDdXN0b21QcmV2aWV3Iiwic2hvdWxkRGlzcGxheVByZXZpZXciLCJoYXMiLCJ0aXRsZSIsInN1YnN0cmluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./features/editor/menu-item/subtitles.tsx\n"));

/***/ })

});