"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./features/editor/player/composition.tsx":
/*!************************************************!*\
  !*** ./features/editor/player/composition.tsx ***!
  \************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _store_use_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/use-store */ \"(app-pages-browser)/./features/editor/store/use-store.ts\");\n/* harmony import */ var _sequence_item__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sequence-item */ \"(app-pages-browser)/./features/editor/player/sequence-item.tsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _designcombo_events__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @designcombo/events */ \"(app-pages-browser)/./node_modules/@designcombo/events/dist/index.es.js\");\n/* harmony import */ var _designcombo_state__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @designcombo/state */ \"(app-pages-browser)/./node_modules/@designcombo/state/dist/index.es.js\");\n/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/merge */ \"(app-pages-browser)/./node_modules/lodash/merge.js\");\n/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_merge__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _utils_track_items__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/track-items */ \"(app-pages-browser)/./features/editor/utils/track-items.ts\");\n/* harmony import */ var _utils_text__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/text */ \"(app-pages-browser)/./features/editor/utils/text.ts\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\nconst Composition = ()=>{\n    _s();\n    const [editableTextId, setEditableTextId] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const { trackItemIds, trackItemsMap, fps, trackItemDetailsMap, sceneMoveableRef, size, transitionsMap } = (0,_store_use_store__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n    const mergedTrackItemsDeatilsMap = lodash_merge__WEBPACK_IMPORTED_MODULE_6___default()(trackItemsMap, trackItemDetailsMap);\n    const groupedItems = (0,_utils_track_items__WEBPACK_IMPORTED_MODULE_7__.groupTrackItems)({\n        trackItemIds,\n        transitionsMap,\n        trackItemsMap: mergedTrackItemsDeatilsMap\n    });\n    const handleTextChange = (id, _)=>{\n        var _elRef_firstElementChild_firstElementChild, _elRef_firstElementChild, _sceneMoveableRef_current, _sceneMoveableRef_current1;\n        const elRef = document.querySelector(\".id-\".concat(id));\n        const textDiv = (_elRef_firstElementChild = elRef.firstElementChild) === null || _elRef_firstElementChild === void 0 ? void 0 : (_elRef_firstElementChild_firstElementChild = _elRef_firstElementChild.firstElementChild) === null || _elRef_firstElementChild_firstElementChild === void 0 ? void 0 : _elRef_firstElementChild_firstElementChild.firstElementChild;\n        const { fontFamily, fontSize, fontWeight, letterSpacing, lineHeight, textShadow, webkitTextStroke } = textDiv.style;\n        const { width } = elRef.style;\n        if (!elRef.innerText) return;\n        const newHeight = (0,_utils_text__WEBPACK_IMPORTED_MODULE_8__.calculateTextHeight)({\n            family: fontFamily,\n            fontSize,\n            fontWeight,\n            letterSpacing,\n            lineHeight,\n            text: elRef.innerText,\n            textShadow: textShadow,\n            webkitTextStroke,\n            width,\n            id: id\n        });\n        elRef.style.height = \"\".concat(newHeight, \"px\");\n        sceneMoveableRef === null || sceneMoveableRef === void 0 ? void 0 : (_sceneMoveableRef_current = sceneMoveableRef.current) === null || _sceneMoveableRef_current === void 0 ? void 0 : _sceneMoveableRef_current.moveable.updateRect();\n        sceneMoveableRef === null || sceneMoveableRef === void 0 ? void 0 : (_sceneMoveableRef_current1 = sceneMoveableRef.current) === null || _sceneMoveableRef_current1 === void 0 ? void 0 : _sceneMoveableRef_current1.moveable.forceUpdate();\n    };\n    const onTextBlur = (id, _)=>{\n        var _elRef_firstElementChild_firstElementChild, _elRef_firstElementChild;\n        const elRef = document.querySelector(\".id-\".concat(id));\n        const textDiv = (_elRef_firstElementChild = elRef.firstElementChild) === null || _elRef_firstElementChild === void 0 ? void 0 : (_elRef_firstElementChild_firstElementChild = _elRef_firstElementChild.firstElementChild) === null || _elRef_firstElementChild_firstElementChild === void 0 ? void 0 : _elRef_firstElementChild_firstElementChild.firstElementChild;\n        const { fontFamily, fontSize, fontWeight, letterSpacing, lineHeight, textShadow, webkitTextStroke } = textDiv.style;\n        const { width } = elRef.style;\n        if (!elRef.innerText) return;\n        const newHeight = (0,_utils_text__WEBPACK_IMPORTED_MODULE_8__.calculateTextHeight)({\n            family: fontFamily,\n            fontSize,\n            fontWeight,\n            letterSpacing,\n            lineHeight,\n            text: elRef.innerText,\n            textShadow: textShadow,\n            webkitTextStroke,\n            width,\n            id: id\n        });\n        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_4__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_5__.EDIT_OBJECT, {\n            payload: {\n                [id]: {\n                    details: {\n                        height: newHeight\n                    }\n                }\n            }\n        });\n    };\n    //   handle track and track item events - updates\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n        const stateEvents = _designcombo_events__WEBPACK_IMPORTED_MODULE_4__.subject.pipe((0,_designcombo_events__WEBPACK_IMPORTED_MODULE_4__.filter)((param)=>{\n            let { key } = param;\n            return key.startsWith(_designcombo_state__WEBPACK_IMPORTED_MODULE_5__.ENTER_EDIT_MODE);\n        }));\n        const subscription = stateEvents.subscribe((obj)=>{\n            if (obj.key === _designcombo_state__WEBPACK_IMPORTED_MODULE_5__.ENTER_EDIT_MODE) {\n                var _obj_value;\n                if (editableTextId) {\n                    // get element by  data-text-id={id}\n                    const element = document.querySelector('[data-text-id=\"'.concat(editableTextId, '\"]'));\n                    if (trackItemIds.includes(editableTextId)) {\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_4__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_5__.EDIT_OBJECT, {\n                            payload: {\n                                [editableTextId]: {\n                                    details: {\n                                        text: (element === null || element === void 0 ? void 0 : element.innerHTML) || \"\"\n                                    }\n                                }\n                            }\n                        });\n                    } else {\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_4__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_5__.EDIT_TEMPLATE_ITEM, {\n                            payload: {\n                                [editableTextId]: {\n                                    details: {\n                                        text: (element === null || element === void 0 ? void 0 : element.textContent) || \"\"\n                                    }\n                                }\n                            }\n                        });\n                    }\n                }\n                setEditableTextId((_obj_value = obj.value) === null || _obj_value === void 0 ? void 0 : _obj_value.payload.id);\n            }\n        });\n        return ()=>subscription.unsubscribe();\n    }, [\n        editableTextId\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: groupedItems.map((group, index)=>{\n            if (group.length === 1) {\n                const item = mergedTrackItemsDeatilsMap[group[0].id];\n                console.log(\"Rendering item:\", item);\n                return _sequence_item__WEBPACK_IMPORTED_MODULE_2__.SequenceItem[item.type](item, {\n                    fps,\n                    handleTextChange,\n                    onTextBlur,\n                    editableTextId\n                });\n            }\n            return null;\n        })\n    }, void 0, false);\n};\n_s(Composition, \"fZK4RLfRaeArTAF4nFTRHdmAzKE=\", false, function() {\n    return [\n        _store_use_store__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n    ];\n});\n_c = Composition;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Composition);\nvar _c;\n$RefreshReg$(_c, \"Composition\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2ZlYXR1cmVzL2VkaXRvci9wbGF5ZXIvY29tcG9zaXRpb24udHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQTBDO0FBQ0s7QUFDSDtBQUNvQjtBQUtwQztBQUNHO0FBQ3dCO0FBQ0g7QUFFcEQsTUFBTWEsY0FBYzs7SUFDbEIsTUFBTSxDQUFDQyxnQkFBZ0JDLGtCQUFrQixHQUFHWiwrQ0FBUUEsQ0FBZ0I7SUFDcEUsTUFBTSxFQUNKYSxZQUFZLEVBQ1pDLGFBQWEsRUFDYkMsR0FBRyxFQUNIQyxtQkFBbUIsRUFDbkJDLGdCQUFnQixFQUNoQkMsSUFBSSxFQUNKQyxjQUFjLEVBQ2YsR0FBR3RCLDREQUFRQTtJQUNaLE1BQU11Qiw2QkFBNkJiLG1EQUFLQSxDQUFDTyxlQUFlRTtJQUN4RCxNQUFNSyxlQUFlYixtRUFBZUEsQ0FBQztRQUNuQ0s7UUFDQU07UUFDQUwsZUFBZU07SUFDakI7SUFFQSxNQUFNRSxtQkFBbUIsQ0FBQ0MsSUFBWUM7WUFFcEJDLDRDQUFBQSwwQkEyQmhCUiwyQkFDQUE7UUE3QkEsTUFBTVEsUUFBUUMsU0FBU0MsYUFBYSxDQUFDLE9BQVUsT0FBSEo7UUFDNUMsTUFBTUssV0FBVUgsMkJBQUFBLE1BQU1JLGlCQUFpQixjQUF2QkosZ0RBQUFBLDZDQUFBQSx5QkFBeUJJLGlCQUFpQixjQUExQ0osaUVBQUFBLDJDQUNaSSxpQkFBaUI7UUFFckIsTUFBTSxFQUNKQyxVQUFVLEVBQ1ZDLFFBQVEsRUFDUkMsVUFBVSxFQUNWQyxhQUFhLEVBQ2JDLFVBQVUsRUFDVkMsVUFBVSxFQUNWQyxnQkFBZ0IsRUFDakIsR0FBR1IsUUFBUVMsS0FBSztRQUNqQixNQUFNLEVBQUVDLEtBQUssRUFBRSxHQUFHYixNQUFNWSxLQUFLO1FBQzdCLElBQUksQ0FBQ1osTUFBTWMsU0FBUyxFQUFFO1FBQ3RCLE1BQU1DLFlBQVkvQixnRUFBbUJBLENBQUM7WUFDcENnQyxRQUFRWDtZQUNSQztZQUNBQztZQUNBQztZQUNB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LENBQUMsQ0FBQ0MsT0FBT0M7WUFDeEIsSUFBSUQsTUFBTUUsTUFBTSxLQUFLLEdBQUc7Z0JBQ3RCLE1BQU1DLE9BQU9oRCwwQkFBMEIsQ0FBQzZDLEtBQUssQ0FBQyxFQUFFLENBQUMxQyxFQUFFLENBQUM7Z0JBQ3BEOEMsUUFBUUMsR0FBRyxDQUFDLG1CQUFtQkY7Z0JBQy9CLE9BQU90RSx3REFBWSxDQUFDc0UsS0FBS0csSUFBSSxDQUFDLENBQUNILE1BQU07b0JBQ25DckQ7b0JBQ0FPO29CQUNBMEI7b0JBQ0FyQztnQkFDRjtZQUNGO1lBQ0EsT0FBTztRQUNUOztBQUdOO0dBbkpNRDs7UUFVQWIsd0RBQVFBOzs7S0FWUmE7QUFxSk4sK0RBQWVBLFdBQVdBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vZmVhdHVyZXMvZWRpdG9yL3BsYXllci9jb21wb3NpdGlvbi50c3g/MjE5MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdXNlU3RvcmUgZnJvbSBcIi4uL3N0b3JlL3VzZS1zdG9yZVwiO1xuaW1wb3J0IHsgU2VxdWVuY2VJdGVtIH0gZnJvbSBcIi4vc2VxdWVuY2UtaXRlbVwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgZGlzcGF0Y2gsIGZpbHRlciwgc3ViamVjdCB9IGZyb20gXCJAZGVzaWduY29tYm8vZXZlbnRzXCI7XG5pbXBvcnQge1xuICBFRElUX09CSkVDVCxcbiAgRURJVF9URU1QTEFURV9JVEVNLFxuICBFTlRFUl9FRElUX01PREUsXG59IGZyb20gXCJAZGVzaWduY29tYm8vc3RhdGVcIjtcbmltcG9ydCB7IG1lcmdlIH0gZnJvbSBcImxvZGFzaFwiO1xuaW1wb3J0IHsgZ3JvdXBUcmFja0l0ZW1zIH0gZnJvbSBcIi4uL3V0aWxzL3RyYWNrLWl0ZW1zXCI7XG5pbXBvcnQgeyBjYWxjdWxhdGVUZXh0SGVpZ2h0IH0gZnJvbSBcIi4uL3V0aWxzL3RleHRcIjtcblxuY29uc3QgQ29tcG9zaXRpb24gPSAoKSA9PiB7XG4gIGNvbnN0IFtlZGl0YWJsZVRleHRJZCwgc2V0RWRpdGFibGVUZXh0SWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHtcbiAgICB0cmFja0l0ZW1JZHMsXG4gICAgdHJhY2tJdGVtc01hcCxcbiAgICBmcHMsXG4gICAgdHJhY2tJdGVtRGV0YWlsc01hcCxcbiAgICBzY2VuZU1vdmVhYmxlUmVmLFxuICAgIHNpemUsXG4gICAgdHJhbnNpdGlvbnNNYXAsXG4gIH0gPSB1c2VTdG9yZSgpO1xuICBjb25zdCBtZXJnZWRUcmFja0l0ZW1zRGVhdGlsc01hcCA9IG1lcmdlKHRyYWNrSXRlbXNNYXAsIHRyYWNrSXRlbURldGFpbHNNYXApO1xuICBjb25zdCBncm91cGVkSXRlbXMgPSBncm91cFRyYWNrSXRlbXMoe1xuICAgIHRyYWNrSXRlbUlkcyxcbiAgICB0cmFuc2l0aW9uc01hcCxcbiAgICB0cmFja0l0ZW1zTWFwOiBtZXJnZWRUcmFja0l0ZW1zRGVhdGlsc01hcCxcbiAgfSk7XG5cbiAgY29uc3QgaGFuZGxlVGV4dENoYW5nZSA9IChpZDogc3RyaW5nLCBfOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBlbFJlZiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5pZC0ke2lkfWApIGFzIEhUTUxEaXZFbGVtZW50O1xuICAgIGNvbnN0IHRleHREaXYgPSBlbFJlZi5maXJzdEVsZW1lbnRDaGlsZD8uZmlyc3RFbGVtZW50Q2hpbGRcbiAgICAgID8uZmlyc3RFbGVtZW50Q2hpbGQgYXMgSFRNTERpdkVsZW1lbnQ7XG5cbiAgICBjb25zdCB7XG4gICAgICBmb250RmFtaWx5LFxuICAgICAgZm9udFNpemUsXG4gICAgICBmb250V2VpZ2h0LFxuICAgICAgbGV0dGVyU3BhY2luZyxcbiAgICAgIGxpbmVIZWlnaHQsXG4gICAgICB0ZXh0U2hhZG93LFxuICAgICAgd2Via2l0VGV4dFN0cm9rZSxcbiAgICB9ID0gdGV4dERpdi5zdHlsZTtcbiAgICBjb25zdCB7IHdpZHRoIH0gPSBlbFJlZi5zdHlsZTtcbiAgICBpZiAoIWVsUmVmLmlubmVyVGV4dCkgcmV0dXJuO1xuICAgIGNvbnN0IG5ld0hlaWdodCA9IGNhbGN1bGF0ZVRleHRIZWlnaHQoe1xuICAgICAgZmFtaWx5OiBmb250RmFtaWx5LFxuICAgICAgZm9udFNpemUsXG4gICAgICBmb250V2VpZ2h0LFxuICAgICAgbGV0dGVyU3BhY2luZyxcbiAgICAgIGxpbmVIZWlnaHQsXG4gICAgICB0ZXh0OiBlbFJlZi5pbm5lclRleHQhLFxuICAgICAgdGV4dFNoYWRvdzogdGV4dFNoYWRvdyxcbiAgICAgIHdlYmtpdFRleHRTdHJva2UsXG4gICAgICB3aWR0aCxcbiAgICAgIGlkOiBpZCxcbiAgICB9KTtcbiAgICBlbFJlZi5zdHlsZS5oZWlnaHQgPSBgJHtuZXdIZWlnaHR9cHhgO1xuICAgIHNjZW5lTW92ZWFibGVSZWY/LmN1cnJlbnQ/Lm1vdmVhYmxlLnVwZGF0ZVJlY3QoKTtcbiAgICBzY2VuZU1vdmVhYmxlUmVmPy5jdXJyZW50Py5tb3ZlYWJsZS5mb3JjZVVwZGF0ZSgpO1xuICB9O1xuXG4gIGNvbnN0IG9uVGV4dEJsdXIgPSAoaWQ6IHN0cmluZywgXzogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgZWxSZWYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuaWQtJHtpZH1gKSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICBjb25zdCB0ZXh0RGl2ID0gZWxSZWYuZmlyc3RFbGVtZW50Q2hpbGQ/LmZpcnN0RWxlbWVudENoaWxkXG4gICAgICA/LmZpcnN0RWxlbWVudENoaWxkIGFzIEhUTUxEaXZFbGVtZW50O1xuICAgIGNvbnN0IHtcbiAgICAgIGZvbnRGYW1pbHksXG4gICAgICBmb250U2l6ZSxcbiAgICAgIGZvbnRXZWlnaHQsXG4gICAgICBsZXR0ZXJTcGFjaW5nLFxuICAgICAgbGluZUhlaWdodCxcbiAgICAgIHRleHRTaGFkb3csXG4gICAgICB3ZWJraXRUZXh0U3Ryb2tlLFxuICAgIH0gPSB0ZXh0RGl2LnN0eWxlO1xuICAgIGNvbnN0IHsgd2lkdGggfSA9IGVsUmVmLnN0eWxlO1xuICAgIGlmICghZWxSZWYuaW5uZXJUZXh0KSByZXR1cm47XG4gICAgY29uc3QgbmV3SGVpZ2h0ID0gY2FsY3VsYXRlVGV4dEhlaWdodCh7XG4gICAgICBmYW1pbHk6IGZvbnRGYW1pbHksXG4gICAgICBmb250U2l6ZSxcbiAgICAgIGZvbnRXZWlnaHQsXG4gICAgICBsZXR0ZXJTcGFjaW5nLFxuICAgICAgbGluZUhlaWdodCxcbiAgICAgIHRleHQ6IGVsUmVmLmlubmVyVGV4dCEsXG4gICAgICB0ZXh0U2hhZG93OiB0ZXh0U2hhZG93LFxuICAgICAgd2Via2l0VGV4dFN0cm9rZSxcbiAgICAgIHdpZHRoLFxuICAgICAgaWQ6IGlkLFxuICAgIH0pO1xuICAgIGRpc3BhdGNoKEVESVRfT0JKRUNULCB7XG4gICAgICBwYXlsb2FkOiB7XG4gICAgICAgIFtpZF06IHtcbiAgICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IG5ld0hlaWdodCxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcblxuICAvLyAgIGhhbmRsZSB0cmFjayBhbmQgdHJhY2sgaXRlbSBldmVudHMgLSB1cGRhdGVzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgc3RhdGVFdmVudHMgPSBzdWJqZWN0LnBpcGUoXG4gICAgICBmaWx0ZXIoKHsga2V5IH0pID0+IGtleS5zdGFydHNXaXRoKEVOVEVSX0VESVRfTU9ERSkpLFxuICAgICk7XG5cbiAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBzdGF0ZUV2ZW50cy5zdWJzY3JpYmUoKG9iaikgPT4ge1xuICAgICAgaWYgKG9iai5rZXkgPT09IEVOVEVSX0VESVRfTU9ERSkge1xuICAgICAgICBpZiAoZWRpdGFibGVUZXh0SWQpIHtcbiAgICAgICAgICAvLyBnZXQgZWxlbWVudCBieSAgZGF0YS10ZXh0LWlkPXtpZH1cbiAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgIGBbZGF0YS10ZXh0LWlkPVwiJHtlZGl0YWJsZVRleHRJZH1cIl1gLFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKHRyYWNrSXRlbUlkcy5pbmNsdWRlcyhlZGl0YWJsZVRleHRJZCkpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKEVESVRfT0JKRUNULCB7XG4gICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICBbZWRpdGFibGVUZXh0SWRdOiB7XG4gICAgICAgICAgICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGVsZW1lbnQ/LmlubmVySFRNTCB8fCBcIlwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKEVESVRfVEVNUExBVEVfSVRFTSwge1xuICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgW2VkaXRhYmxlVGV4dElkXToge1xuICAgICAgICAgICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBlbGVtZW50Py50ZXh0Q29udGVudCB8fCBcIlwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNldEVkaXRhYmxlVGV4dElkKG9iai52YWx1ZT8ucGF5bG9hZC5pZCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICB9LCBbZWRpdGFibGVUZXh0SWRdKTtcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICB7Z3JvdXBlZEl0ZW1zLm1hcCgoZ3JvdXAsIGluZGV4KSA9PiB7XG4gICAgICAgIGlmIChncm91cC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBjb25zdCBpdGVtID0gbWVyZ2VkVHJhY2tJdGVtc0RlYXRpbHNNYXBbZ3JvdXBbMF0uaWRdO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVuZGVyaW5nIGl0ZW06XCIsIGl0ZW0pO1xuICAgICAgICAgIHJldHVybiBTZXF1ZW5jZUl0ZW1baXRlbS50eXBlXShpdGVtLCB7XG4gICAgICAgICAgICBmcHMsXG4gICAgICAgICAgICBoYW5kbGVUZXh0Q2hhbmdlLFxuICAgICAgICAgICAgb25UZXh0Qmx1cixcbiAgICAgICAgICAgIGVkaXRhYmxlVGV4dElkLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSl9XG4gICAgPC8+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDb21wb3NpdGlvbjtcbiJdLCJuYW1lcyI6WyJ1c2VTdG9yZSIsIlNlcXVlbmNlSXRlbSIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiZGlzcGF0Y2giLCJmaWx0ZXIiLCJzdWJqZWN0IiwiRURJVF9PQkpFQ1QiLCJFRElUX1RFTVBMQVRFX0lURU0iLCJFTlRFUl9FRElUX01PREUiLCJtZXJnZSIsImdyb3VwVHJhY2tJdGVtcyIsImNhbGN1bGF0ZVRleHRIZWlnaHQiLCJDb21wb3NpdGlvbiIsImVkaXRhYmxlVGV4dElkIiwic2V0RWRpdGFibGVUZXh0SWQiLCJ0cmFja0l0ZW1JZHMiLCJ0cmFja0l0ZW1zTWFwIiwiZnBzIiwidHJhY2tJdGVtRGV0YWlsc01hcCIsInNjZW5lTW92ZWFibGVSZWYiLCJzaXplIiwidHJhbnNpdGlvbnNNYXAiLCJtZXJnZWRUcmFja0l0ZW1zRGVhdGlsc01hcCIsImdyb3VwZWRJdGVtcyIsImhhbmRsZVRleHRDaGFuZ2UiLCJpZCIsIl8iLCJlbFJlZiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRleHREaXYiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImZvbnRXZWlnaHQiLCJsZXR0ZXJTcGFjaW5nIiwibGluZUhlaWdodCIsInRleHRTaGFkb3ciLCJ3ZWJraXRUZXh0U3Ryb2tlIiwic3R5bGUiLCJ3aWR0aCIsImlubmVyVGV4dCIsIm5ld0hlaWdodCIsImZhbWlseSIsInRleHQiLCJoZWlnaHQiLCJjdXJyZW50IiwibW92ZWFibGUiLCJ1cGRhdGVSZWN0IiwiZm9yY2VVcGRhdGUiLCJvblRleHRCbHVyIiwicGF5bG9hZCIsImRldGFpbHMiLCJzdGF0ZUV2ZW50cyIsInBpcGUiLCJrZXkiLCJzdGFydHNXaXRoIiwic3Vic2NyaXB0aW9uIiwic3Vic2NyaWJlIiwib2JqIiwiZWxlbWVudCIsImluY2x1ZGVzIiwiaW5uZXJIVE1MIiwidGV4dENvbnRlbnQiLCJ2YWx1ZSIsInVuc3Vic2NyaWJlIiwibWFwIiwiZ3JvdXAiLCJpbmRleCIsImxlbmd0aCIsIml0ZW0iLCJjb25zb2xlIiwibG9nIiwidHlwZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./features/editor/player/composition.tsx\n"));

/***/ })

});