"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/ai-chat/ai-video-commands.ts":
/*!*************************************************!*\
  !*** ./components/ai-chat/ai-video-commands.ts ***!
  \*************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createVideoCommandExecutor: function() { return /* binding */ createVideoCommandExecutor; }\n/* harmony export */ });\n/* harmony import */ var _designcombo_events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @designcombo/events */ \"(app-pages-browser)/./node_modules/@designcombo/events/dist/index.es.js\");\n/* harmony import */ var _designcombo_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @designcombo/state */ \"(app-pages-browser)/./node_modules/@designcombo/state/dist/index.es.js\");\n/* harmony import */ var _designcombo_timeline__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @designcombo/timeline */ \"(app-pages-browser)/./node_modules/@designcombo/timeline/dist/index.es.js\");\n\n\n\nfunction createVideoCommandExecutor(stateManager) {\n    // Crear el objeto executor con todos los métodos\n    const executor = {\n        addText: (text, options)=>{\n            const position = (options === null || options === void 0 ? void 0 : options.position) || {\n                x: 0.5,\n                y: 0.5\n            }; // Centrado por defecto\n            const fontSize = (options === null || options === void 0 ? void 0 : options.fontSize) || 48;\n            const fontFamily = (options === null || options === void 0 ? void 0 : options.fontFamily) || \"Roboto-Bold\";\n            const color = (options === null || options === void 0 ? void 0 : options.color) || \"#FFFFFF\";\n            const startTime = (options === null || options === void 0 ? void 0 : options.startTime) || 0; // Por defecto al inicio\n            const endTime = (options === null || options === void 0 ? void 0 : options.endTime) || 5; // Por defecto 5 segundos de duración\n            // Crear payload para el texto\n            const textPayload = {\n                id: (0,_designcombo_timeline__WEBPACK_IMPORTED_MODULE_2__.generateId)(),\n                display: {\n                    from: startTime * 1000,\n                    to: endTime * 1000 // Convertir a milisegundos\n                },\n                type: \"text\",\n                details: {\n                    text: text,\n                    fontSize: fontSize,\n                    width: 600,\n                    fontFamily: fontFamily,\n                    color: color,\n                    wordWrap: \"break-word\",\n                    textAlign: \"center\",\n                    borderWidth: 0,\n                    borderColor: \"#000000\",\n                    boxShadow: {\n                        color: \"#ffffff\",\n                        x: 0,\n                        y: 0,\n                        blur: 0\n                    }\n                }\n            };\n            // Agregar texto al timeline\n            (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.ADD_TEXT, {\n                payload: textPayload,\n                options: {}\n            });\n        },\n        changeColor: (elementId, color)=>{\n            // Simulación de cambio de color (la implementación real dependerá de la estructura del proyecto)\n            console.log(\"Cambiando color del elemento \".concat(elementId, \" a \").concat(color));\n        // Aquí iría la lógica real para cambiar el color de un elemento\n        },\n        addImage: (url, options)=>{\n            try {\n                // Asegurar que tenemos una URL válida\n                if (!url) {\n                    console.error(\"❌ URL de imagen no v\\xe1lida o vac\\xeda\");\n                    throw new Error(\"URL de imagen no proporcionada\");\n                }\n                console.log(\"=== INICIANDO PROCESO DE A\\xd1ADIR IMAGEN ===\");\n                console.log(\"URL:\", url);\n                console.log(\"Opciones:\", JSON.stringify(options, null, 2));\n                // Verificar si es una URL genérica de referencia, que no debe usarse directamente\n                if (url === \"imagen_adjunta_por_el_usuario.jpg\" || url.includes(\"/url_de_la_imagen\")) {\n                    console.error(\"Error: URL de imagen gen\\xe9rica inv\\xe1lida detectada\", url);\n                    throw new Error(\"La URL de imagen no es v\\xe1lida. Se intent\\xf3 usar un marcador gen\\xe9rico directamente.\");\n                }\n                const width = (options === null || options === void 0 ? void 0 : options.width) || 480;\n                const height = (options === null || options === void 0 ? void 0 : options.height) || 270;\n                const startTime = (options === null || options === void 0 ? void 0 : options.startTime) !== undefined ? options.startTime : 0;\n                const endTime = (options === null || options === void 0 ? void 0 : options.endTime) !== undefined ? options.endTime : startTime + 5;\n                // Detectores de tipo de imagen\n                const isExplicitlyAnimated = (options === null || options === void 0 ? void 0 : options.isAnimated) === true;\n                const isExplicitlyStatic = (options === null || options === void 0 ? void 0 : options.isStatic) === true;\n                const isAPNG = url.toLowerCase().endsWith(\".apng\");\n                const isGIF = url.toLowerCase().endsWith(\".gif\");\n                // Determinar si debe tratarse como imagen animada\n                const shouldTreatAsAnimated = (isExplicitlyAnimated || isAPNG || isGIF) && !isExplicitlyStatic;\n                // Log de modo detectado\n                if (shouldTreatAsAnimated) {\n                    console.log(\"\\uD83D\\uDD36 Detectada imagen animada: \".concat(url));\n                    console.log(\"Tipo: \".concat(isAPNG ? \"APNG\" : isGIF ? \"GIF\" : \"Animada gen\\xe9rica\"));\n                } else if (isAPNG || isGIF) {\n                    console.log(\"\\uD83D\\uDD39 Detectada imagen potencialmente animada pero trat\\xe1ndola como est\\xe1tica: \".concat(url));\n                } else {\n                    console.log(\"\\uD83D\\uDD37 Detectada imagen est\\xe1tica: \".concat(url));\n                }\n                // Para depuración, mostrar parte de la URL (truncada si es data:URL)\n                const logUrl = url.startsWith(\"data:\") ? \"\".concat(url.substring(0, 30), \"... (data URL)\") : url;\n                console.log(\"A\\xf1adiendo imagen desde \".concat(logUrl, \" desde segundo \").concat(startTime, \" hasta \").concat(endTime));\n                // Posición (centrada por defecto)\n                const position = (options === null || options === void 0 ? void 0 : options.position) || {\n                    x: 0.5,\n                    y: 0.5\n                };\n                // Modos de escala\n                const scaleMode = (options === null || options === void 0 ? void 0 : options.scaleMode) || \"fit\";\n                const useFullScreen = scaleMode === \"cover\";\n                // Propiedades para el payload, común para ambos casos\n                const commonPayloadProps = {\n                    from: startTime * 1000,\n                    to: endTime * 1000\n                };\n                // Propiedades de detalle comunes\n                const commonDetailsProps = {\n                    src: url,\n                    width: width,\n                    height: height,\n                    opacity: 100,\n                    scaleMode: scaleMode,\n                    left: position.x,\n                    top: position.y,\n                    originX: \"center\",\n                    originY: \"center\"\n                };\n                // Crear ID único\n                const imageId = (0,_designcombo_timeline__WEBPACK_IMPORTED_MODULE_2__.generateId)();\n                // Crear el payload de imagen simplificado\n                const imagePayload = {\n                    id: imageId,\n                    display: commonPayloadProps,\n                    type: \"image\",\n                    details: {\n                        ...commonDetailsProps,\n                        // Si es animada, añadir atributos específicos\n                        ...shouldTreatAsAnimated && {\n                            isAnimated: true\n                        },\n                        // Si a pantalla completa, ajustar dimensiones\n                        ...useFullScreen && {\n                            width: 1920,\n                            height: 1080\n                        }\n                    }\n                };\n                console.log(\"Payload de imagen a despachar:\", JSON.stringify({\n                    ...imagePayload,\n                    details: {\n                        ...imagePayload.details,\n                        src: imagePayload.details.src.substring(0, 30) + (imagePayload.details.src.length > 30 ? \"...\" : \"\")\n                    }\n                }, null, 2));\n                // Opciones para el dispatch\n                const dispatchOptions = {\n                    scaleMode: scaleMode,\n                    position: position\n                };\n                // Despachar la acción para añadir la imagen\n                (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.ADD_IMAGE, {\n                    payload: imagePayload,\n                    options: dispatchOptions\n                });\n                // Log de éxito\n                if (shouldTreatAsAnimated) {\n                    console.log(\"✅ Imagen animada a\\xf1adida desde \".concat(startTime, \"s hasta \").concat(endTime, \"s\"));\n                } else {\n                    console.log(\"✅ Imagen est\\xe1tica a\\xf1adida desde \".concat(startTime, \"s hasta \").concat(endTime, \"s\"));\n                }\n            } catch (error) {\n                console.error(\"❌ ERROR CR\\xcdTICO al a\\xf1adir imagen:\", error);\n                console.error(\"Detalles completos:\", error.message);\n                console.error(\"Traza:\", error.stack);\n                throw error; // Propagar el error para manejo superior\n            }\n        },\n        addVideo: (url, options)=>{\n            try {\n                console.log(\"=== INICIANDO PROCESO DE A\\xd1ADIR VIDEO ===\");\n                console.log(\"URL:\", url);\n                console.log(\"Opciones:\", JSON.stringify(options, null, 2));\n                // Validación de URL\n                if (!url) {\n                    console.error(\"❌ URL de video no v\\xe1lida o vac\\xeda\");\n                    throw new Error(\"URL de video no proporcionada\");\n                }\n                const width = (options === null || options === void 0 ? void 0 : options.width) || 640;\n                const height = (options === null || options === void 0 ? void 0 : options.height) || 360;\n                const startTime = (options === null || options === void 0 ? void 0 : options.startTime) || 0; // Por defecto al inicio\n                const endTime = (options === null || options === void 0 ? void 0 : options.endTime) || 10; // Por defecto 10 segundos de duración\n                // Detectar si es un archivo AVI o APNG para tratamiento especial\n                const isAVI = url.toLowerCase().endsWith(\".avi\");\n                const isAPNG = url.toLowerCase().endsWith(\".apng\");\n                // Marcador pasado explícitamente - mayor prioridad que la extensión\n                const isExplicitAPNG = (options === null || options === void 0 ? void 0 : options.isAPNG) === true;\n                console.log(\"Formato detectado:\", isAVI ? \"AVI\" : isAPNG ? \"APNG\" : isExplicitAPNG ? \"Expl\\xedcitamente marcado como APNG\" : \"Formato est\\xe1ndar\");\n                // Si es APNG según algún criterio\n                const treatAsAPNG = isAPNG || isExplicitAPNG;\n                const useFullScreen = isAVI || treatAsAPNG || (options === null || options === void 0 ? void 0 : options.scaleMode) === \"cover\";\n                // Para archivos AVI y APNG, respectar duración natural si no se especifica\n                const respectNativeDuration = (isAVI || treatAsAPNG) && !(options === null || options === void 0 ? void 0 : options.endTime);\n                const finalEndTime = respectNativeDuration ? undefined : endTime;\n                // Log para depurar\n                if (treatAsAPNG) {\n                    console.log(\"\\uD83D\\uDD37 A\\xf1adiendo APNG como VIDEO sincronizado desde \".concat(startTime, \"s con duraci\\xf3n \").concat(respectNativeDuration ? \"natural\" : finalEndTime + \"s\"));\n                    console.log(\"\\uD83D\\uDD37 Configuraciones especiales de APNG - useFullScreen: \".concat(useFullScreen, \", syncWithTimeline: \").concat((options === null || options === void 0 ? void 0 : options.syncWithTimeline) || true));\n                } else if (isAVI) {\n                    console.log(\"\\uD83C\\uDFAC A\\xf1adiendo AVI con duraci\\xf3n \".concat(respectNativeDuration ? \"natural\" : \"especificada: \" + finalEndTime, \"s\"));\n                }\n                // Manejar APNG usando un enfoque especial - intentar con un método alternativo si es posible\n                if (treatAsAPNG) {\n                    try {\n                        // Intentar crear un payload especial para APNG que funcione como animación\n                        console.log(\"Probando con una configuraci\\xf3n especial para APNG...\");\n                        // Configuración de opciones importante para archivos APNG\n                        const apngVideoPayload = {\n                            id: (0,_designcombo_timeline__WEBPACK_IMPORTED_MODULE_2__.generateId)(),\n                            display: {\n                                from: startTime * 1000,\n                                to: finalEndTime ? finalEndTime * 1000 : (startTime + 3) * 1000 // 3 segundos por defecto si no hay duración\n                            },\n                            // Probamos una nueva estrategia: tratarlo como imagen en lugar de video\n                            type: \"image\",\n                            details: {\n                                src: url,\n                                width: 1920,\n                                height: 1080,\n                                opacity: 100,\n                                scaleMode: \"cover\",\n                                left: 0.5,\n                                top: 0.5,\n                                originX: \"center\",\n                                originY: \"center\",\n                                // Propiedades para animar\n                                isAnimated: true\n                            }\n                        };\n                        console.log(\"Payload para APNG como imagen animada:\", JSON.stringify(apngVideoPayload, null, 2));\n                        // Usar ADD_IMAGE en lugar de ADD_VIDEO\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.ADD_IMAGE, {\n                            payload: apngVideoPayload,\n                            options: {\n                                scaleMode: \"cover\",\n                                position: {\n                                    x: 0.5,\n                                    y: 0.5\n                                }\n                            }\n                        });\n                        console.log(\"✅ APNG a\\xf1adido como imagen animada con \\xe9xito\");\n                        return;\n                    } catch (apngError) {\n                        console.error(\"❌ Error al a\\xf1adir APNG como imagen animada:\", apngError);\n                        console.error(\"Detalles:\", apngError.message);\n                        console.error(\"Traza:\", apngError.stack);\n                        console.log(\"\\uD83D\\uDD04 Continuando con el m\\xe9todo est\\xe1ndar como respaldo...\");\n                    // Continuar con el método estándar como respaldo\n                    }\n                }\n                // Crear payload para el video\n                const videoPayload = {\n                    id: (0,_designcombo_timeline__WEBPACK_IMPORTED_MODULE_2__.generateId)(),\n                    display: {\n                        from: startTime * 1000,\n                        to: finalEndTime ? finalEndTime * 1000 : undefined // Usar undefined si queremos respetar la duración natural\n                    },\n                    type: \"video\",\n                    details: {\n                        src: url,\n                        width: width,\n                        height: height,\n                        opacity: 100,\n                        // Para archivos APNG y AVI, configurar propiedades específicas para pantalla completa\n                        ...useFullScreen && {\n                            scaleMode: \"cover\",\n                            left: 0.5,\n                            top: 0.5,\n                            originX: \"center\",\n                            originY: \"center\"\n                        },\n                        // Propiedades especiales para APNG\n                        ...treatAsAPNG && {\n                            isAPNG: true,\n                            autoPlay: true,\n                            loop: false,\n                            syncWithTimeline: (options === null || options === void 0 ? void 0 : options.syncWithTimeline) || true\n                        }\n                    }\n                };\n                console.log(\"Payload de video est\\xe1ndar:\", JSON.stringify(videoPayload, null, 2));\n                // Configuraciones adicionales para el dispatch\n                const dispatchOptions = {\n                    resourceId: \"main\",\n                    scaleMode: useFullScreen ? \"cover\" : \"fit\",\n                    ...useFullScreen && {\n                        position: {\n                            x: 0.5,\n                            y: 0.5\n                        } // Centrar para videos a pantalla completa\n                    },\n                    respectNativeDuration: respectNativeDuration,\n                    // Propiedades específicas para sincronización de APNG\n                    ...treatAsAPNG && {\n                        isAPNG: true,\n                        syncWithTimeline: (options === null || options === void 0 ? void 0 : options.syncWithTimeline) || true,\n                        playbackBehavior: (options === null || options === void 0 ? void 0 : options.playbackBehavior) || \"sync\"\n                    }\n                };\n                console.log(\"Opciones de dispatch:\", JSON.stringify(dispatchOptions, null, 2));\n                // Agregar video al timeline\n                (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.ADD_VIDEO, {\n                    payload: videoPayload,\n                    options: dispatchOptions\n                });\n                // Mensaje de log adaptado al tipo de archivo\n                if (treatAsAPNG) {\n                    console.log(\"✅ Transici\\xf3n APNG a\\xf1adida como VIDEO SINCRONIZADO al timeline desde \".concat(startTime, \"s \").concat(finalEndTime ? \"hasta \".concat(finalEndTime, \"s\") : \"con duraci\\xf3n natural\", \". Dimensiones: \").concat(width, \"x\").concat(height));\n                } else {\n                    console.log(\"✅ Video \".concat(isAVI ? \"AVI\" : \"\", \" a\\xf1adido al timeline desde \").concat(startTime, \"s\").concat(finalEndTime ? \" hasta \".concat(finalEndTime, \"s\") : \" con duraci\\xf3n natural\", \". Dimensiones: \").concat(width, \"x\").concat(height));\n                }\n            } catch (error) {\n                console.error(\"❌ ERROR CR\\xcdTICO al a\\xf1adir video:\", error);\n                console.error(\"Detalles completos:\", error.message);\n                console.error(\"Traza:\", error.stack);\n                throw error; // Propagar el error para manejo superior\n            }\n        },\n        changeDuration: (elementId, duration)=>{\n            // Simulación de cambio de duración (la implementación real dependerá de la estructura del proyecto)\n            console.log(\"Cambiando duraci\\xf3n del elemento \".concat(elementId, \" a \").concat(duration, \"s\"));\n        // Aquí iría la lógica real para cambiar la duración de un elemento\n        },\n        changeTransition: (elementId, transition)=>{\n            // Simulación de cambio de transición (la implementación real dependerá de la estructura del proyecto)\n            console.log(\"Cambiando transici\\xf3n del elemento \".concat(elementId, \" a \").concat(transition));\n        // Aquí iría la lógica real para cambiar la transición de un elemento\n        },\n        addSubtitles: async (options)=>{\n            try {\n                console.log(\"A\\xf1adiendo subt\\xedtulos directamente sin depender del bot\\xf3n\");\n                // Función para parsear el tiempo de formato SRT a milisegundos\n                const parseTimeToMs = (timeString)=>{\n                    const [hours, minutes, secondsAndMs] = timeString.split(\":\");\n                    const [seconds, ms] = secondsAndMs.split(\",\");\n                    return parseInt(hours) * 3600000 + parseInt(minutes) * 60000 + parseInt(seconds) * 1000 + parseInt(ms);\n                };\n                // Función para parsear el archivo SRT\n                const parseSRT = (srtContent)=>{\n                    const segments = [];\n                    const blocks = srtContent.trim().split(\"\\n\\n\");\n                    blocks.forEach((block)=>{\n                        const lines = block.split(\"\\n\");\n                        if (lines.length >= 3) {\n                            const id = parseInt(lines[0]);\n                            const timeRange = lines[1].split(\" --> \");\n                            const startTime = parseTimeToMs(timeRange[0]);\n                            const endTime = parseTimeToMs(timeRange[1]);\n                            const text = lines.slice(2).join(\"\\n\"); // Unir todas las líneas de texto\n                            segments.push({\n                                id,\n                                startTime,\n                                endTime,\n                                text\n                            });\n                        }\n                    });\n                    return segments;\n                };\n                // Función para dividir un texto en grupos de aproximadamente 3 palabras\n                const splitTextIntoGroups = function(text) {\n                    let wordsPerGroup = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 3;\n                    const words = text.split(/\\s+/);\n                    const groups = [];\n                    for(let i = 0; i < words.length; i += wordsPerGroup){\n                        const group = words.slice(i, i + wordsPerGroup).join(\" \");\n                        groups.push(group);\n                    }\n                    return groups;\n                };\n                // Función para procesar un segmento y dividirlo en múltiples segmentos si es necesario\n                const processSegment = (segment)=>{\n                    const textGroups = splitTextIntoGroups(segment.text);\n                    // Si solo hay un grupo, devolver el segmento original\n                    if (textGroups.length <= 1) {\n                        return [\n                            segment\n                        ];\n                    }\n                    // Calcular la duración de cada grupo\n                    const totalDuration = segment.endTime - segment.startTime;\n                    const groupDuration = totalDuration / textGroups.length;\n                    // Crear un nuevo segmento para cada grupo\n                    return textGroups.map((groupText, index)=>{\n                        const startTime = segment.startTime + index * groupDuration;\n                        const endTime = startTime + groupDuration;\n                        return {\n                            id: segment.id * 1000 + index,\n                            startTime,\n                            endTime,\n                            text: groupText\n                        };\n                    });\n                };\n                // Función para crear el payload de texto para subtítulos\n                const createSubtitlePayload = (text, startTime, endTime)=>({\n                        id: (0,_designcombo_timeline__WEBPACK_IMPORTED_MODULE_2__.generateId)(),\n                        display: {\n                            from: startTime,\n                            to: endTime\n                        },\n                        type: \"text\",\n                        details: {\n                            text: text.toUpperCase(),\n                            fontSize: 80,\n                            width: 900,\n                            fontUrl: \"/fonts/mrbeast.ttf\",\n                            fontFamily: \"MrBeast\",\n                            color: \"#FFFF00\",\n                            wordWrap: \"break-word\",\n                            textAlign: \"center\",\n                            borderWidth: 20,\n                            borderColor: \"#000000\",\n                            boxShadow: {\n                                color: \"#000000\",\n                                x: 3,\n                                y: 3,\n                                blur: 0\n                            },\n                            backgroundColor: \"transparent\",\n                            padding: 10,\n                            borderRadius: 0\n                        }\n                    });\n                // Cargar el archivo SRT\n                console.log(\"Cargando archivo SRT...\");\n                const response = await fetch(\"/transcriptions/transcription1.srt\");\n                if (!response.ok) {\n                    throw new Error(\"Error al cargar el archivo SRT: \".concat(response.status));\n                }\n                const srtContent = await response.text();\n                console.log(\"Archivo SRT cargado correctamente\");\n                // Parsear el archivo SRT\n                let segments = parseSRT(srtContent);\n                console.log(\"Se encontraron \".concat(segments.length, \" segmentos de subt\\xedtulos\"));\n                // Siempre usar el modo agrupado (dividir en grupos de 3 palabras)\n                segments = segments.flatMap(processSegment);\n                console.log(\"Despu\\xe9s de procesar, hay \".concat(segments.length, \" segmentos de subt\\xedtulos\"));\n                // Filtrar por tiempo si es necesario\n                if ((options === null || options === void 0 ? void 0 : options.startTime) !== undefined || (options === null || options === void 0 ? void 0 : options.endTime) !== undefined) {\n                    const originalLength = segments.length;\n                    segments = segments.filter((segment)=>{\n                        const passesStartFilter = options.startTime === undefined || segment.startTime >= options.startTime * 1000;\n                        const passesEndFilter = options.endTime === undefined || segment.endTime <= options.endTime * 1000;\n                        return passesStartFilter && passesEndFilter;\n                    });\n                    console.log(\"Filtrado por tiempo: de \".concat(originalLength, \" a \").concat(segments.length, \" segmentos\"));\n                }\n                // Añadir los subtítulos con un retraso entre cada uno\n                console.log(\"A\\xf1adiendo \".concat(segments.length, \" segmentos de subt\\xedtulos al timeline...\"));\n                segments.forEach((segment, index)=>{\n                    setTimeout(()=>{\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.ADD_TEXT, {\n                            payload: createSubtitlePayload(segment.text, segment.startTime, segment.endTime),\n                            options: {}\n                        });\n                        if ((index + 1) % 10 === 0 || index === segments.length - 1) {\n                            console.log(\"Progreso: \".concat(index + 1, \"/\").concat(segments.length, \" subt\\xedtulos a\\xf1adidos\"));\n                        }\n                    }, index * 200); // 200ms de retraso entre cada subtítulo\n                });\n                return true;\n            } catch (error) {\n                console.error(\"Error al a\\xf1adir subt\\xedtulos:\", error);\n                return false;\n            }\n        },\n        getActiveElements: async ()=>{\n            try {\n                // Obtener el estado actual\n                const state = stateManager.getState();\n                // Verificar si hay IDs activos\n                if (!state.activeIds || state.activeIds.length === 0) {\n                    console.log(\"No hay elementos activos seleccionados\");\n                    return [];\n                }\n                // Verificar si hay elementos en el trackItemsMap\n                if (!state.trackItemsMap) {\n                    console.log(\"No hay trackItemsMap disponible\");\n                    return [];\n                }\n                // Obtener información de los elementos activos\n                const activeElements = state.activeIds.filter((id)=>state.trackItemsMap[id]).map((id)=>{\n                    var _item_display, _item_display1;\n                    const item = state.trackItemsMap[id];\n                    return {\n                        id,\n                        trackId: item.trackId,\n                        type: item.type,\n                        from: (_item_display = item.display) === null || _item_display === void 0 ? void 0 : _item_display.from,\n                        to: (_item_display1 = item.display) === null || _item_display1 === void 0 ? void 0 : _item_display1.to,\n                        duration: item.display ? item.display.to - item.display.from : 0,\n                        details: item.details\n                    };\n                });\n                console.log(\"Se encontraron \".concat(activeElements.length, \" elementos activos\"));\n                return activeElements;\n            } catch (error) {\n                console.error(\"Error al obtener elementos activos:\", error);\n                return [];\n            }\n        },\n        getAllTimelineElements: async ()=>{\n            try {\n                // Obtener el estado actual\n                const state = stateManager.getState();\n                // Verificar si hay elementos en el trackItemsMap\n                if (!state.trackItemsMap || Object.keys(state.trackItemsMap).length === 0) {\n                    console.log(\"No hay elementos en el trackItemsMap\");\n                    // Buscar elementos en otras propiedades del estado\n                    for (const key of Object.keys(state)){\n                        if (typeof state[key] === \"object\" && state[key] !== null) {\n                            const objValue = state[key];\n                            console.log(\"Explorando propiedad alternativa: \".concat(key));\n                            // Verificar si parece ser un mapa de elementos\n                            if (Object.keys(objValue).length > 0) {\n                                const sample = objValue[Object.keys(objValue)[0]];\n                                if (sample && sample.display && sample.type) {\n                                    console.log(\"Encontrada posible fuente alternativa de elementos en propiedad \".concat(key));\n                                    // Procesar elementos de esta propiedad alternativa\n                                    return Object.entries(objValue).filter((param)=>{\n                                        let [_, item] = param;\n                                        return item && item.display;\n                                    }).map((param)=>{\n                                        let [id, item] = param;\n                                        var _item_display, _item_display1;\n                                        return {\n                                            id,\n                                            trackId: item.trackId,\n                                            type: item.type,\n                                            from: (_item_display = item.display) === null || _item_display === void 0 ? void 0 : _item_display.from,\n                                            to: (_item_display1 = item.display) === null || _item_display1 === void 0 ? void 0 : _item_display1.to,\n                                            duration: item.display ? item.display.to - item.display.from : 0,\n                                            details: item.details\n                                        };\n                                    });\n                                }\n                            }\n                        }\n                    }\n                    return [];\n                }\n                // Obtener todos los elementos\n                const allElements = Object.entries(state.trackItemsMap).filter((param)=>{\n                    let [_, item] = param;\n                    return item && item.display;\n                }).map((param)=>{\n                    let [id, item] = param;\n                    var _item_display, _item_display1;\n                    return {\n                        id,\n                        trackId: item.trackId,\n                        type: item.type,\n                        from: (_item_display = item.display) === null || _item_display === void 0 ? void 0 : _item_display.from,\n                        to: (_item_display1 = item.display) === null || _item_display1 === void 0 ? void 0 : _item_display1.to,\n                        duration: item.display ? item.display.to - item.display.from : 0,\n                        details: item.details\n                    };\n                }).sort((a, b)=>(a.from || 0) - (b.from || 0));\n                console.log(\"Se encontraron \".concat(allElements.length, \" elementos en el timeline\"));\n                return allElements;\n            } catch (error) {\n                console.error(\"Error al obtener todos los elementos del timeline:\", error);\n                return [];\n            }\n        },\n        removeSegments: async (segments)=>{\n            try {\n                console.log(\"Iniciando eliminaci\\xf3n de segmentos m\\xfaltiples\");\n                // Obtener el estado actual\n                const state = stateManager.getState();\n                // Validar que haya elementos en la timeline\n                if (!state.activeIds || state.activeIds.length === 0) {\n                    console.error(\"No hay elementos seleccionados en la timeline\");\n                    // Buscar el primer elemento disponible en la timeline\n                    const trackItemsMap = state.trackItemsMap || {};\n                    const trackItems = Object.keys(trackItemsMap);\n                    if (trackItems.length === 0) {\n                        console.error(\"No hay elementos en la timeline para eliminar segmentos\");\n                        throw new Error(\"No hay elementos en la timeline\");\n                    }\n                    // Seleccionar el primer elemento disponible\n                    const firstItemId = trackItems[0];\n                    console.log(\"Seleccionando autom\\xe1ticamente el elemento con ID: \".concat(firstItemId));\n                    (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.LAYER_SELECT, {\n                        payload: {\n                            ids: [\n                                firstItemId\n                            ]\n                        }\n                    });\n                    // Esperar a que se aplique la selección\n                    await new Promise((resolve)=>setTimeout(resolve, 300));\n                }\n                // Almacenamos información del elemento seleccionado\n                const currentState = stateManager.getState();\n                if (!currentState.activeIds || currentState.activeIds.length === 0) {\n                    throw new Error(\"No se pudo seleccionar ning\\xfan elemento en la timeline\");\n                }\n                const originalItemId = currentState.activeIds[0];\n                const originalItem = currentState.trackItemsMap[originalItemId];\n                const trackType = originalItem.type;\n                const trackId = originalItem.trackId;\n                console.log(\"Elemento seleccionado: ID=\".concat(originalItemId, \", tipo=\").concat(trackType, \", trackId=\").concat(trackId));\n                // Procesar cada segmento en orden (de final a principio para evitar afectar posiciones)\n                for(let i = segments.length - 1; i >= 0; i--){\n                    const segment = segments[i];\n                    console.log(\"Procesando segmento \".concat(i + 1, \"/\").concat(segments.length, \": \").concat(segment.startTime, \"s - \").concat(segment.endTime, \"s\"));\n                    try {\n                        // PASO 1: Hacer un corte en el tiempo final\n                        const endMs = segment.endTime * 1000;\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.ACTIVE_SPLIT, {\n                            payload: {},\n                            options: {\n                                time: endMs\n                            }\n                        });\n                        console.log(\"Paso 1: Corte aplicado en tiempo final \".concat(segment.endTime, \"s\"));\n                        // Esperar a que se procese el primer corte\n                        await new Promise((resolve)=>setTimeout(resolve, 500));\n                        // Obtenemos el estado después del primer corte\n                        const stateAfterFirstCut = stateManager.getState();\n                        const elementsAfterFirstCut = Object.entries(stateAfterFirstCut.trackItemsMap).filter((param)=>{\n                            let [_, item] = param;\n                            return item.type === trackType && item.trackId === trackId && item.display && !isNaN(item.display.from) && !isNaN(item.display.to);\n                        }).map((param)=>{\n                            let [id, item] = param;\n                            return {\n                                id,\n                                from: item.display.from,\n                                to: item.display.to,\n                                duración: item.display.to - item.display.from\n                            };\n                        }).sort((a, b)=>a.from - b.from);\n                        console.log(\"Elementos despu\\xe9s del primer corte:\", elementsAfterFirstCut);\n                        // PASO 2: Identificar el elemento izquierdo que contiene el tiempo inicial\n                        const startMs = segment.startTime * 1000;\n                        const leftElement = elementsAfterFirstCut.find((elem)=>elem.from <= startMs && elem.to >= startMs);\n                        if (!leftElement) {\n                            console.error(\"No se pudo identificar el elemento izquierdo para el segmento \".concat(i + 1));\n                            continue;\n                        }\n                        console.log(\"Paso 2: Elemento izquierdo identificado (ID: \".concat(leftElement.id, \")\"));\n                        // PASO 3: Seleccionar el elemento izquierdo y hacer corte en tiempo inicial\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.LAYER_SELECT, {\n                            payload: {\n                                ids: [\n                                    leftElement.id\n                                ]\n                            }\n                        });\n                        // Esperar a que se aplique la selección\n                        await new Promise((resolve)=>setTimeout(resolve, 300));\n                        // Aplicar el corte en el tiempo inicial\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.ACTIVE_SPLIT, {\n                            payload: {},\n                            options: {\n                                time: startMs\n                            }\n                        });\n                        console.log(\"Paso 3: Segundo corte aplicado en tiempo inicial \".concat(segment.startTime, \"s\"));\n                        // Esperar a que se procese el segundo corte\n                        await new Promise((resolve)=>setTimeout(resolve, 500));\n                        // Obtenemos el estado después del segundo corte\n                        const stateAfterSecondCut = stateManager.getState();\n                        const elementsAfterSecondCut = Object.entries(stateAfterSecondCut.trackItemsMap).filter((param)=>{\n                            let [_, item] = param;\n                            return item.type === trackType && item.trackId === trackId && item.display && !isNaN(item.display.from) && !isNaN(item.display.to);\n                        }).map((param)=>{\n                            let [id, item] = param;\n                            return {\n                                id,\n                                from: item.display.from,\n                                to: item.display.to,\n                                duración: item.display.to - item.display.from\n                            };\n                        }).sort((a, b)=>a.from - b.from);\n                        console.log(\"Elementos despu\\xe9s del segundo corte:\", elementsAfterSecondCut);\n                        // PASO 4: Identificar el elemento del medio usando criterios más precisos\n                        const middleElements = elementsAfterSecondCut.filter((elem)=>Math.abs(elem.from - startMs) < 50 && Math.abs(elem.to - endMs) < 50);\n                        console.log(\"Elementos que coinciden con los criterios del medio:\", middleElements);\n                        if (middleElements.length === 0) {\n                            console.error(\"No se pudo identificar el elemento del medio para el segmento \".concat(i + 1));\n                            continue;\n                        }\n                        // Si hay más de un elemento que coincide, tomamos el primero\n                        const middleElement = middleElements[0];\n                        console.log(\"Paso 4: Elemento del medio identificado (ID: \".concat(middleElement.id, \")\"));\n                        // PASO 5: Seleccionar y eliminar el elemento del medio\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.LAYER_SELECT, {\n                            payload: {\n                                ids: [\n                                    middleElement.id\n                                ]\n                            }\n                        });\n                        // Esperar a que se aplique la selección\n                        await new Promise((resolve)=>setTimeout(resolve, 300));\n                        // Verificar que el elemento está seleccionado antes de eliminarlo\n                        const currentState = stateManager.getState();\n                        if (currentState.activeIds && currentState.activeIds.includes(middleElement.id)) {\n                            console.log(\"Elemento del medio correctamente seleccionado, procediendo con eliminaci\\xf3n\");\n                            (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.LAYER_DELETE);\n                            console.log(\"Elemento eliminado correctamente: \".concat(middleElement.id));\n                        } else {\n                            console.log(\"No se pudo seleccionar normalmente, intentando m\\xe9todo alternativo\");\n                            // Enfoque alternativo: Usar el EDIT_OBJECT para \"ocultar\" el segmento\n                            (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.EDIT_OBJECT, {\n                                payload: {\n                                    [middleElement.id]: {\n                                        display: {\n                                            from: -99999,\n                                            to: -99990\n                                        },\n                                        visible: false // Adicionalmente marcarlo como no visible\n                                    }\n                                }\n                            });\n                            console.log(\"Aplicado m\\xe9todo alternativo para ocultar el segmento\");\n                        }\n                        // Esperar a que se procese la eliminación\n                        await new Promise((resolve)=>setTimeout(resolve, 500));\n                    } catch (error) {\n                        console.error(\"Error al procesar el segmento \".concat(i + 1, \":\"), error);\n                    }\n                    // Pausa entre segmentos\n                    await new Promise((resolve)=>setTimeout(resolve, 500));\n                }\n                // Actualizar la escala para refrescar la vista\n                const { scale } = stateManager.getState();\n                if (scale) {\n                    console.log(\"Actualizando escala para refrescar la vista\");\n                    // Guardar el valor actual de scale.unit\n                    const originalUnit = scale.unit;\n                    // Incrementar el valor\n                    scale.unit += 1;\n                    console.log(\"Scale cambiada: \".concat(originalUnit, \" -> \").concat(scale.unit));\n                    // Asegurar que el cambio sea notado por el sistema\n                    (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.TIMELINE_SCALE_CHANGED, {\n                        payload: {\n                            scale: {\n                                ...scale,\n                                unit: scale.unit // Explícitamente establecer el nuevo valor\n                            }\n                        }\n                    });\n                    // Forzar una actualización adicional volviendo al valor original después de un momento\n                    setTimeout(()=>{\n                        const currentState = stateManager.getState();\n                        if (currentState.scale) {\n                            (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.TIMELINE_SCALE_CHANGED, {\n                                payload: {\n                                    scale: {\n                                        ...currentState.scale,\n                                        unit: originalUnit // Volver al valor original\n                                    }\n                                }\n                            });\n                            console.log(\"Restaurado scale a valor original: \".concat(originalUnit));\n                        }\n                    }, 300);\n                }\n                console.log(\"Eliminaci\\xf3n de segmentos completada\");\n                return true;\n            } catch (error) {\n                console.error(\"Error al eliminar segmentos:\", error);\n                return false;\n            }\n        },\n        compactTimeline: async ()=>{\n            try {\n                console.log(\"=== INICIANDO COMPACTACI\\xd3N DE L\\xcdNEA DE TIEMPO DESDE IA ===\");\n                // Obtener el estado actual\n                const estado = stateManager.getState();\n                console.log(\"Estado para compactaci\\xf3n:\", Object.keys(estado));\n                // Añadir un tiempo de espera inicial para asegurar que el estado está actualizado\n                console.log(\"Esperando 1 segundo para asegurar consistencia del estado...\");\n                await new Promise((resolve)=>setTimeout(resolve, 1000));\n                // Verificación adicional para asegurarnos que los cambios en la timeline ya se aplicaron\n                console.log(\"Verificando que los elementos en la timeline reflejen los cambios m\\xe1s recientes...\");\n                // Pequeña pausa adicional para asegurar consistencia del estado\n                await new Promise((resolve)=>setTimeout(resolve, 500));\n                // Buscar los elementos del timeline - usando la referencia al método dentro del mismo objeto\n                const todosElementos = await executor.getAllTimelineElements();\n                console.log(\"Encontrados \".concat(todosElementos.length, \" elementos en la timeline\"));\n                // Logging de elementos para diagnóstico\n                todosElementos.forEach((elem, index)=>{\n                    console.log(\"Elemento \".concat(index + 1, \": ID=\").concat(elem.id, \", Tipo=\").concat(elem.type, \", Track=\").concat(elem.trackId, \", Tiempo=\").concat(elem.from, \"ms-\").concat(elem.to, \"ms (duraci\\xf3n=\").concat(elem.to - elem.from, \"ms)\"));\n                });\n                // Si no hay elementos, no podemos compactar\n                if (todosElementos.length === 0) {\n                    console.log(\"No hay elementos en el timeline para compactar\");\n                    return false;\n                }\n                // Agrupar elementos por track para análisis\n                const elementosPorTrack = {};\n                todosElementos.forEach((elem)=>{\n                    if (elem.trackId) {\n                        if (!elementosPorTrack[elem.trackId]) {\n                            elementosPorTrack[elem.trackId] = [];\n                        }\n                        elementosPorTrack[elem.trackId].push(elem);\n                    }\n                });\n                // Ordenar elementos en cada track por tiempo\n                Object.keys(elementosPorTrack).forEach((trackId)=>{\n                    elementosPorTrack[trackId].sort((a, b)=>a.from - b.from);\n                });\n                console.log(\"Elementos agrupados por track:\", Object.keys(elementosPorTrack).length);\n                // Logging de tracks para diagnóstico\n                Object.keys(elementosPorTrack).forEach((trackId)=>{\n                    console.log(\"Track \".concat(trackId, \": \").concat(elementosPorTrack[trackId].length, \" elementos\"));\n                    // Mostrar los elementos en este track ordenados\n                    elementosPorTrack[trackId].forEach((elem, idx)=>{\n                        console.log(\"  \".concat(idx + 1, \". ID=\").concat(elem.id.substring(0, 8), \"... Tiempo=\").concat(elem.from, \"ms-\").concat(elem.to, \"ms (duraci\\xf3n: \").concat(elem.to - elem.from, \"ms)\"));\n                    });\n                });\n                // Buscar espacios vacíos en cada track\n                const espaciosVacios = [];\n                Object.keys(elementosPorTrack).forEach((trackId)=>{\n                    const elementos = elementosPorTrack[trackId];\n                    // Si hay al menos 2 elementos, podemos buscar espacios\n                    if (elementos.length >= 2) {\n                        for(let i = 0; i < elementos.length - 1; i++){\n                            const elementoActual = elementos[i];\n                            const elementoSiguiente = elementos[i + 1];\n                            // Verificar si hay un espacio entre el fin del elemento actual y el inicio del siguiente\n                            const espacio = elementoSiguiente.from - elementoActual.to;\n                            // Si el espacio es significativo (más de 100ms)\n                            if (espacio > 100) {\n                                espaciosVacios.push({\n                                    trackId,\n                                    start: elementoActual.to,\n                                    end: elementoSiguiente.from,\n                                    size: espacio,\n                                    elementoAntes: elementoActual.id,\n                                    elementoDespues: elementoSiguiente.id\n                                });\n                                console.log(\"Encontrado espacio de \".concat(espacio, \"ms (\").concat(espacio / 1000, \"s) en track \").concat(trackId, \" entre elementos \").concat(elementoActual.id.substring(0, 8), \"... y \").concat(elementoSiguiente.id.substring(0, 8), \"...\"));\n                            }\n                        }\n                    }\n                });\n                console.log(\"Se encontraron \".concat(espaciosVacios.length, \" espacios vac\\xedos\"));\n                // Si no hay espacios, no necesitamos compactar\n                if (espaciosVacios.length === 0) {\n                    console.log(\"No hay espacios significativos para compactar\");\n                    return true; // Devolvemos true porque técnicamente está compactado\n                }\n                // Ordenar espacios por posición (de izquierda a derecha)\n                espaciosVacios.sort((a, b)=>a.start - b.start);\n                // Calcular el espacio total a compactar\n                let espacioTotal = 0;\n                espaciosVacios.forEach((espacio)=>{\n                    espacioTotal += espacio.size;\n                });\n                console.log(\"Espacio total a compactar: \".concat(espacioTotal, \"ms (\").concat(espacioTotal / 1000, \"s)\"));\n                console.log(\"Preparando actualizaciones para \".concat(todosElementos.length, \" elementos...\"));\n                // Preparar actualizaciones para cada elemento\n                const actualizaciones = {};\n                let elementosAMover = 0;\n                // Para cada elemento, calculamos el desplazamiento basado en los espacios anteriores\n                todosElementos.forEach((elemento)=>{\n                    let desplazamiento = 0;\n                    // Calcular cuánto debe moverse basado en los espacios vacíos anteriores\n                    for (const espacio of espaciosVacios){\n                        // Si el elemento está después del espacio vacío, debe moverse\n                        if (elemento.from > espacio.end) {\n                            desplazamiento += espacio.size;\n                        }\n                    }\n                    // Si hay desplazamiento, añadir a las actualizaciones\n                    if (desplazamiento > 0) {\n                        const nuevoFrom = elemento.from - desplazamiento;\n                        const nuevoTo = elemento.to - desplazamiento;\n                        console.log(\"Elemento \".concat(elemento.id.substring(0, 8), \"... se mover\\xe1: \").concat(elemento.from, \"ms -> \").concat(nuevoFrom, \"ms (desplazamiento: \").concat(desplazamiento, \"ms)\"));\n                        actualizaciones[elemento.id] = {\n                            display: {\n                                from: nuevoFrom,\n                                to: nuevoTo\n                            }\n                        };\n                        elementosAMover++;\n                    }\n                });\n                console.log(\"Elementos a mover: \".concat(elementosAMover, \" de \").concat(todosElementos.length, \" total\"));\n                // Aplicar las actualizaciones\n                if (elementosAMover > 0) {\n                    console.log(\"Aplicando actualizaciones para compactar timeline...\");\n                    try {\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.EDIT_OBJECT, {\n                            payload: actualizaciones\n                        });\n                        console.log(\"Actualizaciones aplicadas con \\xe9xito\");\n                    } catch (error) {\n                        console.error(\"Error al aplicar actualizaciones:\", error);\n                        return false;\n                    }\n                    // Refrescar la vista\n                    setTimeout(()=>{\n                        try {\n                            const { scale } = stateManager.getState();\n                            if (scale) {\n                                // Hacer un pequeño cambio en la escala para forzar la actualización\n                                const updatedScale = {\n                                    ...scale\n                                };\n                                if (typeof updatedScale.unit === \"number\") {\n                                    updatedScale.unit = (updatedScale.unit || 0) + 1;\n                                    (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.TIMELINE_SCALE_CHANGED, {\n                                        payload: {\n                                            scale: updatedScale\n                                        }\n                                    });\n                                    // Volver a la escala original\n                                    setTimeout(()=>{\n                                        const currentScale = {\n                                            ...stateManager.getState().scale\n                                        };\n                                        currentScale.unit = (currentScale.unit || 1) - 1;\n                                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.TIMELINE_SCALE_CHANGED, {\n                                            payload: {\n                                                scale: currentScale\n                                            }\n                                        });\n                                    }, 300);\n                                }\n                            }\n                        } catch (error) {\n                            console.error(\"Error al refrescar la vista:\", error);\n                        }\n                    }, 500);\n                    console.log(\"Compactaci\\xf3n completada con \\xe9xito\");\n                    return true;\n                } else {\n                    console.log(\"No hay elementos que necesiten moverse\");\n                    return true;\n                }\n            } catch (error) {\n                console.error(\"Error al compactar la l\\xednea de tiempo:\", error);\n                return false;\n            }\n        },\n        smartTrim: async ()=>{\n            try {\n                console.log(\"=== INICIANDO PROCESO DE RECORTE INTELIGENTE DESDE IA ===\");\n                // 1. Realizar la llamada al API para analizar la transcripción\n                console.log(\"Solicitando an\\xe1lisis de transcripci\\xf3n...\");\n                const response = await fetch(\"/api/smart-trim\");\n                if (!response.ok) {\n                    throw new Error(\"Error al analizar la transcripci\\xf3n: \".concat(response.status));\n                }\n                const data = await response.json();\n                console.log(\"An\\xe1lisis de transcripci\\xf3n completado:\", data);\n                if (!data.removeSegments || !Array.isArray(data.removeSegments) || data.removeSegments.length === 0) {\n                    console.log(\"No se encontraron segmentos para eliminar\");\n                    return false;\n                }\n                // 2. Convertir los segmentos al formato que espera removeSegments\n                const segments = data.removeSegments.map((segment)=>({\n                        startTime: segment.startTime,\n                        endTime: segment.endTime // Ya está en segundos\n                    }));\n                console.log(\"Se eliminar\\xe1n \".concat(segments.length, \" segmentos:\"), segments.map((s)=>\"\".concat(s.startTime, \"s-\").concat(s.endTime, \"s\")).join(\", \"));\n                // Almacenar información del estado previo para identificar tracks y elementos\n                console.log(\"Obteniendo informaci\\xf3n del estado antes de eliminar segmentos...\");\n                const estadoPrevio = stateManager.getState();\n                const elementosPrevios = await executor.getAllTimelineElements();\n                // Determinar el trackId principal basado en los elementos\n                const contadorTracks = {};\n                elementosPrevios.forEach((elem)=>{\n                    if (elem.trackId) {\n                        contadorTracks[elem.trackId] = (contadorTracks[elem.trackId] || 0) + 1;\n                    }\n                });\n                // Encontrar el track con más elementos\n                let trackIdPrincipal = \"\";\n                if (Object.keys(contadorTracks).length > 0) {\n                    const tracksPorUso = Object.entries(contadorTracks).sort((a, b)=>b[1] - a[1]);\n                    if (tracksPorUso.length > 0) {\n                        trackIdPrincipal = tracksPorUso[0][0];\n                        console.log(\"Usando trackId principal: \".concat(trackIdPrincipal));\n                    }\n                }\n                // 3. Eliminar los segmentos\n                console.log(\"Ejecutando eliminaci\\xf3n de segmentos...\");\n                const result = await executor.removeSegments(segments);\n                if (!result) {\n                    console.log(\"Error al eliminar los segmentos\");\n                    return false;\n                }\n                console.log(\"Segmentos eliminados correctamente\");\n                // 4. Crear registro de los segmentos eliminados para compactación\n                const segmentosEliminados = segments.map((segment)=>({\n                        start: segment.startTime * 1000,\n                        end: segment.endTime * 1000,\n                        trackId: trackIdPrincipal,\n                        size: (segment.endTime - segment.startTime) * 1000\n                    }));\n                console.log(\"Segmentos registrados para compactaci\\xf3n:\", segmentosEliminados);\n                // 5. Esperar un momento para que se completen las actualizaciones del DOM y el estado\n                console.log(\"Esperando 5 segundos para asegurar que los cambios en la timeline est\\xe9n completos antes de compactar...\");\n                await new Promise((resolve)=>setTimeout(resolve, 5000));\n                // 6. Compactar el timeline usando el enfoque de segmentos registrados\n                console.log(\"Compactando timeline basado en segmentos eliminados...\");\n                // Obtener elementos actuales después de la eliminación\n                const elementosActuales = await executor.getAllTimelineElements();\n                console.log(\"Se encontraron \".concat(elementosActuales.length, \" elementos en la timeline despu\\xe9s de eliminar segmentos\"));\n                // Calcular el espacio total a compactar\n                let espacioTotal = 0;\n                segmentosEliminados.forEach((segmento)=>{\n                    espacioTotal += segmento.size;\n                });\n                console.log(\"Espacio total a compactar: \".concat(espacioTotal, \"ms (\").concat(espacioTotal / 1000, \"s)\"));\n                // Preparar actualizaciones para cada elemento\n                const actualizaciones = {};\n                let elementosAMover = 0;\n                // Ordenar segmentos por posición de inicio\n                const segmentosOrdenados = [\n                    ...segmentosEliminados\n                ].sort((a, b)=>a.start - b.start);\n                // Para cada elemento, calcular el desplazamiento basado en los segmentos eliminados\n                elementosActuales.forEach((elemento)=>{\n                    let desplazamiento = 0;\n                    // Calcular cuánto debe moverse basado en los segmentos eliminados anteriores\n                    for (const segmento of segmentosOrdenados){\n                        if (elemento.from > segmento.start) {\n                            desplazamiento += segmento.size;\n                        }\n                    }\n                    // Si hay desplazamiento, añadir a las actualizaciones\n                    if (desplazamiento > 0) {\n                        const nuevoFrom = elemento.from - desplazamiento;\n                        const nuevoTo = elemento.to - desplazamiento;\n                        console.log(\"Elemento \".concat(elemento.id.substring(0, 8), \"... se mover\\xe1: \").concat(elemento.from, \"ms -> \").concat(nuevoFrom, \"ms (desplazamiento: \").concat(desplazamiento, \"ms)\"));\n                        actualizaciones[elemento.id] = {\n                            display: {\n                                from: nuevoFrom,\n                                to: nuevoTo\n                            }\n                        };\n                        elementosAMover++;\n                    }\n                });\n                console.log(\"Elementos a mover: \".concat(elementosAMover, \" de \").concat(elementosActuales.length, \" total\"));\n                // Aplicar las actualizaciones\n                if (elementosAMover > 0) {\n                    console.log(\"Aplicando actualizaciones para compactar timeline...\");\n                    try {\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.EDIT_OBJECT, {\n                            payload: actualizaciones\n                        });\n                        console.log(\"Actualizaciones aplicadas con \\xe9xito\");\n                        // Refrescar la vista\n                        setTimeout(()=>{\n                            try {\n                                const { scale } = stateManager.getState();\n                                if (scale) {\n                                    const updatedScale = {\n                                        ...scale\n                                    };\n                                    if (typeof updatedScale.unit === \"number\") {\n                                        updatedScale.unit = (updatedScale.unit || 0) + 1;\n                                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.TIMELINE_SCALE_CHANGED, {\n                                            payload: {\n                                                scale: updatedScale\n                                            }\n                                        });\n                                        // Volver a la escala original\n                                        setTimeout(()=>{\n                                            const currentScale = {\n                                                ...stateManager.getState().scale\n                                            };\n                                            currentScale.unit = (currentScale.unit || 1) - 1;\n                                            (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.TIMELINE_SCALE_CHANGED, {\n                                                payload: {\n                                                    scale: currentScale\n                                                }\n                                            });\n                                        }, 300);\n                                    }\n                                }\n                            } catch (error) {\n                                console.error(\"Error al refrescar la vista:\", error);\n                            }\n                        }, 500);\n                    } catch (error) {\n                        console.error(\"Error al aplicar actualizaciones:\", error);\n                        return false;\n                    }\n                } else {\n                    console.log(\"No se encontraron elementos que necesiten moverse\");\n                }\n                console.log(\"Timeline compactado correctamente\");\n                return true;\n            } catch (error) {\n                console.error(\"Error al realizar el recorte inteligente:\", error);\n                return false;\n            }\n        },\n        addMusic: (musicPath, options)=>{\n            try {\n                // Valores predeterminados\n                const startTime = (options === null || options === void 0 ? void 0 : options.startTime) !== undefined ? options.startTime : 0;\n                const endTime = (options === null || options === void 0 ? void 0 : options.endTime) !== undefined ? options.endTime : startTime + 30; // Duración predeterminada más larga para música\n                const volume = (options === null || options === void 0 ? void 0 : options.volume) !== undefined ? options.volume : 80; // Volumen predeterminado al 80%\n                const respectNativeDuration = (options === null || options === void 0 ? void 0 : options.respectNativeDuration) !== undefined ? options.respectNativeDuration : true; // Por defecto, respetar duración nativa\n                console.log(\"A\\xf1adiendo m\\xfasica desde \".concat(musicPath));\n                console.log(\"Tiempos: \".concat(startTime, \"s a \").concat(endTime, \"s, volumen: \").concat(volume, \", respectNativeDuration: \").concat(respectNativeDuration));\n                // Crear payload para la música\n                const audioPayload = {\n                    id: (0,_designcombo_timeline__WEBPACK_IMPORTED_MODULE_2__.generateId)(),\n                    display: {\n                        from: startTime * 1000,\n                        to: endTime * 1000 // Convertir a milisegundos\n                    },\n                    type: \"audio\",\n                    details: {\n                        src: musicPath,\n                        volume: volume,\n                        fadeIn: (options === null || options === void 0 ? void 0 : options.fadeIn) === true,\n                        fadeOut: (options === null || options === void 0 ? void 0 : options.fadeOut) === true\n                    }\n                };\n                // Agregar audio al timeline usando ADD_AUDIO\n                (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.ADD_AUDIO, {\n                    payload: audioPayload,\n                    options: {\n                        respectNativeDuration: respectNativeDuration\n                    }\n                });\n                console.log(\"M\\xfasica agregada exitosamente con ID: \".concat(audioPayload.id));\n                return audioPayload.id;\n            } catch (error) {\n                console.error(\"Error al agregar m\\xfasica:\", error);\n                throw error;\n            }\n        }\n    };\n    return executor;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvYWktY2hhdC9haS12aWRlby1jb21tYW5kcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQytDO0FBQ29LO0FBQ2hLO0FBK0U1QyxTQUFTVywyQkFBMkJDLFlBQTBCO0lBQ25FLGlEQUFpRDtJQUNqRCxNQUFNQyxXQUFpQztRQUNyQ0MsU0FBUyxDQUFDQyxNQUFjQztZQUN0QixNQUFNQyxXQUFXRCxDQUFBQSxvQkFBQUEsOEJBQUFBLFFBQVNDLFFBQVEsS0FBSTtnQkFBRUMsR0FBRztnQkFBS0MsR0FBRztZQUFJLEdBQUcsdUJBQXVCO1lBQ2pGLE1BQU1DLFdBQVdKLENBQUFBLG9CQUFBQSw4QkFBQUEsUUFBU0ksUUFBUSxLQUFJO1lBQ3RDLE1BQU1DLGFBQWFMLENBQUFBLG9CQUFBQSw4QkFBQUEsUUFBU0ssVUFBVSxLQUFJO1lBQzFDLE1BQU1DLFFBQVFOLENBQUFBLG9CQUFBQSw4QkFBQUEsUUFBU00sS0FBSyxLQUFJO1lBQ2hDLE1BQU1DLFlBQVlQLENBQUFBLG9CQUFBQSw4QkFBQUEsUUFBU08sU0FBUyxLQUFJLEdBQUcsd0JBQXdCO1lBQ25FLE1BQU1DLFVBQVVSLENBQUFBLG9CQUFBQSw4QkFBQUEsUUFBU1EsT0FBTyxLQUFJLEdBQUcscUNBQXFDO1lBRTVFLDhCQUE4QjtZQUM5QixNQUFNQyxjQUFjO2dCQUNsQkMsSUFBSWhCLGlFQUFVQTtnQkFDZGlCLFNBQVM7b0JBQ1BDLE1BQU1MLFlBQVk7b0JBQ2xCTSxJQUFJTCxVQUFVLEtBQVMsMkJBQTJCO2dCQUNwRDtnQkFDQU0sTUFBTTtnQkFDTkMsU0FBUztvQkFDUGhCLE1BQU1BO29CQUNOSyxVQUFVQTtvQkFDVlksT0FBTztvQkFDUFgsWUFBWUE7b0JBQ1pDLE9BQU9BO29CQUNQVyxVQUFVO29CQUNWQyxXQUFXO29CQUNYQyxhQUFhO29CQUNiQyxhQUFhO29CQUNiQyxXQUFXO3dCQUNUZixPQUFPO3dCQUNQSixHQUFHO3dCQUNIQyxHQUFHO3dC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RSx1QkFBdUJBO29CQUN6QjtnQkFDRjtnQkFFQTNDLFFBQVFDLEdBQUcsQ0FBQywyQ0FBd0QsT0FBaEJ5TSxhQUFhMU4sRUFBRTtnQkFDbkUsT0FBTzBOLGFBQWExTixFQUFFO1lBQ3hCLEVBQUUsT0FBT29CLE9BQU87Z0JBQ2RKLFFBQVFJLEtBQUssQ0FBQywrQkFBNEJBO2dCQUMxQyxNQUFNQTtZQUNSO1FBQ0Y7SUFDRjtJQUVBLE9BQU9qQztBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvYWktY2hhdC9haS12aWRlby1jb21tYW5kcy50cz8yNjIzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTdGF0ZU1hbmFnZXIgZnJvbSBcIkBkZXNpZ25jb21iby9zdGF0ZVwiO1xuaW1wb3J0IHsgZGlzcGF0Y2ggfSBmcm9tIFwiQGRlc2lnbmNvbWJvL2V2ZW50c1wiO1xuaW1wb3J0IHsgREVTSUdOX0FERF9URVhULCBERVNJR05fQUREX0FVRElPLCBERVNJR05fQUREX0lNQUdFLCBBRERfVEVYVCwgQUREX1ZJREVPLCBBRERfSU1BR0UsIEFERF9BVURJTywgQUNUSVZFX1NQTElULCBMQVlFUl9TRUxFQ1QsIExBWUVSX0RFTEVURSwgVElNRUxJTkVfU0NBTEVfQ0hBTkdFRCwgRURJVF9PQkpFQ1QgfSBmcm9tIFwiQGRlc2lnbmNvbWJvL3N0YXRlXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZUlkIH0gZnJvbSBcIkBkZXNpZ25jb21iby90aW1lbGluZVwiO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9Db21tYW5kRXhlY3V0b3Ige1xuICBhZGRUZXh0OiAodGV4dDogc3RyaW5nLCBvcHRpb25zPzogVGV4dE9wdGlvbnMpID0+IHZvaWQ7XG4gIGNoYW5nZUNvbG9yOiAoZWxlbWVudElkOiBzdHJpbmcsIGNvbG9yOiBzdHJpbmcpID0+IHZvaWQ7XG4gIGFkZEltYWdlOiAodXJsOiBzdHJpbmcsIG9wdGlvbnM/OiBJbWFnZU9wdGlvbnMpID0+IHZvaWQ7XG4gIGFkZFZpZGVvOiAodXJsOiBzdHJpbmcsIG9wdGlvbnM/OiBWaWRlb09wdGlvbnMpID0+IHZvaWQ7XG4gIGNoYW5nZUR1cmF0aW9uOiAoZWxlbWVudElkOiBzdHJpbmcsIGR1cmF0aW9uOiBudW1iZXIpID0+IHZvaWQ7XG4gIGNoYW5nZVRyYW5zaXRpb246IChlbGVtZW50SWQ6IHN0cmluZywgdHJhbnNpdGlvbjogc3RyaW5nKSA9PiB2b2lkO1xuICBhZGRTdWJ0aXRsZXM6IChvcHRpb25zPzogU3VidGl0bGVPcHRpb25zKSA9PiB2b2lkO1xuICByZW1vdmVTZWdtZW50czogKHNlZ21lbnRzOiBUaW1lU2VnbWVudFtdKSA9PiB2b2lkO1xuICBnZXRBY3RpdmVFbGVtZW50czogKCkgPT4gUHJvbWlzZTxhbnlbXT47XG4gIGdldEFsbFRpbWVsaW5lRWxlbWVudHM6ICgpID0+IFByb21pc2U8YW55W10+O1xuICBjb21wYWN0VGltZWxpbmU6ICgpID0+IFByb21pc2U8Ym9vbGVhbj47XG4gIHNtYXJ0VHJpbTogKCkgPT4gUHJvbWlzZTxib29sZWFuPjtcbiAgYWRkTXVzaWM6IChtdXNpY1BhdGg6IHN0cmluZywgb3B0aW9ucz86IE11c2ljT3B0aW9ucykgPT4gdm9pZDtcbn1cblxuaW50ZXJmYWNlIFRleHRPcHRpb25zIHtcbiAgZm9udFNpemU/OiBudW1iZXI7XG4gIGZvbnRGYW1pbHk/OiBzdHJpbmc7XG4gIGNvbG9yPzogc3RyaW5nO1xuICBwb3NpdGlvbj86IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfTtcbiAgc3RhcnRUaW1lPzogbnVtYmVyOyAvLyBlbiBzZWd1bmRvc1xuICBlbmRUaW1lPzogbnVtYmVyOyAvLyBlbiBzZWd1bmRvc1xufVxuXG5pbnRlcmZhY2UgSW1hZ2VPcHRpb25zIHtcbiAgd2lkdGg/OiBudW1iZXI7XG4gIGhlaWdodD86IG51bWJlcjtcbiAgcG9zaXRpb24/OiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH07XG4gIHN0YXJ0VGltZT86IG51bWJlcjsgLy8gZW4gc2VndW5kb3NcbiAgZW5kVGltZT86IG51bWJlcjsgLy8gZW4gc2VndW5kb3NcbiAgaXNBbmltYXRlZD86IGJvb2xlYW47XG4gIGlzU3RhdGljPzogYm9vbGVhbjsgLy8gUGFyYSBmb3J6YXIgdHJhdGFyIHVuYSBpbWFnZW4gYW5pbWFkYSBjb21vIGVzdMOhdGljYVxuICBzY2FsZU1vZGU/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBWaWRlb09wdGlvbnMge1xuICB3aWR0aD86IG51bWJlcjtcbiAgaGVpZ2h0PzogbnVtYmVyO1xuICBwb3NpdGlvbj86IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfTtcbiAgc3RhcnRUaW1lPzogbnVtYmVyOyAvLyBlbiBzZWd1bmRvc1xuICBlbmRUaW1lPzogbnVtYmVyOyAvLyBlbiBzZWd1bmRvc1xuICBzY2FsZU1vZGU/OiBzdHJpbmc7XG4gIGlzQVBORz86IGJvb2xlYW47XG4gIHN5bmNXaXRoVGltZWxpbmU/OiBib29sZWFuO1xuICBwbGF5YmFja0JlaGF2aW9yPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgU3VidGl0bGVPcHRpb25zIHtcbiAgZ3JvdXBXb3Jkcz86IGJvb2xlYW47IC8vIFNpIHNlIGRlYmVuIGFncnVwYXIgcGFsYWJyYXMgKHRydWUpIG8gdXNhciBzdWJ0w610dWxvcyBjb21wbGV0b3MgKGZhbHNlKVxuICBzdGFydFRpbWU/OiBudW1iZXI7ICAgLy8gVGllbXBvIGRlIGluaWNpbyBwYXJhIGZpbHRyYXIgc3VidMOtdHVsb3MgKG9wY2lvbmFsKVxuICBlbmRUaW1lPzogbnVtYmVyOyAgICAgLy8gVGllbXBvIGRlIGZpbiBwYXJhIGZpbHRyYXIgc3VidMOtdHVsb3MgKG9wY2lvbmFsKVxufVxuXG5pbnRlcmZhY2UgTXVzaWNPcHRpb25zIHtcbiAgc3RhcnRUaW1lPzogbnVtYmVyOyAvLyBlbiBzZWd1bmRvc1xuICBlbmRUaW1lPzogbnVtYmVyOyAvLyBlbiBzZWd1bmRvc1xuICB2b2x1bWU/OiBudW1iZXI7IC8vIDAtMTAwXG4gIGZhZGVJbj86IGJvb2xlYW47XG4gIGZhZGVPdXQ/OiBib29sZWFuO1xuICByZXNwZWN0TmF0aXZlRHVyYXRpb24/OiBib29sZWFuOyAvLyBSZXNwZXRhciBsYSBkdXJhY2nDs24gbmF0aXZhIGRlbCBhcmNoaXZvIGRlIGF1ZGlvXG59XG5cbi8vIFRpcG8gcGFyYSByZXByZXNlbnRhciB1biBzZWdtZW50byBkZSBzdWJ0w610dWxvXG5pbnRlcmZhY2UgU3VidGl0bGVTZWdtZW50IHtcbiAgaWQ6IG51bWJlcjtcbiAgc3RhcnRUaW1lOiBudW1iZXI7IC8vIGVuIG1pbGlzZWd1bmRvc1xuICBlbmRUaW1lOiBudW1iZXI7ICAgLy8gZW4gbWlsaXNlZ3VuZG9zXG4gIHRleHQ6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFRpbWVTZWdtZW50IHtcbiAgc3RhcnRUaW1lOiBudW1iZXI7IC8vIFRpZW1wbyBkZSBpbmljaW8gZW4gc2VndW5kb3NcbiAgZW5kVGltZTogbnVtYmVyOyAgIC8vIFRpZW1wbyBmaW5hbCBlbiBzZWd1bmRvc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVmlkZW9Db21tYW5kRXhlY3V0b3Ioc3RhdGVNYW5hZ2VyOiBTdGF0ZU1hbmFnZXIpOiBWaWRlb0NvbW1hbmRFeGVjdXRvciB7XG4gIC8vIENyZWFyIGVsIG9iamV0byBleGVjdXRvciBjb24gdG9kb3MgbG9zIG3DqXRvZG9zXG4gIGNvbnN0IGV4ZWN1dG9yOiBWaWRlb0NvbW1hbmRFeGVjdXRvciA9IHtcbiAgICBhZGRUZXh0OiAodGV4dDogc3RyaW5nLCBvcHRpb25zPzogVGV4dE9wdGlvbnMpID0+IHtcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gb3B0aW9ucz8ucG9zaXRpb24gfHwgeyB4OiAwLjUsIHk6IDAuNSB9OyAvLyBDZW50cmFkbyBwb3IgZGVmZWN0b1xuICAgICAgY29uc3QgZm9udFNpemUgPSBvcHRpb25zPy5mb250U2l6ZSB8fCA0ODtcbiAgICAgIGNvbnN0IGZvbnRGYW1pbHkgPSBvcHRpb25zPy5mb250RmFtaWx5IHx8IFwiUm9ib3RvLUJvbGRcIjtcbiAgICAgIGNvbnN0IGNvbG9yID0gb3B0aW9ucz8uY29sb3IgfHwgXCIjRkZGRkZGXCI7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBvcHRpb25zPy5zdGFydFRpbWUgfHwgMDsgLy8gUG9yIGRlZmVjdG8gYWwgaW5pY2lvXG4gICAgICBjb25zdCBlbmRUaW1lID0gb3B0aW9ucz8uZW5kVGltZSB8fCA1OyAvLyBQb3IgZGVmZWN0byA1IHNlZ3VuZG9zIGRlIGR1cmFjacOzblxuXG4gICAgICAvLyBDcmVhciBwYXlsb2FkIHBhcmEgZWwgdGV4dG9cbiAgICAgIGNvbnN0IHRleHRQYXlsb2FkID0ge1xuICAgICAgICBpZDogZ2VuZXJhdGVJZCgpLFxuICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgZnJvbTogc3RhcnRUaW1lICogMTAwMCwgLy8gQ29udmVydGlyIGEgbWlsaXNlZ3VuZG9zXG4gICAgICAgICAgdG86IGVuZFRpbWUgKiAxMDAwICAgICAvLyBDb252ZXJ0aXIgYSBtaWxpc2VndW5kb3NcbiAgICAgICAgfSxcbiAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICBmb250U2l6ZTogZm9udFNpemUsXG4gICAgICAgICAgd2lkdGg6IDYwMCxcbiAgICAgICAgICBmb250RmFtaWx5OiBmb250RmFtaWx5LFxuICAgICAgICAgIGNvbG9yOiBjb2xvcixcbiAgICAgICAgICB3b3JkV3JhcDogJ2JyZWFrLXdvcmQnLFxuICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICAgICAgYm9yZGVyV2lkdGg6IDAsXG4gICAgICAgICAgYm9yZGVyQ29sb3I6ICcjMDAwMDAwJyxcbiAgICAgICAgICBib3hTaGFkb3c6IHtcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgIGJsdXI6IDAsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIC8vIEFncmVnYXIgdGV4dG8gYWwgdGltZWxpbmVcbiAgICAgIGRpc3BhdGNoKEFERF9URVhULCB7XG4gICAgICAgIHBheWxvYWQ6IHRleHRQYXlsb2FkLFxuICAgICAgICBvcHRpb25zOiB7fSxcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBjaGFuZ2VDb2xvcjogKGVsZW1lbnRJZDogc3RyaW5nLCBjb2xvcjogc3RyaW5nKSA9PiB7XG4gICAgICAvLyBTaW11bGFjacOzbiBkZSBjYW1iaW8gZGUgY29sb3IgKGxhIGltcGxlbWVudGFjacOzbiByZWFsIGRlcGVuZGVyw6EgZGUgbGEgZXN0cnVjdHVyYSBkZWwgcHJveWVjdG8pXG4gICAgICBjb25zb2xlLmxvZyhgQ2FtYmlhbmRvIGNvbG9yIGRlbCBlbGVtZW50byAke2VsZW1lbnRJZH0gYSAke2NvbG9yfWApO1xuXG4gICAgICAvLyBBcXXDrSBpcsOtYSBsYSBsw7NnaWNhIHJlYWwgcGFyYSBjYW1iaWFyIGVsIGNvbG9yIGRlIHVuIGVsZW1lbnRvXG4gICAgfSxcblxuICAgIGFkZEltYWdlOiAodXJsOiBzdHJpbmcsIG9wdGlvbnM/OiBJbWFnZU9wdGlvbnMpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAvLyBBc2VndXJhciBxdWUgdGVuZW1vcyB1bmEgVVJMIHbDoWxpZGFcbiAgICAgIGlmICghdXJsKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBVUkwgZGUgaW1hZ2VuIG5vIHbDoWxpZGEgbyB2YWPDrWFcIik7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVVJMIGRlIGltYWdlbiBubyBwcm9wb3JjaW9uYWRhXCIpO1xuICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKFwiPT09IElOSUNJQU5ETyBQUk9DRVNPIERFIEHDkUFESVIgSU1BR0VOID09PVwiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJVUkw6XCIsIHVybCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiT3BjaW9uZXM6XCIsIEpTT04uc3RyaW5naWZ5KG9wdGlvbnMsIG51bGwsIDIpKTtcblxuICAgICAgLy8gVmVyaWZpY2FyIHNpIGVzIHVuYSBVUkwgZ2Vuw6lyaWNhIGRlIHJlZmVyZW5jaWEsIHF1ZSBubyBkZWJlIHVzYXJzZSBkaXJlY3RhbWVudGVcbiAgICAgIGlmICh1cmwgPT09ICdpbWFnZW5fYWRqdW50YV9wb3JfZWxfdXN1YXJpby5qcGcnIHx8IHVybC5pbmNsdWRlcygnL3VybF9kZV9sYV9pbWFnZW4nKSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3I6IFVSTCBkZSBpbWFnZW4gZ2Vuw6lyaWNhIGludsOhbGlkYSBkZXRlY3RhZGFcIiwgdXJsKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGEgVVJMIGRlIGltYWdlbiBubyBlcyB2w6FsaWRhLiBTZSBpbnRlbnTDsyB1c2FyIHVuIG1hcmNhZG9yIGdlbsOpcmljbyBkaXJlY3RhbWVudGUuXCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB3aWR0aCA9IG9wdGlvbnM/LndpZHRoIHx8IDQ4MDtcbiAgICAgIGNvbnN0IGhlaWdodCA9IG9wdGlvbnM/LmhlaWdodCB8fCAyNzA7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBvcHRpb25zPy5zdGFydFRpbWUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc3RhcnRUaW1lIDogMDtcbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBvcHRpb25zPy5lbmRUaW1lICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmVuZFRpbWUgOiBzdGFydFRpbWUgKyA1O1xuXG4gICAgICAgIC8vIERldGVjdG9yZXMgZGUgdGlwbyBkZSBpbWFnZW5cbiAgICAgICAgY29uc3QgaXNFeHBsaWNpdGx5QW5pbWF0ZWQgPSBvcHRpb25zPy5pc0FuaW1hdGVkID09PSB0cnVlO1xuICAgICAgICBjb25zdCBpc0V4cGxpY2l0bHlTdGF0aWMgPSBvcHRpb25zPy5pc1N0YXRpYyA9PT0gdHJ1ZTtcbiAgICAgICAgY29uc3QgaXNBUE5HID0gdXJsLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoJy5hcG5nJyk7XG4gICAgICAgIGNvbnN0IGlzR0lGID0gdXJsLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoJy5naWYnKTtcblxuICAgICAgICAvLyBEZXRlcm1pbmFyIHNpIGRlYmUgdHJhdGFyc2UgY29tbyBpbWFnZW4gYW5pbWFkYVxuICAgICAgICBjb25zdCBzaG91bGRUcmVhdEFzQW5pbWF0ZWQgPSAoaXNFeHBsaWNpdGx5QW5pbWF0ZWQgfHwgaXNBUE5HIHx8IGlzR0lGKSAmJiAhaXNFeHBsaWNpdGx5U3RhdGljO1xuXG4gICAgICAgIC8vIExvZyBkZSBtb2RvIGRldGVjdGFkb1xuICAgICAgICBpZiAoc2hvdWxkVHJlYXRBc0FuaW1hdGVkKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYPCflLYgRGV0ZWN0YWRhIGltYWdlbiBhbmltYWRhOiAke3VybH1gKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgVGlwbzogJHtpc0FQTkcgPyAnQVBORycgOiBpc0dJRiA/ICdHSUYnIDogJ0FuaW1hZGEgZ2Vuw6lyaWNhJ31gKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0FQTkcgfHwgaXNHSUYpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+UuSBEZXRlY3RhZGEgaW1hZ2VuIHBvdGVuY2lhbG1lbnRlIGFuaW1hZGEgcGVybyB0cmF0w6FuZG9sYSBjb21vIGVzdMOhdGljYTogJHt1cmx9YCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYPCflLcgRGV0ZWN0YWRhIGltYWdlbiBlc3TDoXRpY2E6ICR7dXJsfWApO1xuICAgICAgICB9XG5cbiAgICAgIC8vIFBhcmEgZGVwdXJhY2nDs24sIG1vc3RyYXIgcGFydGUgZGUgbGEgVVJMICh0cnVuY2FkYSBzaSBlcyBkYXRhOlVSTClcbiAgICAgIGNvbnN0IGxvZ1VybCA9IHVybC5zdGFydHNXaXRoKCdkYXRhOicpXG4gICAgICAgID8gYCR7dXJsLnN1YnN0cmluZygwLCAzMCl9Li4uIChkYXRhIFVSTClgXG4gICAgICAgIDogdXJsO1xuICAgICAgY29uc29sZS5sb2coYEHDsWFkaWVuZG8gaW1hZ2VuIGRlc2RlICR7bG9nVXJsfSBkZXNkZSBzZWd1bmRvICR7c3RhcnRUaW1lfSBoYXN0YSAke2VuZFRpbWV9YCk7XG5cbiAgICAgICAgLy8gUG9zaWNpw7NuIChjZW50cmFkYSBwb3IgZGVmZWN0bylcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSBvcHRpb25zPy5wb3NpdGlvbiB8fCB7IHg6IDAuNSwgeTogMC41IH07XG5cbiAgICAgICAgLy8gTW9kb3MgZGUgZXNjYWxhXG4gICAgICAgIGNvbnN0IHNjYWxlTW9kZSA9IG9wdGlvbnM/LnNjYWxlTW9kZSB8fCBcImZpdFwiO1xuICAgICAgICBjb25zdCB1c2VGdWxsU2NyZWVuID0gc2NhbGVNb2RlID09PSBcImNvdmVyXCI7XG5cbiAgICAgICAgLy8gUHJvcGllZGFkZXMgcGFyYSBlbCBwYXlsb2FkLCBjb23Dum4gcGFyYSBhbWJvcyBjYXNvc1xuICAgICAgICBjb25zdCBjb21tb25QYXlsb2FkUHJvcHMgPSB7XG4gICAgICAgICAgZnJvbTogc3RhcnRUaW1lICogMTAwMCxcbiAgICAgICAgICB0bzogZW5kVGltZSAqIDEwMDBcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBQcm9waWVkYWRlcyBkZSBkZXRhbGxlIGNvbXVuZXNcbiAgICAgICAgY29uc3QgY29tbW9uRGV0YWlsc1Byb3BzID0ge1xuICAgICAgICAgIHNyYzogdXJsLFxuICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICBvcGFjaXR5OiAxMDAsXG4gICAgICAgICAgc2NhbGVNb2RlOiBzY2FsZU1vZGUsXG4gICAgICAgICAgbGVmdDogcG9zaXRpb24ueCxcbiAgICAgICAgICB0b3A6IHBvc2l0aW9uLnksXG4gICAgICAgICAgb3JpZ2luWDogXCJjZW50ZXJcIixcbiAgICAgICAgICBvcmlnaW5ZOiBcImNlbnRlclwiXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQ3JlYXIgSUQgw7puaWNvXG4gICAgICAgIGNvbnN0IGltYWdlSWQgPSBnZW5lcmF0ZUlkKCk7XG5cbiAgICAgICAgLy8gQ3JlYXIgZWwgcGF5bG9hZCBkZSBpbWFnZW4gc2ltcGxpZmljYWRvXG4gICAgICAgIGNvbnN0IGltYWdlUGF5bG9hZCA9IHtcbiAgICAgICAgICBpZDogaW1hZ2VJZCxcbiAgICAgICAgICBkaXNwbGF5OiBjb21tb25QYXlsb2FkUHJvcHMsXG4gICAgICAgICAgdHlwZTogJ2ltYWdlJyxcbiAgICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgICAuLi5jb21tb25EZXRhaWxzUHJvcHMsXG4gICAgICAgICAgICAvLyBTaSBlcyBhbmltYWRhLCBhw7FhZGlyIGF0cmlidXRvcyBlc3BlY8OtZmljb3NcbiAgICAgICAgICAgIC4uLihzaG91bGRUcmVhdEFzQW5pbWF0ZWQgJiYge1xuICAgICAgICAgICAgICBpc0FuaW1hdGVkOiB0cnVlLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAvLyBTaSBhIHBhbnRhbGxhIGNvbXBsZXRhLCBhanVzdGFyIGRpbWVuc2lvbmVzXG4gICAgICAgICAgICAuLi4odXNlRnVsbFNjcmVlbiAmJiB7XG4gICAgICAgICAgICAgIHdpZHRoOiAxOTIwLFxuICAgICAgICAgICAgICBoZWlnaHQ6IDEwODBcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnNvbGUubG9nKFwiUGF5bG9hZCBkZSBpbWFnZW4gYSBkZXNwYWNoYXI6XCIsIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAuLi5pbWFnZVBheWxvYWQsXG4gICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgLi4uaW1hZ2VQYXlsb2FkLmRldGFpbHMsXG4gICAgICAgICAgICBzcmM6IGltYWdlUGF5bG9hZC5kZXRhaWxzLnNyYy5zdWJzdHJpbmcoMCwgMzApICsgKGltYWdlUGF5bG9hZC5kZXRhaWxzLnNyYy5sZW5ndGggPiAzMCA/ICcuLi4nIDogJycpXG4gICAgICAgICAgfVxuICAgICAgICB9LCBudWxsLCAyKSk7XG5cbiAgICAgICAgLy8gT3BjaW9uZXMgcGFyYSBlbCBkaXNwYXRjaFxuICAgICAgICBjb25zdCBkaXNwYXRjaE9wdGlvbnMgPSB7XG4gICAgICAgICAgc2NhbGVNb2RlOiBzY2FsZU1vZGUsXG4gICAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIERlc3BhY2hhciBsYSBhY2Npw7NuIHBhcmEgYcOxYWRpciBsYSBpbWFnZW5cbiAgICAgICAgZGlzcGF0Y2goQUREX0lNQUdFLCB7XG4gICAgICAgICAgcGF5bG9hZDogaW1hZ2VQYXlsb2FkLFxuICAgICAgICAgIG9wdGlvbnM6IGRpc3BhdGNoT3B0aW9uc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBMb2cgZGUgw6l4aXRvXG4gICAgICAgIGlmIChzaG91bGRUcmVhdEFzQW5pbWF0ZWQpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg4pyFIEltYWdlbiBhbmltYWRhIGHDsWFkaWRhIGRlc2RlICR7c3RhcnRUaW1lfXMgaGFzdGEgJHtlbmRUaW1lfXNgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg4pyFIEltYWdlbiBlc3TDoXRpY2EgYcOxYWRpZGEgZGVzZGUgJHtzdGFydFRpbWV9cyBoYXN0YSAke2VuZFRpbWV9c2ApO1xuICAgICAgICB9XG5cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgRVJST1IgQ1LDjVRJQ08gYWwgYcOxYWRpciBpbWFnZW46XCIsIGVycm9yKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkRldGFsbGVzIGNvbXBsZXRvczpcIiwgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJUcmF6YTpcIiwgZXJyb3Iuc3RhY2spO1xuICAgICAgICB0aHJvdyBlcnJvcjsgLy8gUHJvcGFnYXIgZWwgZXJyb3IgcGFyYSBtYW5lam8gc3VwZXJpb3JcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWRkVmlkZW86ICh1cmw6IHN0cmluZywgb3B0aW9ucz86IFZpZGVvT3B0aW9ucykgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS5sb2coXCI9PT0gSU5JQ0lBTkRPIFBST0NFU08gREUgQcORQURJUiBWSURFTyA9PT1cIik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVVJMOlwiLCB1cmwpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIk9wY2lvbmVzOlwiLCBKU09OLnN0cmluZ2lmeShvcHRpb25zLCBudWxsLCAyKSk7XG5cbiAgICAgICAgLy8gVmFsaWRhY2nDs24gZGUgVVJMXG4gICAgICAgIGlmICghdXJsKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBVUkwgZGUgdmlkZW8gbm8gdsOhbGlkYSBvIHZhY8OtYVwiKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVUkwgZGUgdmlkZW8gbm8gcHJvcG9yY2lvbmFkYVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gb3B0aW9ucz8ud2lkdGggfHwgNjQwO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBvcHRpb25zPy5oZWlnaHQgfHwgMzYwO1xuICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBvcHRpb25zPy5zdGFydFRpbWUgfHwgMDsgLy8gUG9yIGRlZmVjdG8gYWwgaW5pY2lvXG4gICAgICAgIGNvbnN0IGVuZFRpbWUgPSBvcHRpb25zPy5lbmRUaW1lIHx8IDEwOyAvLyBQb3IgZGVmZWN0byAxMCBzZWd1bmRvcyBkZSBkdXJhY2nDs25cblxuICAgICAgICAvLyBEZXRlY3RhciBzaSBlcyB1biBhcmNoaXZvIEFWSSBvIEFQTkcgcGFyYSB0cmF0YW1pZW50byBlc3BlY2lhbFxuICAgICAgICBjb25zdCBpc0FWSSA9IHVybC50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKCcuYXZpJyk7XG4gICAgICAgIGNvbnN0IGlzQVBORyA9IHVybC50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKCcuYXBuZycpO1xuICAgICAgICAvLyBNYXJjYWRvciBwYXNhZG8gZXhwbMOtY2l0YW1lbnRlIC0gbWF5b3IgcHJpb3JpZGFkIHF1ZSBsYSBleHRlbnNpw7NuXG4gICAgICAgIGNvbnN0IGlzRXhwbGljaXRBUE5HID0gb3B0aW9ucz8uaXNBUE5HID09PSB0cnVlO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRm9ybWF0byBkZXRlY3RhZG86XCIsXG4gICAgICAgICAgaXNBVkkgPyBcIkFWSVwiIDogaXNBUE5HID8gXCJBUE5HXCIgOiBpc0V4cGxpY2l0QVBORyA/IFwiRXhwbMOtY2l0YW1lbnRlIG1hcmNhZG8gY29tbyBBUE5HXCIgOiBcIkZvcm1hdG8gZXN0w6FuZGFyXCIpO1xuXG4gICAgICAgIC8vIFNpIGVzIEFQTkcgc2Vnw7puIGFsZ8O6biBjcml0ZXJpb1xuICAgICAgICBjb25zdCB0cmVhdEFzQVBORyA9IGlzQVBORyB8fCBpc0V4cGxpY2l0QVBORztcbiAgICAgICAgY29uc3QgdXNlRnVsbFNjcmVlbiA9IGlzQVZJIHx8IHRyZWF0QXNBUE5HIHx8IChvcHRpb25zPy5zY2FsZU1vZGUgPT09IFwiY292ZXJcIik7XG5cbiAgICAgICAgLy8gUGFyYSBhcmNoaXZvcyBBVkkgeSBBUE5HLCByZXNwZWN0YXIgZHVyYWNpw7NuIG5hdHVyYWwgc2kgbm8gc2UgZXNwZWNpZmljYVxuICAgICAgICBjb25zdCByZXNwZWN0TmF0aXZlRHVyYXRpb24gPSAoaXNBVkkgfHwgdHJlYXRBc0FQTkcpICYmICFvcHRpb25zPy5lbmRUaW1lO1xuICAgICAgICBjb25zdCBmaW5hbEVuZFRpbWUgPSByZXNwZWN0TmF0aXZlRHVyYXRpb24gPyB1bmRlZmluZWQgOiBlbmRUaW1lO1xuXG4gICAgICAgIC8vIExvZyBwYXJhIGRlcHVyYXJcbiAgICAgICAgaWYgKHRyZWF0QXNBUE5HKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYPCflLcgQcOxYWRpZW5kbyBBUE5HIGNvbW8gVklERU8gc2luY3Jvbml6YWRvIGRlc2RlICR7c3RhcnRUaW1lfXMgY29uIGR1cmFjacOzbiAke3Jlc3BlY3ROYXRpdmVEdXJhdGlvbiA/ICduYXR1cmFsJyA6IGZpbmFsRW5kVGltZSArICdzJ31gKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+UtyBDb25maWd1cmFjaW9uZXMgZXNwZWNpYWxlcyBkZSBBUE5HIC0gdXNlRnVsbFNjcmVlbjogJHt1c2VGdWxsU2NyZWVufSwgc3luY1dpdGhUaW1lbGluZTogJHtvcHRpb25zPy5zeW5jV2l0aFRpbWVsaW5lIHx8IHRydWV9YCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNBVkkpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+OrCBBw7FhZGllbmRvIEFWSSBjb24gZHVyYWNpw7NuICR7cmVzcGVjdE5hdGl2ZUR1cmF0aW9uID8gJ25hdHVyYWwnIDogJ2VzcGVjaWZpY2FkYTogJyArIGZpbmFsRW5kVGltZX1zYCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNYW5lamFyIEFQTkcgdXNhbmRvIHVuIGVuZm9xdWUgZXNwZWNpYWwgLSBpbnRlbnRhciBjb24gdW4gbcOpdG9kbyBhbHRlcm5hdGl2byBzaSBlcyBwb3NpYmxlXG4gICAgICAgIGlmICh0cmVhdEFzQVBORykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBJbnRlbnRhciBjcmVhciB1biBwYXlsb2FkIGVzcGVjaWFsIHBhcmEgQVBORyBxdWUgZnVuY2lvbmUgY29tbyBhbmltYWNpw7NuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlByb2JhbmRvIGNvbiB1bmEgY29uZmlndXJhY2nDs24gZXNwZWNpYWwgcGFyYSBBUE5HLi4uXCIpO1xuXG4gICAgICAgICAgICAvLyBDb25maWd1cmFjacOzbiBkZSBvcGNpb25lcyBpbXBvcnRhbnRlIHBhcmEgYXJjaGl2b3MgQVBOR1xuICAgICAgICAgICAgY29uc3QgYXBuZ1ZpZGVvUGF5bG9hZCA9IHtcbiAgICAgICAgICAgIGlkOiBnZW5lcmF0ZUlkKCksXG4gICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgIGZyb206IHN0YXJ0VGltZSAqIDEwMDAsIC8vIENvbnZlcnRpciBhIG1pbGlzZWd1bmRvc1xuICAgICAgICAgICAgICAgIHRvOiBmaW5hbEVuZFRpbWUgPyBmaW5hbEVuZFRpbWUgKiAxMDAwIDogKHN0YXJ0VGltZSArIDMpICogMTAwMCAvLyAzIHNlZ3VuZG9zIHBvciBkZWZlY3RvIHNpIG5vIGhheSBkdXJhY2nDs25cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIC8vIFByb2JhbW9zIHVuYSBudWV2YSBlc3RyYXRlZ2lhOiB0cmF0YXJsbyBjb21vIGltYWdlbiBlbiBsdWdhciBkZSB2aWRlb1xuICAgICAgICAgICAgdHlwZTogJ2ltYWdlJyxcbiAgICAgICAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgICAgICAgc3JjOiB1cmwsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDE5MjAsIC8vIEFuY2hvIHBhcmEgcGFudGFsbGEgY29tcGxldGFcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwODAsIC8vIEFsdG8gcGFyYSBwYW50YWxsYSBjb21wbGV0YVxuICAgICAgICAgICAgICBvcGFjaXR5OiAxMDAsXG4gICAgICAgICAgICAgICAgc2NhbGVNb2RlOiBcImNvdmVyXCIsIC8vIFBhcmEgbGxlbmFyIHRvZGEgbGEgcGFudGFsbGFcbiAgICAgICAgICAgICAgICBsZWZ0OiAwLjUsIC8vIENlbnRyYWRvIGhvcml6b250YWxtZW50ZVxuICAgICAgICAgICAgICAgIHRvcDogMC41LCAgLy8gQ2VudHJhZG8gdmVydGljYWxtZW50ZVxuICAgICAgICAgICAgICAgIG9yaWdpblg6IFwiY2VudGVyXCIsIC8vIE9yaWdlbiBlbiBlbCBjZW50cm9cbiAgICAgICAgICAgICAgICBvcmlnaW5ZOiBcImNlbnRlclwiLCAvLyBPcmlnZW4gZW4gZWwgY2VudHJvXG4gICAgICAgICAgICAgICAgLy8gUHJvcGllZGFkZXMgcGFyYSBhbmltYXJcbiAgICAgICAgICAgICAgICBpc0FuaW1hdGVkOiB0cnVlXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBheWxvYWQgcGFyYSBBUE5HIGNvbW8gaW1hZ2VuIGFuaW1hZGE6XCIsIEpTT04uc3RyaW5naWZ5KGFwbmdWaWRlb1BheWxvYWQsIG51bGwsIDIpKTtcblxuICAgICAgICAgICAgLy8gVXNhciBBRERfSU1BR0UgZW4gbHVnYXIgZGUgQUREX1ZJREVPXG4gICAgICAgICAgZGlzcGF0Y2goQUREX0lNQUdFLCB7XG4gICAgICAgICAgICAgIHBheWxvYWQ6IGFwbmdWaWRlb1BheWxvYWQsXG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgc2NhbGVNb2RlOiBcImNvdmVyXCIsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHsgeDogMC41LCB5OiAwLjUgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coXCLinIUgQVBORyBhw7FhZGlkbyBjb21vIGltYWdlbiBhbmltYWRhIGNvbiDDqXhpdG9cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSBjYXRjaCAoYXBuZ0Vycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MIEVycm9yIGFsIGHDsWFkaXIgQVBORyBjb21vIGltYWdlbiBhbmltYWRhOlwiLCBhcG5nRXJyb3IpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkRldGFsbGVzOlwiLCBhcG5nRXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVHJhemE6XCIsIGFwbmdFcnJvci5zdGFjayk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIvCflIQgQ29udGludWFuZG8gY29uIGVsIG3DqXRvZG8gZXN0w6FuZGFyIGNvbW8gcmVzcGFsZG8uLi5cIik7XG4gICAgICAgICAgICAvLyBDb250aW51YXIgY29uIGVsIG3DqXRvZG8gZXN0w6FuZGFyIGNvbW8gcmVzcGFsZG9cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgLy8gQ3JlYXIgcGF5bG9hZCBwYXJhIGVsIHZpZGVvXG4gICAgICBjb25zdCB2aWRlb1BheWxvYWQgPSB7XG4gICAgICAgIGlkOiBnZW5lcmF0ZUlkKCksXG4gICAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgICBmcm9tOiBzdGFydFRpbWUgKiAxMDAwLCAvLyBDb252ZXJ0aXIgYSBtaWxpc2VndW5kb3NcbiAgICAgICAgICAgIHRvOiBmaW5hbEVuZFRpbWUgPyBmaW5hbEVuZFRpbWUgKiAxMDAwIDogdW5kZWZpbmVkIC8vIFVzYXIgdW5kZWZpbmVkIHNpIHF1ZXJlbW9zIHJlc3BldGFyIGxhIGR1cmFjacOzbiBuYXR1cmFsXG4gICAgICAgIH0sXG4gICAgICAgIHR5cGU6ICd2aWRlbycsXG4gICAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgICBzcmM6IHVybCxcbiAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgb3BhY2l0eTogMTAwLFxuICAgICAgICAgICAgLy8gUGFyYSBhcmNoaXZvcyBBUE5HIHkgQVZJLCBjb25maWd1cmFyIHByb3BpZWRhZGVzIGVzcGVjw61maWNhcyBwYXJhIHBhbnRhbGxhIGNvbXBsZXRhXG4gICAgICAgICAgICAuLi4odXNlRnVsbFNjcmVlbiAmJiB7XG4gICAgICAgICAgICAgIHNjYWxlTW9kZTogXCJjb3ZlclwiLCAvLyBVc2FyIFwiY292ZXJcIiBlbiBsdWdhciBkZSBcImZpdFwiIHBhcmEgYXNlZ3VyYXIgcXVlIGN1YnJhIHRvZG9cbiAgICAgICAgICAgICAgbGVmdDogMC41LCAvLyBDZW50cmFkbyBob3Jpem9udGFsbWVudGVcbiAgICAgICAgICAgICAgdG9wOiAwLjUsICAvLyBDZW50cmFkbyB2ZXJ0aWNhbG1lbnRlXG4gICAgICAgICAgICAgIG9yaWdpblg6IFwiY2VudGVyXCIsIC8vIE9yaWdlbiBlbiBlbCBjZW50cm9cbiAgICAgICAgICAgICAgb3JpZ2luWTogXCJjZW50ZXJcIiwgLy8gT3JpZ2VuIGVuIGVsIGNlbnRyb1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAvLyBQcm9waWVkYWRlcyBlc3BlY2lhbGVzIHBhcmEgQVBOR1xuICAgICAgICAgICAgLi4uKHRyZWF0QXNBUE5HICYmIHtcbiAgICAgICAgICAgICAgaXNBUE5HOiB0cnVlLFxuICAgICAgICAgICAgICBhdXRvUGxheTogdHJ1ZSxcbiAgICAgICAgICAgICAgbG9vcDogZmFsc2UsXG4gICAgICAgICAgICAgIHN5bmNXaXRoVGltZWxpbmU6IG9wdGlvbnM/LnN5bmNXaXRoVGltZWxpbmUgfHwgdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnNvbGUubG9nKFwiUGF5bG9hZCBkZSB2aWRlbyBlc3TDoW5kYXI6XCIsIEpTT04uc3RyaW5naWZ5KHZpZGVvUGF5bG9hZCwgbnVsbCwgMikpO1xuXG4gICAgICAgIC8vIENvbmZpZ3VyYWNpb25lcyBhZGljaW9uYWxlcyBwYXJhIGVsIGRpc3BhdGNoXG4gICAgICAgIGNvbnN0IGRpc3BhdGNoT3B0aW9ucyA9IHtcbiAgICAgICAgICByZXNvdXJjZUlkOiBcIm1haW5cIixcbiAgICAgICAgICBzY2FsZU1vZGU6IHVzZUZ1bGxTY3JlZW4gPyBcImNvdmVyXCIgOiBcImZpdFwiLCAvLyBVc2FyIGNvdmVyIHBhcmEgcGFudGFsbGEgY29tcGxldGEsIGZpdCBwYXJhIG90cm9zIHZpZGVvc1xuICAgICAgICAgIC4uLih1c2VGdWxsU2NyZWVuICYmIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiB7IHg6IDAuNSwgeTogMC41IH0gLy8gQ2VudHJhciBwYXJhIHZpZGVvcyBhIHBhbnRhbGxhIGNvbXBsZXRhXG4gICAgICAgICAgfSksXG4gICAgICAgICAgcmVzcGVjdE5hdGl2ZUR1cmF0aW9uOiByZXNwZWN0TmF0aXZlRHVyYXRpb24sXG4gICAgICAgICAgLy8gUHJvcGllZGFkZXMgZXNwZWPDrWZpY2FzIHBhcmEgc2luY3Jvbml6YWNpw7NuIGRlIEFQTkdcbiAgICAgICAgICAuLi4odHJlYXRBc0FQTkcgJiYge1xuICAgICAgICAgICAgaXNBUE5HOiB0cnVlLFxuICAgICAgICAgICAgc3luY1dpdGhUaW1lbGluZTogb3B0aW9ucz8uc3luY1dpdGhUaW1lbGluZSB8fCB0cnVlLFxuICAgICAgICAgICAgcGxheWJhY2tCZWhhdmlvcjogb3B0aW9ucz8ucGxheWJhY2tCZWhhdmlvciB8fCBcInN5bmNcIlxuICAgICAgICAgIH0pXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJPcGNpb25lcyBkZSBkaXNwYXRjaDpcIiwgSlNPTi5zdHJpbmdpZnkoZGlzcGF0Y2hPcHRpb25zLCBudWxsLCAyKSk7XG5cbiAgICAgIC8vIEFncmVnYXIgdmlkZW8gYWwgdGltZWxpbmVcbiAgICAgIGRpc3BhdGNoKEFERF9WSURFTywge1xuICAgICAgICBwYXlsb2FkOiB2aWRlb1BheWxvYWQsXG4gICAgICAgICAgb3B0aW9uczogZGlzcGF0Y2hPcHRpb25zLFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBNZW5zYWplIGRlIGxvZyBhZGFwdGFkbyBhbCB0aXBvIGRlIGFyY2hpdm9cbiAgICAgICAgaWYgKHRyZWF0QXNBUE5HKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYOKchSBUcmFuc2ljacOzbiBBUE5HIGHDsWFkaWRhIGNvbW8gVklERU8gU0lOQ1JPTklaQURPIGFsIHRpbWVsaW5lIGRlc2RlICR7c3RhcnRUaW1lfXMgJHtmaW5hbEVuZFRpbWUgPyBgaGFzdGEgJHtmaW5hbEVuZFRpbWV9c2AgOiAnY29uIGR1cmFjacOzbiBuYXR1cmFsJ30uIERpbWVuc2lvbmVzOiAke3dpZHRofXgke2hlaWdodH1gKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg4pyFIFZpZGVvICR7aXNBVkkgPyAnQVZJJyA6ICcnfSBhw7FhZGlkbyBhbCB0aW1lbGluZSBkZXNkZSAke3N0YXJ0VGltZX1zJHtmaW5hbEVuZFRpbWUgPyBgIGhhc3RhICR7ZmluYWxFbmRUaW1lfXNgIDogJyBjb24gZHVyYWNpw7NuIG5hdHVyYWwnfS4gRGltZW5zaW9uZXM6ICR7d2lkdGh9eCR7aGVpZ2h0fWApO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MIEVSUk9SIENSw41USUNPIGFsIGHDsWFkaXIgdmlkZW86XCIsIGVycm9yKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkRldGFsbGVzIGNvbXBsZXRvczpcIiwgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJUcmF6YTpcIiwgZXJyb3Iuc3RhY2spO1xuICAgICAgICB0aHJvdyBlcnJvcjsgLy8gUHJvcGFnYXIgZWwgZXJyb3IgcGFyYSBtYW5lam8gc3VwZXJpb3JcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgY2hhbmdlRHVyYXRpb246IChlbGVtZW50SWQ6IHN0cmluZywgZHVyYXRpb246IG51bWJlcikgPT4ge1xuICAgICAgLy8gU2ltdWxhY2nDs24gZGUgY2FtYmlvIGRlIGR1cmFjacOzbiAobGEgaW1wbGVtZW50YWNpw7NuIHJlYWwgZGVwZW5kZXLDoSBkZSBsYSBlc3RydWN0dXJhIGRlbCBwcm95ZWN0bylcbiAgICAgIGNvbnNvbGUubG9nKGBDYW1iaWFuZG8gZHVyYWNpw7NuIGRlbCBlbGVtZW50byAke2VsZW1lbnRJZH0gYSAke2R1cmF0aW9ufXNgKTtcblxuICAgICAgLy8gQXF1w60gaXLDrWEgbGEgbMOzZ2ljYSByZWFsIHBhcmEgY2FtYmlhciBsYSBkdXJhY2nDs24gZGUgdW4gZWxlbWVudG9cbiAgICB9LFxuXG4gICAgY2hhbmdlVHJhbnNpdGlvbjogKGVsZW1lbnRJZDogc3RyaW5nLCB0cmFuc2l0aW9uOiBzdHJpbmcpID0+IHtcbiAgICAgIC8vIFNpbXVsYWNpw7NuIGRlIGNhbWJpbyBkZSB0cmFuc2ljacOzbiAobGEgaW1wbGVtZW50YWNpw7NuIHJlYWwgZGVwZW5kZXLDoSBkZSBsYSBlc3RydWN0dXJhIGRlbCBwcm95ZWN0bylcbiAgICAgIGNvbnNvbGUubG9nKGBDYW1iaWFuZG8gdHJhbnNpY2nDs24gZGVsIGVsZW1lbnRvICR7ZWxlbWVudElkfSBhICR7dHJhbnNpdGlvbn1gKTtcblxuICAgICAgLy8gQXF1w60gaXLDrWEgbGEgbMOzZ2ljYSByZWFsIHBhcmEgY2FtYmlhciBsYSB0cmFuc2ljacOzbiBkZSB1biBlbGVtZW50b1xuICAgIH0sXG5cbiAgICBhZGRTdWJ0aXRsZXM6IGFzeW5jIChvcHRpb25zPzogU3VidGl0bGVPcHRpb25zKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkHDsWFkaWVuZG8gc3VidMOtdHVsb3MgZGlyZWN0YW1lbnRlIHNpbiBkZXBlbmRlciBkZWwgYm90w7NuXCIpO1xuXG4gICAgICAgIC8vIFRpcG8gcGFyYSByZXByZXNlbnRhciB1biBzZWdtZW50byBkZSBzdWJ0w610dWxvXG4gICAgICAgIGludGVyZmFjZSBTdWJ0aXRsZVNlZ21lbnQge1xuICAgICAgICAgIGlkOiBudW1iZXI7XG4gICAgICAgICAgc3RhcnRUaW1lOiBudW1iZXI7IC8vIGVuIG1pbGlzZWd1bmRvc1xuICAgICAgICAgIGVuZFRpbWU6IG51bWJlcjsgICAvLyBlbiBtaWxpc2VndW5kb3NcbiAgICAgICAgICB0ZXh0OiBzdHJpbmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGdW5jacOzbiBwYXJhIHBhcnNlYXIgZWwgdGllbXBvIGRlIGZvcm1hdG8gU1JUIGEgbWlsaXNlZ3VuZG9zXG4gICAgICAgIGNvbnN0IHBhcnNlVGltZVRvTXMgPSAodGltZVN0cmluZzogc3RyaW5nKTogbnVtYmVyID0+IHtcbiAgICAgICAgICBjb25zdCBbaG91cnMsIG1pbnV0ZXMsIHNlY29uZHNBbmRNc10gPSB0aW1lU3RyaW5nLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgY29uc3QgW3NlY29uZHMsIG1zXSA9IHNlY29uZHNBbmRNcy5zcGxpdCgnLCcpO1xuXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHBhcnNlSW50KGhvdXJzKSAqIDM2MDAwMDAgK1xuICAgICAgICAgICAgcGFyc2VJbnQobWludXRlcykgKiA2MDAwMCArXG4gICAgICAgICAgICBwYXJzZUludChzZWNvbmRzKSAqIDEwMDAgK1xuICAgICAgICAgICAgcGFyc2VJbnQobXMpXG4gICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBGdW5jacOzbiBwYXJhIHBhcnNlYXIgZWwgYXJjaGl2byBTUlRcbiAgICAgICAgY29uc3QgcGFyc2VTUlQgPSAoc3J0Q29udGVudDogc3RyaW5nKTogU3VidGl0bGVTZWdtZW50W10gPT4ge1xuICAgICAgICAgIGNvbnN0IHNlZ21lbnRzOiBTdWJ0aXRsZVNlZ21lbnRbXSA9IFtdO1xuICAgICAgICAgIGNvbnN0IGJsb2NrcyA9IHNydENvbnRlbnQudHJpbSgpLnNwbGl0KCdcXG5cXG4nKTtcblxuICAgICAgICAgIGJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gYmxvY2suc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgaWYgKGxpbmVzLmxlbmd0aCA+PSAzKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGlkID0gcGFyc2VJbnQobGluZXNbMF0pO1xuICAgICAgICAgICAgICBjb25zdCB0aW1lUmFuZ2UgPSBsaW5lc1sxXS5zcGxpdCgnIC0tPiAnKTtcbiAgICAgICAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGFyc2VUaW1lVG9Ncyh0aW1lUmFuZ2VbMF0pO1xuICAgICAgICAgICAgICBjb25zdCBlbmRUaW1lID0gcGFyc2VUaW1lVG9Ncyh0aW1lUmFuZ2VbMV0pO1xuICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gbGluZXMuc2xpY2UoMikuam9pbignXFxuJyk7IC8vIFVuaXIgdG9kYXMgbGFzIGzDrW5lYXMgZGUgdGV4dG9cblxuICAgICAgICAgICAgICBzZWdtZW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICBzdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgZW5kVGltZSxcbiAgICAgICAgICAgICAgICB0ZXh0XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIHNlZ21lbnRzO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEZ1bmNpw7NuIHBhcmEgZGl2aWRpciB1biB0ZXh0byBlbiBncnVwb3MgZGUgYXByb3hpbWFkYW1lbnRlIDMgcGFsYWJyYXNcbiAgICAgICAgY29uc3Qgc3BsaXRUZXh0SW50b0dyb3VwcyA9ICh0ZXh0OiBzdHJpbmcsIHdvcmRzUGVyR3JvdXAgPSAzKTogc3RyaW5nW10gPT4ge1xuICAgICAgICAgIGNvbnN0IHdvcmRzID0gdGV4dC5zcGxpdCgvXFxzKy8pO1xuICAgICAgICAgIGNvbnN0IGdyb3Vwczogc3RyaW5nW10gPSBbXTtcblxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyBpICs9IHdvcmRzUGVyR3JvdXApIHtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gd29yZHMuc2xpY2UoaSwgaSArIHdvcmRzUGVyR3JvdXApLmpvaW4oJyAnKTtcbiAgICAgICAgICAgIGdyb3Vwcy5wdXNoKGdyb3VwKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZ3JvdXBzO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEZ1bmNpw7NuIHBhcmEgcHJvY2VzYXIgdW4gc2VnbWVudG8geSBkaXZpZGlybG8gZW4gbcO6bHRpcGxlcyBzZWdtZW50b3Mgc2kgZXMgbmVjZXNhcmlvXG4gICAgICAgIGNvbnN0IHByb2Nlc3NTZWdtZW50ID0gKHNlZ21lbnQ6IFN1YnRpdGxlU2VnbWVudCk6IFN1YnRpdGxlU2VnbWVudFtdID0+IHtcbiAgICAgICAgICBjb25zdCB0ZXh0R3JvdXBzID0gc3BsaXRUZXh0SW50b0dyb3VwcyhzZWdtZW50LnRleHQpO1xuXG4gICAgICAgICAgLy8gU2kgc29sbyBoYXkgdW4gZ3J1cG8sIGRldm9sdmVyIGVsIHNlZ21lbnRvIG9yaWdpbmFsXG4gICAgICAgICAgaWYgKHRleHRHcm91cHMubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBbc2VnbWVudF07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQ2FsY3VsYXIgbGEgZHVyYWNpw7NuIGRlIGNhZGEgZ3J1cG9cbiAgICAgICAgICBjb25zdCB0b3RhbER1cmF0aW9uID0gc2VnbWVudC5lbmRUaW1lIC0gc2VnbWVudC5zdGFydFRpbWU7XG4gICAgICAgICAgY29uc3QgZ3JvdXBEdXJhdGlvbiA9IHRvdGFsRHVyYXRpb24gLyB0ZXh0R3JvdXBzLmxlbmd0aDtcblxuICAgICAgICAgIC8vIENyZWFyIHVuIG51ZXZvIHNlZ21lbnRvIHBhcmEgY2FkYSBncnVwb1xuICAgICAgICAgIHJldHVybiB0ZXh0R3JvdXBzLm1hcCgoZ3JvdXBUZXh0LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gc2VnbWVudC5zdGFydFRpbWUgKyAoaW5kZXggKiBncm91cER1cmF0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IGVuZFRpbWUgPSBzdGFydFRpbWUgKyBncm91cER1cmF0aW9uO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBpZDogc2VnbWVudC5pZCAqIDEwMDAgKyBpbmRleCwgLy8gR2VuZXJhciB1biBJRCDDum5pY29cbiAgICAgICAgICAgICAgc3RhcnRUaW1lLFxuICAgICAgICAgICAgICBlbmRUaW1lLFxuICAgICAgICAgICAgICB0ZXh0OiBncm91cFRleHRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gRnVuY2nDs24gcGFyYSBjcmVhciBlbCBwYXlsb2FkIGRlIHRleHRvIHBhcmEgc3VidMOtdHVsb3NcbiAgICAgICAgY29uc3QgY3JlYXRlU3VidGl0bGVQYXlsb2FkID0gKHRleHQ6IHN0cmluZywgc3RhcnRUaW1lOiBudW1iZXIsIGVuZFRpbWU6IG51bWJlcikgPT4gKHtcbiAgICAgICAgICBpZDogZ2VuZXJhdGVJZCgpLFxuICAgICAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgICAgIGZyb206IHN0YXJ0VGltZSxcbiAgICAgICAgICAgIHRvOiBlbmRUaW1lLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgICAgIHRleHQ6IHRleHQudG9VcHBlckNhc2UoKSwgLy8gQ29udmVydGlyIGEgbWF5w7pzY3VsYXMgY29tbyBNckJlYXN0XG4gICAgICAgICAgICBmb250U2l6ZTogODAsIC8vIFRhbWHDsW8gbcOhcyBncmFuZGUgcGFyYSBlc3RpbG8gTXJCZWFzdFxuICAgICAgICAgICAgd2lkdGg6IDkwMCxcbiAgICAgICAgICAgIGZvbnRVcmw6ICcvZm9udHMvbXJiZWFzdC50dGYnLCAvLyBVc2FyIGxhIGZ1ZW50ZSBNckJlYXN0XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnTXJCZWFzdCcsIC8vIE5vbWJyZSBkZSBsYSBmdWVudGUgTXJCZWFzdFxuICAgICAgICAgICAgY29sb3I6ICcjRkZGRjAwJywgLy8gQW1hcmlsbG8gYnJpbGxhbnRlXG4gICAgICAgICAgICB3b3JkV3JhcDogJ2JyZWFrLXdvcmQnLFxuICAgICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgICAgIGJvcmRlcldpZHRoOiAyMCwgLy8gU3Ryb2tlIG5lZ3JvIGdydWVzb1xuICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICcjMDAwMDAwJyxcbiAgICAgICAgICAgIGJveFNoYWRvdzoge1xuICAgICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxuICAgICAgICAgICAgICB4OiAzLFxuICAgICAgICAgICAgICB5OiAzLFxuICAgICAgICAgICAgICBibHVyOiAwLCAvLyBTaW4gZGVzZW5mb3F1ZSBwYXJhIHVuIGVzdGlsbyBtw6FzIGltcGFjdGFudGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCcsIC8vIFNpbiBmb25kbyBwYXJhIHF1ZSBkZXN0YXF1ZSBtw6FzXG4gICAgICAgICAgICBwYWRkaW5nOiAxMCxcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogMCwgLy8gU2luIGJvcmRlcyByZWRvbmRlYWRvcyBwYXJhIHVuIGVzdGlsbyBtw6FzIGltcGFjdGFudGVcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBDYXJnYXIgZWwgYXJjaGl2byBTUlRcbiAgICAgICAgY29uc29sZS5sb2coXCJDYXJnYW5kbyBhcmNoaXZvIFNSVC4uLlwiKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL3RyYW5zY3JpcHRpb25zL3RyYW5zY3JpcHRpb24xLnNydCcpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBhbCBjYXJnYXIgZWwgYXJjaGl2byBTUlQ6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3J0Q29udGVudCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJBcmNoaXZvIFNSVCBjYXJnYWRvIGNvcnJlY3RhbWVudGVcIik7XG5cbiAgICAgICAgLy8gUGFyc2VhciBlbCBhcmNoaXZvIFNSVFxuICAgICAgICBsZXQgc2VnbWVudHMgPSBwYXJzZVNSVChzcnRDb250ZW50KTtcbiAgICAgICAgY29uc29sZS5sb2coYFNlIGVuY29udHJhcm9uICR7c2VnbWVudHMubGVuZ3RofSBzZWdtZW50b3MgZGUgc3VidMOtdHVsb3NgKTtcblxuICAgICAgICAvLyBTaWVtcHJlIHVzYXIgZWwgbW9kbyBhZ3J1cGFkbyAoZGl2aWRpciBlbiBncnVwb3MgZGUgMyBwYWxhYnJhcylcbiAgICAgICAgc2VnbWVudHMgPSBzZWdtZW50cy5mbGF0TWFwKHByb2Nlc3NTZWdtZW50KTtcbiAgICAgICAgY29uc29sZS5sb2coYERlc3B1w6lzIGRlIHByb2Nlc2FyLCBoYXkgJHtzZWdtZW50cy5sZW5ndGh9IHNlZ21lbnRvcyBkZSBzdWJ0w610dWxvc2ApO1xuXG4gICAgICAgIC8vIEZpbHRyYXIgcG9yIHRpZW1wbyBzaSBlcyBuZWNlc2FyaW9cbiAgICAgICAgaWYgKG9wdGlvbnM/LnN0YXJ0VGltZSAhPT0gdW5kZWZpbmVkIHx8IG9wdGlvbnM/LmVuZFRpbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGNvbnN0IG9yaWdpbmFsTGVuZ3RoID0gc2VnbWVudHMubGVuZ3RoO1xuICAgICAgICAgIHNlZ21lbnRzID0gc2VnbWVudHMuZmlsdGVyKHNlZ21lbnQgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGFzc2VzU3RhcnRGaWx0ZXIgPSBvcHRpb25zLnN0YXJ0VGltZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudC5zdGFydFRpbWUgPj0gKG9wdGlvbnMuc3RhcnRUaW1lICogMTAwMCk7XG4gICAgICAgICAgICBjb25zdCBwYXNzZXNFbmRGaWx0ZXIgPSBvcHRpb25zLmVuZFRpbWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWdtZW50LmVuZFRpbWUgPD0gKG9wdGlvbnMuZW5kVGltZSAqIDEwMDApO1xuICAgICAgICAgICAgcmV0dXJuIHBhc3Nlc1N0YXJ0RmlsdGVyICYmIHBhc3Nlc0VuZEZpbHRlcjtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgRmlsdHJhZG8gcG9yIHRpZW1wbzogZGUgJHtvcmlnaW5hbExlbmd0aH0gYSAke3NlZ21lbnRzLmxlbmd0aH0gc2VnbWVudG9zYCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBw7FhZGlyIGxvcyBzdWJ0w610dWxvcyBjb24gdW4gcmV0cmFzbyBlbnRyZSBjYWRhIHVub1xuICAgICAgICBjb25zb2xlLmxvZyhgQcOxYWRpZW5kbyAke3NlZ21lbnRzLmxlbmd0aH0gc2VnbWVudG9zIGRlIHN1YnTDrXR1bG9zIGFsIHRpbWVsaW5lLi4uYCk7XG5cbiAgICAgICAgc2VnbWVudHMuZm9yRWFjaCgoc2VnbWVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKEFERF9URVhULCB7XG4gICAgICAgICAgICAgIHBheWxvYWQ6IGNyZWF0ZVN1YnRpdGxlUGF5bG9hZChzZWdtZW50LnRleHQsIHNlZ21lbnQuc3RhcnRUaW1lLCBzZWdtZW50LmVuZFRpbWUpLFxuICAgICAgICAgICAgICBvcHRpb25zOiB7fSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoKGluZGV4ICsgMSkgJSAxMCA9PT0gMCB8fCBpbmRleCA9PT0gc2VnbWVudHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgUHJvZ3Jlc286ICR7aW5kZXggKyAxfS8ke3NlZ21lbnRzLmxlbmd0aH0gc3VidMOtdHVsb3MgYcOxYWRpZG9zYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgaW5kZXggKiAyMDApOyAvLyAyMDBtcyBkZSByZXRyYXNvIGVudHJlIGNhZGEgc3VidMOtdHVsb1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhbCBhw7FhZGlyIHN1YnTDrXR1bG9zOlwiLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZ2V0QWN0aXZlRWxlbWVudHM6IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIE9idGVuZXIgZWwgZXN0YWRvIGFjdHVhbFxuICAgICAgICBjb25zdCBzdGF0ZSA9IHN0YXRlTWFuYWdlci5nZXRTdGF0ZSgpO1xuXG4gICAgICAgIC8vIFZlcmlmaWNhciBzaSBoYXkgSURzIGFjdGl2b3NcbiAgICAgICAgaWYgKCFzdGF0ZS5hY3RpdmVJZHMgfHwgc3RhdGUuYWN0aXZlSWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm8gaGF5IGVsZW1lbnRvcyBhY3Rpdm9zIHNlbGVjY2lvbmFkb3NcIik7XG4gICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVmVyaWZpY2FyIHNpIGhheSBlbGVtZW50b3MgZW4gZWwgdHJhY2tJdGVtc01hcFxuICAgICAgICBpZiAoIXN0YXRlLnRyYWNrSXRlbXNNYXApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIGhheSB0cmFja0l0ZW1zTWFwIGRpc3BvbmlibGVcIik7XG4gICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT2J0ZW5lciBpbmZvcm1hY2nDs24gZGUgbG9zIGVsZW1lbnRvcyBhY3Rpdm9zXG4gICAgICAgIGNvbnN0IGFjdGl2ZUVsZW1lbnRzID0gc3RhdGUuYWN0aXZlSWRzXG4gICAgICAgICAgLmZpbHRlcihpZCA9PiBzdGF0ZS50cmFja0l0ZW1zTWFwW2lkXSlcbiAgICAgICAgICAubWFwKGlkID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBzdGF0ZS50cmFja0l0ZW1zTWFwW2lkXTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICB0cmFja0lkOiBpdGVtLnRyYWNrSWQsXG4gICAgICAgICAgICAgIHR5cGU6IGl0ZW0udHlwZSxcbiAgICAgICAgICAgICAgZnJvbTogaXRlbS5kaXNwbGF5Py5mcm9tLFxuICAgICAgICAgICAgICB0bzogaXRlbS5kaXNwbGF5Py50byxcbiAgICAgICAgICAgICAgZHVyYXRpb246IGl0ZW0uZGlzcGxheSA/IChpdGVtLmRpc3BsYXkudG8gLSBpdGVtLmRpc3BsYXkuZnJvbSkgOiAwLFxuICAgICAgICAgICAgICBkZXRhaWxzOiBpdGVtLmRldGFpbHNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coYFNlIGVuY29udHJhcm9uICR7YWN0aXZlRWxlbWVudHMubGVuZ3RofSBlbGVtZW50b3MgYWN0aXZvc2ApO1xuICAgICAgICByZXR1cm4gYWN0aXZlRWxlbWVudHM7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWwgb2J0ZW5lciBlbGVtZW50b3MgYWN0aXZvczpcIiwgZXJyb3IpO1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgfSxcblxuICAgIGdldEFsbFRpbWVsaW5lRWxlbWVudHM6IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIE9idGVuZXIgZWwgZXN0YWRvIGFjdHVhbFxuICAgICAgICBjb25zdCBzdGF0ZSA9IHN0YXRlTWFuYWdlci5nZXRTdGF0ZSgpO1xuXG4gICAgICAgIC8vIFZlcmlmaWNhciBzaSBoYXkgZWxlbWVudG9zIGVuIGVsIHRyYWNrSXRlbXNNYXBcbiAgICAgICAgaWYgKCFzdGF0ZS50cmFja0l0ZW1zTWFwIHx8IE9iamVjdC5rZXlzKHN0YXRlLnRyYWNrSXRlbXNNYXApLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm8gaGF5IGVsZW1lbnRvcyBlbiBlbCB0cmFja0l0ZW1zTWFwXCIpO1xuXG4gICAgICAgICAgLy8gQnVzY2FyIGVsZW1lbnRvcyBlbiBvdHJhcyBwcm9waWVkYWRlcyBkZWwgZXN0YWRvXG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoc3RhdGUpKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0YXRlW2tleV0gPT09ICdvYmplY3QnICYmIHN0YXRlW2tleV0gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgY29uc3Qgb2JqVmFsdWUgPSBzdGF0ZVtrZXldO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgRXhwbG9yYW5kbyBwcm9waWVkYWQgYWx0ZXJuYXRpdmE6ICR7a2V5fWApO1xuXG4gICAgICAgICAgICAgIC8vIFZlcmlmaWNhciBzaSBwYXJlY2Ugc2VyIHVuIG1hcGEgZGUgZWxlbWVudG9zXG4gICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhvYmpWYWx1ZSkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNhbXBsZSA9IG9ialZhbHVlW09iamVjdC5rZXlzKG9ialZhbHVlKVswXV07XG4gICAgICAgICAgICAgICAgaWYgKHNhbXBsZSAmJiBzYW1wbGUuZGlzcGxheSAmJiBzYW1wbGUudHlwZSkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEVuY29udHJhZGEgcG9zaWJsZSBmdWVudGUgYWx0ZXJuYXRpdmEgZGUgZWxlbWVudG9zIGVuIHByb3BpZWRhZCAke2tleX1gKTtcblxuICAgICAgICAgICAgICAgICAgLy8gUHJvY2VzYXIgZWxlbWVudG9zIGRlIGVzdGEgcHJvcGllZGFkIGFsdGVybmF0aXZhXG4gICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMob2JqVmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKFtfLCBpdGVtXSkgPT4gaXRlbSAmJiBpdGVtLmRpc3BsYXkpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKFtpZCwgaXRlbV0pID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICAgICAgdHJhY2tJZDogaXRlbS50cmFja0lkLFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGl0ZW0udHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICBmcm9tOiBpdGVtLmRpc3BsYXk/LmZyb20sXG4gICAgICAgICAgICAgICAgICAgICAgdG86IGl0ZW0uZGlzcGxheT8udG8sXG4gICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGl0ZW0uZGlzcGxheSA/IChpdGVtLmRpc3BsYXkudG8gLSBpdGVtLmRpc3BsYXkuZnJvbSkgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGl0ZW0uZGV0YWlsc1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT2J0ZW5lciB0b2RvcyBsb3MgZWxlbWVudG9zXG4gICAgICAgIGNvbnN0IGFsbEVsZW1lbnRzID0gT2JqZWN0LmVudHJpZXMoc3RhdGUudHJhY2tJdGVtc01hcClcbiAgICAgICAgICAuZmlsdGVyKChbXywgaXRlbV0pID0+IGl0ZW0gJiYgaXRlbS5kaXNwbGF5KVxuICAgICAgICAgIC5tYXAoKFtpZCwgaXRlbV0pID0+ICh7XG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIHRyYWNrSWQ6IGl0ZW0udHJhY2tJZCxcbiAgICAgICAgICAgIHR5cGU6IGl0ZW0udHlwZSxcbiAgICAgICAgICAgIGZyb206IGl0ZW0uZGlzcGxheT8uZnJvbSxcbiAgICAgICAgICAgIHRvOiBpdGVtLmRpc3BsYXk/LnRvLFxuICAgICAgICAgICAgZHVyYXRpb246IGl0ZW0uZGlzcGxheSA/IChpdGVtLmRpc3BsYXkudG8gLSBpdGVtLmRpc3BsYXkuZnJvbSkgOiAwLFxuICAgICAgICAgICAgZGV0YWlsczogaXRlbS5kZXRhaWxzXG4gICAgICAgICAgfSkpXG4gICAgICAgICAgLnNvcnQoKGEsIGIpID0+IChhLmZyb20gfHwgMCkgLSAoYi5mcm9tIHx8IDApKTtcblxuICAgICAgICBjb25zb2xlLmxvZyhgU2UgZW5jb250cmFyb24gJHthbGxFbGVtZW50cy5sZW5ndGh9IGVsZW1lbnRvcyBlbiBlbCB0aW1lbGluZWApO1xuICAgICAgICByZXR1cm4gYWxsRWxlbWVudHM7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWwgb2J0ZW5lciB0b2RvcyBsb3MgZWxlbWVudG9zIGRlbCB0aW1lbGluZTpcIiwgZXJyb3IpO1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgfSxcblxuICAgIHJlbW92ZVNlZ21lbnRzOiBhc3luYyAoc2VnbWVudHM6IFRpbWVTZWdtZW50W10pID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiSW5pY2lhbmRvIGVsaW1pbmFjacOzbiBkZSBzZWdtZW50b3MgbcO6bHRpcGxlc1wiKTtcblxuICAgICAgICAvLyBPYnRlbmVyIGVsIGVzdGFkbyBhY3R1YWxcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBzdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKTtcblxuICAgICAgICAvLyBWYWxpZGFyIHF1ZSBoYXlhIGVsZW1lbnRvcyBlbiBsYSB0aW1lbGluZVxuICAgICAgICBpZiAoIXN0YXRlLmFjdGl2ZUlkcyB8fCBzdGF0ZS5hY3RpdmVJZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIk5vIGhheSBlbGVtZW50b3Mgc2VsZWNjaW9uYWRvcyBlbiBsYSB0aW1lbGluZVwiKTtcblxuICAgICAgICAgIC8vIEJ1c2NhciBlbCBwcmltZXIgZWxlbWVudG8gZGlzcG9uaWJsZSBlbiBsYSB0aW1lbGluZVxuICAgICAgICAgIGNvbnN0IHRyYWNrSXRlbXNNYXAgPSBzdGF0ZS50cmFja0l0ZW1zTWFwIHx8IHt9O1xuICAgICAgICAgIGNvbnN0IHRyYWNrSXRlbXMgPSBPYmplY3Qua2V5cyh0cmFja0l0ZW1zTWFwKTtcblxuICAgICAgICAgIGlmICh0cmFja0l0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIk5vIGhheSBlbGVtZW50b3MgZW4gbGEgdGltZWxpbmUgcGFyYSBlbGltaW5hciBzZWdtZW50b3NcIik7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBoYXkgZWxlbWVudG9zIGVuIGxhIHRpbWVsaW5lXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFNlbGVjY2lvbmFyIGVsIHByaW1lciBlbGVtZW50byBkaXNwb25pYmxlXG4gICAgICAgICAgY29uc3QgZmlyc3RJdGVtSWQgPSB0cmFja0l0ZW1zWzBdO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBTZWxlY2Npb25hbmRvIGF1dG9tw6F0aWNhbWVudGUgZWwgZWxlbWVudG8gY29uIElEOiAke2ZpcnN0SXRlbUlkfWApO1xuXG4gICAgICAgICAgZGlzcGF0Y2goTEFZRVJfU0VMRUNULCB7XG4gICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgIGlkczogW2ZpcnN0SXRlbUlkXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gRXNwZXJhciBhIHF1ZSBzZSBhcGxpcXVlIGxhIHNlbGVjY2nDs25cbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMzAwKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBbG1hY2VuYW1vcyBpbmZvcm1hY2nDs24gZGVsIGVsZW1lbnRvIHNlbGVjY2lvbmFkb1xuICAgICAgICBjb25zdCBjdXJyZW50U3RhdGUgPSBzdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKTtcbiAgICAgICAgaWYgKCFjdXJyZW50U3RhdGUuYWN0aXZlSWRzIHx8IGN1cnJlbnRTdGF0ZS5hY3RpdmVJZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gc2UgcHVkbyBzZWxlY2Npb25hciBuaW5nw7puIGVsZW1lbnRvIGVuIGxhIHRpbWVsaW5lXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb3JpZ2luYWxJdGVtSWQgPSBjdXJyZW50U3RhdGUuYWN0aXZlSWRzWzBdO1xuICAgICAgICBjb25zdCBvcmlnaW5hbEl0ZW0gPSBjdXJyZW50U3RhdGUudHJhY2tJdGVtc01hcFtvcmlnaW5hbEl0ZW1JZF07XG4gICAgICAgIGNvbnN0IHRyYWNrVHlwZSA9IG9yaWdpbmFsSXRlbS50eXBlO1xuICAgICAgICBjb25zdCB0cmFja0lkID0gb3JpZ2luYWxJdGVtLnRyYWNrSWQ7XG5cbiAgICAgICAgY29uc29sZS5sb2coYEVsZW1lbnRvIHNlbGVjY2lvbmFkbzogSUQ9JHtvcmlnaW5hbEl0ZW1JZH0sIHRpcG89JHt0cmFja1R5cGV9LCB0cmFja0lkPSR7dHJhY2tJZH1gKTtcblxuICAgICAgICAvLyBQcm9jZXNhciBjYWRhIHNlZ21lbnRvIGVuIG9yZGVuIChkZSBmaW5hbCBhIHByaW5jaXBpbyBwYXJhIGV2aXRhciBhZmVjdGFyIHBvc2ljaW9uZXMpXG4gICAgICAgIGZvciAobGV0IGkgPSBzZWdtZW50cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGNvbnN0IHNlZ21lbnQgPSBzZWdtZW50c1tpXTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgUHJvY2VzYW5kbyBzZWdtZW50byAke2krMX0vJHtzZWdtZW50cy5sZW5ndGh9OiAke3NlZ21lbnQuc3RhcnRUaW1lfXMgLSAke3NlZ21lbnQuZW5kVGltZX1zYCk7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gUEFTTyAxOiBIYWNlciB1biBjb3J0ZSBlbiBlbCB0aWVtcG8gZmluYWxcbiAgICAgICAgICAgIGNvbnN0IGVuZE1zID0gc2VnbWVudC5lbmRUaW1lICogMTAwMDtcbiAgICAgICAgICAgIGRpc3BhdGNoKEFDVElWRV9TUExJVCwge1xuICAgICAgICAgICAgICBwYXlsb2FkOiB7fSxcbiAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHRpbWU6IGVuZE1zLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgUGFzbyAxOiBDb3J0ZSBhcGxpY2FkbyBlbiB0aWVtcG8gZmluYWwgJHtzZWdtZW50LmVuZFRpbWV9c2ApO1xuXG4gICAgICAgICAgICAvLyBFc3BlcmFyIGEgcXVlIHNlIHByb2Nlc2UgZWwgcHJpbWVyIGNvcnRlXG4gICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSk7XG5cbiAgICAgICAgICAgIC8vIE9idGVuZW1vcyBlbCBlc3RhZG8gZGVzcHXDqXMgZGVsIHByaW1lciBjb3J0ZVxuICAgICAgICAgICAgY29uc3Qgc3RhdGVBZnRlckZpcnN0Q3V0ID0gc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCk7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50c0FmdGVyRmlyc3RDdXQgPSBPYmplY3QuZW50cmllcyhzdGF0ZUFmdGVyRmlyc3RDdXQudHJhY2tJdGVtc01hcClcbiAgICAgICAgICAgICAgLmZpbHRlcigoW18sIGl0ZW1dKSA9PlxuICAgICAgICAgICAgICAgIGl0ZW0udHlwZSA9PT0gdHJhY2tUeXBlICYmXG4gICAgICAgICAgICAgICAgaXRlbS50cmFja0lkID09PSB0cmFja0lkICYmXG4gICAgICAgICAgICAgICAgaXRlbS5kaXNwbGF5ICYmXG4gICAgICAgICAgICAgICAgIWlzTmFOKGl0ZW0uZGlzcGxheS5mcm9tKSAmJlxuICAgICAgICAgICAgICAgICFpc05hTihpdGVtLmRpc3BsYXkudG8pXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgLm1hcCgoW2lkLCBpdGVtXSkgPT4gKHtcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICBmcm9tOiBpdGVtLmRpc3BsYXkuZnJvbSxcbiAgICAgICAgICAgICAgICB0bzogaXRlbS5kaXNwbGF5LnRvLFxuICAgICAgICAgICAgICAgIGR1cmFjacOzbjogaXRlbS5kaXNwbGF5LnRvIC0gaXRlbS5kaXNwbGF5LmZyb21cbiAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBhLmZyb20gLSBiLmZyb20pO1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVsZW1lbnRvcyBkZXNwdcOpcyBkZWwgcHJpbWVyIGNvcnRlOlwiLCBlbGVtZW50c0FmdGVyRmlyc3RDdXQpO1xuXG4gICAgICAgICAgICAvLyBQQVNPIDI6IElkZW50aWZpY2FyIGVsIGVsZW1lbnRvIGl6cXVpZXJkbyBxdWUgY29udGllbmUgZWwgdGllbXBvIGluaWNpYWxcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0TXMgPSBzZWdtZW50LnN0YXJ0VGltZSAqIDEwMDA7XG4gICAgICAgICAgICBjb25zdCBsZWZ0RWxlbWVudCA9IGVsZW1lbnRzQWZ0ZXJGaXJzdEN1dC5maW5kKGVsZW0gPT5cbiAgICAgICAgICAgICAgZWxlbS5mcm9tIDw9IHN0YXJ0TXMgJiYgZWxlbS50byA+PSBzdGFydE1zXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpZiAoIWxlZnRFbGVtZW50KSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYE5vIHNlIHB1ZG8gaWRlbnRpZmljYXIgZWwgZWxlbWVudG8gaXpxdWllcmRvIHBhcmEgZWwgc2VnbWVudG8gJHtpKzF9YCk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgUGFzbyAyOiBFbGVtZW50byBpenF1aWVyZG8gaWRlbnRpZmljYWRvIChJRDogJHtsZWZ0RWxlbWVudC5pZH0pYCk7XG5cbiAgICAgICAgICAgIC8vIFBBU08gMzogU2VsZWNjaW9uYXIgZWwgZWxlbWVudG8gaXpxdWllcmRvIHkgaGFjZXIgY29ydGUgZW4gdGllbXBvIGluaWNpYWxcbiAgICAgICAgICAgIGRpc3BhdGNoKExBWUVSX1NFTEVDVCwge1xuICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgaWRzOiBbbGVmdEVsZW1lbnQuaWRdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBFc3BlcmFyIGEgcXVlIHNlIGFwbGlxdWUgbGEgc2VsZWNjacOzblxuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDMwMCkpO1xuXG4gICAgICAgICAgICAvLyBBcGxpY2FyIGVsIGNvcnRlIGVuIGVsIHRpZW1wbyBpbmljaWFsXG4gICAgICAgICAgICBkaXNwYXRjaChBQ1RJVkVfU1BMSVQsIHtcbiAgICAgICAgICAgICAgcGF5bG9hZDoge30sXG4gICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICB0aW1lOiBzdGFydE1zLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgUGFzbyAzOiBTZWd1bmRvIGNvcnRlIGFwbGljYWRvIGVuIHRpZW1wbyBpbmljaWFsICR7c2VnbWVudC5zdGFydFRpbWV9c2ApO1xuXG4gICAgICAgICAgICAvLyBFc3BlcmFyIGEgcXVlIHNlIHByb2Nlc2UgZWwgc2VndW5kbyBjb3J0ZVxuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpO1xuXG4gICAgICAgICAgICAvLyBPYnRlbmVtb3MgZWwgZXN0YWRvIGRlc3B1w6lzIGRlbCBzZWd1bmRvIGNvcnRlXG4gICAgICAgICAgICBjb25zdCBzdGF0ZUFmdGVyU2Vjb25kQ3V0ID0gc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCk7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50c0FmdGVyU2Vjb25kQ3V0ID0gT2JqZWN0LmVudHJpZXMoc3RhdGVBZnRlclNlY29uZEN1dC50cmFja0l0ZW1zTWFwKVxuICAgICAgICAgICAgICAuZmlsdGVyKChbXywgaXRlbV0pID0+XG4gICAgICAgICAgICAgICAgaXRlbS50eXBlID09PSB0cmFja1R5cGUgJiZcbiAgICAgICAgICAgICAgICBpdGVtLnRyYWNrSWQgPT09IHRyYWNrSWQgJiZcbiAgICAgICAgICAgICAgICBpdGVtLmRpc3BsYXkgJiZcbiAgICAgICAgICAgICAgICAhaXNOYU4oaXRlbS5kaXNwbGF5LmZyb20pICYmXG4gICAgICAgICAgICAgICAgIWlzTmFOKGl0ZW0uZGlzcGxheS50bylcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAubWFwKChbaWQsIGl0ZW1dKSA9PiAoe1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIGZyb206IGl0ZW0uZGlzcGxheS5mcm9tLFxuICAgICAgICAgICAgICAgIHRvOiBpdGVtLmRpc3BsYXkudG8sXG4gICAgICAgICAgICAgICAgZHVyYWNpw7NuOiBpdGVtLmRpc3BsYXkudG8gLSBpdGVtLmRpc3BsYXkuZnJvbVxuICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGEuZnJvbSAtIGIuZnJvbSk7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRWxlbWVudG9zIGRlc3B1w6lzIGRlbCBzZWd1bmRvIGNvcnRlOlwiLCBlbGVtZW50c0FmdGVyU2Vjb25kQ3V0KTtcblxuICAgICAgICAgICAgLy8gUEFTTyA0OiBJZGVudGlmaWNhciBlbCBlbGVtZW50byBkZWwgbWVkaW8gdXNhbmRvIGNyaXRlcmlvcyBtw6FzIHByZWNpc29zXG4gICAgICAgICAgICBjb25zdCBtaWRkbGVFbGVtZW50cyA9IGVsZW1lbnRzQWZ0ZXJTZWNvbmRDdXQuZmlsdGVyKGVsZW0gPT5cbiAgICAgICAgICAgICAgTWF0aC5hYnMoZWxlbS5mcm9tIC0gc3RhcnRNcykgPCA1MCAmJiBNYXRoLmFicyhlbGVtLnRvIC0gZW5kTXMpIDwgNTBcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRWxlbWVudG9zIHF1ZSBjb2luY2lkZW4gY29uIGxvcyBjcml0ZXJpb3MgZGVsIG1lZGlvOlwiLCBtaWRkbGVFbGVtZW50cyk7XG5cbiAgICAgICAgICAgIGlmIChtaWRkbGVFbGVtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgTm8gc2UgcHVkbyBpZGVudGlmaWNhciBlbCBlbGVtZW50byBkZWwgbWVkaW8gcGFyYSBlbCBzZWdtZW50byAke2krMX1gKTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNpIGhheSBtw6FzIGRlIHVuIGVsZW1lbnRvIHF1ZSBjb2luY2lkZSwgdG9tYW1vcyBlbCBwcmltZXJvXG4gICAgICAgICAgICBjb25zdCBtaWRkbGVFbGVtZW50ID0gbWlkZGxlRWxlbWVudHNbMF07XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgUGFzbyA0OiBFbGVtZW50byBkZWwgbWVkaW8gaWRlbnRpZmljYWRvIChJRDogJHttaWRkbGVFbGVtZW50LmlkfSlgKTtcblxuICAgICAgICAgICAgLy8gUEFTTyA1OiBTZWxlY2Npb25hciB5IGVsaW1pbmFyIGVsIGVsZW1lbnRvIGRlbCBtZWRpb1xuICAgICAgICAgICAgZGlzcGF0Y2goTEFZRVJfU0VMRUNULCB7XG4gICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICBpZHM6IFttaWRkbGVFbGVtZW50LmlkXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gRXNwZXJhciBhIHF1ZSBzZSBhcGxpcXVlIGxhIHNlbGVjY2nDs25cbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAzMDApKTtcblxuICAgICAgICAgICAgLy8gVmVyaWZpY2FyIHF1ZSBlbCBlbGVtZW50byBlc3TDoSBzZWxlY2Npb25hZG8gYW50ZXMgZGUgZWxpbWluYXJsb1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFN0YXRlID0gc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCk7XG4gICAgICAgICAgICBpZiAoY3VycmVudFN0YXRlLmFjdGl2ZUlkcyAmJiBjdXJyZW50U3RhdGUuYWN0aXZlSWRzLmluY2x1ZGVzKG1pZGRsZUVsZW1lbnQuaWQpKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBFbGVtZW50byBkZWwgbWVkaW8gY29ycmVjdGFtZW50ZSBzZWxlY2Npb25hZG8sIHByb2NlZGllbmRvIGNvbiBlbGltaW5hY2nDs25gKTtcbiAgICAgICAgICAgICAgZGlzcGF0Y2goTEFZRVJfREVMRVRFKTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYEVsZW1lbnRvIGVsaW1pbmFkbyBjb3JyZWN0YW1lbnRlOiAke21pZGRsZUVsZW1lbnQuaWR9YCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgTm8gc2UgcHVkbyBzZWxlY2Npb25hciBub3JtYWxtZW50ZSwgaW50ZW50YW5kbyBtw6l0b2RvIGFsdGVybmF0aXZvYCk7XG5cbiAgICAgICAgICAgICAgLy8gRW5mb3F1ZSBhbHRlcm5hdGl2bzogVXNhciBlbCBFRElUX09CSkVDVCBwYXJhIFwib2N1bHRhclwiIGVsIHNlZ21lbnRvXG4gICAgICAgICAgICAgIGRpc3BhdGNoKEVESVRfT0JKRUNULCB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgW21pZGRsZUVsZW1lbnQuaWRdOiB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgICAgICAgICAgICAgICBmcm9tOiAtOTk5OTksIC8vIFVuIHZhbG9yIGZ1ZXJhIGRlbCByYW5nbyB2aXNpYmxlXG4gICAgICAgICAgICAgICAgICAgICAgdG86IC05OTk5MFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZSAvLyBBZGljaW9uYWxtZW50ZSBtYXJjYXJsbyBjb21vIG5vIHZpc2libGVcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQXBsaWNhZG8gbcOpdG9kbyBhbHRlcm5hdGl2byBwYXJhIG9jdWx0YXIgZWwgc2VnbWVudG9gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRXNwZXJhciBhIHF1ZSBzZSBwcm9jZXNlIGxhIGVsaW1pbmFjacOzblxuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpO1xuXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGFsIHByb2Nlc2FyIGVsIHNlZ21lbnRvICR7aSsxfTpgLCBlcnJvcik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gUGF1c2EgZW50cmUgc2VnbWVudG9zXG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWN0dWFsaXphciBsYSBlc2NhbGEgcGFyYSByZWZyZXNjYXIgbGEgdmlzdGFcbiAgICAgICAgY29uc3QgeyBzY2FsZSB9ID0gc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCk7XG4gICAgICAgIGlmIChzY2FsZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiQWN0dWFsaXphbmRvIGVzY2FsYSBwYXJhIHJlZnJlc2NhciBsYSB2aXN0YVwiKTtcblxuICAgICAgICAgIC8vIEd1YXJkYXIgZWwgdmFsb3IgYWN0dWFsIGRlIHNjYWxlLnVuaXRcbiAgICAgICAgICBjb25zdCBvcmlnaW5hbFVuaXQgPSBzY2FsZS51bml0O1xuXG4gICAgICAgICAgLy8gSW5jcmVtZW50YXIgZWwgdmFsb3JcbiAgICAgICAgICBzY2FsZS51bml0ICs9IDE7XG4gICAgICAgICAgY29uc29sZS5sb2coYFNjYWxlIGNhbWJpYWRhOiAke29yaWdpbmFsVW5pdH0gLT4gJHtzY2FsZS51bml0fWApO1xuXG4gICAgICAgICAgLy8gQXNlZ3VyYXIgcXVlIGVsIGNhbWJpbyBzZWEgbm90YWRvIHBvciBlbCBzaXN0ZW1hXG4gICAgICAgICAgZGlzcGF0Y2goVElNRUxJTkVfU0NBTEVfQ0hBTkdFRCwge1xuICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICBzY2FsZToge1xuICAgICAgICAgICAgICAgIC4uLnNjYWxlLCAgLy8gSW5jbHVpciB0b2RhcyBsYXMgcHJvcGllZGFkZXMgZGUgc2NhbGVcbiAgICAgICAgICAgICAgICB1bml0OiBzY2FsZS51bml0ICAvLyBFeHBsw61jaXRhbWVudGUgZXN0YWJsZWNlciBlbCBudWV2byB2YWxvclxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIEZvcnphciB1bmEgYWN0dWFsaXphY2nDs24gYWRpY2lvbmFsIHZvbHZpZW5kbyBhbCB2YWxvciBvcmlnaW5hbCBkZXNwdcOpcyBkZSB1biBtb21lbnRvXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U3RhdGUgPSBzdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50U3RhdGUuc2NhbGUpIHtcbiAgICAgICAgICAgICAgZGlzcGF0Y2goVElNRUxJTkVfU0NBTEVfQ0hBTkdFRCwge1xuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgIHNjYWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRTdGF0ZS5zY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgdW5pdDogb3JpZ2luYWxVbml0ICAvLyBWb2x2ZXIgYWwgdmFsb3Igb3JpZ2luYWxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYFJlc3RhdXJhZG8gc2NhbGUgYSB2YWxvciBvcmlnaW5hbDogJHtvcmlnaW5hbFVuaXR9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgMzAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRWxpbWluYWNpw7NuIGRlIHNlZ21lbnRvcyBjb21wbGV0YWRhXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhbCBlbGltaW5hciBzZWdtZW50b3M6XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBjb21wYWN0VGltZWxpbmU6IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiPT09IElOSUNJQU5ETyBDT01QQUNUQUNJw5NOIERFIEzDjU5FQSBERSBUSUVNUE8gREVTREUgSUEgPT09XCIpO1xuXG4gICAgICAgIC8vIE9idGVuZXIgZWwgZXN0YWRvIGFjdHVhbFxuICAgICAgICBjb25zdCBlc3RhZG8gPSBzdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJFc3RhZG8gcGFyYSBjb21wYWN0YWNpw7NuOlwiLCBPYmplY3Qua2V5cyhlc3RhZG8pKTtcblxuICAgICAgICAvLyBBw7FhZGlyIHVuIHRpZW1wbyBkZSBlc3BlcmEgaW5pY2lhbCBwYXJhIGFzZWd1cmFyIHF1ZSBlbCBlc3RhZG8gZXN0w6EgYWN0dWFsaXphZG9cbiAgICAgICAgY29uc29sZS5sb2coXCJFc3BlcmFuZG8gMSBzZWd1bmRvIHBhcmEgYXNlZ3VyYXIgY29uc2lzdGVuY2lhIGRlbCBlc3RhZG8uLi5cIik7XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKSk7XG5cbiAgICAgICAgLy8gVmVyaWZpY2FjacOzbiBhZGljaW9uYWwgcGFyYSBhc2VndXJhcm5vcyBxdWUgbG9zIGNhbWJpb3MgZW4gbGEgdGltZWxpbmUgeWEgc2UgYXBsaWNhcm9uXG4gICAgICAgIGNvbnNvbGUubG9nKFwiVmVyaWZpY2FuZG8gcXVlIGxvcyBlbGVtZW50b3MgZW4gbGEgdGltZWxpbmUgcmVmbGVqZW4gbG9zIGNhbWJpb3MgbcOhcyByZWNpZW50ZXMuLi5cIik7XG5cbiAgICAgICAgLy8gUGVxdWXDsWEgcGF1c2EgYWRpY2lvbmFsIHBhcmEgYXNlZ3VyYXIgY29uc2lzdGVuY2lhIGRlbCBlc3RhZG9cbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpO1xuXG4gICAgICAgIC8vIEJ1c2NhciBsb3MgZWxlbWVudG9zIGRlbCB0aW1lbGluZSAtIHVzYW5kbyBsYSByZWZlcmVuY2lhIGFsIG3DqXRvZG8gZGVudHJvIGRlbCBtaXNtbyBvYmpldG9cbiAgICAgICAgY29uc3QgdG9kb3NFbGVtZW50b3MgPSBhd2FpdCBleGVjdXRvci5nZXRBbGxUaW1lbGluZUVsZW1lbnRzKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBFbmNvbnRyYWRvcyAke3RvZG9zRWxlbWVudG9zLmxlbmd0aH0gZWxlbWVudG9zIGVuIGxhIHRpbWVsaW5lYCk7XG5cbiAgICAgICAgLy8gTG9nZ2luZyBkZSBlbGVtZW50b3MgcGFyYSBkaWFnbsOzc3RpY29cbiAgICAgICAgdG9kb3NFbGVtZW50b3MuZm9yRWFjaCgoZWxlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgRWxlbWVudG8gJHtpbmRleCArIDF9OiBJRD0ke2VsZW0uaWR9LCBUaXBvPSR7ZWxlbS50eXBlfSwgVHJhY2s9JHtlbGVtLnRyYWNrSWR9LCBUaWVtcG89JHtlbGVtLmZyb219bXMtJHtlbGVtLnRvfW1zIChkdXJhY2nDs249JHtlbGVtLnRvLWVsZW0uZnJvbX1tcylgKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU2kgbm8gaGF5IGVsZW1lbnRvcywgbm8gcG9kZW1vcyBjb21wYWN0YXJcbiAgICAgICAgaWYgKHRvZG9zRWxlbWVudG9zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm8gaGF5IGVsZW1lbnRvcyBlbiBlbCB0aW1lbGluZSBwYXJhIGNvbXBhY3RhclwiKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZ3J1cGFyIGVsZW1lbnRvcyBwb3IgdHJhY2sgcGFyYSBhbsOhbGlzaXNcbiAgICAgICAgY29uc3QgZWxlbWVudG9zUG9yVHJhY2sgPSB7fTtcbiAgICAgICAgdG9kb3NFbGVtZW50b3MuZm9yRWFjaChlbGVtID0+IHtcbiAgICAgICAgICBpZiAoZWxlbS50cmFja0lkKSB7XG4gICAgICAgICAgICBpZiAoIWVsZW1lbnRvc1BvclRyYWNrW2VsZW0udHJhY2tJZF0pIHtcbiAgICAgICAgICAgICAgZWxlbWVudG9zUG9yVHJhY2tbZWxlbS50cmFja0lkXSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudG9zUG9yVHJhY2tbZWxlbS50cmFja0lkXS5wdXNoKGVsZW0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gT3JkZW5hciBlbGVtZW50b3MgZW4gY2FkYSB0cmFjayBwb3IgdGllbXBvXG4gICAgICAgIE9iamVjdC5rZXlzKGVsZW1lbnRvc1BvclRyYWNrKS5mb3JFYWNoKHRyYWNrSWQgPT4ge1xuICAgICAgICAgIGVsZW1lbnRvc1BvclRyYWNrW3RyYWNrSWRdLnNvcnQoKGEsIGIpID0+IGEuZnJvbSAtIGIuZnJvbSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRWxlbWVudG9zIGFncnVwYWRvcyBwb3IgdHJhY2s6XCIsIE9iamVjdC5rZXlzKGVsZW1lbnRvc1BvclRyYWNrKS5sZW5ndGgpO1xuXG4gICAgICAgIC8vIExvZ2dpbmcgZGUgdHJhY2tzIHBhcmEgZGlhZ27Ds3N0aWNvXG4gICAgICAgIE9iamVjdC5rZXlzKGVsZW1lbnRvc1BvclRyYWNrKS5mb3JFYWNoKHRyYWNrSWQgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBUcmFjayAke3RyYWNrSWR9OiAke2VsZW1lbnRvc1BvclRyYWNrW3RyYWNrSWRdLmxlbmd0aH0gZWxlbWVudG9zYCk7XG4gICAgICAgICAgLy8gTW9zdHJhciBsb3MgZWxlbWVudG9zIGVuIGVzdGUgdHJhY2sgb3JkZW5hZG9zXG4gICAgICAgICAgZWxlbWVudG9zUG9yVHJhY2tbdHJhY2tJZF0uZm9yRWFjaCgoZWxlbSwgaWR4KSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgICAke2lkeCsxfS4gSUQ9JHtlbGVtLmlkLnN1YnN0cmluZygwLDgpfS4uLiBUaWVtcG89JHtlbGVtLmZyb219bXMtJHtlbGVtLnRvfW1zIChkdXJhY2nDs246ICR7ZWxlbS50by1lbGVtLmZyb219bXMpYCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEJ1c2NhciBlc3BhY2lvcyB2YWPDrW9zIGVuIGNhZGEgdHJhY2tcbiAgICAgICAgY29uc3QgZXNwYWNpb3NWYWNpb3MgPSBbXTtcblxuICAgICAgICBPYmplY3Qua2V5cyhlbGVtZW50b3NQb3JUcmFjaykuZm9yRWFjaCh0cmFja0lkID0+IHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50b3MgPSBlbGVtZW50b3NQb3JUcmFja1t0cmFja0lkXTtcblxuICAgICAgICAgIC8vIFNpIGhheSBhbCBtZW5vcyAyIGVsZW1lbnRvcywgcG9kZW1vcyBidXNjYXIgZXNwYWNpb3NcbiAgICAgICAgICBpZiAoZWxlbWVudG9zLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRvcy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgY29uc3QgZWxlbWVudG9BY3R1YWwgPSBlbGVtZW50b3NbaV07XG4gICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRvU2lndWllbnRlID0gZWxlbWVudG9zW2kgKyAxXTtcblxuICAgICAgICAgICAgICAvLyBWZXJpZmljYXIgc2kgaGF5IHVuIGVzcGFjaW8gZW50cmUgZWwgZmluIGRlbCBlbGVtZW50byBhY3R1YWwgeSBlbCBpbmljaW8gZGVsIHNpZ3VpZW50ZVxuICAgICAgICAgICAgICBjb25zdCBlc3BhY2lvID0gZWxlbWVudG9TaWd1aWVudGUuZnJvbSAtIGVsZW1lbnRvQWN0dWFsLnRvO1xuXG4gICAgICAgICAgICAgIC8vIFNpIGVsIGVzcGFjaW8gZXMgc2lnbmlmaWNhdGl2byAobcOhcyBkZSAxMDBtcylcbiAgICAgICAgICAgICAgaWYgKGVzcGFjaW8gPiAxMDApIHtcbiAgICAgICAgICAgICAgICBlc3BhY2lvc1ZhY2lvcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIHRyYWNrSWQsXG4gICAgICAgICAgICAgICAgICBzdGFydDogZWxlbWVudG9BY3R1YWwudG8sXG4gICAgICAgICAgICAgICAgICBlbmQ6IGVsZW1lbnRvU2lndWllbnRlLmZyb20sXG4gICAgICAgICAgICAgICAgICBzaXplOiBlc3BhY2lvLFxuICAgICAgICAgICAgICAgICAgZWxlbWVudG9BbnRlczogZWxlbWVudG9BY3R1YWwuaWQsXG4gICAgICAgICAgICAgICAgICBlbGVtZW50b0Rlc3B1ZXM6IGVsZW1lbnRvU2lndWllbnRlLmlkXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEVuY29udHJhZG8gZXNwYWNpbyBkZSAke2VzcGFjaW99bXMgKCR7ZXNwYWNpby8xMDAwfXMpIGVuIHRyYWNrICR7dHJhY2tJZH0gZW50cmUgZWxlbWVudG9zICR7ZWxlbWVudG9BY3R1YWwuaWQuc3Vic3RyaW5nKDAsOCl9Li4uIHkgJHtlbGVtZW50b1NpZ3VpZW50ZS5pZC5zdWJzdHJpbmcoMCw4KX0uLi5gKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coYFNlIGVuY29udHJhcm9uICR7ZXNwYWNpb3NWYWNpb3MubGVuZ3RofSBlc3BhY2lvcyB2YWPDrW9zYCk7XG5cbiAgICAgICAgLy8gU2kgbm8gaGF5IGVzcGFjaW9zLCBubyBuZWNlc2l0YW1vcyBjb21wYWN0YXJcbiAgICAgICAgaWYgKGVzcGFjaW9zVmFjaW9zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm8gaGF5IGVzcGFjaW9zIHNpZ25pZmljYXRpdm9zIHBhcmEgY29tcGFjdGFyXCIpO1xuICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBEZXZvbHZlbW9zIHRydWUgcG9ycXVlIHTDqWNuaWNhbWVudGUgZXN0w6EgY29tcGFjdGFkb1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT3JkZW5hciBlc3BhY2lvcyBwb3IgcG9zaWNpw7NuIChkZSBpenF1aWVyZGEgYSBkZXJlY2hhKVxuICAgICAgICBlc3BhY2lvc1ZhY2lvcy5zb3J0KChhLCBiKSA9PiBhLnN0YXJ0IC0gYi5zdGFydCk7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXIgZWwgZXNwYWNpbyB0b3RhbCBhIGNvbXBhY3RhclxuICAgICAgICBsZXQgZXNwYWNpb1RvdGFsID0gMDtcbiAgICAgICAgZXNwYWNpb3NWYWNpb3MuZm9yRWFjaChlc3BhY2lvID0+IHtcbiAgICAgICAgICBlc3BhY2lvVG90YWwgKz0gZXNwYWNpby5zaXplO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zb2xlLmxvZyhgRXNwYWNpbyB0b3RhbCBhIGNvbXBhY3RhcjogJHtlc3BhY2lvVG90YWx9bXMgKCR7ZXNwYWNpb1RvdGFsLzEwMDB9cylgKTtcbiAgICAgICAgY29uc29sZS5sb2coYFByZXBhcmFuZG8gYWN0dWFsaXphY2lvbmVzIHBhcmEgJHt0b2Rvc0VsZW1lbnRvcy5sZW5ndGh9IGVsZW1lbnRvcy4uLmApO1xuXG4gICAgICAgIC8vIFByZXBhcmFyIGFjdHVhbGl6YWNpb25lcyBwYXJhIGNhZGEgZWxlbWVudG9cbiAgICAgICAgY29uc3QgYWN0dWFsaXphY2lvbmVzID0ge307XG4gICAgICAgIGxldCBlbGVtZW50b3NBTW92ZXIgPSAwO1xuXG4gICAgICAgIC8vIFBhcmEgY2FkYSBlbGVtZW50bywgY2FsY3VsYW1vcyBlbCBkZXNwbGF6YW1pZW50byBiYXNhZG8gZW4gbG9zIGVzcGFjaW9zIGFudGVyaW9yZXNcbiAgICAgICAgdG9kb3NFbGVtZW50b3MuZm9yRWFjaChlbGVtZW50byA9PiB7XG4gICAgICAgICAgbGV0IGRlc3BsYXphbWllbnRvID0gMDtcblxuICAgICAgICAgIC8vIENhbGN1bGFyIGN1w6FudG8gZGViZSBtb3ZlcnNlIGJhc2FkbyBlbiBsb3MgZXNwYWNpb3MgdmFjw61vcyBhbnRlcmlvcmVzXG4gICAgICAgICAgZm9yIChjb25zdCBlc3BhY2lvIG9mIGVzcGFjaW9zVmFjaW9zKSB7XG4gICAgICAgICAgICAvLyBTaSBlbCBlbGVtZW50byBlc3TDoSBkZXNwdcOpcyBkZWwgZXNwYWNpbyB2YWPDrW8sIGRlYmUgbW92ZXJzZVxuICAgICAgICAgICAgaWYgKGVsZW1lbnRvLmZyb20gPiBlc3BhY2lvLmVuZCkge1xuICAgICAgICAgICAgICBkZXNwbGF6YW1pZW50byArPSBlc3BhY2lvLnNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU2kgaGF5IGRlc3BsYXphbWllbnRvLCBhw7FhZGlyIGEgbGFzIGFjdHVhbGl6YWNpb25lc1xuICAgICAgICAgIGlmIChkZXNwbGF6YW1pZW50byA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG51ZXZvRnJvbSA9IGVsZW1lbnRvLmZyb20gLSBkZXNwbGF6YW1pZW50bztcbiAgICAgICAgICAgIGNvbnN0IG51ZXZvVG8gPSBlbGVtZW50by50byAtIGRlc3BsYXphbWllbnRvO1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgRWxlbWVudG8gJHtlbGVtZW50by5pZC5zdWJzdHJpbmcoMCw4KX0uLi4gc2UgbW92ZXLDoTogJHtlbGVtZW50by5mcm9tfW1zIC0+ICR7bnVldm9Gcm9tfW1zIChkZXNwbGF6YW1pZW50bzogJHtkZXNwbGF6YW1pZW50b31tcylgKTtcblxuICAgICAgICAgICAgYWN0dWFsaXphY2lvbmVzW2VsZW1lbnRvLmlkXSA9IHtcbiAgICAgICAgICAgICAgZGlzcGxheToge1xuICAgICAgICAgICAgICAgIGZyb206IG51ZXZvRnJvbSxcbiAgICAgICAgICAgICAgICB0bzogbnVldm9Ub1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZWxlbWVudG9zQU1vdmVyKys7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zb2xlLmxvZyhgRWxlbWVudG9zIGEgbW92ZXI6ICR7ZWxlbWVudG9zQU1vdmVyfSBkZSAke3RvZG9zRWxlbWVudG9zLmxlbmd0aH0gdG90YWxgKTtcblxuICAgICAgICAvLyBBcGxpY2FyIGxhcyBhY3R1YWxpemFjaW9uZXNcbiAgICAgICAgaWYgKGVsZW1lbnRvc0FNb3ZlciA+IDApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkFwbGljYW5kbyBhY3R1YWxpemFjaW9uZXMgcGFyYSBjb21wYWN0YXIgdGltZWxpbmUuLi5cIik7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGlzcGF0Y2goRURJVF9PQkpFQ1QsIHtcbiAgICAgICAgICAgICAgcGF5bG9hZDogYWN0dWFsaXphY2lvbmVzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQWN0dWFsaXphY2lvbmVzIGFwbGljYWRhcyBjb24gw6l4aXRvXCIpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWwgYXBsaWNhciBhY3R1YWxpemFjaW9uZXM6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBSZWZyZXNjYXIgbGEgdmlzdGFcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IHsgc2NhbGUgfSA9IHN0YXRlTWFuYWdlci5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICBpZiAoc2NhbGUpIHtcbiAgICAgICAgICAgICAgICAvLyBIYWNlciB1biBwZXF1ZcOxbyBjYW1iaW8gZW4gbGEgZXNjYWxhIHBhcmEgZm9yemFyIGxhIGFjdHVhbGl6YWNpw7NuXG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZFNjYWxlID0geyAuLi5zY2FsZSB9O1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB1cGRhdGVkU2NhbGUudW5pdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZWRTY2FsZS51bml0ID0gKHVwZGF0ZWRTY2FsZS51bml0IHx8IDApICsgMTtcblxuICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goVElNRUxJTkVfU0NBTEVfQ0hBTkdFRCwge1xuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7IHNjYWxlOiB1cGRhdGVkU2NhbGUgfVxuICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIFZvbHZlciBhIGxhIGVzY2FsYSBvcmlnaW5hbFxuICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTY2FsZSA9IHsgLi4uc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCkuc2NhbGUgfTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFNjYWxlLnVuaXQgPSAoY3VycmVudFNjYWxlLnVuaXQgfHwgMSkgLSAxO1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChUSU1FTElORV9TQ0FMRV9DSEFOR0VELCB7XG4gICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogeyBzY2FsZTogY3VycmVudFNjYWxlIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9LCAzMDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIHJlZnJlc2NhciBsYSB2aXN0YTpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIDUwMCk7XG5cbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbXBhY3RhY2nDs24gY29tcGxldGFkYSBjb24gw6l4aXRvXCIpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm8gaGF5IGVsZW1lbnRvcyBxdWUgbmVjZXNpdGVuIG1vdmVyc2VcIik7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhbCBjb21wYWN0YXIgbGEgbMOtbmVhIGRlIHRpZW1wbzpcIiwgZXJyb3IpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHNtYXJ0VHJpbTogYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS5sb2coXCI9PT0gSU5JQ0lBTkRPIFBST0NFU08gREUgUkVDT1JURSBJTlRFTElHRU5URSBERVNERSBJQSA9PT1cIik7XG5cbiAgICAgICAgLy8gMS4gUmVhbGl6YXIgbGEgbGxhbWFkYSBhbCBBUEkgcGFyYSBhbmFsaXphciBsYSB0cmFuc2NyaXBjacOzblxuICAgICAgICBjb25zb2xlLmxvZyhcIlNvbGljaXRhbmRvIGFuw6FsaXNpcyBkZSB0cmFuc2NyaXBjacOzbi4uLlwiKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9zbWFydC10cmltJyk7XG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgYWwgYW5hbGl6YXIgbGEgdHJhbnNjcmlwY2nDs246ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJBbsOhbGlzaXMgZGUgdHJhbnNjcmlwY2nDs24gY29tcGxldGFkbzpcIiwgZGF0YSk7XG5cbiAgICAgICAgaWYgKCFkYXRhLnJlbW92ZVNlZ21lbnRzIHx8ICFBcnJheS5pc0FycmF5KGRhdGEucmVtb3ZlU2VnbWVudHMpIHx8IGRhdGEucmVtb3ZlU2VnbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJObyBzZSBlbmNvbnRyYXJvbiBzZWdtZW50b3MgcGFyYSBlbGltaW5hclwiKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyAyLiBDb252ZXJ0aXIgbG9zIHNlZ21lbnRvcyBhbCBmb3JtYXRvIHF1ZSBlc3BlcmEgcmVtb3ZlU2VnbWVudHNcbiAgICAgICAgY29uc3Qgc2VnbWVudHMgPSBkYXRhLnJlbW92ZVNlZ21lbnRzLm1hcChzZWdtZW50ID0+ICh7XG4gICAgICAgICAgc3RhcnRUaW1lOiBzZWdtZW50LnN0YXJ0VGltZSwgLy8gWWEgZXN0w6EgZW4gc2VndW5kb3NcbiAgICAgICAgICBlbmRUaW1lOiBzZWdtZW50LmVuZFRpbWUgICAgICAvLyBZYSBlc3TDoSBlbiBzZWd1bmRvc1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coYFNlIGVsaW1pbmFyw6FuICR7c2VnbWVudHMubGVuZ3RofSBzZWdtZW50b3M6YCxcbiAgICAgICAgICBzZWdtZW50cy5tYXAocyA9PiBgJHtzLnN0YXJ0VGltZX1zLSR7cy5lbmRUaW1lfXNgKS5qb2luKCcsICcpKTtcblxuICAgICAgICAvLyBBbG1hY2VuYXIgaW5mb3JtYWNpw7NuIGRlbCBlc3RhZG8gcHJldmlvIHBhcmEgaWRlbnRpZmljYXIgdHJhY2tzIHkgZWxlbWVudG9zXG4gICAgICAgIGNvbnNvbGUubG9nKFwiT2J0ZW5pZW5kbyBpbmZvcm1hY2nDs24gZGVsIGVzdGFkbyBhbnRlcyBkZSBlbGltaW5hciBzZWdtZW50b3MuLi5cIik7XG4gICAgICAgIGNvbnN0IGVzdGFkb1ByZXZpbyA9IHN0YXRlTWFuYWdlci5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBlbGVtZW50b3NQcmV2aW9zID0gYXdhaXQgZXhlY3V0b3IuZ2V0QWxsVGltZWxpbmVFbGVtZW50cygpO1xuXG4gICAgICAgIC8vIERldGVybWluYXIgZWwgdHJhY2tJZCBwcmluY2lwYWwgYmFzYWRvIGVuIGxvcyBlbGVtZW50b3NcbiAgICAgICAgY29uc3QgY29udGFkb3JUcmFja3MgPSB7fTtcbiAgICAgICAgZWxlbWVudG9zUHJldmlvcy5mb3JFYWNoKGVsZW0gPT4ge1xuICAgICAgICAgIGlmIChlbGVtLnRyYWNrSWQpIHtcbiAgICAgICAgICAgIGNvbnRhZG9yVHJhY2tzW2VsZW0udHJhY2tJZF0gPSAoY29udGFkb3JUcmFja3NbZWxlbS50cmFja0lkXSB8fCAwKSArIDE7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBFbmNvbnRyYXIgZWwgdHJhY2sgY29uIG3DoXMgZWxlbWVudG9zXG4gICAgICAgIGxldCB0cmFja0lkUHJpbmNpcGFsID0gXCJcIjtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGNvbnRhZG9yVHJhY2tzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgdHJhY2tzUG9yVXNvID0gT2JqZWN0LmVudHJpZXMoY29udGFkb3JUcmFja3MpXG4gICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYlsxXSAtIGFbMV0pO1xuXG4gICAgICAgICAgaWYgKHRyYWNrc1BvclVzby5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0cmFja0lkUHJpbmNpcGFsID0gdHJhY2tzUG9yVXNvWzBdWzBdO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFVzYW5kbyB0cmFja0lkIHByaW5jaXBhbDogJHt0cmFja0lkUHJpbmNpcGFsfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDMuIEVsaW1pbmFyIGxvcyBzZWdtZW50b3NcbiAgICAgICAgY29uc29sZS5sb2coXCJFamVjdXRhbmRvIGVsaW1pbmFjacOzbiBkZSBzZWdtZW50b3MuLi5cIik7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dG9yLnJlbW92ZVNlZ21lbnRzKHNlZ21lbnRzKTtcblxuICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3IgYWwgZWxpbWluYXIgbG9zIHNlZ21lbnRvc1wiKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhcIlNlZ21lbnRvcyBlbGltaW5hZG9zIGNvcnJlY3RhbWVudGVcIik7XG5cbiAgICAgICAgLy8gNC4gQ3JlYXIgcmVnaXN0cm8gZGUgbG9zIHNlZ21lbnRvcyBlbGltaW5hZG9zIHBhcmEgY29tcGFjdGFjacOzblxuICAgICAgICBjb25zdCBzZWdtZW50b3NFbGltaW5hZG9zID0gc2VnbWVudHMubWFwKHNlZ21lbnQgPT4gKHtcbiAgICAgICAgICBzdGFydDogc2VnbWVudC5zdGFydFRpbWUgKiAxMDAwLCAgLy8gQ29udmVydGlyIGEgbXNcbiAgICAgICAgICBlbmQ6IHNlZ21lbnQuZW5kVGltZSAqIDEwMDAsICAgICAgLy8gQ29udmVydGlyIGEgbXNcbiAgICAgICAgICB0cmFja0lkOiB0cmFja0lkUHJpbmNpcGFsLFxuICAgICAgICAgIHNpemU6IChzZWdtZW50LmVuZFRpbWUgLSBzZWdtZW50LnN0YXJ0VGltZSkgKiAxMDAwXG4gICAgICAgIH0pKTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIlNlZ21lbnRvcyByZWdpc3RyYWRvcyBwYXJhIGNvbXBhY3RhY2nDs246XCIsIHNlZ21lbnRvc0VsaW1pbmFkb3MpO1xuXG4gICAgICAgIC8vIDUuIEVzcGVyYXIgdW4gbW9tZW50byBwYXJhIHF1ZSBzZSBjb21wbGV0ZW4gbGFzIGFjdHVhbGl6YWNpb25lcyBkZWwgRE9NIHkgZWwgZXN0YWRvXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXNwZXJhbmRvIDUgc2VndW5kb3MgcGFyYSBhc2VndXJhciBxdWUgbG9zIGNhbWJpb3MgZW4gbGEgdGltZWxpbmUgZXN0w6luIGNvbXBsZXRvcyBhbnRlcyBkZSBjb21wYWN0YXIuLi5cIik7XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDAwKSk7XG5cbiAgICAgICAgLy8gNi4gQ29tcGFjdGFyIGVsIHRpbWVsaW5lIHVzYW5kbyBlbCBlbmZvcXVlIGRlIHNlZ21lbnRvcyByZWdpc3RyYWRvc1xuICAgICAgICBjb25zb2xlLmxvZyhcIkNvbXBhY3RhbmRvIHRpbWVsaW5lIGJhc2FkbyBlbiBzZWdtZW50b3MgZWxpbWluYWRvcy4uLlwiKTtcblxuICAgICAgICAvLyBPYnRlbmVyIGVsZW1lbnRvcyBhY3R1YWxlcyBkZXNwdcOpcyBkZSBsYSBlbGltaW5hY2nDs25cbiAgICAgICAgY29uc3QgZWxlbWVudG9zQWN0dWFsZXMgPSBhd2FpdCBleGVjdXRvci5nZXRBbGxUaW1lbGluZUVsZW1lbnRzKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBTZSBlbmNvbnRyYXJvbiAke2VsZW1lbnRvc0FjdHVhbGVzLmxlbmd0aH0gZWxlbWVudG9zIGVuIGxhIHRpbWVsaW5lIGRlc3B1w6lzIGRlIGVsaW1pbmFyIHNlZ21lbnRvc2ApO1xuXG4gICAgICAgIC8vIENhbGN1bGFyIGVsIGVzcGFjaW8gdG90YWwgYSBjb21wYWN0YXJcbiAgICAgICAgbGV0IGVzcGFjaW9Ub3RhbCA9IDA7XG4gICAgICAgIHNlZ21lbnRvc0VsaW1pbmFkb3MuZm9yRWFjaChzZWdtZW50byA9PiB7XG4gICAgICAgICAgZXNwYWNpb1RvdGFsICs9IHNlZ21lbnRvLnNpemU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGBFc3BhY2lvIHRvdGFsIGEgY29tcGFjdGFyOiAke2VzcGFjaW9Ub3RhbH1tcyAoJHtlc3BhY2lvVG90YWwvMTAwMH1zKWApO1xuXG4gICAgICAgIC8vIFByZXBhcmFyIGFjdHVhbGl6YWNpb25lcyBwYXJhIGNhZGEgZWxlbWVudG9cbiAgICAgICAgY29uc3QgYWN0dWFsaXphY2lvbmVzID0ge307XG4gICAgICAgIGxldCBlbGVtZW50b3NBTW92ZXIgPSAwO1xuXG4gICAgICAgIC8vIE9yZGVuYXIgc2VnbWVudG9zIHBvciBwb3NpY2nDs24gZGUgaW5pY2lvXG4gICAgICAgIGNvbnN0IHNlZ21lbnRvc09yZGVuYWRvcyA9IFsuLi5zZWdtZW50b3NFbGltaW5hZG9zXS5zb3J0KChhLCBiKSA9PiBhLnN0YXJ0IC0gYi5zdGFydCk7XG5cbiAgICAgICAgLy8gUGFyYSBjYWRhIGVsZW1lbnRvLCBjYWxjdWxhciBlbCBkZXNwbGF6YW1pZW50byBiYXNhZG8gZW4gbG9zIHNlZ21lbnRvcyBlbGltaW5hZG9zXG4gICAgICAgIGVsZW1lbnRvc0FjdHVhbGVzLmZvckVhY2goZWxlbWVudG8gPT4ge1xuICAgICAgICAgIGxldCBkZXNwbGF6YW1pZW50byA9IDA7XG5cbiAgICAgICAgICAvLyBDYWxjdWxhciBjdcOhbnRvIGRlYmUgbW92ZXJzZSBiYXNhZG8gZW4gbG9zIHNlZ21lbnRvcyBlbGltaW5hZG9zIGFudGVyaW9yZXNcbiAgICAgICAgICBmb3IgKGNvbnN0IHNlZ21lbnRvIG9mIHNlZ21lbnRvc09yZGVuYWRvcykge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnRvLmZyb20gPiBzZWdtZW50by5zdGFydCkge1xuICAgICAgICAgICAgICBkZXNwbGF6YW1pZW50byArPSBzZWdtZW50by5zaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFNpIGhheSBkZXNwbGF6YW1pZW50bywgYcOxYWRpciBhIGxhcyBhY3R1YWxpemFjaW9uZXNcbiAgICAgICAgICBpZiAoZGVzcGxhemFtaWVudG8gPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBudWV2b0Zyb20gPSBlbGVtZW50by5mcm9tIC0gZGVzcGxhemFtaWVudG87XG4gICAgICAgICAgICBjb25zdCBudWV2b1RvID0gZWxlbWVudG8udG8gLSBkZXNwbGF6YW1pZW50bztcblxuICAgICAgICAgICAgY29uc29sZS5sb2coYEVsZW1lbnRvICR7ZWxlbWVudG8uaWQuc3Vic3RyaW5nKDAsOCl9Li4uIHNlIG1vdmVyw6E6ICR7ZWxlbWVudG8uZnJvbX1tcyAtPiAke251ZXZvRnJvbX1tcyAoZGVzcGxhemFtaWVudG86ICR7ZGVzcGxhemFtaWVudG99bXMpYCk7XG5cbiAgICAgICAgICAgIGFjdHVhbGl6YWNpb25lc1tlbGVtZW50by5pZF0gPSB7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgICAgICAgICBmcm9tOiBudWV2b0Zyb20sXG4gICAgICAgICAgICAgICAgdG86IG51ZXZvVG9cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGVsZW1lbnRvc0FNb3ZlcisrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coYEVsZW1lbnRvcyBhIG1vdmVyOiAke2VsZW1lbnRvc0FNb3Zlcn0gZGUgJHtlbGVtZW50b3NBY3R1YWxlcy5sZW5ndGh9IHRvdGFsYCk7XG5cbiAgICAgICAgLy8gQXBsaWNhciBsYXMgYWN0dWFsaXphY2lvbmVzXG4gICAgICAgIGlmIChlbGVtZW50b3NBTW92ZXIgPiAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJBcGxpY2FuZG8gYWN0dWFsaXphY2lvbmVzIHBhcmEgY29tcGFjdGFyIHRpbWVsaW5lLi4uXCIpO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKEVESVRfT0JKRUNULCB7XG4gICAgICAgICAgICAgIHBheWxvYWQ6IGFjdHVhbGl6YWNpb25lc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFjdHVhbGl6YWNpb25lcyBhcGxpY2FkYXMgY29uIMOpeGl0b1wiKTtcblxuICAgICAgICAgICAgLy8gUmVmcmVzY2FyIGxhIHZpc3RhXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNjYWxlIH0gPSBzdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgICAgICBpZiAoc2NhbGUpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRTY2FsZSA9IHsgLi4uc2NhbGUgfTtcbiAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdXBkYXRlZFNjYWxlLnVuaXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRTY2FsZS51bml0ID0gKHVwZGF0ZWRTY2FsZS51bml0IHx8IDApICsgMTtcblxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChUSU1FTElORV9TQ0FMRV9DSEFOR0VELCB7XG4gICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogeyBzY2FsZTogdXBkYXRlZFNjYWxlIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVm9sdmVyIGEgbGEgZXNjYWxhIG9yaWdpbmFsXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTY2FsZSA9IHsgLi4uc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCkuc2NhbGUgfTtcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2NhbGUudW5pdCA9IChjdXJyZW50U2NhbGUudW5pdCB8fCAxKSAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goVElNRUxJTkVfU0NBTEVfQ0hBTkdFRCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogeyBzY2FsZTogY3VycmVudFNjYWxlIH1cbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMzAwKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIHJlZnJlc2NhciBsYSB2aXN0YTpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCA1MDApO1xuXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhbCBhcGxpY2FyIGFjdHVhbGl6YWNpb25lczpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIHNlIGVuY29udHJhcm9uIGVsZW1lbnRvcyBxdWUgbmVjZXNpdGVuIG1vdmVyc2VcIik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhcIlRpbWVsaW5lIGNvbXBhY3RhZG8gY29ycmVjdGFtZW50ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWwgcmVhbGl6YXIgZWwgcmVjb3J0ZSBpbnRlbGlnZW50ZTpcIiwgZXJyb3IpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGFkZE11c2ljOiAobXVzaWNQYXRoOiBzdHJpbmcsIG9wdGlvbnM/OiBNdXNpY09wdGlvbnMpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFZhbG9yZXMgcHJlZGV0ZXJtaW5hZG9zXG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IG9wdGlvbnM/LnN0YXJ0VGltZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zdGFydFRpbWUgOiAwO1xuICAgICAgICBjb25zdCBlbmRUaW1lID0gb3B0aW9ucz8uZW5kVGltZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5lbmRUaW1lIDogKHN0YXJ0VGltZSArIDMwKTsgLy8gRHVyYWNpw7NuIHByZWRldGVybWluYWRhIG3DoXMgbGFyZ2EgcGFyYSBtw7pzaWNhXG4gICAgICAgIGNvbnN0IHZvbHVtZSA9IG9wdGlvbnM/LnZvbHVtZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy52b2x1bWUgOiA4MDsgLy8gVm9sdW1lbiBwcmVkZXRlcm1pbmFkbyBhbCA4MCVcbiAgICAgICAgY29uc3QgcmVzcGVjdE5hdGl2ZUR1cmF0aW9uID0gb3B0aW9ucz8ucmVzcGVjdE5hdGl2ZUR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJlc3BlY3ROYXRpdmVEdXJhdGlvbiA6IHRydWU7IC8vIFBvciBkZWZlY3RvLCByZXNwZXRhciBkdXJhY2nDs24gbmF0aXZhXG5cbiAgICAgICAgY29uc29sZS5sb2coYEHDsWFkaWVuZG8gbcO6c2ljYSBkZXNkZSAke211c2ljUGF0aH1gKTtcbiAgICAgICAgY29uc29sZS5sb2coYFRpZW1wb3M6ICR7c3RhcnRUaW1lfXMgYSAke2VuZFRpbWV9cywgdm9sdW1lbjogJHt2b2x1bWV9LCByZXNwZWN0TmF0aXZlRHVyYXRpb246ICR7cmVzcGVjdE5hdGl2ZUR1cmF0aW9ufWApO1xuXG4gICAgICAgIC8vIENyZWFyIHBheWxvYWQgcGFyYSBsYSBtw7pzaWNhXG4gICAgICAgIGNvbnN0IGF1ZGlvUGF5bG9hZCA9IHtcbiAgICAgICAgICBpZDogZ2VuZXJhdGVJZCgpLFxuICAgICAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgICAgIGZyb206IHN0YXJ0VGltZSAqIDEwMDAsIC8vIENvbnZlcnRpciBhIG1pbGlzZWd1bmRvc1xuICAgICAgICAgICAgdG86IGVuZFRpbWUgKiAxMDAwICAgICAvLyBDb252ZXJ0aXIgYSBtaWxpc2VndW5kb3NcbiAgICAgICAgICB9LFxuICAgICAgICAgIHR5cGU6ICdhdWRpbycsXG4gICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgc3JjOiBtdXNpY1BhdGgsXG4gICAgICAgICAgICB2b2x1bWU6IHZvbHVtZSxcbiAgICAgICAgICAgIGZhZGVJbjogb3B0aW9ucz8uZmFkZUluID09PSB0cnVlLFxuICAgICAgICAgICAgZmFkZU91dDogb3B0aW9ucz8uZmFkZU91dCA9PT0gdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQWdyZWdhciBhdWRpbyBhbCB0aW1lbGluZSB1c2FuZG8gQUREX0FVRElPXG4gICAgICAgIGRpc3BhdGNoKEFERF9BVURJTywge1xuICAgICAgICAgIHBheWxvYWQ6IGF1ZGlvUGF5bG9hZCxcbiAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICByZXNwZWN0TmF0aXZlRHVyYXRpb246IHJlc3BlY3ROYXRpdmVEdXJhdGlvblxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGBNw7pzaWNhIGFncmVnYWRhIGV4aXRvc2FtZW50ZSBjb24gSUQ6ICR7YXVkaW9QYXlsb2FkLmlkfWApO1xuICAgICAgICByZXR1cm4gYXVkaW9QYXlsb2FkLmlkO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIGFncmVnYXIgbcO6c2ljYTpcIiwgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGV4ZWN1dG9yO1xufVxuIl0sIm5hbWVzIjpbImRpc3BhdGNoIiwiQUREX1RFWFQiLCJBRERfVklERU8iLCJBRERfSU1BR0UiLCJBRERfQVVESU8iLCJBQ1RJVkVfU1BMSVQiLCJMQVlFUl9TRUxFQ1QiLCJMQVlFUl9ERUxFVEUiLCJUSU1FTElORV9TQ0FMRV9DSEFOR0VEIiwiRURJVF9PQkpFQ1QiLCJnZW5lcmF0ZUlkIiwiY3JlYXRlVmlkZW9Db21tYW5kRXhlY3V0b3IiLCJzdGF0ZU1hbmFnZXIiLCJleGVjdXRvciIsImFkZFRleHQiLCJ0ZXh0Iiwib3B0aW9ucyIsInBvc2l0aW9uIiwieCIsInkiLCJmb250U2l6ZSIsImZvbnRGYW1pbHkiLCJjb2xvciIsInN0YXJ0VGltZSIsImVuZFRpbWUiLCJ0ZXh0UGF5bG9hZCIsImlkIiwiZGlzcGxheSIsImZyb20iLCJ0byIsInR5cGUiLCJkZXRhaWxzIiwid2lkdGgiLCJ3b3JkV3JhcCIsInRleHRBbGlnbiIsImJvcmRlcldpZHRoIiwiYm9yZGVyQ29sb3IiLCJib3hTaGFkb3ciLCJibHVyIiwicGF5bG9hZCIsImNoYW5nZUNvbG9yIiwiZWxlbWVudElkIiwiY29uc29sZSIsImxvZyIsImFkZEltYWdlIiwidXJsIiwiZXJyb3IiLCJFcnJvciIsIkpTT04iLCJzdHJpbmdpZnkiLCJpbmNsdWRlcyIsImhlaWdodCIsInVuZGVmaW5lZCIsImlzRXhwbGljaXRseUFuaW1hdGVkIiwiaXNBbmltYXRlZCIsImlzRXhwbGljaXRseVN0YXRpYyIsImlzU3RhdGljIiwiaXNBUE5HIiwidG9Mb3dlckNhc2UiLCJlbmRzV2l0aCIsImlzR0lGIiwic2hvdWxkVHJlYXRBc0FuaW1hdGVkIiwibG9nVXJsIiwic3RhcnRzV2l0aCIsInN1YnN0cmluZyIsInNjYWxlTW9kZSIsInVzZUZ1bGxTY3JlZW4iLCJjb21tb25QYXlsb2FkUHJvcHMiLCJjb21tb25EZXRhaWxzUHJvcHMiLCJzcmMiLCJvcGFjaXR5IiwibGVmdCIsInRvcCIsIm9yaWdpblgiLCJvcmlnaW5ZIiwiaW1hZ2VJZCIsImltYWdlUGF5bG9hZCIsImxlbmd0aCIsImRpc3BhdGNoT3B0aW9ucyIsIm1lc3NhZ2UiLCJzdGFjayIsImFkZFZpZGVvIiwiaXNBVkkiLCJpc0V4cGxpY2l0QVBORyIsInRyZWF0QXNBUE5HIiwicmVzcGVjdE5hdGl2ZUR1cmF0aW9uIiwiZmluYWxFbmRUaW1lIiwic3luY1dpdGhUaW1lbGluZSIsImFwbmdWaWRlb1BheWxvYWQiLCJhcG5nRXJyb3IiLCJ2aWRlb1BheWxvYWQiLCJhdXRvUGxheSIsImxvb3AiLCJyZXNvdXJjZUlkIiwicGxheWJhY2tCZWhhdmlvciIsImNoYW5nZUR1cmF0aW9uIiwiZHVyYXRpb24iLCJjaGFuZ2VUcmFuc2l0aW9uIiwidHJhbnNpdGlvbiIsImFkZFN1YnRpdGxlcyIsInBhcnNlVGltZVRvTXMiLCJ0aW1lU3RyaW5nIiwiaG91cnMiLCJtaW51dGVzIiwic2Vjb25kc0FuZE1zIiwic3BsaXQiLCJzZWNvbmRzIiwibXMiLCJwYXJzZUludCIsInBhcnNlU1JUIiwic3J0Q29udGVudCIsInNlZ21lbnRzIiwiYmxvY2tzIiwidHJpbSIsImZvckVhY2giLCJibG9jayIsImxpbmVzIiwidGltZVJhbmdlIiwic2xpY2UiLCJqb2luIiwicHVzaCIsInNwbGl0VGV4dEludG9Hcm91cHMiLCJ3b3Jkc1Blckdyb3VwIiwid29yZHMiLCJncm91cHMiLCJpIiwiZ3JvdXAiLCJwcm9jZXNzU2VnbWVudCIsInNlZ21lbnQiLCJ0ZXh0R3JvdXBzIiwidG90YWxEdXJhdGlvbiIsImdyb3VwRHVyYXRpb24iLCJtYXAiLCJncm91cFRleHQiLCJpbmRleCIsImNyZWF0ZVN1YnRpdGxlUGF5bG9hZCIsInRvVXBwZXJDYXNlIiwiZm9udFVybCIsImJhY2tncm91bmRDb2xvciIsInBhZGRpbmciLCJib3JkZXJSYWRpdXMiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJzdGF0dXMiLCJmbGF0TWFwIiwib3JpZ2luYWxMZW5ndGgiLCJmaWx0ZXIiLCJwYXNzZXNTdGFydEZpbHRlciIsInBhc3Nlc0VuZEZpbHRlciIsInNldFRpbWVvdXQiLCJnZXRBY3RpdmVFbGVtZW50cyIsInN0YXRlIiwiZ2V0U3RhdGUiLCJhY3RpdmVJZHMiLCJ0cmFja0l0ZW1zTWFwIiwiYWN0aXZlRWxlbWVudHMiLCJpdGVtIiwidHJhY2tJZCIsImdldEFsbFRpbWVsaW5lRWxlbWVudHMiLCJPYmplY3QiLCJrZXlzIiwia2V5Iiwib2JqVmFsdWUiLCJzYW1wbGUiLCJlbnRyaWVzIiwiXyIsImFsbEVsZW1lbnRzIiwic29ydCIsImEiLCJiIiwicmVtb3ZlU2VnbWVudHMiLCJ0cmFja0l0ZW1zIiwiZmlyc3RJdGVtSWQiLCJpZHMiLCJQcm9taXNlIiwicmVzb2x2ZSIsImN1cnJlbnRTdGF0ZSIsIm9yaWdpbmFsSXRlbUlkIiwib3JpZ2luYWxJdGVtIiwidHJhY2tUeXBlIiwiZW5kTXMiLCJ0aW1lIiwic3RhdGVBZnRlckZpcnN0Q3V0IiwiZWxlbWVudHNBZnRlckZpcnN0Q3V0IiwiaXNOYU4iLCJkdXJhY2nDs24iLCJzdGFydE1zIiwibGVmdEVsZW1lbnQiLCJmaW5kIiwiZWxlbSIsInN0YXRlQWZ0ZXJTZWNvbmRDdXQiLCJlbGVtZW50c0FmdGVyU2Vjb25kQ3V0IiwibWlkZGxlRWxlbWVudHMiLCJNYXRoIiwiYWJzIiwibWlkZGxlRWxlbWVudCIsInZpc2libGUiLCJzY2FsZSIsIm9yaWdpbmFsVW5pdCIsInVuaXQiLCJjb21wYWN0VGltZWxpbmUiLCJlc3RhZG8iLCJ0b2Rvc0VsZW1lbnRvcyIsImVsZW1lbnRvc1BvclRyYWNrIiwiaWR4IiwiZXNwYWNpb3NWYWNpb3MiLCJlbGVtZW50b3MiLCJlbGVtZW50b0FjdHVhbCIsImVsZW1lbnRvU2lndWllbnRlIiwiZXNwYWNpbyIsInN0YXJ0IiwiZW5kIiwic2l6ZSIsImVsZW1lbnRvQW50ZXMiLCJlbGVtZW50b0Rlc3B1ZXMiLCJlc3BhY2lvVG90YWwiLCJhY3R1YWxpemFjaW9uZXMiLCJlbGVtZW50b3NBTW92ZXIiLCJlbGVtZW50byIsImRlc3BsYXphbWllbnRvIiwibnVldm9Gcm9tIiwibnVldm9UbyIsInVwZGF0ZWRTY2FsZSIsImN1cnJlbnRTY2FsZSIsInNtYXJ0VHJpbSIsImRhdGEiLCJqc29uIiwiQXJyYXkiLCJpc0FycmF5IiwicyIsImVzdGFkb1ByZXZpbyIsImVsZW1lbnRvc1ByZXZpb3MiLCJjb250YWRvclRyYWNrcyIsInRyYWNrSWRQcmluY2lwYWwiLCJ0cmFja3NQb3JVc28iLCJyZXN1bHQiLCJzZWdtZW50b3NFbGltaW5hZG9zIiwiZWxlbWVudG9zQWN0dWFsZXMiLCJzZWdtZW50byIsInNlZ21lbnRvc09yZGVuYWRvcyIsImFkZE11c2ljIiwibXVzaWNQYXRoIiwidm9sdW1lIiwiYXVkaW9QYXlsb2FkIiwiZmFkZUluIiwiZmFkZU91dCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ai-chat/ai-video-commands.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./features/editor/hooks/use-timeline-events.ts":
/*!******************************************************!*\
  !*** ./features/editor/hooks/use-timeline-events.ts ***!
  \******************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _store_use_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../store/use-store */ \"(app-pages-browser)/./features/editor/store/use-store.ts\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _designcombo_events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @designcombo/events */ \"(app-pages-browser)/./node_modules/@designcombo/events/dist/index.es.js\");\n/* harmony import */ var _constants_events__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants/events */ \"(app-pages-browser)/./features/editor/constants/events.ts\");\n/* harmony import */ var _designcombo_state__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @designcombo/state */ \"(app-pages-browser)/./node_modules/@designcombo/state/dist/index.es.js\");\n/* harmony import */ var _designcombo_timeline__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @designcombo/timeline */ \"(app-pages-browser)/./node_modules/@designcombo/timeline/dist/index.es.js\");\n/* harmony import */ var _store_use_layout_store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../store/use-layout-store */ \"(app-pages-browser)/./features/editor/store/use-layout-store.ts\");\n\n\n\n\n\n\n\nconst useTimelineEvents = ()=>{\n    const { playerRef, fps, timeline, setState } = (0,_store_use_store__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n    const { setActiveMenuItem, setShowMenuItem, activeMenuItem } = (0,_store_use_layout_store__WEBPACK_IMPORTED_MODULE_6__[\"default\"])();\n    //handle player events\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const playerEvents = _designcombo_events__WEBPACK_IMPORTED_MODULE_2__.subject.pipe((0,_designcombo_events__WEBPACK_IMPORTED_MODULE_2__.filter)((param)=>{\n            let { key } = param;\n            return key.startsWith(_constants_events__WEBPACK_IMPORTED_MODULE_3__.PLAYER_PREFIX);\n        }));\n        const timelineEvents = _designcombo_events__WEBPACK_IMPORTED_MODULE_2__.subject.pipe((0,_designcombo_events__WEBPACK_IMPORTED_MODULE_2__.filter)((param)=>{\n            let { key } = param;\n            return key.startsWith(_designcombo_timeline__WEBPACK_IMPORTED_MODULE_5__.TIMELINE_PREFIX);\n        }));\n        const timelineEventsSubscription = timelineEvents.subscribe((obj)=>{\n            if (obj.key === _designcombo_timeline__WEBPACK_IMPORTED_MODULE_5__.TIMELINE_SEEK) {\n                var _obj_value, _playerRef_current;\n                const { time } = (_obj_value = obj.value) === null || _obj_value === void 0 ? void 0 : _obj_value.payload;\n                playerRef === null || playerRef === void 0 ? void 0 : (_playerRef_current = playerRef.current) === null || _playerRef_current === void 0 ? void 0 : _playerRef_current.seekTo(time / 1000 * fps);\n            }\n        });\n        const playerEventsSubscription = playerEvents.subscribe((obj)=>{\n            if (obj.key === _constants_events__WEBPACK_IMPORTED_MODULE_3__.PLAYER_SEEK) {\n                var _obj_value, _playerRef_current;\n                const { time } = (_obj_value = obj.value) === null || _obj_value === void 0 ? void 0 : _obj_value.payload;\n                playerRef === null || playerRef === void 0 ? void 0 : (_playerRef_current = playerRef.current) === null || _playerRef_current === void 0 ? void 0 : _playerRef_current.seekTo(time / 1000 * fps);\n            } else if (obj.key === _constants_events__WEBPACK_IMPORTED_MODULE_3__.PLAYER_PLAY) {\n                var _playerRef_current1;\n                playerRef === null || playerRef === void 0 ? void 0 : (_playerRef_current1 = playerRef.current) === null || _playerRef_current1 === void 0 ? void 0 : _playerRef_current1.play();\n            } else if (obj.key === _constants_events__WEBPACK_IMPORTED_MODULE_3__.PLAYER_PAUSE) {\n                var _playerRef_current2;\n                playerRef === null || playerRef === void 0 ? void 0 : (_playerRef_current2 = playerRef.current) === null || _playerRef_current2 === void 0 ? void 0 : _playerRef_current2.pause();\n            } else if (obj.key === _constants_events__WEBPACK_IMPORTED_MODULE_3__.PLAYER_TOGGLE_PLAY) {\n                var _playerRef_current3;\n                if (playerRef === null || playerRef === void 0 ? void 0 : (_playerRef_current3 = playerRef.current) === null || _playerRef_current3 === void 0 ? void 0 : _playerRef_current3.isPlaying()) {\n                    var _playerRef_current4;\n                    playerRef === null || playerRef === void 0 ? void 0 : (_playerRef_current4 = playerRef.current) === null || _playerRef_current4 === void 0 ? void 0 : _playerRef_current4.pause();\n                } else {\n                    var _playerRef_current5;\n                    playerRef === null || playerRef === void 0 ? void 0 : (_playerRef_current5 = playerRef.current) === null || _playerRef_current5 === void 0 ? void 0 : _playerRef_current5.play();\n                }\n            } else if (obj.key === _constants_events__WEBPACK_IMPORTED_MODULE_3__.PLAYER_SEEK_BY) {\n                var _obj_value1, _playerRef_current6, _playerRef_current7;\n                const { frames } = (_obj_value1 = obj.value) === null || _obj_value1 === void 0 ? void 0 : _obj_value1.payload;\n                playerRef === null || playerRef === void 0 ? void 0 : (_playerRef_current7 = playerRef.current) === null || _playerRef_current7 === void 0 ? void 0 : _playerRef_current7.seekTo(Math.round(playerRef === null || playerRef === void 0 ? void 0 : (_playerRef_current6 = playerRef.current) === null || _playerRef_current6 === void 0 ? void 0 : _playerRef_current6.getCurrentFrame()) + frames);\n            }\n        });\n        return ()=>{\n            playerEventsSubscription.unsubscribe();\n            timelineEventsSubscription.unsubscribe();\n        };\n    }, [\n        playerRef,\n        fps\n    ]);\n    // handle selection events\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        console.log(\"[DEBUG] Configurando suscripci\\xf3n a eventos de selecci\\xf3n\");\n        const selectionEvents = _designcombo_events__WEBPACK_IMPORTED_MODULE_2__.subject.pipe((0,_designcombo_events__WEBPACK_IMPORTED_MODULE_2__.filter)((param)=>{\n            let { key } = param;\n            return key.startsWith(_designcombo_state__WEBPACK_IMPORTED_MODULE_4__.LAYER_PREFIX);\n        }));\n        const selectionSubscription = selectionEvents.subscribe((obj)=>{\n            console.log(\"[DEBUG] Evento recibido:\", obj.key);\n            if (obj.key === _designcombo_state__WEBPACK_IMPORTED_MODULE_4__.LAYER_SELECTION) {\n                var _obj_value;\n                const activeIds = ((_obj_value = obj.value) === null || _obj_value === void 0 ? void 0 : _obj_value.payload.activeIds) || [];\n                console.log(\"[DEBUG] IDs activos:\", activeIds);\n                setState({\n                    activeIds: activeIds\n                });\n                // Si se ha seleccionado un elemento (y solo uno), cambiamos automáticamente al panel de atributos\n                if (activeIds && activeIds.length === 1) {\n                    console.log(\"[DEBUG] Un elemento seleccionado, cambiando a panel de atributos\");\n                    console.log(\"[DEBUG] Panel actual:\", activeMenuItem);\n                    // Establecer el panel activo como \"attributes\" y mostrar el menú\n                    setActiveMenuItem(\"attributes\");\n                    setShowMenuItem(true);\n                    // Verificar después del cambio\n                    setTimeout(()=>{\n                        const currentMenuItem = _store_use_layout_store__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getState().activeMenuItem;\n                        console.log(\"[DEBUG] Panel despu\\xe9s del cambio:\", currentMenuItem);\n                    }, 100);\n                }\n            }\n        });\n        return ()=>{\n            console.log(\"[DEBUG] Cancelando suscripci\\xf3n a eventos de selecci\\xf3n\");\n            selectionSubscription.unsubscribe();\n        };\n    }, [\n        timeline,\n        setActiveMenuItem,\n        setShowMenuItem,\n        activeMenuItem\n    ]);\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useTimelineEvents);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2ZlYXR1cmVzL2VkaXRvci9ob29rcy91c2UtdGltZWxpbmUtZXZlbnRzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEwQztBQUNSO0FBQ29CO0FBUXpCO0FBQ3NDO0FBQ0k7QUFDaEI7QUFFdkQsTUFBTWUsb0JBQW9CO0lBQ3hCLE1BQU0sRUFBRUMsU0FBUyxFQUFFQyxHQUFHLEVBQUVDLFFBQVEsRUFBRUMsUUFBUSxFQUFFLEdBQUduQiw0REFBUUE7SUFDdkQsTUFBTSxFQUFFb0IsaUJBQWlCLEVBQUVDLGVBQWUsRUFBRUMsY0FBYyxFQUFFLEdBQUdSLG1FQUFjQTtJQUU3RSxzQkFBc0I7SUFDdEJiLGdEQUFTQSxDQUFDO1FBQ1IsTUFBTXNCLGVBQWVwQix3REFBT0EsQ0FBQ3FCLElBQUksQ0FDL0J0QiwyREFBTUEsQ0FBQztnQkFBQyxFQUFFdUIsR0FBRyxFQUFFO21CQUFLQSxJQUFJQyxVQUFVLENBQUNwQiw0REFBYUE7O1FBRWxELE1BQU1xQixpQkFBaUJ4Qix3REFBT0EsQ0FBQ3FCLElBQUksQ0FDakN0QiwyREFBTUEsQ0FBQztnQkFBQyxFQUFFdUIsR0FBRyxFQUFFO21CQUFLQSxJQUFJQyxVQUFVLENBQUNiLGtFQUFlQTs7UUFHcEQsTUFBTWUsNkJBQTZCRCxlQUFlRSxTQUFTLENBQUMsQ0FBQ0M7WUFDM0QsSUFBSUEsSUFBSUwsR0FBRyxLQUFLYixnRUFBYUEsRUFBRTtvQkFDWmtCLFlBQ2pCZDtnQkFEQSxNQUFNLEVBQUVlLElBQUksRUFBRSxJQUFHRCxhQUFBQSxJQUFJRSxLQUFLLGNBQVRGLGlDQUFBQSxXQUFXRyxPQUFPO2dCQUNuQ2pCLHNCQUFBQSxpQ0FBQUEscUJBQUFBLFVBQVdrQixPQUFPLGNBQWxCbEIseUNBQUFBLG1CQUFvQm1CLE1BQU0sQ0FBQyxPQUFRLE9BQVFsQjtZQUM3QztRQUNGO1FBQ0EsTUFBTW1CLDJCQUEyQmIsYUFBYU0sU0FBUyxDQUFDLENBQUNDO1lBQ3ZELElBQUlBLElBQUlM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OEIsV0FBVzt3QkFDVCxNQUFNQyxrQkFBa0J0QywrREFBY0EsQ0FBQ3VDLFFBQVEsR0FBRy9CLGNBQWM7d0JBQ2hFdUIsUUFBUUMsR0FBRyxDQUFDLHdDQUFxQ007b0JBQ25ELEdBQUc7Z0JBQ0w7WUFDRjtRQUNGO1FBRUEsT0FBTztZQUNMUCxRQUFRQyxHQUFHLENBQUM7WUFDWkUsc0JBQXNCSixXQUFXO1FBQ25DO0lBQ0YsR0FBRztRQUFDMUI7UUFBVUU7UUFBbUJDO1FBQWlCQztLQUFlO0FBQ25FO0FBRUEsK0RBQWVQLGlCQUFpQkEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9mZWF0dXJlcy9lZGl0b3IvaG9va3MvdXNlLXRpbWVsaW5lLWV2ZW50cy50cz9kMjkwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB1c2VTdG9yZSBmcm9tIFwiLi4vc3RvcmUvdXNlLXN0b3JlXCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGZpbHRlciwgc3ViamVjdCB9IGZyb20gXCJAZGVzaWduY29tYm8vZXZlbnRzXCI7XG5pbXBvcnQge1xuICBQTEFZRVJfUEFVU0UsXG4gIFBMQVlFUl9QTEFZLFxuICBQTEFZRVJfUFJFRklYLFxuICBQTEFZRVJfU0VFSyxcbiAgUExBWUVSX1NFRUtfQlksXG4gIFBMQVlFUl9UT0dHTEVfUExBWSxcbn0gZnJvbSBcIi4uL2NvbnN0YW50cy9ldmVudHNcIjtcbmltcG9ydCB7IExBWUVSX1BSRUZJWCwgTEFZRVJfU0VMRUNUSU9OIH0gZnJvbSBcIkBkZXNpZ25jb21iby9zdGF0ZVwiO1xuaW1wb3J0IHsgVElNRUxJTkVfU0VFSywgVElNRUxJTkVfUFJFRklYIH0gZnJvbSBcIkBkZXNpZ25jb21iby90aW1lbGluZVwiO1xuaW1wb3J0IHVzZUxheW91dFN0b3JlIGZyb20gXCIuLi9zdG9yZS91c2UtbGF5b3V0LXN0b3JlXCI7XG5cbmNvbnN0IHVzZVRpbWVsaW5lRXZlbnRzID0gKCkgPT4ge1xuICBjb25zdCB7IHBsYXllclJlZiwgZnBzLCB0aW1lbGluZSwgc2V0U3RhdGUgfSA9IHVzZVN0b3JlKCk7XG4gIGNvbnN0IHsgc2V0QWN0aXZlTWVudUl0ZW0sIHNldFNob3dNZW51SXRlbSwgYWN0aXZlTWVudUl0ZW0gfSA9IHVzZUxheW91dFN0b3JlKCk7XG5cbiAgLy9oYW5kbGUgcGxheWVyIGV2ZW50c1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHBsYXllckV2ZW50cyA9IHN1YmplY3QucGlwZShcbiAgICAgIGZpbHRlcigoeyBrZXkgfSkgPT4ga2V5LnN0YXJ0c1dpdGgoUExBWUVSX1BSRUZJWCkpLFxuICAgICk7XG4gICAgY29uc3QgdGltZWxpbmVFdmVudHMgPSBzdWJqZWN0LnBpcGUoXG4gICAgICBmaWx0ZXIoKHsga2V5IH0pID0+IGtleS5zdGFydHNXaXRoKFRJTUVMSU5FX1BSRUZJWCkpLFxuICAgICk7XG5cbiAgICBjb25zdCB0aW1lbGluZUV2ZW50c1N1YnNjcmlwdGlvbiA9IHRpbWVsaW5lRXZlbnRzLnN1YnNjcmliZSgob2JqKSA9PiB7XG4gICAgICBpZiAob2JqLmtleSA9PT0gVElNRUxJTkVfU0VFSykge1xuICAgICAgICBjb25zdCB7IHRpbWUgfSA9IG9iai52YWx1ZT8ucGF5bG9hZDtcbiAgICAgICAgcGxheWVyUmVmPy5jdXJyZW50Py5zZWVrVG8oKHRpbWUgLyAxMDAwKSAqIGZwcyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgcGxheWVyRXZlbnRzU3Vic2NyaXB0aW9uID0gcGxheWVyRXZlbnRzLnN1YnNjcmliZSgob2JqKSA9PiB7XG4gICAgICBpZiAob2JqLmtleSA9PT0gUExBWUVSX1NFRUspIHtcbiAgICAgICAgY29uc3QgeyB0aW1lIH0gPSBvYmoudmFsdWU/LnBheWxvYWQ7XG4gICAgICAgIHBsYXllclJlZj8uY3VycmVudD8uc2Vla1RvKCh0aW1lIC8gMTAwMCkgKiBmcHMpO1xuICAgICAgfSBlbHNlIGlmIChvYmoua2V5ID09PSBQTEFZRVJfUExBWSkge1xuICAgICAgICBwbGF5ZXJSZWY/LmN1cnJlbnQ/LnBsYXkoKTtcbiAgICAgIH0gZWxzZSBpZiAob2JqLmtleSA9PT0gUExBWUVSX1BBVVNFKSB7XG4gICAgICAgIHBsYXllclJlZj8uY3VycmVudD8ucGF1c2UoKTtcbiAgICAgIH0gZWxzZSBpZiAob2JqLmtleSA9PT0gUExBWUVSX1RPR0dMRV9QTEFZKSB7XG4gICAgICAgIGlmIChwbGF5ZXJSZWY/LmN1cnJlbnQ/LmlzUGxheWluZygpKSB7XG4gICAgICAgICAgcGxheWVyUmVmPy5jdXJyZW50Py5wYXVzZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBsYXllclJlZj8uY3VycmVudD8ucGxheSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG9iai5rZXkgPT09IFBMQVlFUl9TRUVLX0JZKSB7XG4gICAgICAgIGNvbnN0IHsgZnJhbWVzIH0gPSBvYmoudmFsdWU/LnBheWxvYWQ7XG4gICAgICAgIHBsYXllclJlZj8uY3VycmVudD8uc2Vla1RvKFxuICAgICAgICAgIE1hdGgucm91bmQocGxheWVyUmVmPy5jdXJyZW50Py5nZXRDdXJyZW50RnJhbWUoKSkgKyBmcmFtZXMsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcGxheWVyRXZlbnRzU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICB0aW1lbGluZUV2ZW50c1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gIH0sIFtwbGF5ZXJSZWYsIGZwc10pO1xuXG4gIC8vIGhhbmRsZSBzZWxlY3Rpb24gZXZlbnRzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJbREVCVUddIENvbmZpZ3VyYW5kbyBzdXNjcmlwY2nDs24gYSBldmVudG9zIGRlIHNlbGVjY2nDs25cIik7XG5cbiAgICBjb25zdCBzZWxlY3Rpb25FdmVudHMgPSBzdWJqZWN0LnBpcGUoXG4gICAgICBmaWx0ZXIoKHsga2V5IH0pID0+IGtleS5zdGFydHNXaXRoKExBWUVSX1BSRUZJWCkpLFxuICAgICk7XG5cbiAgICBjb25zdCBzZWxlY3Rpb25TdWJzY3JpcHRpb24gPSBzZWxlY3Rpb25FdmVudHMuc3Vic2NyaWJlKChvYmopID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiW0RFQlVHXSBFdmVudG8gcmVjaWJpZG86XCIsIG9iai5rZXkpO1xuXG4gICAgICBpZiAob2JqLmtleSA9PT0gTEFZRVJfU0VMRUNUSU9OKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUlkcyA9IG9iai52YWx1ZT8ucGF5bG9hZC5hY3RpdmVJZHMgfHwgW107XG4gICAgICAgIGNvbnNvbGUubG9nKFwiW0RFQlVHXSBJRHMgYWN0aXZvczpcIiwgYWN0aXZlSWRzKTtcblxuICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgYWN0aXZlSWRzOiBhY3RpdmVJZHMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNpIHNlIGhhIHNlbGVjY2lvbmFkbyB1biBlbGVtZW50byAoeSBzb2xvIHVubyksIGNhbWJpYW1vcyBhdXRvbcOhdGljYW1lbnRlIGFsIHBhbmVsIGRlIGF0cmlidXRvc1xuICAgICAgICBpZiAoYWN0aXZlSWRzICYmIGFjdGl2ZUlkcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIltERUJVR10gVW4gZWxlbWVudG8gc2VsZWNjaW9uYWRvLCBjYW1iaWFuZG8gYSBwYW5lbCBkZSBhdHJpYnV0b3NcIik7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJbREVCVUddIFBhbmVsIGFjdHVhbDpcIiwgYWN0aXZlTWVudUl0ZW0pO1xuXG4gICAgICAgICAgLy8gRXN0YWJsZWNlciBlbCBwYW5lbCBhY3Rpdm8gY29tbyBcImF0dHJpYnV0ZXNcIiB5IG1vc3RyYXIgZWwgbWVuw7pcbiAgICAgICAgICBzZXRBY3RpdmVNZW51SXRlbShcImF0dHJpYnV0ZXNcIik7XG4gICAgICAgICAgc2V0U2hvd01lbnVJdGVtKHRydWUpO1xuXG4gICAgICAgICAgLy8gVmVyaWZpY2FyIGRlc3B1w6lzIGRlbCBjYW1iaW9cbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRNZW51SXRlbSA9IHVzZUxheW91dFN0b3JlLmdldFN0YXRlKCkuYWN0aXZlTWVudUl0ZW07XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIltERUJVR10gUGFuZWwgZGVzcHXDqXMgZGVsIGNhbWJpbzpcIiwgY3VycmVudE1lbnVJdGVtKTtcbiAgICAgICAgICB9LCAxMDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJbREVCVUddIENhbmNlbGFuZG8gc3VzY3JpcGNpw7NuIGEgZXZlbnRvcyBkZSBzZWxlY2Npw7NuXCIpO1xuICAgICAgc2VsZWN0aW9uU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgfSwgW3RpbWVsaW5lLCBzZXRBY3RpdmVNZW51SXRlbSwgc2V0U2hvd01lbnVJdGVtLCBhY3RpdmVNZW51SXRlbV0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdXNlVGltZWxpbmVFdmVudHM7XG4iXSwibmFtZXMiOlsidXNlU3RvcmUiLCJ1c2VFZmZlY3QiLCJmaWx0ZXIiLCJzdWJqZWN0IiwiUExBWUVSX1BBVVNFIiwiUExBWUVSX1BMQVkiLCJQTEFZRVJfUFJFRklYIiwiUExBWUVSX1NFRUsiLCJQTEFZRVJfU0VFS19CWSIsIlBMQVlFUl9UT0dHTEVfUExBWSIsIkxBWUVSX1BSRUZJWCIsIkxBWUVSX1NFTEVDVElPTiIsIlRJTUVMSU5FX1NFRUsiLCJUSU1FTElORV9QUkVGSVgiLCJ1c2VMYXlvdXRTdG9yZSIsInVzZVRpbWVsaW5lRXZlbnRzIiwicGxheWVyUmVmIiwiZnBzIiwidGltZWxpbmUiLCJzZXRTdGF0ZSIsInNldEFjdGl2ZU1lbnVJdGVtIiwic2V0U2hvd01lbnVJdGVtIiwiYWN0aXZlTWVudUl0ZW0iLCJwbGF5ZXJFdmVudHMiLCJwaXBlIiwia2V5Iiwic3RhcnRzV2l0aCIsInRpbWVsaW5lRXZlbnRzIiwidGltZWxpbmVFdmVudHNTdWJzY3JpcHRpb24iLCJzdWJzY3JpYmUiLCJvYmoiLCJ0aW1lIiwidmFsdWUiLCJwYXlsb2FkIiwiY3VycmVudCIsInNlZWtUbyIsInBsYXllckV2ZW50c1N1YnNjcmlwdGlvbiIsInBsYXkiLCJwYXVzZSIsImlzUGxheWluZyIsImZyYW1lcyIsIk1hdGgiLCJyb3VuZCIsImdldEN1cnJlbnRGcmFtZSIsInVuc3Vic2NyaWJlIiwiY29uc29sZSIsImxvZyIsInNlbGVjdGlvbkV2ZW50cyIsInNlbGVjdGlvblN1YnNjcmlwdGlvbiIsImFjdGl2ZUlkcyIsImxlbmd0aCIsInNldFRpbWVvdXQiLCJjdXJyZW50TWVudUl0ZW0iLCJnZXRTdGF0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./features/editor/hooks/use-timeline-events.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./features/editor/menu-item/attribute-editor.tsx":
/*!********************************************************!*\
  !*** ./features/editor/menu-item/attribute-editor.tsx ***!
  \********************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AttributeEditor: function() { return /* binding */ AttributeEditor; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _control_item_basic_text__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../control-item/basic-text */ \"(app-pages-browser)/./features/editor/control-item/basic-text.tsx\");\n/* harmony import */ var _control_item_basic_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../control-item/basic-image */ \"(app-pages-browser)/./features/editor/control-item/basic-image.tsx\");\n/* harmony import */ var _control_item_basic_video__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../control-item/basic-video */ \"(app-pages-browser)/./features/editor/control-item/basic-video.tsx\");\n/* harmony import */ var _control_item_basic_audio__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../control-item/basic-audio */ \"(app-pages-browser)/./features/editor/control-item/basic-audio.tsx\");\n/* harmony import */ var _control_item_basic_caption__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../control-item/basic-caption */ \"(app-pages-browser)/./features/editor/control-item/basic-caption.tsx\");\n/* harmony import */ var _store_use_store__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../store/use-store */ \"(app-pages-browser)/./features/editor/store/use-store.ts\");\n/* harmony import */ var _store_use_layout_store__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../store/use-layout-store */ \"(app-pages-browser)/./features/editor/store/use-layout-store.ts\");\n/* harmony import */ var _barrel_optimize_names_Sliders_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Sliders!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/sliders-vertical.js\");\n/* harmony import */ var _components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/ui/scroll-area */ \"(app-pages-browser)/./components/ui/scroll-area.tsx\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\nconst AttributeEditorContainer = (param)=>{\n    let { children } = param;\n    _s();\n    const { activeIds, trackItemsMap, trackItemDetailsMap, transitionsMap } = (0,_store_use_store__WEBPACK_IMPORTED_MODULE_7__[\"default\"])();\n    const [trackItem, setTrackItem] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const { setTrackItem: setLayoutTrackItem } = (0,_store_use_layout_store__WEBPACK_IMPORTED_MODULE_8__[\"default\"])();\n    console.log(\"[DEBUG AttributeEditor] ActiveIds:\", activeIds);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (activeIds.length === 1) {\n            const [id] = activeIds;\n            console.log(\"[DEBUG AttributeEditor] ID seleccionado:\", id);\n            console.log(\"[DEBUG AttributeEditor] trackItemDetailsMap:\", Object.keys(trackItemDetailsMap || {}));\n            console.log(\"[DEBUG AttributeEditor] trackItemsMap:\", Object.keys(trackItemsMap || {}));\n            const trackItemDetails = trackItemDetailsMap[id];\n            if (trackItemDetails) {\n                console.log(\"[DEBUG AttributeEditor] Encontrado trackItemDetails para ID:\", id);\n                const trackItem = {\n                    ...trackItemsMap[id],\n                    details: (trackItemDetails === null || trackItemDetails === void 0 ? void 0 : trackItemDetails.details) || {}\n                };\n                setTrackItem(trackItem);\n                setLayoutTrackItem(trackItem);\n            } else {\n                console.log(\"[DEBUG AttributeEditor] No se encontr\\xf3 trackItemDetails para ID:\", id);\n                console.log(\"[DEBUG AttributeEditor] Revisando transitionsMap:\", transitionsMap[id]);\n            }\n        } else {\n            setTrackItem(null);\n            setLayoutTrackItem(null);\n        }\n    }, [\n        activeIds,\n        trackItemsMap,\n        trackItemDetailsMap\n    ]);\n    if (!trackItem) {\n        console.log(\"[DEBUG AttributeEditor] No hay trackItem, retornando null\");\n        return null;\n    }\n    // Obtener un título más descriptivo basado en el tipo de elemento\n    const getItemTypeTitle = (type)=>{\n        switch(type){\n            case \"text\":\n                return \"Texto\";\n            case \"image\":\n                return \"Imagen\";\n            case \"video\":\n                return \"Video\";\n            case \"audio\":\n                return \"Audio\";\n            case \"caption\":\n                return \"Subt\\xedtulo\";\n            default:\n                return \"Elemento\";\n        }\n    };\n    console.log(\"[DEBUG AttributeEditor] Renderizando editor para tipo:\", trackItem.type);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex w-full flex-col h-full\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"border-b border-border/80 p-3\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center gap-2 text-primary font-medium\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Sliders_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                            size: 16\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\attribute-editor.tsx\",\n                            lineNumber: 78,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            children: [\n                                \"Editor de Atributos - \",\n                                getItemTypeTitle(trackItem.type)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\attribute-editor.tsx\",\n                            lineNumber: 79,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\attribute-editor.tsx\",\n                    lineNumber: 77,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\attribute-editor.tsx\",\n                lineNumber: 76,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_9__.ScrollArea, {\n                className: \"flex-1\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_11__.AnimatePresence, {\n                    mode: \"wait\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.motion.div, {\n                        initial: {\n                            opacity: 0,\n                            y: 10\n                        },\n                        animate: {\n                            opacity: 1,\n                            y: 0\n                        },\n                        exit: {\n                            opacity: 0,\n                            y: -10\n                        },\n                        transition: {\n                            duration: 0.3\n                        },\n                        className: \"p-3\",\n                        children: /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().cloneElement(children, {\n                            trackItem\n                        })\n                    }, trackItem.id, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\attribute-editor.tsx\",\n                        lineNumber: 84,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\attribute-editor.tsx\",\n                    lineNumber: 83,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\attribute-editor.tsx\",\n                lineNumber: 82,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\attribute-editor.tsx\",\n        lineNumber: 75,\n        columnNumber: 5\n    }, undefined);\n};\n_s(AttributeEditorContainer, \"eHbvtpLlU4vJIPAQuI7tXXZGoIY=\", false, function() {\n    return [\n        _store_use_store__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n        _store_use_layout_store__WEBPACK_IMPORTED_MODULE_8__[\"default\"]\n    ];\n});\n_c = AttributeEditorContainer;\nconst ActiveAttributeEditor = (param)=>{\n    let { trackItem } = param;\n    if (!trackItem) {\n        console.log(\"[DEBUG ActiveAttributeEditor] No hay trackItem, retornando null\");\n        return null;\n    }\n    console.log(\"[DEBUG ActiveAttributeEditor] Renderizando editor para tipo:\", trackItem.type);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: {\n            text: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_control_item_basic_text__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                trackItem: trackItem\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\attribute-editor.tsx\",\n                lineNumber: 118,\n                columnNumber: 17\n            }, undefined),\n            caption: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_control_item_basic_caption__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                trackItem: trackItem\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\attribute-editor.tsx\",\n                lineNumber: 120,\n                columnNumber: 13\n            }, undefined),\n            image: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_control_item_basic_image__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                trackItem: trackItem\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\attribute-editor.tsx\",\n                lineNumber: 122,\n                columnNumber: 18\n            }, undefined),\n            video: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_control_item_basic_video__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                trackItem: trackItem\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\attribute-editor.tsx\",\n                lineNumber: 123,\n                columnNumber: 18\n            }, undefined),\n            audio: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_control_item_basic_audio__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                trackItem: trackItem\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\attribute-editor.tsx\",\n                lineNumber: 124,\n                columnNumber: 18\n            }, undefined)\n        }[trackItem.type]\n    }, void 0, false);\n};\n_c1 = ActiveAttributeEditor;\nconst AttributeEditor = ()=>{\n    _s1();\n    const { activeIds } = (0,_store_use_store__WEBPACK_IMPORTED_MODULE_7__[\"default\"])();\n    const { activeMenuItem } = (0,_store_use_layout_store__WEBPACK_IMPORTED_MODULE_8__[\"default\"])();\n    console.log(\"[DEBUG AttributeEditor] Componente principal, activeIds:\", activeIds);\n    console.log(\"[DEBUG AttributeEditor] Panel activo:\", activeMenuItem);\n    if (activeIds.length !== 1) {\n        console.log(\"[DEBUG AttributeEditor] No hay un solo elemento seleccionado, mostrando mensaje\");\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex h-full w-full flex-col\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"border-b border-border/80 p-3\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2 text-primary font-medium\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Sliders_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                size: 16\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\attribute-editor.tsx\",\n                                lineNumber: 144,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: \"Editor de Atributos\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\attribute-editor.tsx\",\n                                lineNumber: 145,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\attribute-editor.tsx\",\n                        lineNumber: 143,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\attribute-editor.tsx\",\n                    lineNumber: 142,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-1 items-center justify-center text-muted-foreground p-4 text-center\",\n                    children: \"Selecciona un elemento para editar sus atributos\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\attribute-editor.tsx\",\n                    lineNumber: 148,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\attribute-editor.tsx\",\n            lineNumber: 141,\n            columnNumber: 7\n        }, undefined);\n    }\n    console.log(\"[DEBUG AttributeEditor] Renderizando AttributeEditorContainer\");\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AttributeEditorContainer, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActiveAttributeEditor, {}, void 0, false, {\n            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\attribute-editor.tsx\",\n            lineNumber: 158,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\attribute-editor.tsx\",\n        lineNumber: 157,\n        columnNumber: 5\n    }, undefined);\n};\n_s1(AttributeEditor, \"+CGLMMSWErvW+vnmEdEtpsfKrro=\", false, function() {\n    return [\n        _store_use_store__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n        _store_use_layout_store__WEBPACK_IMPORTED_MODULE_8__[\"default\"]\n    ];\n});\n_c2 = AttributeEditor;\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"AttributeEditorContainer\");\n$RefreshReg$(_c1, \"ActiveAttributeEditor\");\n$RefreshReg$(_c2, \"AttributeEditor\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2ZlYXR1cmVzL2VkaXRvci9tZW51LWl0ZW0vYXR0cmlidXRlLWVkaXRvci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBbUQ7QUFVQTtBQUNFO0FBQ0E7QUFDQTtBQUNJO0FBQ2Y7QUFDYTtBQUNoQjtBQUNrQjtBQUNEO0FBRXhELE1BQU1jLDJCQUEyQjtRQUFDLEVBQUVDLFFBQVEsRUFBaUM7O0lBQzNFLE1BQU0sRUFBRUMsU0FBUyxFQUFFQyxhQUFhLEVBQUVDLG1CQUFtQixFQUFFQyxjQUFjLEVBQUUsR0FBR1gsNERBQVFBO0lBQ2xGLE1BQU0sQ0FBQ1ksV0FBV0MsYUFBYSxHQUFHbkIsK0NBQVFBLENBQW9CO0lBQzlELE1BQU0sRUFBRW1CLGNBQWNDLGtCQUFrQixFQUFFLEdBQUdiLG1FQUFjQTtJQUUzRGMsUUFBUUMsR0FBRyxDQUFDLHNDQUFzQ1I7SUFFbERmLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSWUsVUFBVVMsTUFBTSxLQUFLLEdBQUc7WUFDMUIsTUFBTSxDQUFDQyxHQUFHLEdBQUdWO1lBQ2JPLFFBQVFDLEdBQUcsQ0FBQyw0Q0FBNENFO1lBQ3hESCxRQUFRQyxHQUFHLENBQUMsZ0RBQWdERyxPQUFPQyxJQUFJLENBQUNWLHVCQUF1QixDQUFDO1lBQ2hHSyxRQUFRQyxHQUFHLENBQUMsMENBQTBDRyxPQUFPQyxJQUFJLENBQUNYLGlCQUFpQixDQUFDO1lBRXBGLE1BQU1ZLG1CQUFtQlgsbUJBQW1CLENBQUNRLEdBQUc7WUFDaEQsSUFBSUcsa0JBQWtCO2dCQUNwQk4sUUFBUUMsR0FBRyxDQUFDLGdFQUFnRUU7Z0JBQzVFLE1BQU1OLFlBQVk7b0JBQ2hCLEdBQUdILGFBQWEsQ0FBQ1MsR0FBRztvQkFDcEJJLFNBQVNELENBQUFBLDZCQUFBQSx1Q0FBQUEsaUJBQWtCQyxPQUFPLEtBQUksQ0FBQztnQkFDekM7Z0JBQ0FULGFBQWFEO2dCQUNiRSxtQkFBbUJGO1lBQ3JCLE9BQU87Z0JBQ0xHLFFBQVFDLEdBQUcsQ0FBQyx1RUFBb0VFO2dCQUNoRkgsUUFBUUMsR0FBRyxDQUFDLHFEQUFxREwsY0FBYyxDQUFDTyxHQUFHO1lBQ3JGO1FBQ0YsT0FBTztZQUNMTCxhQUFhO1lBQ2JDLG1CQUFtQjtRQUNyQjtJQUNGLEdBQUc7UUFBQ047UUFBV0M7UUFBZUM7S0FBb0I7SUFFbEQsSUFBSSxDQUFDRSxXQUFXO1FBQ2RHLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE9BQU87SUFDVDtJQUVBLGtFQUFrRTtJQUNsRSxNQUFNTyxtQkFBbUIsQ0FBQ0M7UUFDeEIsT0FBT0E7WUFDTCxLQUFLO2dCQUFRLE9BQU87WUFDcEIsS0FBSztnQkFBUyxPQUFPO1lBQ3JCLEtBQUs7Z0JBQVMsT0FBTztZQUNyQixLQUFLO2dCQUFTLE9BQU87WUFDckIsS0FBSztnQkFBVyxPQUFPO1lBQ3ZCO2dCQUFTLE9BQU87UUFDbEI7SUFDRjtJQUVBVCxRQUFRQyxHQUFHLENBQUMsMERBQTBESixVQUFVWSxJQUFJO0lBRXBGLHFCQUNFLDhEQUFDQztRQUFJQyxXQUFVOzswQkFDYiw4REFBQ0Q7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNEO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ3hCLG9GQUFPQTs0QkFBQ3lCLE1BQU07Ozs7OztzQ0FDZiw4REFBQ0M7O2dDQUFLO2dDQUF1QkwsaUJBQWlCWCxVQUFVWSxJQUFJOzs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBR2hFLDhEQUFDckIsa0VBQVVBO2dCQUFDdUIsV0FBVTswQkFDcEIsNEVBQUNyQiwyREFBZUE7b0JBQUN3QixNQUFLOzhCQUNwQiw0RUFBQ3pCLGtEQUFNQSxDQUFDcUIsR0FBRzt3QkFFVEssU0FBUzs0QkFBRUMsU0FBUzs0QkFBR0MsR0FBRzt3QkFBRzt3QkFDN0JDLFNBQVM7NEJBQUVGLFNBQVM7NEJBQUdDLEdBQUc7d0JBQUU7d0JBQzVCRSxNQUFNOzRCQUFFSCxTQUFTOzRCQUFHQyxHQUFHLENBQUM7d0JBQUc7d0JBQzNCRyxZQUFZOzRCQUFFQyxVQUFVO3dCQUFJO3dCQUM1QlYsV0FBVTtrQ0FFVGxDLGNBQUFBLHlEQUFrQixDQUFDZSxVQUFxQzs0QkFDdkRLO3dCQUNGO3VCQVRLQSxVQUFVTSxFQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFlN0I7R0E5RU1aOztRQUNzRU4sd0RBQVFBO1FBRXJDQywrREFBY0E7OztLQUh2REs7QUFnRk4sTUFBTWdDLHdCQUF3QjtRQUFDLEVBQzdCMUIsU0FBUyxFQUdWO0lBQ0MsSUFBSSxDQUFDQSxXQUFXO1FBQ2RHLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE9BQU87SUFDVDtJQUVBRCxRQUFRQyxHQUFHLENBQUMsZ0VBQWdFSixVQUFVWSxJQUFJO0lBRTFGLHFCQUNFO2tCQUVJO1lBQ0VlLG9CQUFNLDhEQUFDNUMsZ0VBQVNBO2dCQUFDaUIsV0FBV0E7Ozs7OztZQUM1QjRCLHVCQUNFLDhEQUFDekMsbUVBQVlBO2dCQUFDYSxXQUFXQTs7Ozs7O1lBRTNCNkIscUJBQU8sOERBQUM3QyxpRUFBVUE7Z0JBQUNnQixXQUFXQTs7Ozs7O1lBQzlCOEIscUJBQU8sOERBQUM3QyxpRUFBVUE7Z0JBQUNlLFdBQVdBOzs7Ozs7WUFDOUIrQixxQkFBTyw4REFBQzdDLGlFQUFVQTtnQkFBQ2MsV0FBV0E7Ozs7OztRQUNoQyxDQUFDLENBQUNBLFVBQVVZLElBQUksQ0FBVzs7QUFJbkM7TUEzQk1jO0FBNkJDLE1BQU1NLGtCQUFrQjs7SUFDN0IsTUFBTSxFQUFFcEMsU0FBUyxFQUFFLEdBQUdSLDREQUFRQTtJQUM5QixNQUFNLEVBQUU2QyxjQUFjLEVBQUUsR0FBRzVDLG1FQUFjQTtJQUV6Q2MsUUFBUUMsR0FBRyxDQUFDLDREQUE0RFI7SUFDeEVPLFFBQVFDLEdBQUcsQ0FBQyx5Q0FBeUM2QjtJQUVyRCxJQUFJckMsVUFBVVMsTUFBTSxLQUFLLEdBQUc7UUFDMUJGLFFBQVFDLEdBQUcsQ0FBQztRQUNaLHFCQUNFLDhEQUFDUztZQUFJQyxXQUFVOzs4QkFDYiw4REFBQ0Q7b0JBQUlDLFdBQVU7OEJBQ2IsNEVBQUNEO3dCQUFJQyxXQUFVOzswQ0FDYiw4REFBQ3hCLG9GQUFPQTtnQ0FBQ3lCLE1BQU07Ozs7OzswQ0FDZiw4REFBQ0M7MENBQUs7Ozs7Ozs7Ozs7Ozs7Ozs7OzhCQUdWLDhEQUFDSDtvQkFBSUMsV0FBVTs4QkFBZ0Y7Ozs7Ozs7Ozs7OztJQUtyRztJQUVBWCxRQUFRQyxHQUFHLENBQUM7SUFDWixxQkFDRSw4REFBQ1Y7a0JBQ0MsNEVBQUNnQzs7Ozs7Ozs7OztBQUdQLEVBQUU7SUE5QldNOztRQUNXNUMsd0RBQVFBO1FBQ0hDLCtEQUFjQTs7O01BRjlCMkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vZmVhdHVyZXMvZWRpdG9yL21lbnUtaXRlbS9hdHRyaWJ1dGUtZWRpdG9yLnRzeD9mMGYxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICBJQXVkaW8sXG4gIElDYXB0aW9uLFxuICBJSW1hZ2UsXG4gIElUZXh0LFxuICBJVHJhY2tJdGVtLFxuICBJVHJhY2tJdGVtQW5kRGV0YWlscyxcbiAgSVZpZGVvLFxufSBmcm9tIFwiQGRlc2lnbmNvbWJvL3R5cGVzXCI7XG5pbXBvcnQgQmFzaWNUZXh0IGZyb20gXCIuLi9jb250cm9sLWl0ZW0vYmFzaWMtdGV4dFwiO1xuaW1wb3J0IEJhc2ljSW1hZ2UgZnJvbSBcIi4uL2NvbnRyb2wtaXRlbS9iYXNpYy1pbWFnZVwiO1xuaW1wb3J0IEJhc2ljVmlkZW8gZnJvbSBcIi4uL2NvbnRyb2wtaXRlbS9iYXNpYy12aWRlb1wiO1xuaW1wb3J0IEJhc2ljQXVkaW8gZnJvbSBcIi4uL2NvbnRyb2wtaXRlbS9iYXNpYy1hdWRpb1wiO1xuaW1wb3J0IEJhc2ljQ2FwdGlvbiBmcm9tIFwiLi4vY29udHJvbC1pdGVtL2Jhc2ljLWNhcHRpb25cIjtcbmltcG9ydCB1c2VTdG9yZSBmcm9tIFwiLi4vc3RvcmUvdXNlLXN0b3JlXCI7XG5pbXBvcnQgdXNlTGF5b3V0U3RvcmUgZnJvbSBcIi4uL3N0b3JlL3VzZS1sYXlvdXQtc3RvcmVcIjtcbmltcG9ydCB7IFNsaWRlcnMgfSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5pbXBvcnQgeyBTY3JvbGxBcmVhIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9zY3JvbGwtYXJlYVwiO1xuaW1wb3J0IHsgbW90aW9uLCBBbmltYXRlUHJlc2VuY2UgfSBmcm9tIFwiZnJhbWVyLW1vdGlvblwiO1xuXG5jb25zdCBBdHRyaWJ1dGVFZGl0b3JDb250YWluZXIgPSAoeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfSkgPT4ge1xuICBjb25zdCB7IGFjdGl2ZUlkcywgdHJhY2tJdGVtc01hcCwgdHJhY2tJdGVtRGV0YWlsc01hcCwgdHJhbnNpdGlvbnNNYXAgfSA9IHVzZVN0b3JlKCk7XG4gIGNvbnN0IFt0cmFja0l0ZW0sIHNldFRyYWNrSXRlbV0gPSB1c2VTdGF0ZTxJVHJhY2tJdGVtIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHsgc2V0VHJhY2tJdGVtOiBzZXRMYXlvdXRUcmFja0l0ZW0gfSA9IHVzZUxheW91dFN0b3JlKCk7XG5cbiAgY29uc29sZS5sb2coXCJbREVCVUcgQXR0cmlidXRlRWRpdG9yXSBBY3RpdmVJZHM6XCIsIGFjdGl2ZUlkcyk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWN0aXZlSWRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgY29uc3QgW2lkXSA9IGFjdGl2ZUlkcztcbiAgICAgIGNvbnNvbGUubG9nKFwiW0RFQlVHIEF0dHJpYnV0ZUVkaXRvcl0gSUQgc2VsZWNjaW9uYWRvOlwiLCBpZCk7XG4gICAgICBjb25zb2xlLmxvZyhcIltERUJVRyBBdHRyaWJ1dGVFZGl0b3JdIHRyYWNrSXRlbURldGFpbHNNYXA6XCIsIE9iamVjdC5rZXlzKHRyYWNrSXRlbURldGFpbHNNYXAgfHwge30pKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiW0RFQlVHIEF0dHJpYnV0ZUVkaXRvcl0gdHJhY2tJdGVtc01hcDpcIiwgT2JqZWN0LmtleXModHJhY2tJdGVtc01hcCB8fCB7fSkpO1xuXG4gICAgICBjb25zdCB0cmFja0l0ZW1EZXRhaWxzID0gdHJhY2tJdGVtRGV0YWlsc01hcFtpZF07XG4gICAgICBpZiAodHJhY2tJdGVtRGV0YWlscykge1xuICAgICAgICBjb25zb2xlLmxvZyhcIltERUJVRyBBdHRyaWJ1dGVFZGl0b3JdIEVuY29udHJhZG8gdHJhY2tJdGVtRGV0YWlscyBwYXJhIElEOlwiLCBpZCk7XG4gICAgICAgIGNvbnN0IHRyYWNrSXRlbSA9IHtcbiAgICAgICAgICAuLi50cmFja0l0ZW1zTWFwW2lkXSxcbiAgICAgICAgICBkZXRhaWxzOiB0cmFja0l0ZW1EZXRhaWxzPy5kZXRhaWxzIHx8IHt9LFxuICAgICAgICB9O1xuICAgICAgICBzZXRUcmFja0l0ZW0odHJhY2tJdGVtKTtcbiAgICAgICAgc2V0TGF5b3V0VHJhY2tJdGVtKHRyYWNrSXRlbSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhcIltERUJVRyBBdHRyaWJ1dGVFZGl0b3JdIE5vIHNlIGVuY29udHLDsyB0cmFja0l0ZW1EZXRhaWxzIHBhcmEgSUQ6XCIsIGlkKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJbREVCVUcgQXR0cmlidXRlRWRpdG9yXSBSZXZpc2FuZG8gdHJhbnNpdGlvbnNNYXA6XCIsIHRyYW5zaXRpb25zTWFwW2lkXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFRyYWNrSXRlbShudWxsKTtcbiAgICAgIHNldExheW91dFRyYWNrSXRlbShudWxsKTtcbiAgICB9XG4gIH0sIFthY3RpdmVJZHMsIHRyYWNrSXRlbXNNYXAsIHRyYWNrSXRlbURldGFpbHNNYXBdKTtcblxuICBpZiAoIXRyYWNrSXRlbSkge1xuICAgIGNvbnNvbGUubG9nKFwiW0RFQlVHIEF0dHJpYnV0ZUVkaXRvcl0gTm8gaGF5IHRyYWNrSXRlbSwgcmV0b3JuYW5kbyBudWxsXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gT2J0ZW5lciB1biB0w610dWxvIG3DoXMgZGVzY3JpcHRpdm8gYmFzYWRvIGVuIGVsIHRpcG8gZGUgZWxlbWVudG9cbiAgY29uc3QgZ2V0SXRlbVR5cGVUaXRsZSA9ICh0eXBlOiBzdHJpbmcpID0+IHtcbiAgICBzd2l0Y2godHlwZSkge1xuICAgICAgY2FzZSAndGV4dCc6IHJldHVybiAnVGV4dG8nO1xuICAgICAgY2FzZSAnaW1hZ2UnOiByZXR1cm4gJ0ltYWdlbic7XG4gICAgICBjYXNlICd2aWRlbyc6IHJldHVybiAnVmlkZW8nO1xuICAgICAgY2FzZSAnYXVkaW8nOiByZXR1cm4gJ0F1ZGlvJztcbiAgICAgIGNhc2UgJ2NhcHRpb24nOiByZXR1cm4gJ1N1YnTDrXR1bG8nO1xuICAgICAgZGVmYXVsdDogcmV0dXJuICdFbGVtZW50byc7XG4gICAgfVxuICB9O1xuXG4gIGNvbnNvbGUubG9nKFwiW0RFQlVHIEF0dHJpYnV0ZUVkaXRvcl0gUmVuZGVyaXphbmRvIGVkaXRvciBwYXJhIHRpcG86XCIsIHRyYWNrSXRlbS50eXBlKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgZmxleC1jb2wgaC1mdWxsXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci1iIGJvcmRlci1ib3JkZXIvODAgcC0zXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1wcmltYXJ5IGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgPFNsaWRlcnMgc2l6ZT17MTZ9IC8+XG4gICAgICAgICAgPHNwYW4+RWRpdG9yIGRlIEF0cmlidXRvcyAtIHtnZXRJdGVtVHlwZVRpdGxlKHRyYWNrSXRlbS50eXBlKX08L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8U2Nyb2xsQXJlYSBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgPEFuaW1hdGVQcmVzZW5jZSBtb2RlPVwid2FpdFwiPlxuICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICBrZXk9e3RyYWNrSXRlbS5pZH1cbiAgICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCwgeTogMTAgfX1cbiAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeTogMCB9fVxuICAgICAgICAgICAgZXhpdD17eyBvcGFjaXR5OiAwLCB5OiAtMTAgfX1cbiAgICAgICAgICAgIHRyYW5zaXRpb249e3sgZHVyYXRpb246IDAuMyB9fVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0zXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7UmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkcmVuIGFzIFJlYWN0LlJlYWN0RWxlbWVudDxhbnk+LCB7XG4gICAgICAgICAgICAgIHRyYWNrSXRlbSxcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgPC9BbmltYXRlUHJlc2VuY2U+XG4gICAgICA8L1Njcm9sbEFyZWE+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5jb25zdCBBY3RpdmVBdHRyaWJ1dGVFZGl0b3IgPSAoe1xuICB0cmFja0l0ZW0sXG59OiB7XG4gIHRyYWNrSXRlbT86IElUcmFja0l0ZW1BbmREZXRhaWxzO1xufSkgPT4ge1xuICBpZiAoIXRyYWNrSXRlbSkge1xuICAgIGNvbnNvbGUubG9nKFwiW0RFQlVHIEFjdGl2ZUF0dHJpYnV0ZUVkaXRvcl0gTm8gaGF5IHRyYWNrSXRlbSwgcmV0b3JuYW5kbyBudWxsXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc29sZS5sb2coXCJbREVCVUcgQWN0aXZlQXR0cmlidXRlRWRpdG9yXSBSZW5kZXJpemFuZG8gZWRpdG9yIHBhcmEgdGlwbzpcIiwgdHJhY2tJdGVtLnR5cGUpO1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIHtcbiAgICAgICAge1xuICAgICAgICAgIHRleHQ6IDxCYXNpY1RleHQgdHJhY2tJdGVtPXt0cmFja0l0ZW0gYXMgSVRyYWNrSXRlbSAmIElUZXh0fSAvPixcbiAgICAgICAgICBjYXB0aW9uOiAoXG4gICAgICAgICAgICA8QmFzaWNDYXB0aW9uIHRyYWNrSXRlbT17dHJhY2tJdGVtIGFzIElUcmFja0l0ZW0gJiBJQ2FwdGlvbn0gLz5cbiAgICAgICAgICApLFxuICAgICAgICAgIGltYWdlOiA8QmFzaWNJbWFnZSB0cmFja0l0ZW09e3RyYWNrSXRlbSBhcyBJVHJhY2tJdGVtICYgSUltYWdlfSAvPixcbiAgICAgICAgICB2aWRlbzogPEJhc2ljVmlkZW8gdHJhY2tJdGVtPXt0cmFja0l0ZW0gYXMgSVRyYWNrSXRlbSAmIElWaWRlb30gLz4sXG4gICAgICAgICAgYXVkaW86IDxCYXNpY0F1ZGlvIHRyYWNrSXRlbT17dHJhY2tJdGVtIGFzIElUcmFja0l0ZW0gJiBJQXVkaW99IC8+LFxuICAgICAgICB9W3RyYWNrSXRlbS50eXBlIGFzIFwidGV4dFwiXVxuICAgICAgfVxuICAgIDwvPlxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IEF0dHJpYnV0ZUVkaXRvciA9ICgpID0+IHtcbiAgY29uc3QgeyBhY3RpdmVJZHMgfSA9IHVzZVN0b3JlKCk7XG4gIGNvbnN0IHsgYWN0aXZlTWVudUl0ZW0gfSA9IHVzZUxheW91dFN0b3JlKCk7XG5cbiAgY29uc29sZS5sb2coXCJbREVCVUcgQXR0cmlidXRlRWRpdG9yXSBDb21wb25lbnRlIHByaW5jaXBhbCwgYWN0aXZlSWRzOlwiLCBhY3RpdmVJZHMpO1xuICBjb25zb2xlLmxvZyhcIltERUJVRyBBdHRyaWJ1dGVFZGl0b3JdIFBhbmVsIGFjdGl2bzpcIiwgYWN0aXZlTWVudUl0ZW0pO1xuXG4gIGlmIChhY3RpdmVJZHMubGVuZ3RoICE9PSAxKSB7XG4gICAgY29uc29sZS5sb2coXCJbREVCVUcgQXR0cmlidXRlRWRpdG9yXSBObyBoYXkgdW4gc29sbyBlbGVtZW50byBzZWxlY2Npb25hZG8sIG1vc3RyYW5kbyBtZW5zYWplXCIpO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC1mdWxsIHctZnVsbCBmbGV4LWNvbFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci1iIGJvcmRlci1ib3JkZXIvODAgcC0zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXByaW1hcnkgZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgIDxTbGlkZXJzIHNpemU9ezE2fSAvPlxuICAgICAgICAgICAgPHNwYW4+RWRpdG9yIGRlIEF0cmlidXRvczwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LTEgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBwLTQgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICBTZWxlY2Npb25hIHVuIGVsZW1lbnRvIHBhcmEgZWRpdGFyIHN1cyBhdHJpYnV0b3NcbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgY29uc29sZS5sb2coXCJbREVCVUcgQXR0cmlidXRlRWRpdG9yXSBSZW5kZXJpemFuZG8gQXR0cmlidXRlRWRpdG9yQ29udGFpbmVyXCIpO1xuICByZXR1cm4gKFxuICAgIDxBdHRyaWJ1dGVFZGl0b3JDb250YWluZXI+XG4gICAgICA8QWN0aXZlQXR0cmlidXRlRWRpdG9yIC8+XG4gICAgPC9BdHRyaWJ1dGVFZGl0b3JDb250YWluZXI+XG4gICk7XG59O1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJCYXNpY1RleHQiLCJCYXNpY0ltYWdlIiwiQmFzaWNWaWRlbyIsIkJhc2ljQXVkaW8iLCJCYXNpY0NhcHRpb24iLCJ1c2VTdG9yZSIsInVzZUxheW91dFN0b3JlIiwiU2xpZGVycyIsIlNjcm9sbEFyZWEiLCJtb3Rpb24iLCJBbmltYXRlUHJlc2VuY2UiLCJBdHRyaWJ1dGVFZGl0b3JDb250YWluZXIiLCJjaGlsZHJlbiIsImFjdGl2ZUlkcyIsInRyYWNrSXRlbXNNYXAiLCJ0cmFja0l0ZW1EZXRhaWxzTWFwIiwidHJhbnNpdGlvbnNNYXAiLCJ0cmFja0l0ZW0iLCJzZXRUcmFja0l0ZW0iLCJzZXRMYXlvdXRUcmFja0l0ZW0iLCJjb25zb2xlIiwibG9nIiwibGVuZ3RoIiwiaWQiLCJPYmplY3QiLCJrZXlzIiwidHJhY2tJdGVtRGV0YWlscyIsImRldGFpbHMiLCJnZXRJdGVtVHlwZVRpdGxlIiwidHlwZSIsImRpdiIsImNsYXNzTmFtZSIsInNpemUiLCJzcGFuIiwibW9kZSIsImluaXRpYWwiLCJvcGFjaXR5IiwieSIsImFuaW1hdGUiLCJleGl0IiwidHJhbnNpdGlvbiIsImR1cmF0aW9uIiwiY2xvbmVFbGVtZW50IiwiQWN0aXZlQXR0cmlidXRlRWRpdG9yIiwidGV4dCIsImNhcHRpb24iLCJpbWFnZSIsInZpZGVvIiwiYXVkaW8iLCJBdHRyaWJ1dGVFZGl0b3IiLCJhY3RpdmVNZW51SXRlbSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./features/editor/menu-item/attribute-editor.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./features/editor/menu-item/subtitles.tsx":
/*!*************************************************!*\
  !*** ./features/editor/menu-item/subtitles.tsx ***!
  \*************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Subtitles: function() { return /* binding */ Subtitles; },\n/* harmony export */   getAddTextPayload: function() { return /* binding */ getAddTextPayload; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _components_shared_draggable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/components/shared/draggable */ \"(app-pages-browser)/./components/shared/draggable.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/utils */ \"(app-pages-browser)/./lib/utils.ts\");\n/* harmony import */ var _designcombo_events__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @designcombo/events */ \"(app-pages-browser)/./node_modules/@designcombo/events/dist/index.es.js\");\n/* harmony import */ var _designcombo_state__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @designcombo/state */ \"(app-pages-browser)/./node_modules/@designcombo/state/dist/index.es.js\");\n/* harmony import */ var _designcombo_timeline__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @designcombo/timeline */ \"(app-pages-browser)/./node_modules/@designcombo/timeline/dist/index.es.js\");\n/* harmony import */ var _hooks_is_dragging_over_timeline__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../hooks/is-dragging-over-timeline */ \"(app-pages-browser)/./features/editor/hooks/is-dragging-over-timeline.tsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n// Componente Spinner simple\nconst Spinner = ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"animate-spin h-5 w-5 border-2 border-primary border-t-transparent rounded-full\"\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n        lineNumber: 13,\n        columnNumber: 3\n    }, undefined);\n_c = Spinner;\n// Función para parsear el tiempo de formato SRT a milisegundos\nconst parseTimeToMs = (timeString)=>{\n    const [hours, minutes, secondsAndMs] = timeString.split(\":\");\n    const [seconds, ms] = secondsAndMs.split(\",\");\n    return parseInt(hours) * 3600000 + parseInt(minutes) * 60000 + parseInt(seconds) * 1000 + parseInt(ms);\n};\n// Función para parsear el archivo SRT\nconst parseSRT = (srtContent)=>{\n    const segments = [];\n    const blocks = srtContent.trim().split(\"\\n\\n\");\n    blocks.forEach((block)=>{\n        const lines = block.split(\"\\n\");\n        if (lines.length >= 3) {\n            const id = parseInt(lines[0]);\n            const timeRange = lines[1].split(\" --> \");\n            const startTime = parseTimeToMs(timeRange[0]);\n            const endTime = parseTimeToMs(timeRange[1]);\n            const text = lines.slice(2).join(\"\\n\"); // Unir todas las líneas de texto\n            segments.push({\n                id,\n                startTime,\n                endTime,\n                text\n            });\n        }\n    });\n    return segments;\n};\n// Función para formatear milisegundos a formato legible (MM:SS)\nconst formatTime = (ms)=>{\n    const seconds = Math.floor(ms / 1000);\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = seconds % 60;\n    return \"\".concat(minutes.toString().padStart(2, \"0\"), \":\").concat(remainingSeconds.toString().padStart(2, \"0\"));\n};\n// Función para dividir un texto en grupos de aproximadamente 3 palabras\nconst splitTextIntoGroups = function(text) {\n    let wordsPerGroup = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 3;\n    const words = text.split(/\\s+/);\n    const groups = [];\n    for(let i = 0; i < words.length; i += wordsPerGroup){\n        const group = words.slice(i, i + wordsPerGroup).join(\" \");\n        groups.push(group);\n    }\n    return groups;\n};\n// Función para procesar un segmento y dividirlo en múltiples segmentos si es necesario\nconst processSegment = (segment)=>{\n    const textGroups = splitTextIntoGroups(segment.text);\n    // Si solo hay un grupo, devolver el segmento original\n    if (textGroups.length <= 1) {\n        return [\n            segment\n        ];\n    }\n    // Calcular la duración de cada grupo\n    const totalDuration = segment.endTime - segment.startTime;\n    const groupDuration = totalDuration / textGroups.length;\n    // Crear un nuevo segmento para cada grupo\n    return textGroups.map((groupText, index)=>{\n        const startTime = segment.startTime + index * groupDuration;\n        const endTime = startTime + groupDuration;\n        return {\n            id: segment.id * 1000 + index,\n            startTime,\n            endTime,\n            text: groupText\n        };\n    });\n};\nconst getAddTextPayload = function() {\n    let text = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"Demo\", startTime = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, endTime = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 5000;\n    return {\n        id: (0,_designcombo_timeline__WEBPACK_IMPORTED_MODULE_6__.generateId)(),\n        display: {\n            from: startTime,\n            to: endTime\n        },\n        type: \"text\",\n        details: {\n            text: text.toUpperCase(),\n            fontSize: 80,\n            width: 900,\n            fontUrl: \"/fonts/mrbeast.ttf\",\n            fontFamily: \"MrBeast\",\n            color: \"#FFFF00\",\n            wordWrap: \"break-word\",\n            textAlign: \"center\",\n            borderWidth: 20,\n            borderColor: \"#000000\",\n            boxShadow: {\n                color: \"#000000\",\n                x: 3,\n                y: 3,\n                blur: 0\n            },\n            backgroundColor: \"transparent\",\n            padding: 10,\n            borderRadius: 0\n        }\n    };\n};\nconst Subtitles = ()=>{\n    _s();\n    const isDraggingOverTimeline = (0,_hooks_is_dragging_over_timeline__WEBPACK_IMPORTED_MODULE_7__.useIsDraggingOverTimeline)();\n    const [subtitleSegments, setSubtitleSegments] = (0,react__WEBPACK_IMPORTED_MODULE_8__.useState)([]);\n    const [originalSegments, setOriginalSegments] = (0,react__WEBPACK_IMPORTED_MODULE_8__.useState)([]);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_8__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_8__.useState)(null);\n    const [addedSubtitles, setAddedSubtitles] = (0,react__WEBPACK_IMPORTED_MODULE_8__.useState)(new Set());\n    const [groupWords, setGroupWords] = (0,react__WEBPACK_IMPORTED_MODULE_8__.useState)(true); // Estado para controlar si agrupar palabras\n    (0,react__WEBPACK_IMPORTED_MODULE_8__.useEffect)(()=>{\n        const fetchTranscription = async ()=>{\n            setIsLoading(true);\n            setError(null);\n            try {\n                const response = await fetch(\"/transcriptions/transcription1.srt\");\n                if (!response.ok) {\n                    throw new Error(\"Error al cargar el archivo SRT: \".concat(response.status));\n                }\n                const text = await response.text();\n                const segments = parseSRT(text);\n                setOriginalSegments(segments);\n                // Procesar los segmentos según la configuración actual\n                if (groupWords) {\n                    const processedSegments = segments.flatMap(processSegment);\n                    setSubtitleSegments(processedSegments);\n                } else {\n                    setSubtitleSegments(segments);\n                }\n            } catch (error) {\n                console.error(\"Failed to load transcription:\", error);\n                setError(\"No se pudo cargar el archivo de subt\\xedtulos\");\n                setSubtitleSegments([]);\n                setOriginalSegments([]);\n            } finally{\n                setIsLoading(false);\n            }\n        };\n        fetchTranscription();\n    }, [\n        groupWords\n    ]);\n    // Función para cambiar entre modo agrupado y no agrupado\n    const toggleGroupWords = ()=>{\n        setGroupWords(!groupWords);\n    };\n    const handleAddSubtitle = (segment)=>{\n        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_4__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_5__.ADD_TEXT, {\n            payload: getAddTextPayload(segment.text, segment.startTime, segment.endTime),\n            options: {}\n        });\n        // Marcar este subtítulo como añadido\n        setAddedSubtitles((prev)=>{\n            const newSet = new Set(prev);\n            newSet.add(segment.id);\n            return newSet;\n        });\n    };\n    const handleAddAllSubtitles = ()=>{\n        // Desactivar el botón mientras se procesan los subtítulos\n        setIsLoading(true);\n        // Añadir subtítulos con un retraso entre cada uno\n        subtitleSegments.forEach((segment, index)=>{\n            setTimeout(()=>{\n                (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_4__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_5__.ADD_TEXT, {\n                    payload: getAddTextPayload(segment.text, segment.startTime, segment.endTime),\n                    options: {}\n                });\n                // Si es el último subtítulo, actualizar el estado\n                if (index === subtitleSegments.length - 1) {\n                    // Marcar todos los subtítulos como añadidos\n                    const allIds = new Set(subtitleSegments.map((segment)=>segment.id));\n                    setAddedSubtitles(allIds);\n                    setIsLoading(false);\n                }\n            }, index * 200); // 20ms de retraso entre cada subtítulo\n        });\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-1 flex-col\",\n        \"data-subtitles\": true,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex h-12 flex-none items-center px-4 font-medium text-sm text-text-primary\",\n                children: \"Subt\\xedtulos\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                lineNumber: 227,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col gap-2 px-4\",\n                children: isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-center items-center py-8\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Spinner, {}, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                        lineNumber: 233,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                    lineNumber: 232,\n                    columnNumber: 11\n                }, undefined) : error ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-red-500 text-sm py-2\",\n                    children: error\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                    lineNumber: 236,\n                    columnNumber: 11\n                }, undefined) : subtitleSegments.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex justify-between items-center mb-2\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                onClick: toggleGroupWords,\n                                className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)((0,_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.buttonVariants)({\n                                    variant: \"outline\",\n                                    size: \"sm\"\n                                }), \"cursor-pointer\"),\n                                children: groupWords ? \"Ver subt\\xedtulos completos\" : \"Dividir en grupos de 3 palabras\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                                lineNumber: 240,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                            lineNumber: 239,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            onClick: handleAddAllSubtitles,\n                            className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)((0,_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.buttonVariants)({\n                                variant: \"secondary\"\n                            }), \"cursor-pointer flex justify-center items-center\"),\n                            disabled: isLoading,\n                            // ID dinámico según el modo de agrupación\n                            id: groupWords ? \"add-all-subtitles-grouped\" : \"add-all-subtitles-complete\",\n                            \"data-subtitles-add-all\": true,\n                            children: isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Spinner, {}, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                                        lineNumber: 263,\n                                        columnNumber: 19\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"ml-2\",\n                                        children: \"A\\xf1adiendo subt\\xedtulos...\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                                        lineNumber: 264,\n                                        columnNumber: 19\n                                    }, undefined)\n                                ]\n                            }, void 0, true) : \"A\\xf1adir todos los subt\\xedtulos \".concat(groupWords ? \"(agrupados)\" : \"(completos)\")\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                            lineNumber: 250,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-2 text-sm font-medium\",\n                            children: \"Subt\\xedtulos individuales:\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                            lineNumber: 270,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"max-h-60 overflow-y-auto pr-1\",\n                            children: subtitleSegments.map((segment)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_shared_draggable__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                                    data: ()=>getAddTextPayload(segment.text, segment.startTime, segment.endTime),\n                                    renderCustomPreview: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-background border border-border p-2 rounded-md max-w-xs\",\n                                        children: segment.text\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                                        lineNumber: 277,\n                                        columnNumber: 21\n                                    }, void 0),\n                                    shouldDisplayPreview: !isDraggingOverTimeline,\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        onClick: ()=>handleAddSubtitle(segment),\n                                        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)((0,_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.buttonVariants)({\n                                            variant: \"outline\"\n                                        }), \"mb-2 text-left flex flex-col w-full\", addedSubtitles.has(segment.id) && \"border-green-500 bg-green-500/10\"),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"truncate\",\n                                                title: segment.text,\n                                                children: segment.text.length > 30 ? \"\".concat(segment.text.substring(0, 30), \"...\") : segment.text\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                                                lineNumber: 291,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-xs text-muted-foreground mt-1\",\n                                                children: [\n                                                    formatTime(segment.startTime),\n                                                    \" - \",\n                                                    formatTime(segment.endTime)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                                                lineNumber: 294,\n                                                columnNumber: 21\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                                        lineNumber: 283,\n                                        columnNumber: 19\n                                    }, undefined)\n                                }, segment.id, false, {\n                                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                                    lineNumber: 273,\n                                    columnNumber: 17\n                                }, undefined))\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                            lineNumber: 271,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_shared_draggable__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                    data: ()=>getAddTextPayload(\"Demo\"),\n                    renderCustomPreview: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        variant: \"secondary\",\n                        className: \"w-60\",\n                        children: \"Add text\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                        lineNumber: 306,\n                        columnNumber: 15\n                    }, void 0),\n                    shouldDisplayPreview: !isDraggingOverTimeline,\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        onClick: ()=>handleAddSubtitle({\n                                id: 0,\n                                startTime: 0,\n                                endTime: 5000,\n                                text: \"Demo\"\n                            }),\n                        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)((0,_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.buttonVariants)({\n                            variant: \"secondary\"\n                        })),\n                        children: \"Add text\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                        lineNumber: 312,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                    lineNumber: 303,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n                lineNumber: 230,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\menu-item\\\\subtitles.tsx\",\n        lineNumber: 226,\n        columnNumber: 5\n    }, undefined);\n};\n_s(Subtitles, \"+EGBQoXF/xXzI/jj9U8y53+uW1E=\", false, function() {\n    return [\n        _hooks_is_dragging_over_timeline__WEBPACK_IMPORTED_MODULE_7__.useIsDraggingOverTimeline\n    ];\n});\n_c1 = Subtitles;\nvar _c, _c1;\n$RefreshReg$(_c, \"Spinner\");\n$RefreshReg$(_c1, \"Subtitles\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2ZlYXR1cmVzL2VkaXRvci9tZW51LWl0ZW0vc3VidGl0bGVzLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRDtBQUNVO0FBRS9CO0FBQ2M7QUFDRDtBQUNLO0FBQzRCO0FBQ25DO0FBRTVDLDRCQUE0QjtBQUM1QixNQUFNVSxVQUFVLGtCQUNkLDhEQUFDQztRQUFJQyxXQUFVOzs7Ozs7S0FEWEY7QUFZTiwrREFBK0Q7QUFDL0QsTUFBTUcsZ0JBQWdCLENBQUNDO0lBQ3JCLE1BQU0sQ0FBQ0MsT0FBT0MsU0FBU0MsYUFBYSxHQUFHSCxXQUFXSSxLQUFLLENBQUM7SUFDeEQsTUFBTSxDQUFDQyxTQUFTQyxHQUFHLEdBQUdILGFBQWFDLEtBQUssQ0FBQztJQUV6QyxPQUNFRyxTQUFTTixTQUFTLFVBQ2xCTSxTQUFTTCxXQUFXLFFBQ3BCSyxTQUFTRixXQUFXLE9BQ3BCRSxTQUFTRDtBQUViO0FBRUEsc0NBQXNDO0FBQ3RDLE1BQU1FLFdBQVcsQ0FBQ0M7SUFDaEIsTUFBTUMsV0FBOEIsRUFBRTtJQUN0QyxNQUFNQyxTQUFTRixXQUFXRyxJQUFJLEdBQUdSLEtBQUssQ0FBQztJQUV2Q08sT0FBT0UsT0FBTyxDQUFDQyxDQUFBQTtRQUNiLE1BQU1DLFFBQVFELE1BQU1WLEtBQUssQ0FBQztRQUMxQixJQUFJVyxNQUFNQyxNQUFNLElBQUksR0FBRztZQUNyQixNQUFNQyxLQUFLVixTQUFTUSxLQUFLLENBQUMsRUFBRTtZQUM1QixNQUFNRyxZQUFZSCxLQUFLLENBQUMsRUFBRSxDQUFDWCxLQUFLLENBQUM7WUFDakMsTUFBTWUsWUFBWXBCLGNBQWNtQixTQUFTLENBQUMsRUFBRTtZQUM1QyxNQUFNRSxVQUFVckIsY0FBY21CLFNBQVMsQ0FBQyxFQUFFO1lBQzFDLE1BQU1HLE9BQU9OLE1BQU1PLEtBQUssQ0FBQyxHQUFHQyxJQUFJLENBQUMsT0FBTyxpQ0FBaUM7WUFFekViLFNBQVNjLElBQUksQ0FBQztnQkFD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Q3hCO2dEQUFJQyxXQUFVOztvREFDWjJCLFdBQVdhLFFBQVFuQixTQUFTO29EQUFFO29EQUFJTSxXQUFXYSxRQUFRbEIsT0FBTzs7Ozs7Ozs7Ozs7OzttQ0FyQjVEa0IsUUFBUXJCLEVBQUU7Ozs7Ozs7Ozs7O2lEQTZCdkIsOERBQUMvQixvRUFBU0E7b0JBQ1IySCxNQUFNLElBQU1oRSxrQkFBa0I7b0JBQzlCaUUsbUNBQ0UsOERBQUMzSCx5REFBTUE7d0JBQUNxSCxTQUFRO3dCQUFZMUcsV0FBVTtrQ0FBTzs7Ozs7O29CQUkvQ2lILHNCQUFzQixDQUFDMUM7OEJBRXZCLDRFQUFDeEU7d0JBQ0MwRyxTQUFTLElBQU1WLGtCQUFrQjtnQ0FBQzVFLElBQUk7Z0NBQUdFLFdBQVc7Z0NBQUdDLFNBQVM7Z0NBQU1DLE1BQU07NEJBQU07d0JBQ2xGdkIsV0FBV1QsOENBQUVBLENBQUNELHFFQUFjQSxDQUFDOzRCQUFFb0gsU0FBUzt3QkFBWTtrQ0FDckQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRYixFQUFFO0dBdExXcEM7O1FBQ29CM0UsdUZBQXlCQTs7O01BRDdDMkUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vZmVhdHVyZXMvZWRpdG9yL21lbnUtaXRlbS9zdWJ0aXRsZXMudHN4P2JkMTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERyYWdnYWJsZSBmcm9tICdAL2NvbXBvbmVudHMvc2hhcmVkL2RyYWdnYWJsZSc7XG5pbXBvcnQgeyBCdXR0b24sIGJ1dHRvblZhcmlhbnRzIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7XG5pbXBvcnQgeyBERUZBVUxUX0ZPTlQgfSBmcm9tICdAL2ZlYXR1cmVzL2VkaXRvci9jb25zdGFudHMvZm9udCc7XG5pbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJztcbmltcG9ydCB7IGRpc3BhdGNoIH0gZnJvbSAnQGRlc2lnbmNvbWJvL2V2ZW50cyc7XG5pbXBvcnQgeyBBRERfVEVYVCB9IGZyb20gJ0BkZXNpZ25jb21iby9zdGF0ZSc7XG5pbXBvcnQgeyBnZW5lcmF0ZUlkIH0gZnJvbSAnQGRlc2lnbmNvbWJvL3RpbWVsaW5lJztcbmltcG9ydCB7IHVzZUlzRHJhZ2dpbmdPdmVyVGltZWxpbmUgfSBmcm9tICcuLi9ob29rcy9pcy1kcmFnZ2luZy1vdmVyLXRpbWVsaW5lJztcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5cbi8vIENvbXBvbmVudGUgU3Bpbm5lciBzaW1wbGVcbmNvbnN0IFNwaW5uZXIgPSAoKSA9PiAoXG4gIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIGgtNSB3LTUgYm9yZGVyLTIgYm9yZGVyLXByaW1hcnkgYm9yZGVyLXQtdHJhbnNwYXJlbnQgcm91bmRlZC1mdWxsXCIgLz5cbik7XG5cbi8vIFRpcG8gcGFyYSByZXByZXNlbnRhciB1biBzZWdtZW50byBkZSBzdWJ0w610dWxvXG5pbnRlcmZhY2UgU3VidGl0bGVTZWdtZW50IHtcbiAgaWQ6IG51bWJlcjtcbiAgc3RhcnRUaW1lOiBudW1iZXI7IC8vIGVuIG1pbGlzZWd1bmRvc1xuICBlbmRUaW1lOiBudW1iZXI7ICAgLy8gZW4gbWlsaXNlZ3VuZG9zXG4gIHRleHQ6IHN0cmluZztcbn1cblxuLy8gRnVuY2nDs24gcGFyYSBwYXJzZWFyIGVsIHRpZW1wbyBkZSBmb3JtYXRvIFNSVCBhIG1pbGlzZWd1bmRvc1xuY29uc3QgcGFyc2VUaW1lVG9NcyA9ICh0aW1lU3RyaW5nOiBzdHJpbmcpOiBudW1iZXIgPT4ge1xuICBjb25zdCBbaG91cnMsIG1pbnV0ZXMsIHNlY29uZHNBbmRNc10gPSB0aW1lU3RyaW5nLnNwbGl0KCc6Jyk7XG4gIGNvbnN0IFtzZWNvbmRzLCBtc10gPSBzZWNvbmRzQW5kTXMuc3BsaXQoJywnKTtcblxuICByZXR1cm4gKFxuICAgIHBhcnNlSW50KGhvdXJzKSAqIDM2MDAwMDAgK1xuICAgIHBhcnNlSW50KG1pbnV0ZXMpICogNjAwMDAgK1xuICAgIHBhcnNlSW50KHNlY29uZHMpICogMTAwMCArXG4gICAgcGFyc2VJbnQobXMpXG4gICk7XG59O1xuXG4vLyBGdW5jacOzbiBwYXJhIHBhcnNlYXIgZWwgYXJjaGl2byBTUlRcbmNvbnN0IHBhcnNlU1JUID0gKHNydENvbnRlbnQ6IHN0cmluZyk6IFN1YnRpdGxlU2VnbWVudFtdID0+IHtcbiAgY29uc3Qgc2VnbWVudHM6IFN1YnRpdGxlU2VnbWVudFtdID0gW107XG4gIGNvbnN0IGJsb2NrcyA9IHNydENvbnRlbnQudHJpbSgpLnNwbGl0KCdcXG5cXG4nKTtcblxuICBibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XG4gICAgY29uc3QgbGluZXMgPSBibG9jay5zcGxpdCgnXFxuJyk7XG4gICAgaWYgKGxpbmVzLmxlbmd0aCA+PSAzKSB7XG4gICAgICBjb25zdCBpZCA9IHBhcnNlSW50KGxpbmVzWzBdKTtcbiAgICAgIGNvbnN0IHRpbWVSYW5nZSA9IGxpbmVzWzFdLnNwbGl0KCcgLS0+ICcpO1xuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGFyc2VUaW1lVG9Ncyh0aW1lUmFuZ2VbMF0pO1xuICAgICAgY29uc3QgZW5kVGltZSA9IHBhcnNlVGltZVRvTXModGltZVJhbmdlWzFdKTtcbiAgICAgIGNvbnN0IHRleHQgPSBsaW5lcy5zbGljZSgyKS5qb2luKCdcXG4nKTsgLy8gVW5pciB0b2RhcyBsYXMgbMOtbmVhcyBkZSB0ZXh0b1xuXG4gICAgICBzZWdtZW50cy5wdXNoKHtcbiAgICAgICAgaWQsXG4gICAgICAgIHN0YXJ0VGltZSxcbiAgICAgICAgZW5kVGltZSxcbiAgICAgICAgdGV4dFxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gc2VnbWVudHM7XG59O1xuXG4vLyBGdW5jacOzbiBwYXJhIGZvcm1hdGVhciBtaWxpc2VndW5kb3MgYSBmb3JtYXRvIGxlZ2libGUgKE1NOlNTKVxuY29uc3QgZm9ybWF0VGltZSA9IChtczogbnVtYmVyKTogc3RyaW5nID0+IHtcbiAgY29uc3Qgc2Vjb25kcyA9IE1hdGguZmxvb3IobXMgLyAxMDAwKTtcbiAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDYwKTtcbiAgY29uc3QgcmVtYWluaW5nU2Vjb25kcyA9IHNlY29uZHMgJSA2MDtcbiAgcmV0dXJuIGAke21pbnV0ZXMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfToke3JlbWFpbmluZ1NlY29uZHMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWA7XG59O1xuXG4vLyBGdW5jacOzbiBwYXJhIGRpdmlkaXIgdW4gdGV4dG8gZW4gZ3J1cG9zIGRlIGFwcm94aW1hZGFtZW50ZSAzIHBhbGFicmFzXG5jb25zdCBzcGxpdFRleHRJbnRvR3JvdXBzID0gKHRleHQ6IHN0cmluZywgd29yZHNQZXJHcm91cCA9IDMpOiBzdHJpbmdbXSA9PiB7XG4gIGNvbnN0IHdvcmRzID0gdGV4dC5zcGxpdCgvXFxzKy8pO1xuICBjb25zdCBncm91cHM6IHN0cmluZ1tdID0gW107XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7IGkgKz0gd29yZHNQZXJHcm91cCkge1xuICAgIGNvbnN0IGdyb3VwID0gd29yZHMuc2xpY2UoaSwgaSArIHdvcmRzUGVyR3JvdXApLmpvaW4oJyAnKTtcbiAgICBncm91cHMucHVzaChncm91cCk7XG4gIH1cblxuICByZXR1cm4gZ3JvdXBzO1xufTtcblxuLy8gRnVuY2nDs24gcGFyYSBwcm9jZXNhciB1biBzZWdtZW50byB5IGRpdmlkaXJsbyBlbiBtw7psdGlwbGVzIHNlZ21lbnRvcyBzaSBlcyBuZWNlc2FyaW9cbmNvbnN0IHByb2Nlc3NTZWdtZW50ID0gKHNlZ21lbnQ6IFN1YnRpdGxlU2VnbWVudCk6IFN1YnRpdGxlU2VnbWVudFtdID0+IHtcbiAgY29uc3QgdGV4dEdyb3VwcyA9IHNwbGl0VGV4dEludG9Hcm91cHMoc2VnbWVudC50ZXh0KTtcblxuICAvLyBTaSBzb2xvIGhheSB1biBncnVwbywgZGV2b2x2ZXIgZWwgc2VnbWVudG8gb3JpZ2luYWxcbiAgaWYgKHRleHRHcm91cHMubGVuZ3RoIDw9IDEpIHtcbiAgICByZXR1cm4gW3NlZ21lbnRdO1xuICB9XG5cbiAgLy8gQ2FsY3VsYXIgbGEgZHVyYWNpw7NuIGRlIGNhZGEgZ3J1cG9cbiAgY29uc3QgdG90YWxEdXJhdGlvbiA9IHNlZ21lbnQuZW5kVGltZSAtIHNlZ21lbnQuc3RhcnRUaW1lO1xuICBjb25zdCBncm91cER1cmF0aW9uID0gdG90YWxEdXJhdGlvbiAvIHRleHRHcm91cHMubGVuZ3RoO1xuXG4gIC8vIENyZWFyIHVuIG51ZXZvIHNlZ21lbnRvIHBhcmEgY2FkYSBncnVwb1xuICByZXR1cm4gdGV4dEdyb3Vwcy5tYXAoKGdyb3VwVGV4dCwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBzdGFydFRpbWUgPSBzZWdtZW50LnN0YXJ0VGltZSArIChpbmRleCAqIGdyb3VwRHVyYXRpb24pO1xuICAgIGNvbnN0IGVuZFRpbWUgPSBzdGFydFRpbWUgKyBncm91cER1cmF0aW9uO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBzZWdtZW50LmlkICogMTAwMCArIGluZGV4LCAvLyBHZW5lcmFyIHVuIElEIMO6bmljb1xuICAgICAgc3RhcnRUaW1lLFxuICAgICAgZW5kVGltZSxcbiAgICAgIHRleHQ6IGdyb3VwVGV4dFxuICAgIH07XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEFkZFRleHRQYXlsb2FkID0gKHRleHQgPSAnRGVtbycsIHN0YXJ0VGltZSA9IDAsIGVuZFRpbWUgPSA1MDAwKSA9PiAoe1xuICBpZDogZ2VuZXJhdGVJZCgpLFxuICBkaXNwbGF5OiB7XG4gICAgZnJvbTogc3RhcnRUaW1lLFxuICAgIHRvOiBlbmRUaW1lLFxuICB9LFxuICB0eXBlOiAndGV4dCcsXG4gIGRldGFpbHM6IHtcbiAgICB0ZXh0OiB0ZXh0LnRvVXBwZXJDYXNlKCksIC8vIENvbnZlcnRpciBhIG1hecO6c2N1bGFzIGNvbW8gTXJCZWFzdFxuICAgIGZvbnRTaXplOiA4MCwgLy8gVGFtYcOxbyBtw6FzIGdyYW5kZSBwYXJhIGVzdGlsbyBNckJlYXN0XG4gICAgd2lkdGg6IDkwMCxcbiAgICBmb250VXJsOiAnL2ZvbnRzL21yYmVhc3QudHRmJywgLy8gVXNhciBsYSBmdWVudGUgTXJCZWFzdFxuICAgIGZvbnRGYW1pbHk6ICdNckJlYXN0JywgLy8gTm9tYnJlIGRlIGxhIGZ1ZW50ZSBNckJlYXN0XG4gICAgY29sb3I6ICcjRkZGRjAwJywgLy8gQW1hcmlsbG8gYnJpbGxhbnRlXG4gICAgd29yZFdyYXA6ICdicmVhay13b3JkJyxcbiAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgIGJvcmRlcldpZHRoOiAyMCwgLy8gU3Ryb2tlIG5lZ3JvIGdydWVzb1xuICAgIGJvcmRlckNvbG9yOiAnIzAwMDAwMCcsXG4gICAgYm94U2hhZG93OiB7XG4gICAgICBjb2xvcjogJyMwMDAwMDAnLFxuICAgICAgeDogMyxcbiAgICAgIHk6IDMsXG4gICAgICBibHVyOiAwLCAvLyBTaW4gZGVzZW5mb3F1ZSBwYXJhIHVuIGVzdGlsbyBtw6FzIGltcGFjdGFudGVcbiAgICB9LFxuICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50JywgLy8gU2luIGZvbmRvIHBhcmEgcXVlIGRlc3RhcXVlIG3DoXNcbiAgICBwYWRkaW5nOiAxMCxcbiAgICBib3JkZXJSYWRpdXM6IDAsIC8vIFNpbiBib3JkZXMgcmVkb25kZWFkb3MgcGFyYSB1biBlc3RpbG8gbcOhcyBpbXBhY3RhbnRlXG4gIH0sXG59KTtcblxuZXhwb3J0IGNvbnN0IFN1YnRpdGxlcyA9ICgpID0+IHtcbiAgY29uc3QgaXNEcmFnZ2luZ092ZXJUaW1lbGluZSA9IHVzZUlzRHJhZ2dpbmdPdmVyVGltZWxpbmUoKTtcbiAgY29uc3QgW3N1YnRpdGxlU2VnbWVudHMsIHNldFN1YnRpdGxlU2VnbWVudHNdID0gdXNlU3RhdGU8U3VidGl0bGVTZWdtZW50W10+KFtdKTtcbiAgY29uc3QgW29yaWdpbmFsU2VnbWVudHMsIHNldE9yaWdpbmFsU2VnbWVudHNdID0gdXNlU3RhdGU8U3VidGl0bGVTZWdtZW50W10+KFtdKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbYWRkZWRTdWJ0aXRsZXMsIHNldEFkZGVkU3VidGl0bGVzXSA9IHVzZVN0YXRlPFNldDxudW1iZXI+PihuZXcgU2V0KCkpO1xuICBjb25zdCBbZ3JvdXBXb3Jkcywgc2V0R3JvdXBXb3Jkc10gPSB1c2VTdGF0ZSh0cnVlKTsgLy8gRXN0YWRvIHBhcmEgY29udHJvbGFyIHNpIGFncnVwYXIgcGFsYWJyYXNcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGZldGNoVHJhbnNjcmlwdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL3RyYW5zY3JpcHRpb25zL3RyYW5zY3JpcHRpb24xLnNydCcpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBhbCBjYXJnYXIgZWwgYXJjaGl2byBTUlQ6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gcGFyc2VTUlQodGV4dCk7XG4gICAgICAgIHNldE9yaWdpbmFsU2VnbWVudHMoc2VnbWVudHMpO1xuXG4gICAgICAgIC8vIFByb2Nlc2FyIGxvcyBzZWdtZW50b3Mgc2Vnw7puIGxhIGNvbmZpZ3VyYWNpw7NuIGFjdHVhbFxuICAgICAgICBpZiAoZ3JvdXBXb3Jkcykge1xuICAgICAgICAgIGNvbnN0IHByb2Nlc3NlZFNlZ21lbnRzID0gc2VnbWVudHMuZmxhdE1hcChwcm9jZXNzU2VnbWVudCk7XG4gICAgICAgICAgc2V0U3VidGl0bGVTZWdtZW50cyhwcm9jZXNzZWRTZWdtZW50cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0U3VidGl0bGVTZWdtZW50cyhzZWdtZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHRyYW5zY3JpcHRpb246JywgZXJyb3IpO1xuICAgICAgICBzZXRFcnJvcignTm8gc2UgcHVkbyBjYXJnYXIgZWwgYXJjaGl2byBkZSBzdWJ0w610dWxvcycpO1xuICAgICAgICBzZXRTdWJ0aXRsZVNlZ21lbnRzKFtdKTtcbiAgICAgICAgc2V0T3JpZ2luYWxTZWdtZW50cyhbXSk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmZXRjaFRyYW5zY3JpcHRpb24oKTtcbiAgfSwgW2dyb3VwV29yZHNdKTtcblxuICAvLyBGdW5jacOzbiBwYXJhIGNhbWJpYXIgZW50cmUgbW9kbyBhZ3J1cGFkbyB5IG5vIGFncnVwYWRvXG4gIGNvbnN0IHRvZ2dsZUdyb3VwV29yZHMgPSAoKSA9PiB7XG4gICAgc2V0R3JvdXBXb3JkcyghZ3JvdXBXb3Jkcyk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQWRkU3VidGl0bGUgPSAoc2VnbWVudDogU3VidGl0bGVTZWdtZW50KSA9PiB7XG4gICAgZGlzcGF0Y2goQUREX1RFWFQsIHtcbiAgICAgIHBheWxvYWQ6IGdldEFkZFRleHRQYXlsb2FkKHNlZ21lbnQudGV4dCwgc2VnbWVudC5zdGFydFRpbWUsIHNlZ21lbnQuZW5kVGltZSksXG4gICAgICBvcHRpb25zOiB7fSxcbiAgICB9KTtcblxuICAgIC8vIE1hcmNhciBlc3RlIHN1YnTDrXR1bG8gY29tbyBhw7FhZGlkb1xuICAgIHNldEFkZGVkU3VidGl0bGVzKHByZXYgPT4ge1xuICAgICAgY29uc3QgbmV3U2V0ID0gbmV3IFNldChwcmV2KTtcbiAgICAgIG5ld1NldC5hZGQoc2VnbWVudC5pZCk7XG4gICAgICByZXR1cm4gbmV3U2V0O1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUFkZEFsbFN1YnRpdGxlcyA9ICgpID0+IHtcbiAgICAvLyBEZXNhY3RpdmFyIGVsIGJvdMOzbiBtaWVudHJhcyBzZSBwcm9jZXNhbiBsb3Mgc3VidMOtdHVsb3NcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG5cbiAgICAvLyBBw7FhZGlyIHN1YnTDrXR1bG9zIGNvbiB1biByZXRyYXNvIGVudHJlIGNhZGEgdW5vXG4gICAgc3VidGl0bGVTZWdtZW50cy5mb3JFYWNoKChzZWdtZW50LCBpbmRleCkgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGRpc3BhdGNoKEFERF9URVhULCB7XG4gICAgICAgICAgcGF5bG9hZDogZ2V0QWRkVGV4dFBheWxvYWQoc2VnbWVudC50ZXh0LCBzZWdtZW50LnN0YXJ0VGltZSwgc2VnbWVudC5lbmRUaW1lKSxcbiAgICAgICAgICBvcHRpb25zOiB7fSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU2kgZXMgZWwgw7psdGltbyBzdWJ0w610dWxvLCBhY3R1YWxpemFyIGVsIGVzdGFkb1xuICAgICAgICBpZiAoaW5kZXggPT09IHN1YnRpdGxlU2VnbWVudHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIC8vIE1hcmNhciB0b2RvcyBsb3Mgc3VidMOtdHVsb3MgY29tbyBhw7FhZGlkb3NcbiAgICAgICAgICBjb25zdCBhbGxJZHMgPSBuZXcgU2V0KHN1YnRpdGxlU2VnbWVudHMubWFwKHNlZ21lbnQgPT4gc2VnbWVudC5pZCkpO1xuICAgICAgICAgIHNldEFkZGVkU3VidGl0bGVzKGFsbElkcyk7XG4gICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSwgaW5kZXggKiAyMDApOyAvLyAyMG1zIGRlIHJldHJhc28gZW50cmUgY2FkYSBzdWJ0w610dWxvXG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC0xIGZsZXgtY29sXCIgZGF0YS1zdWJ0aXRsZXM+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC0xMiBmbGV4LW5vbmUgaXRlbXMtY2VudGVyIHB4LTQgZm9udC1tZWRpdW0gdGV4dC1zbSB0ZXh0LXRleHQtcHJpbWFyeVwiPlxuICAgICAgICBTdWJ0w610dWxvc1xuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZ2FwLTIgcHgtNFwiPlxuICAgICAgICB7aXNMb2FkaW5nID8gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXIgcHktOFwiPlxuICAgICAgICAgICAgPFNwaW5uZXIgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IGVycm9yID8gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1yZWQtNTAwIHRleHQtc20gcHktMlwiPntlcnJvcn08L2Rpdj5cbiAgICAgICAgKSA6IHN1YnRpdGxlU2VnbWVudHMubGVuZ3RoID4gMCA/IChcbiAgICAgICAgICA8PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItMlwiPlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlR3JvdXBXb3Jkc31cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgICAgICAgICAgYnV0dG9uVmFyaWFudHMoeyB2YXJpYW50OiAnb3V0bGluZScsIHNpemU6ICdzbScgfSksXG4gICAgICAgICAgICAgICAgICBcImN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2dyb3VwV29yZHMgPyBcIlZlciBzdWJ0w610dWxvcyBjb21wbGV0b3NcIiA6IFwiRGl2aWRpciBlbiBncnVwb3MgZGUgMyBwYWxhYnJhc1wifVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBZGRBbGxTdWJ0aXRsZXN9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgICAgICAgICAgYnV0dG9uVmFyaWFudHMoeyB2YXJpYW50OiAnc2Vjb25kYXJ5JyB9KSxcbiAgICAgICAgICAgICAgICBcImN1cnNvci1wb2ludGVyIGZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyXCJcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgICAgICAgLy8gSUQgZGluw6FtaWNvIHNlZ8O6biBlbCBtb2RvIGRlIGFncnVwYWNpw7NuXG4gICAgICAgICAgICAgIGlkPXtncm91cFdvcmRzID8gXCJhZGQtYWxsLXN1YnRpdGxlcy1ncm91cGVkXCIgOiBcImFkZC1hbGwtc3VidGl0bGVzLWNvbXBsZXRlXCJ9XG4gICAgICAgICAgICAgIGRhdGEtc3VidGl0bGVzLWFkZC1hbGxcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2lzTG9hZGluZyA/IChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgPFNwaW5uZXIgLz5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTJcIj5Bw7FhZGllbmRvIHN1YnTDrXR1bG9zLi4uPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIGBBw7FhZGlyIHRvZG9zIGxvcyBzdWJ0w610dWxvcyAke2dyb3VwV29yZHMgPyBcIihhZ3J1cGFkb3MpXCIgOiBcIihjb21wbGV0b3MpXCJ9YFxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgdGV4dC1zbSBmb250LW1lZGl1bVwiPlN1YnTDrXR1bG9zIGluZGl2aWR1YWxlczo8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LWgtNjAgb3ZlcmZsb3cteS1hdXRvIHByLTFcIj5cbiAgICAgICAgICAgICAge3N1YnRpdGxlU2VnbWVudHMubWFwKChzZWdtZW50KSA9PiAoXG4gICAgICAgICAgICAgICAgPERyYWdnYWJsZVxuICAgICAgICAgICAgICAgICAga2V5PXtzZWdtZW50LmlkfVxuICAgICAgICAgICAgICAgICAgZGF0YT17KCkgPT4gZ2V0QWRkVGV4dFBheWxvYWQoc2VnbWVudC50ZXh0LCBzZWdtZW50LnN0YXJ0VGltZSwgc2VnbWVudC5lbmRUaW1lKX1cbiAgICAgICAgICAgICAgICAgIHJlbmRlckN1c3RvbVByZXZpZXc9e1xuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWJhY2tncm91bmQgYm9yZGVyIGJvcmRlci1ib3JkZXIgcC0yIHJvdW5kZWQtbWQgbWF4LXcteHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7c2VnbWVudC50ZXh0fVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHNob3VsZERpc3BsYXlQcmV2aWV3PXshaXNEcmFnZ2luZ092ZXJUaW1lbGluZX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUFkZFN1YnRpdGxlKHNlZ21lbnQpfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvblZhcmlhbnRzKHsgdmFyaWFudDogJ291dGxpbmUnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgIFwibWItMiB0ZXh0LWxlZnQgZmxleCBmbGV4LWNvbCB3LWZ1bGxcIixcbiAgICAgICAgICAgICAgICAgICAgICBhZGRlZFN1YnRpdGxlcy5oYXMoc2VnbWVudC5pZCkgJiYgXCJib3JkZXItZ3JlZW4tNTAwIGJnLWdyZWVuLTUwMC8xMFwiXG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHJ1bmNhdGVcIiB0aXRsZT17c2VnbWVudC50ZXh0fT5cbiAgICAgICAgICAgICAgICAgICAgICB7c2VnbWVudC50ZXh0Lmxlbmd0aCA+IDMwID8gYCR7c2VnbWVudC50ZXh0LnN1YnN0cmluZygwLCAzMCl9Li4uYCA6IHNlZ21lbnQudGV4dH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRUaW1lKHNlZ21lbnQuc3RhcnRUaW1lKX0gLSB7Zm9ybWF0VGltZShzZWdtZW50LmVuZFRpbWUpfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvRHJhZ2dhYmxlPlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvPlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxEcmFnZ2FibGVcbiAgICAgICAgICAgIGRhdGE9eygpID0+IGdldEFkZFRleHRQYXlsb2FkKFwiRGVtb1wiKX1cbiAgICAgICAgICAgIHJlbmRlckN1c3RvbVByZXZpZXc9e1xuICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIiBjbGFzc05hbWU9XCJ3LTYwXCI+XG4gICAgICAgICAgICAgICAgQWRkIHRleHRcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaG91bGREaXNwbGF5UHJldmlldz17IWlzRHJhZ2dpbmdPdmVyVGltZWxpbmV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVBZGRTdWJ0aXRsZSh7aWQ6IDAsIHN0YXJ0VGltZTogMCwgZW5kVGltZTogNTAwMCwgdGV4dDogXCJEZW1vXCJ9KX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihidXR0b25WYXJpYW50cyh7IHZhcmlhbnQ6ICdzZWNvbmRhcnknIH0pKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgQWRkIHRleHRcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvRHJhZ2dhYmxlPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuIl0sIm5hbWVzIjpbIkRyYWdnYWJsZSIsIkJ1dHRvbiIsImJ1dHRvblZhcmlhbnRzIiwiY24iLCJkaXNwYXRjaCIsIkFERF9URVhUIiwiZ2VuZXJhdGVJZCIsInVzZUlzRHJhZ2dpbmdPdmVyVGltZWxpbmUiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsIlNwaW5uZXIiLCJkaXYiLCJjbGFzc05hbWUiLCJwYXJzZVRpbWVUb01zIiwidGltZVN0cmluZyIsImhvdXJzIiwibWludXRlcyIsInNlY29uZHNBbmRNcyIsInNwbGl0Iiwic2Vjb25kcyIsIm1zIiwicGFyc2VJbnQiLCJwYXJzZVNSVCIsInNydENvbnRlbnQiLCJzZWdtZW50cyIsImJsb2NrcyIsInRyaW0iLCJmb3JFYWNoIiwiYmxvY2siLCJsaW5lcyIsImxlbmd0aCIsImlkIiwidGltZVJhbmdlIiwic3RhcnRUaW1lIiwiZW5kVGltZSIsInRleHQiLCJzbGljZSIsImpvaW4iLCJwdXNoIiwiZm9ybWF0VGltZSIsIk1hdGgiLCJmbG9vciIsInJlbWFpbmluZ1NlY29uZHMiLCJ0b1N0cmluZyIsInBhZFN0YXJ0Iiwic3BsaXRUZXh0SW50b0dyb3VwcyIsIndvcmRzUGVyR3JvdXAiLCJ3b3JkcyIsImdyb3VwcyIsImkiLCJncm91cCIsInByb2Nlc3NTZWdtZW50Iiwic2VnbWVudCIsInRleHRHcm91cHMiLCJ0b3RhbER1cmF0aW9uIiwiZ3JvdXBEdXJhdGlvbiIsIm1hcCIsImdyb3VwVGV4dCIsImluZGV4IiwiZ2V0QWRkVGV4dFBheWxvYWQiLCJkaXNwbGF5IiwiZnJvbSIsInRvIiwidHlwZSIsImRldGFpbHMiLCJ0b1VwcGVyQ2FzZSIsImZvbnRTaXplIiwid2lkdGgiLCJmb250VXJsIiwiZm9udEZhbWlseSIsImNvbG9yIiwid29yZFdyYXAiLCJ0ZXh0QWxpZ24iLCJib3JkZXJXaWR0aCIsImJvcmRlckNvbG9yIiwiYm94U2hhZG93IiwieCIsInkiLCJibHVyIiwiYmFja2dyb3VuZENvbG9yIiwicGFkZGluZyIsImJvcmRlclJhZGl1cyIsIlN1YnRpdGxlcyIsImlzRHJhZ2dpbmdPdmVyVGltZWxpbmUiLCJzdWJ0aXRsZVNlZ21lbnRzIiwic2V0U3VidGl0bGVTZWdtZW50cyIsIm9yaWdpbmFsU2VnbWVudHMiLCJzZXRPcmlnaW5hbFNlZ21lbnRzIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImFkZGVkU3VidGl0bGVzIiwic2V0QWRkZWRTdWJ0aXRsZXMiLCJTZXQiLCJncm91cFdvcmRzIiwic2V0R3JvdXBXb3JkcyIsImZldGNoVHJhbnNjcmlwdGlvbiIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsIkVycm9yIiwic3RhdHVzIiwicHJvY2Vzc2VkU2VnbWVudHMiLCJmbGF0TWFwIiwiY29uc29sZSIsInRvZ2dsZUdyb3VwV29yZHMiLCJoYW5kbGVBZGRTdWJ0aXRsZSIsInBheWxvYWQiLCJvcHRpb25zIiwicHJldiIsIm5ld1NldCIsImFkZCIsImhhbmRsZUFkZEFsbFN1YnRpdGxlcyIsInNldFRpbWVvdXQiLCJhbGxJZHMiLCJkYXRhLXN1YnRpdGxlcyIsIm9uQ2xpY2siLCJ2YXJpYW50Iiwic2l6ZSIsImRpc2FibGVkIiwiZGF0YS1zdWJ0aXRsZXMtYWRkLWFsbCIsInNwYW4iLCJkYXRhIiwicmVuZGVyQ3VzdG9tUHJldmlldyIsInNob3VsZERpc3BsYXlQcmV2aWV3IiwiaGFzIiwidGl0bGUiLCJzdWJzdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./features/editor/menu-item/subtitles.tsx\n"));

/***/ })

});