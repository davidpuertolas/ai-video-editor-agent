"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/ai-chat/index.tsx":
/*!**************************************!*\
  !*** ./components/ai-chat/index.tsx ***!
  \**************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ AIChat; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _components_ui_input__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/input */ \"(app-pages-browser)/./components/ui/input.tsx\");\n/* harmony import */ var _components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/scroll-area */ \"(app-pages-browser)/./components/ui/scroll-area.tsx\");\n/* harmony import */ var _barrel_optimize_names_ImageIcon_Loader2_Send_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=ImageIcon,Loader2,Send,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_ImageIcon_Loader2_Send_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=ImageIcon,Loader2,Send,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/image.js\");\n/* harmony import */ var _barrel_optimize_names_ImageIcon_Loader2_Send_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=ImageIcon,Loader2,Send,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_ImageIcon_Loader2_Send_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=ImageIcon,Loader2,Send,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/send.js\");\n/* harmony import */ var _features_editor_store_use_data_state__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/features/editor/store/use-data-state */ \"(app-pages-browser)/./features/editor/store/use-data-state.ts\");\n/* harmony import */ var _features_editor_hooks_state_manager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/features/editor/hooks/state-manager */ \"(app-pages-browser)/./features/editor/hooks/state-manager.tsx\");\n/* harmony import */ var _ai_video_commands__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ai-video-commands */ \"(app-pages-browser)/./components/ai-chat/ai-video-commands.ts\");\n/* harmony import */ var _utils_upload__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/utils/upload */ \"(app-pages-browser)/./utils/upload.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n// Función para extraer tiempos de inicio y fin de una imagen a partir del mensaje\nfunction extractImageTimesFromMessage(messageContent) {\n    let startTime = 0;\n    let endTime = 5;\n    if (!messageContent) return {\n        startTime,\n        endTime\n    };\n    // Buscar referencias al tiempo inicial\n    const startTimePatterns = [\n        /en el segundo (\\d+)/i,\n        /desde el segundo (\\d+)/i,\n        /a partir del segundo (\\d+)/i,\n        /comenzando en el segundo (\\d+)/i,\n        /desde el minuto (\\d+)/i,\n        /en el minuto (\\d+)/i,\n        /entre los segundos (\\d+) y/i,\n        /del segundo (\\d+) al/i,\n        /empezando en (\\d+)/i,\n        /segundo (\\d+)/i,\n        /en (\\d+) segundos/i,\n        /en el (\\d+)/i\n    ];\n    // Buscar referencias al tiempo final\n    const endTimePatterns = [\n        /hasta el segundo (\\d+)/i,\n        /al segundo (\\d+)/i,\n        /terminando en el segundo (\\d+)/i,\n        /hasta el minuto (\\d+)/i,\n        /entre los segundos \\d+ y (\\d+)/i,\n        /del segundo \\d+ al (\\d+)/i,\n        /por (\\d+) segundos/i,\n        /durante (\\d+) segundos/i\n    ];\n    // Buscar palabras clave especiales\n    const isAtStart = /\\b(al inicio|al principio|al comienzo)\\b/i.test(messageContent);\n    const isAtEnd = /\\b(al final|al término|al acabar)\\b/i.test(messageContent);\n    // Procesar patrones de tiempo inicial\n    for (const pattern of startTimePatterns){\n        const match = messageContent.match(pattern);\n        if (match && match[1]) {\n            // Si es referencia a minutos, convertir a segundos\n            startTime = pattern.toString().includes(\"minuto\") ? parseInt(match[1]) * 60 : parseInt(match[1]);\n            break;\n        }\n    }\n    // Procesar patrones de tiempo final\n    for (const pattern of endTimePatterns){\n        const match = messageContent.match(pattern);\n        if (match && match[1]) {\n            if (pattern.toString().includes(\"por\") || pattern.toString().includes(\"durante\")) {\n                // Es una duración relativa, sumar al tiempo inicial\n                endTime = startTime + parseInt(match[1]);\n            } else {\n                // Es un tiempo absoluto\n                endTime = pattern.toString().includes(\"minuto\") ? parseInt(match[1]) * 60 : parseInt(match[1]);\n            }\n            break;\n        }\n    }\n    // Si se menciona \"al inicio\", establecer tiempo a 0\n    if (isAtStart) {\n        startTime = 0;\n        endTime = 5; // Por defecto 5 segundos de duración\n    }\n    // Si se menciona \"al final\", establecer valores relativos al final\n    // Nota: El valor real se ajustará en el cliente según la duración\n    if (isAtEnd) {\n        startTime = -1; // Código especial para \"final - 5 segundos\"\n        endTime = -1; // Código especial para \"final\"\n    }\n    // Si no se detectó tiempo final pero sí inicial, establecer una duración predeterminada\n    if (startTime > 0 && endTime === 5 && startTime !== 0) {\n        endTime = startTime + 5;\n    }\n    return {\n        startTime,\n        endTime\n    };\n}\n// Función para procesar elementos detectados por la IA\nconst processDetectedElement = async (elementData, commandExecutor, finalResponseRef, timeline, lastUploadedImageUrl, currentImageUrlForThisRequest)=>{\n    let elementAdded = false;\n    let finalResponse = finalResponseRef.current;\n    try {\n        // Si se detectó un elemento para agregar con confianza suficiente\n        if (elementData && elementData.detected === true && typeof elementData.confidence === \"number\" && elementData.confidence > 0.7 && elementData.element) {\n            const element = elementData.element;\n            // Procesar según el tipo de elemento\n            if (element.type === \"text\" && element.content) {\n                // Configurar opciones para el texto\n                const textOptions = {\n                    startTime: typeof element.startTime === \"number\" ? element.startTime : 0,\n                    endTime: typeof element.endTime === \"number\" ? element.endTime : typeof element.startTime === \"number\" ? element.startTime + 5 : 5\n                };\n                // Asignar color si está disponible\n                if (element.color) {\n                    textOptions.color = element.color.toLowerCase() === \"blanco\" ? \"#FFFFFF\" : element.color.toLowerCase() === \"negro\" ? \"#000000\" : element.color.toLowerCase() === \"rojo\" ? \"#FF0000\" : element.color.toLowerCase() === \"azul\" ? \"#0000FF\" : element.color.toLowerCase() === \"verde\" ? \"#00FF00\" : element.color.toLowerCase() === \"amarillo\" ? \"#FFFF00\" : element.color;\n                }\n                // Añadir el texto\n                commandExecutor.current.addText(element.content, textOptions);\n                // Actualizar respuesta\n                finalResponse += '\\n\\n[He agregado el texto \"'.concat(element.content, '\" ').concat(element.color ? \"con color \".concat(element.color, \" \") : \"\", \"desde el segundo \").concat(textOptions.startTime, \" hasta el segundo \").concat(textOptions.endTime, \"]\");\n                elementAdded = true;\n            } else if (element.type === \"image\") {\n                // Configurar opciones para la imagen\n                const imageOptions = {\n                    startTime: typeof element.startTime === \"number\" ? element.startTime : 0,\n                    endTime: typeof element.endTime === \"number\" ? element.endTime : typeof element.startTime === \"number\" ? element.startTime + 5 : 5,\n                    // Posición centrada por defecto\n                    position: {\n                        x: 0.5,\n                        y: 0.5\n                    }\n                };\n                // Registrar tiempos específicos para depuración\n                console.log(\"Tiempos de imagen recibidos de la API: startTime=\".concat(element.startTime, \", endTime=\").concat(element.endTime));\n                // Manejar casos especiales para \"al final\" del video\n                if (element.startTime === -1 || element.endTime === -1) {\n                    // Calcular la duración del video en segundos\n                    const videoDuration = (timeline === null || timeline === void 0 ? void 0 : timeline.duration) ? Math.floor(timeline.duration / 1000) : 30; // Valor predeterminado si no hay duración\n                    console.log(\"Duraci\\xf3n del video: \".concat(videoDuration, \"s\"));\n                    if (element.startTime === -1 && element.endTime === -1) {\n                        // Si ambos son -1, colocar en los últimos 5 segundos\n                        imageOptions.startTime = Math.max(0, videoDuration - 5);\n                        imageOptions.endTime = videoDuration;\n                        console.log('Ajustando para \"al final\": startTime='.concat(imageOptions.startTime, \", endTime=\").concat(imageOptions.endTime));\n                    } else if (element.startTime === -1) {\n                        // Solo startTime es -1\n                        imageOptions.startTime = Math.max(0, videoDuration - 5);\n                    } else if (element.endTime === -1) {\n                        // Solo endTime es -1\n                        imageOptions.endTime = videoDuration;\n                    }\n                }\n                console.log(\"Tiempos de imagen a aplicar: startTime=\".concat(imageOptions.startTime, \", endTime=\").concat(imageOptions.endTime));\n                // Determinar la URL de la imagen a usar\n                const isGenericUrl = element.url === \"imagen_adjunta_por_el_usuario.jpg\";\n                const isLocalImage = lastUploadedImageUrl && lastUploadedImageUrl.startsWith(\"data:\");\n                let imageUrl;\n                // PRIORIDAD 1: Usar la imagen que acaba de subirse en este mensaje específico\n                if (currentImageUrlForThisRequest) {\n                    imageUrl = currentImageUrlForThisRequest;\n                    console.log(\"Usando la imagen reci\\xe9n subida para esta solicitud espec\\xedfica\");\n                } else if (element.url && !isGenericUrl && !element.url.includes(\"/url_de_la_imagen\")) {\n                    imageUrl = element.url;\n                    console.log(\"Usando URL espec\\xedfica del elemento\");\n                } else if (isGenericUrl && lastUploadedImageUrl) {\n                    imageUrl = lastUploadedImageUrl;\n                    console.log(\"Usando la \\xfaltima imagen subida guardada\");\n                } else {\n                    // Si todo lo demás falla, usar una imagen de ejemplo\n                    imageUrl = \"https://ik.imagekit.io/wombo/images/img2.jpg\";\n                    console.log(\"Usando imagen de ejemplo como fallback\");\n                }\n                // Añadir la imagen\n                commandExecutor.current.addImage(imageUrl, imageOptions);\n                // Actualizar respuesta\n                finalResponse += \"\\n\\n[He agregado la imagen desde el segundo \".concat(imageOptions.startTime, \" hasta el segundo \").concat(imageOptions.endTime, \"]\");\n                elementAdded = true;\n            } else if (element.type === \"video\") {\n                // Configurar opciones para el video\n                const videoOptions = {\n                    startTime: typeof element.startTime === \"number\" ? element.startTime : 0,\n                    endTime: typeof element.endTime === \"number\" ? element.endTime : typeof element.startTime === \"number\" ? element.startTime + 10 : 10\n                };\n                // URL de video de ejemplo (en producción esto sería dinámico)\n                const videoUrl = \"https://cdn.designcombo.dev/videos/demo-video-4.mp4\";\n                // Añadir el video\n                commandExecutor.current.addVideo(videoUrl, videoOptions);\n                // Actualizar respuesta\n                finalResponse += \"\\n\\n[He agregado el video desde el segundo \".concat(videoOptions.startTime, \" hasta el segundo \").concat(videoOptions.endTime, \"]\");\n                elementAdded = true;\n            } else if (element.type === \"subtitles\") {\n                // Configurar opciones para los subtítulos\n                const subtitleOptions = {\n                    groupWords: element.groupWords !== undefined ? element.groupWords : true\n                };\n                // Añadir tiempos si se especificaron\n                if (typeof element.startTime === \"number\") {\n                    subtitleOptions.startTime = element.startTime;\n                }\n                if (typeof element.endTime === \"number\") {\n                    subtitleOptions.endTime = element.endTime;\n                }\n                // Añadir los subtítulos\n                commandExecutor.current.addSubtitles(subtitleOptions);\n                // Actualizar respuesta silenciosa (se maneja en otro lado)\n                elementAdded = true;\n            } else if (element.type === \"segments\" && Array.isArray(element.segments) && element.segments.length > 0) {\n                // Configurar los segmentos a eliminar\n                const segments = element.segments.map((segment)=>({\n                        startTime: typeof segment.startTime === \"number\" ? segment.startTime : 0,\n                        endTime: typeof segment.endTime === \"number\" ? segment.endTime : typeof segment.startTime === \"number\" ? segment.startTime + 5 : 5\n                    }));\n                console.log(\"Eliminando \".concat(segments.length, \" segmentos:\"), segments);\n                // Ejemplo de formato de segmentos a mostrar\n                const segmentsFormatted = segments.map((s)=>\"\".concat(s.startTime, \"-\").concat(s.endTime, \"s\")).join(\", \");\n                try {\n                    // Ejecutar la eliminación de segmentos\n                    const result = await commandExecutor.current.removeSegments(segments);\n                    if (result) {\n                        finalResponse += \"\\n\\n[He eliminado los segmentos solicitados: \".concat(segmentsFormatted, \"]\");\n                    } else {\n                        finalResponse += \"\\n\\n[No pude eliminar los segmentos solicitados. Aseg\\xfarate de que hay un elemento seleccionado en la timeline.]\";\n                    }\n                    elementAdded = true;\n                } catch (error) {\n                    console.error(\"Error al eliminar segmentos:\", error);\n                    finalResponse += \"\\n\\n[Error al intentar eliminar los segmentos: \".concat(error.message || \"Error desconocido\", \"]\");\n                }\n            } else if (element.type === \"compact\") {\n                // Ejecutar la compactación del timeline\n                console.log(\"Compactando timeline por solicitud del usuario\");\n                try {\n                    // Iniciar la compactación\n                    const result = await commandExecutor.current.compactTimeline();\n                    if (result) {\n                        finalResponse += \"\\n\\n[He compactado el timeline eliminando los espacios vac\\xedos entre elementos]\";\n                    } else {\n                        finalResponse += \"\\n\\n[No fue posible compactar el timeline. Puede que no haya elementos o espacios vac\\xedos que compactar]\";\n                    }\n                    elementAdded = true;\n                } catch (error) {\n                    console.error(\"Error al compactar el timeline:\", error);\n                    finalResponse += \"\\n\\n[Error al intentar compactar el timeline: \".concat(error.message || \"Error desconocido\", \"]\");\n                }\n            } else if (element.type === \"smartTrim\") {\n                // Ejecutar el recorte inteligente\n                console.log(\"Iniciando recorte inteligente por solicitud del usuario\");\n                try {\n                    // Mostrar mensaje de análisis en curso\n                    finalResponse += \"\\n\\n[Analizando el video para identificar las partes a eliminar...]\";\n                    // Iniciar el recorte inteligente\n                    const result = await commandExecutor.current.smartTrim();\n                    if (result) {\n                        finalResponse += \"\\n\\n[He realizado un recorte inteligente del video, eliminando las partes innecesarias y compactando el timeline]\";\n                    } else {\n                        finalResponse += \"\\n\\n[No fue posible realizar el recorte inteligente. Verifica que el video tenga una transcripci\\xf3n]\";\n                    }\n                    elementAdded = true;\n                } catch (error) {\n                    console.error(\"Error al realizar el recorte inteligente:\", error);\n                    finalResponse += \"\\n\\n[Error al intentar realizar el recorte inteligente: \".concat(error.message || \"Error desconocido\", \"]\");\n                }\n            }\n        }\n    } catch (error) {\n        console.error(\"Error al procesar elemento detectado:\", error);\n        finalResponse += \"\\n\\n[No pude procesar la solicitud debido a un error.]\";\n    }\n    return {\n        finalResponse,\n        elementAdded\n    };\n};\nfunction AIChat() {\n    _s();\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([\n        {\n            id: \"1\",\n            content: \"Hola, soy tu asistente de edici\\xf3n de video. \\xbfEn qu\\xe9 puedo ayudarte?\",\n            role: \"assistant\",\n            timestamp: new Date()\n        }\n    ]);\n    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [imageFile, setImageFile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [imagePreview, setImagePreview] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isUploading, setIsUploading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Almacenar la última imagen subida para poder reutilizarla\n    const [lastUploadedImageUrl, setLastUploadedImageUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Referencia al state manager para manipular el editor\n    const stateManager = (0,_features_editor_hooks_state_manager__WEBPACK_IMPORTED_MODULE_6__.useStateManager)();\n    const { timeline, scenes, playerRef } = (0,_features_editor_store_use_data_state__WEBPACK_IMPORTED_MODULE_5__[\"default\"])();\n    const commandExecutor = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)((0,_ai_video_commands__WEBPACK_IMPORTED_MODULE_7__.createVideoCommandExecutor)(stateManager));\n    // Scroll al último mensaje\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        var _messagesEndRef_current;\n        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    }, [\n        messages\n    ]);\n    // Actualizar el ejecutor de comandos cuando cambie el stateManager\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        commandExecutor.current = (0,_ai_video_commands__WEBPACK_IMPORTED_MODULE_7__.createVideoCommandExecutor)(stateManager);\n    }, [\n        stateManager\n    ]);\n    // Manejar click en el botón de imagen\n    const handleImageClick = ()=>{\n        var _fileInputRef_current;\n        (_fileInputRef_current = fileInputRef.current) === null || _fileInputRef_current === void 0 ? void 0 : _fileInputRef_current.click();\n    };\n    // Manejar selección de archivo de imagen\n    const handleFileChange = (e)=>{\n        var _e_target_files;\n        const file = (_e_target_files = e.target.files) === null || _e_target_files === void 0 ? void 0 : _e_target_files[0];\n        if (file) {\n            setImageFile(file);\n            const previewUrl = URL.createObjectURL(file);\n            setImagePreview(previewUrl);\n        }\n    };\n    // Eliminar la imagen seleccionada\n    const handleRemoveImage = ()=>{\n        setImageFile(null);\n        setImagePreview(null);\n        if (fileInputRef.current) fileInputRef.current.value = \"\";\n    };\n    // Subir imagen al servidor\n    const uploadImage = async (file)=>{\n        try {\n            setIsUploading(true);\n            // Obtener URL firmada para subir la imagen\n            const uploadDetails = await (0,_utils_upload__WEBPACK_IMPORTED_MODULE_8__.createUploadsDetails)(file.name, file);\n            // Si no es un mock local, proceder con la carga\n            if (uploadDetails.uploadUrl !== \"local-mock\") {\n                // Subir la imagen\n                await fetch(uploadDetails.uploadUrl, {\n                    method: \"PUT\",\n                    body: file,\n                    headers: {\n                        \"Content-Type\": file.type\n                    }\n                });\n            }\n            // No se necesita hacer fetch si es un mock local (dataURL)\n            // Retornar la URL pública de la imagen\n            return uploadDetails.url;\n        } catch (error) {\n            console.error(\"Error al subir la imagen:\", error);\n            throw new Error(\"No se pudo subir la imagen. Int\\xe9ntalo de nuevo.\");\n        } finally{\n            setIsUploading(false);\n        }\n    };\n    // Función para enviar mensaje\n    const handleSendMessage = async ()=>{\n        if (!input.trim() && !imageFile || isLoading) return;\n        let userMessage = {\n            id: Date.now().toString(),\n            content: input,\n            role: \"user\",\n            timestamp: new Date()\n        };\n        let uploadedImageUrl = \"\";\n        // Variable para rastrear la URL de la imagen actual para esta solicitud específica\n        let currentImageUrlForThisRequest = \"\";\n        // Si hay una imagen para subir, procesarla\n        if (imageFile) {\n            try {\n                uploadedImageUrl = await uploadImage(imageFile);\n                userMessage.imageUrl = uploadedImageUrl;\n                // Guardar la URL de la imagen para posibles referencias futuras\n                setLastUploadedImageUrl(uploadedImageUrl);\n                // Importante: Guardar la URL actual para esta solicitud específica\n                currentImageUrlForThisRequest = uploadedImageUrl;\n                console.log(\"Imagen subida exitosamente:\", uploadedImageUrl.substring(0, 100) + \"...\");\n            } catch (error) {\n                console.error(\"Error en la subida de imagen:\", error);\n                setMessages((prev)=>[\n                        ...prev,\n                        {\n                            id: (Date.now() + 1).toString(),\n                            content: \"Error al subir la imagen. Por favor, int\\xe9ntalo de nuevo. Detalles: \" + (error instanceof Error ? error.message : \"Error desconocido\"),\n                            role: \"assistant\",\n                            timestamp: new Date()\n                        }\n                    ]);\n                setIsLoading(false);\n                return;\n            }\n        }\n        // Añadir mensaje del usuario\n        setMessages((prev)=>[\n                ...prev,\n                userMessage\n            ]);\n        setInput(\"\");\n        setImageFile(null);\n        setImagePreview(null);\n        if (fileInputRef.current) fileInputRef.current.value = \"\";\n        setIsLoading(true);\n        try {\n            var _playerRef_current, _timeline_canvas_getObjects, _timeline_canvas, _timeline_canvas_getObjects1, _timeline_canvas1;\n            // Enviar a la API para procesamiento en lenguaje natural\n            const apiMessages = messages.concat(userMessage).map((msg)=>{\n                // Si el mensaje tiene una imagen, crear un formato especial para el contenido\n                if (msg.imageUrl) {\n                    // Si es una URL de datos (comienza con data:), usar un marcador especial\n                    const isDataUrl = msg.imageUrl.startsWith(\"data:\");\n                    const imageUrlToSend = isDataUrl ? \"[IMAGEN_ADJUNTA]\" : \"[IMAGEN: \".concat(msg.imageUrl, \"]\");\n                    return {\n                        role: msg.role,\n                        content: \"\".concat(msg.content || \"\", \" \").concat(imageUrlToSend)\n                    };\n                }\n                return {\n                    role: msg.role,\n                    content: msg.content\n                };\n            });\n            // Añadir contexto del editor para la IA externa\n            const contextMessage = {\n                role: \"system\",\n                content: \"\\nContexto actual del editor de video:\\n- Posici\\xf3n actual (segundos): \".concat((playerRef === null || playerRef === void 0 ? void 0 : (_playerRef_current = playerRef.current) === null || _playerRef_current === void 0 ? void 0 : _playerRef_current.getCurrentTime) ? Math.floor((playerRef.current.getCurrentTime() || 0) * 100) / 100 : 0, \"\\n- Duraci\\xf3n del proyecto (segundos): \").concat((timeline === null || timeline === void 0 ? void 0 : timeline.duration) ? Math.floor(timeline.duration / 1000) : 0, \"\\n- N\\xfamero de escenas: \").concat((scenes === null || scenes === void 0 ? void 0 : scenes.length) || 0, \"\\n- N\\xfamero de elementos en el timeline: \").concat(((timeline === null || timeline === void 0 ? void 0 : (_timeline_canvas = timeline.canvas) === null || _timeline_canvas === void 0 ? void 0 : (_timeline_canvas_getObjects = _timeline_canvas.getObjects) === null || _timeline_canvas_getObjects === void 0 ? void 0 : _timeline_canvas_getObjects.call(_timeline_canvas)) || []).length - 1 > 0 ? ((timeline === null || timeline === void 0 ? void 0 : (_timeline_canvas1 = timeline.canvas) === null || _timeline_canvas1 === void 0 ? void 0 : (_timeline_canvas_getObjects1 = _timeline_canvas1.getObjects) === null || _timeline_canvas_getObjects1 === void 0 ? void 0 : _timeline_canvas_getObjects1.call(_timeline_canvas1)) || []).length - 1 : 0, \"\\n\").concat(lastUploadedImageUrl ? \"- \\xdaltima imagen compartida por el usuario disponible para usar\" : \"\", '\\n\\nEl usuario puede expresar en lenguaje natural la necesidad de agregar elementos al video.\\nEjemplos:\\n- \"Pon un t\\xedtulo que diga \\'Bienvenidos\\' al inicio\"\\n- \"Quiero un texto blanco que diga \\'Fin\\' al final del video\"\\n- \"Necesito una imagen en el segundo 10\"\\n- \"Coloca un video de introducci\\xf3n al principio\"\\n\\nSi el usuario adjunta una imagen en el mensaje, la URL estar\\xe1 en formato [IMAGEN: url_de_la_imagen].\\nDebes detectar si quiere agregar esta imagen al video y en qu\\xe9 momento temporal.\\n')\n            };\n            try {\n                var _data_message;\n                const response = await fetch(\"/api/ai\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        messages: [\n                            contextMessage,\n                            ...apiMessages\n                        ],\n                        // Usar la URL de la imagen actual para esta solicitud si existe,\n                        // de lo contrario usar la última URL guardada\n                        lastImageUrl: currentImageUrlForThisRequest || lastUploadedImageUrl || \"\"\n                    }),\n                    // Agregar timeout para evitar esperas infinitas\n                    signal: AbortSignal.timeout(15000) // 15 segundos máximo\n                });\n                if (!response.ok) {\n                    throw new Error(\"Error de API: \".concat(response.status, \" \").concat(response.statusText));\n                }\n                const data = await response.json();\n                // Asegurarse de que data.message.content existe\n                const aiResponse = (data === null || data === void 0 ? void 0 : (_data_message = data.message) === null || _data_message === void 0 ? void 0 : _data_message.content) || \"Lo siento, no pude entender tu solicitud.\";\n                // Obtener los datos del elemento si existen (con verificación segura)\n                const elementData = data === null || data === void 0 ? void 0 : data.elementData;\n                // Variable para la respuesta final\n                let finalResponse = aiResponse;\n                // Crear una referencia a la respuesta final para que sea accesible en la función procesadora\n                const finalResponseRef = {\n                    current: finalResponse\n                };\n                let elementAdded = false;\n                // Usar la función de procesamiento de elementos\n                const processResult = await processDetectedElement(elementData, commandExecutor, finalResponseRef, timeline, lastUploadedImageUrl, currentImageUrlForThisRequest);\n                finalResponse = processResult.finalResponse;\n                elementAdded = processResult.elementAdded;\n                const assistantMessage = {\n                    id: (Date.now() + 1).toString(),\n                    content: finalResponse,\n                    role: \"assistant\",\n                    timestamp: new Date()\n                };\n                setMessages((prev)=>[\n                        ...prev,\n                        assistantMessage\n                    ]);\n            } catch (apiError) {\n                console.error(\"Error en la comunicaci\\xf3n con la API:\", apiError);\n                // Mensaje de error específico de API\n                setMessages((prev)=>[\n                        ...prev,\n                        {\n                            id: (Date.now() + 1).toString(),\n                            content: \"Lo siento, ha ocurrido un error al comunicarse con el servicio de IA. Por favor, intenta de nuevo en unos momentos.\",\n                            role: \"assistant\",\n                            timestamp: new Date()\n                        }\n                    ]);\n            }\n        } catch (error) {\n            console.error(\"Error al procesar el mensaje:\", error);\n            // Determinar mensaje de error apropiado\n            let errorMessage = \"Lo siento, ha ocurrido un error al procesar tu mensaje.\";\n            if (error instanceof Error) {\n                if (error.message.includes(\"timeout\") || error.message.includes(\"abort\")) {\n                    errorMessage = \"La solicitud ha tardado demasiado. Prueba con un mensaje m\\xe1s corto.\";\n                } else if (error.message.includes(\"network\") || error.message.includes(\"fetch\")) {\n                    errorMessage = \"Parece que hay un problema de conexi\\xf3n. Verifica tu conexi\\xf3n a internet e intenta de nuevo.\";\n                }\n            }\n            // Mensaje de error\n            setMessages((prev)=>[\n                    ...prev,\n                    {\n                        id: (Date.now() + 1).toString(),\n                        content: errorMessage,\n                        role: \"assistant\",\n                        timestamp: new Date()\n                    }\n                ]);\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex h-full flex-col border-r border-border/80 bg-sidebar\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 overflow-hidden\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_4__.ScrollArea, {\n                    className: \"h-full\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-col gap-4 p-4\",\n                        children: [\n                            messages.map((message)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex flex-col \".concat(message.role === \"assistant\" ? \"items-start\" : \"items-end\"),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"max-w-[85%] rounded-lg px-4 py-2 \".concat(message.role === \"assistant\" ? \"bg-muted text-foreground\" : \"bg-primary text-primary-foreground\"),\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"whitespace-pre-wrap\",\n                                                    children: message.content\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\components\\\\ai-chat\\\\index.tsx\",\n                                                    lineNumber: 638,\n                                                    columnNumber: 19\n                                                }, this),\n                                                message.imageUrl && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-2\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                        src: message.imageUrl,\n                                                        alt: \"Imagen adjunta\",\n                                                        className: \"max-h-48 max-w-full rounded-md object-contain\",\n                                                        style: {\n                                                            maxWidth: \"100%\"\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\components\\\\ai-chat\\\\index.tsx\",\n                                                        lineNumber: 641,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\components\\\\ai-chat\\\\index.tsx\",\n                                                    lineNumber: 640,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\components\\\\ai-chat\\\\index.tsx\",\n                                            lineNumber: 631,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-1 px-1 text-xs text-muted-foreground\",\n                                            children: message.timestamp.toLocaleTimeString([], {\n                                                hour: \"2-digit\",\n                                                minute: \"2-digit\"\n                                            })\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\components\\\\ai-chat\\\\index.tsx\",\n                                            lineNumber: 650,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, message.id, true, {\n                                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\components\\\\ai-chat\\\\index.tsx\",\n                                    lineNumber: 625,\n                                    columnNumber: 15\n                                }, this)),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                ref: messagesEndRef\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\components\\\\ai-chat\\\\index.tsx\",\n                                lineNumber: 658,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\components\\\\ai-chat\\\\index.tsx\",\n                        lineNumber: 623,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\components\\\\ai-chat\\\\index.tsx\",\n                    lineNumber: 622,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\components\\\\ai-chat\\\\index.tsx\",\n                lineNumber: 621,\n                columnNumber: 7\n            }, this),\n            imagePreview && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative mx-4 mt-1 h-24 rounded-md bg-muted p-2 flex items-center justify-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        variant: \"ghost\",\n                        size: \"icon\",\n                        className: \"absolute right-1 top-1 z-10 h-5 w-5 rounded-full bg-background hover:bg-destructive\",\n                        onClick: handleRemoveImage,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ImageIcon_Loader2_Send_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                            className: \"h-3 w-3\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\components\\\\ai-chat\\\\index.tsx\",\n                            lineNumber: 672,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\components\\\\ai-chat\\\\index.tsx\",\n                        lineNumber: 666,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                        src: imagePreview,\n                        alt: \"Vista previa\",\n                        className: \"max-h-full max-w-full rounded object-contain\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\components\\\\ai-chat\\\\index.tsx\",\n                        lineNumber: 674,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\components\\\\ai-chat\\\\index.tsx\",\n                lineNumber: 665,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"border-t border-border bg-sidebar p-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center gap-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            variant: \"ghost\",\n                            size: \"icon\",\n                            className: \"shrink-0\",\n                            onClick: handleImageClick,\n                            disabled: isLoading,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ImageIcon_Loader2_Send_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                className: \"h-5 w-5\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\components\\\\ai-chat\\\\index.tsx\",\n                                lineNumber: 691,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\components\\\\ai-chat\\\\index.tsx\",\n                            lineNumber: 684,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_3__.Input, {\n                            value: input,\n                            onChange: (e)=>setInput(e.target.value),\n                            onKeyDown: (e)=>{\n                                if (e.key === \"Enter\" && !e.shiftKey) {\n                                    e.preventDefault();\n                                    handleSendMessage();\n                                }\n                            },\n                            placeholder: \"Escribe tu mensaje...\",\n                            disabled: isLoading,\n                            className: \"flex-1\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\components\\\\ai-chat\\\\index.tsx\",\n                            lineNumber: 693,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            onClick: handleSendMessage,\n                            disabled: !input.trim() && !imageFile || isLoading,\n                            className: \"shrink-0\",\n                            children: isLoading || isUploading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ImageIcon_Loader2_Send_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                className: \"h-4 w-4 animate-spin\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\components\\\\ai-chat\\\\index.tsx\",\n                                lineNumber: 712,\n                                columnNumber: 15\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ImageIcon_Loader2_Send_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                className: \"h-4 w-4\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\components\\\\ai-chat\\\\index.tsx\",\n                                lineNumber: 714,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\components\\\\ai-chat\\\\index.tsx\",\n                            lineNumber: 706,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"file\",\n                            ref: fileInputRef,\n                            onChange: handleFileChange,\n                            accept: \"image/*\",\n                            className: \"hidden\",\n                            disabled: isLoading\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\components\\\\ai-chat\\\\index.tsx\",\n                            lineNumber: 717,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\components\\\\ai-chat\\\\index.tsx\",\n                    lineNumber: 683,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\components\\\\ai-chat\\\\index.tsx\",\n                lineNumber: 682,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\components\\\\ai-chat\\\\index.tsx\",\n        lineNumber: 620,\n        columnNumber: 5\n    }, this);\n}\n_s(AIChat, \"vJoBK3ZjxUeQmWwpjqWDhxYUEXg=\", false, function() {\n    return [\n        _features_editor_hooks_state_manager__WEBPACK_IMPORTED_MODULE_6__.useStateManager,\n        _features_editor_store_use_data_state__WEBPACK_IMPORTED_MODULE_5__[\"default\"]\n    ];\n});\n_c = AIChat;\nvar _c;\n$RefreshReg$(_c, \"AIChat\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvYWktY2hhdC9pbmRleC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFb0Q7QUFDSjtBQUNGO0FBQ1c7QUFDRTtBQUNPO0FBQ007QUFDZTtBQUNqQztBQUV0RCxrRkFBa0Y7QUFDbEYsU0FBU2MsNkJBQTZCQyxjQUFzQjtJQUMxRCxJQUFJQyxZQUFZO0lBQ2hCLElBQUlDLFVBQVU7SUFFZCxJQUFJLENBQUNGLGdCQUFnQixPQUFPO1FBQUVDO1FBQVdDO0lBQVE7SUFFakQsdUNBQXVDO0lBQ3ZDLE1BQU1DLG9CQUFvQjtRQUN4QjtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7S0FDRDtJQUVELHFDQUFxQztJQUNyQyxNQUFNQyxrQkFBa0I7UUFDdEI7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtLQUNEO0lBRUQsbUNBQW1DO0lBQ25DLE1BQU1DLFlBQVksNENBQTRDQyxJQUFJLENBQUNOO0lBQ25FLE1BQU1PLFVBQVUsdUNBQXVDRCxJQUFJLENBQUNOO0lBRTVELHNDQUFzQztJQUN0QyxLQUFLLE1BQU1RLFdBQVdMLGtCQUFtQjtRQUN2QyxNQUFNTSxRQUFRVCxlQUFlUyxLQUFLLENBQUNEO1FBQ25DLElBQUlDLFNBQVNBLEtBQUssQ0FBQyxFQUFFLEVBQUU7WUFDckIsbURBQW1EO1lBQ25EUixZQUFZTyxRQUFRRSxRQUFRLEdBQUdDLFFBQVEsQ0FBQyxZQUNwQ0MsU0FBU0gsS0FBSyxDQUFDLEVBQUUsSUFBSSxLQUNyQkcsU0FBU0gsS0FBSyxDQUFDLEVBQUU7WUFDckI7UUFDRjtJQUNGO0lBRUEsb0NBQW9DO0lBQ3BDLEtBQUssTUFBTUQsV0FBV0osZ0JBQWlCO1FBQ3JDLE1BQU1LLFFBQVFULGVBQWVTLEtBQUssQ0FBQ0Q7UUFDbkMsSUFBSUMsU0FBU0EsS0FBSyxDQUFDLEVBQUUsRUFBRTtZQUNyQixJQUFJRCxRQUFRRSxRQUFRLEdBQUdDLFFBQVEsQ0FBQyxVQUFVSCxRQUFRRSxRQUFRLEdBQUdDLFFBQVEsQ0FBQyxZQUFZO2dCQUNoRixvREFBb0Q7Z0JBQ3BEVCxVQUFVRCxZQUFZVyxTQUFTSCxLQUFLLENBQUMsRUFBRTtZQUN6QyxPQUFPO2dCQUNMLHdCQUF3QjtnQkFDeEJQLFVBQVVNLFFBQVFFLFFBQVEsR0FBR0MsUUFBUSxDQUFDLFlBQ2xDQyxTQUFTSCxLQUFLLENBQUMsRUFBRSxJQUFJLEtBQ3JCRyxTQUFTSCxLQUFLLENBQUMsRUFBRTtZQUN2QjtZQUNBO1FBQ0Y7SUFDRjtJQUVBLG9EQUFvRDtJQUNwRCxJQUFJSixXQUFXO1FBQ2JKLFlBQVk7UUFDWkMsVUFBVSxHQUFHLHFDQUFxQztJQUNwRDtJQUVBLG1FQUFtRTtJQUNuRSxrRUFBa0U7SUFDbEUsSUFBSUssU0FBUztRQUNYTixZQUFZLENBQUMsR0FBRyw0Q0FBNEM7UUFDNURDLFVBQVUsQ0FBQyxHQUFLLCtCQUErQjtJQUNqRDtJQUVBLHdGQUF3RjtJQUN4RixJQUFJRCxZQUFZLEtBQUtDLFlBQVksS0FBS0QsY0FBYyxHQUFHO1FBQ3JEQyxVQUFVRCxZQUFZO0lBQ3hCO0lBRUEsT0FBTztRQUFFQTtRQUFXQztJQUFRO0FBQzlCO0FBV0EsdURBQXVEO0FBQ3ZELE1BQU1XLHlCQUF5QixPQUFPQyxhQUFhQyxpQkFBaUJDLGtCQUFrQkMsVUFBVUMsc0JBQXNCQztJQUNwSCxJQUFJQyxlQUFlO0lBQ25CLElBQUlDLGdCQUFnQkwsaUJBQWlCTSxPQUFPO0lBRTVDLElBQUk7UUFDRixrRUFBa0U7UUFDbEUsSUFBSVIsZUFDQUEsWUFBWVMsUUFBUSxLQUFLLFFBQ3pCLE9BQU9ULFlBQVlVLFVBQVUsS0FBSyxZQUNsQ1YsWUFBWVUsVUFBVSxHQUFHLE9BQ3pCVixZQUFZVyxPQUFPLEVBQUU7WUFDdkIsTUFBTUEsVUFBVVgsWUFBWVcsT0FBTztZQUVuQyxxQ0FBcUM7WUFDckMsSUFBSUEsUUFBUUMsSUFBSSxLQUFLLFVBQVVELFFBQVFFLE9BQU8sRUFBRTtnQkFDOUMsb0NBQW9DO2dCQUNwQyxNQUFNQyxjQUFtQjtvQkFDdkIzQixXQUFXLE9BQU93QixRQUFReEIsU0FBUyxLQUFLLFdBQVd3QixRQUFReEIsU0FBUyxHQUFHO29CQUN2RUMsU0FBUyxPQUFPdUIsUUFBUXZCLE9BQU8sS0FBSyxXQUFXdUIsUUFBUXZCLE9BQU8sR0FBSSxPQUFPdUIsUUFBUXhCLFNBQVMsS0FBSyxXQUFXd0IsUUFBUXhCLFNBQVMsR0FBRyxJQUFJO2dCQUNwSTtnQkFFQSxtQ0FBbUM7Z0JBQ25DLElBQUl3QixRQUFRSSxLQUFLLEVBQUU7b0JBQ2pCRCxZQUFZQyxLQUFLLEdBQUdKLFFBQVFJLEtBQUssQ0FBQ0MsV0FBVyxPQUFPLFdBQVcsWUFDN0NMLFFBQVFJLEtBQUssQ0FBQ0MsV0FBVyxPQUFPLFVBQVUsWUFDMUNMLFFBQVFJLEtBQUssQ0FBQ0MsV0FBVyxPQUFPLFNBQVMsWUFDekNMLFFBQVFJLEtBQUssQ0FBQ0MsV0FBVyxPQUFPLFNBQVMsWUFDekNMLFFBQVFJLEtBQUssQ0FBQ0MsV0FBVyxPQUFPLFVBQVUsWUFDMUNMLFFBQVFJLEtBQUssQ0FBQ0MsV0FBVyxPQUFPLGFBQWEsWUFDN0NMLFFBQVFJLEtBQUs7Z0JBQ2pDO2dCQUVBLGtCQUFrQjtnQkFDbEJkLGdCQUFnQk8sT0FBTyxDQUFDUyxPQUFPLENBQUNOLFFBQVFFLE9BQU8sRUFBRUM7Z0JBRWpELHVCQUF1QjtnQkFDdkJQLGlCQUFpQiw4QkFBa0RJLE9BQXBCQSxRQUFRRSxPQUFPLEVBQUMsTUFBMEVDLE9BQXRFSCxRQUFRSSxLQUFLLEdBQUcsYUFBMkIsT0FBZEosUUFBUUksS0FBSyxFQUFDLE9BQUssSUFBRyxxQkFBNkRELE9BQTFDQSxZQUFZM0IsU0FBUyxFQUFDLHNCQUF3QyxPQUFwQjJCLFlBQVkxQixPQUFPLEVBQUM7Z0JBQ3ZNa0IsZUFBZTtZQUNqQixPQUNLLElBQUlLLFFBQVFDLElBQUksS0FBSyxTQUFTO2dCQUNqQyxxQ0FBcUM7Z0JBQ3JDLE1BQU1NLGVBQW9CO29CQUN4Qi9CLFdBQVcsT0FBT3dCLFFBQVF4QixTQUFTLEtBQUssV0FBV3dCLFFBQVF4QixTQUFTLEdBQUc7b0JBQ3ZFQyxTQUFTLE9BQU91QixRQUFRdkIsT0FBTyxLQUFLLFdBQVd1QixRQUFRdkIsT0FBTyxHQUFJLE9BQU91QixRQUFReEIsU0FBUyxLQUFLLFdBQVd3QixRQUFReEIsU0FBUyxHQUFHLElBQUk7b0JBQ2xJLGdDQUFnQztvQkFDaENnQyxVQUFVO3dCQUFFQyxHQUFHO3dCQUFLQyxHQUFHO29CQUFJO2dCQUM3QjtnQkFFQSxnREFBZ0Q7Z0JBQ2hEQyxRQUFRQyxHQUFHLENBQUMsb0RBQWtGWixPQUE5QkEsUUFBUXhCLFNBQVMsRUFBQyxjQUE0QixPQUFoQndCLFFBQVF2QixPQUFPO2dCQUU3RyxxREFBcUQ7Z0JBQ3JELElBQUl1QixRQUFReEIsU0FBUyxLQUFLLENBQUMsS0FBS3dCLFFBQVF2QixPQUFPLEtBQUssQ0FBQyxHQUFHO29CQUN0RCw2Q0FBNkM7b0JBQzdDLE1BQU1vQyxnQkFBZ0JyQixDQUFBQSxxQkFBQUEsK0JBQUFBLFNBQVVzQixRQUFRLElBQ3BDQyxLQUFLQyxLQUFLLENBQUN4QixTQUFTc0IsUUFBUSxHQUFHLFFBQy9CLElBQUksMENBQTBDO29CQUVsREgsUUFBUUMsR0FBRyxDQUFDLDBCQUFxQyxPQUFkQyxlQUFjO29CQUVqRCxJQUFJYixRQUFReEIsU0FBUyxLQUFLLENBQUMsS0FBS3dCLFFBQVF2QixPQUFPLEtBQUssQ0FBQyxHQUFHO3dCQUN0RCxxREFBcUQ7d0JBQ3JEOEIsYUFBYS9CLFNBQVMsR0FBR3VDLEtBQUtFLEdBQUcsQ0FBQyxHQUFHSixnQkFBZ0I7d0JBQ3JETixhQUFhOUIsT0FBTyxHQUFHb0M7d0JBQ3ZCRixRQUFRQyxHQUFHLENBQUMsd0NBQTJFTCxPQUFuQ0EsYUFBYS9CLFNBQVMsRUFBQyxjQUFpQyxPQUFyQitCLGFBQWE5QixPQUFPO29CQUM3RyxPQUFPLElBQUl1QixRQUFReEIsU0FBUyxLQUFLLENBQUMsR0FBRzt3QkFDbkMsdUJBQXVCO3dCQUN2QitCLGFBQWEvQixTQUFTLEdBQUd1QyxLQUFLRSxHQUFHLENBQUMsR0FBR0osZ0JBQWdCO29CQUN2RCxPQUFPLElBQUliLFFBQVF2QixPQUFPLEtBQUssQ0FBQyxHQUFHO3dCQUNqQyxxQkFBcUI7d0JBQ3JCOEIsYUFBYTlCLE9BQU8sR0FBR29DO29CQUN6QjtnQkFDRjtnQkFFQUYsUUFBUUMsR0FBRyxDQUFDLDBDQUE2RUwsT0FBbkNBLGFBQWEvQixTQUFTLEVBQUMsY0FBaUMsT0FBckIrQixhQUFhOUIsT0FBTztnQkFFN0csd0NBQXdDO2dCQUN4QyxNQUFNeUMsZUFBZWxCLFFBQVFtQixHQUFHLEtBQUs7Z0JBQ3JDLE1BQU1DLGVBQWUzQix3QkFBd0JBLHFCQUFxQjRCLFVBQVUsQ0FBQztnQkFFN0UsSUFBSUM7Z0JBRUosOEVBQThFO2dCQUM5RSxJQUFJNUIsK0JBQStCO29CQUNqQzRCLFdBQVc1QjtvQkFDWGlCLFFBQVFDLEdBQUcsQ0FBQztnQkFDZCxPQUVLLElBQUlaLFFBQVFtQixHQUFHLElBQUksQ0FBQ0QsZ0JBQWdCLENBQUNsQixRQUFRbUIsR0FBRyxDQUFDakMsUUFBUSxDQUFDLHNCQUFzQjtvQkFDbkZvQyxXQUFXdEIsUUFBUW1CLEdBQUc7b0JBQ3RCUixRQUFRQyxHQUFHLENBQUM7Z0JBQ2QsT0FFSyxJQUFJTSxnQkFBZ0J6QixzQkFBc0I7b0JBQzdDNkIsV0FBVzdCO29CQUNYa0IsUUFBUUMsR0FBRyxDQUFDO2dCQUNkLE9BRUs7b0JBQ0gscURBQXFEO29CQUNyRFUsV0FBVztvQkFDWFgsUUFBUUMsR0FBRyxDQUFDO2dCQUNkO2dCQUVBLG1CQUFtQjtnQkFDbkJ0QixnQkFBZ0JPLE9BQU8sQ0FBQzBCLFFBQVEsQ0FBQ0QsVUFBVWY7Z0JBRTNDLHVCQUF1QjtnQkFDdkJYLGlCQUFpQiwrQ0FBMEZXLE9BQTNDQSxhQUFhL0IsU0FBUyxFQUFDLHNCQUF5QyxPQUFyQitCLGFBQWE5QixPQUFPLEVBQUM7Z0JBQ2hJa0IsZUFBZTtZQUNqQixPQUNLLElBQUlLLFFBQVFDLElBQUksS0FBSyxTQUFTO2dCQUNqQyxvQ0FBb0M7Z0JBQ3BDLE1BQU11QixlQUFvQjtvQkFDeEJoRCxXQUFXLE9BQU93QixRQUFReEIsU0FBUyxLQUFLLFdBQVd3QixRQUFReEIsU0FBUyxHQUFHO29CQUN2RUMsU0FBUyxPQUFPdUIsUUFBUXZCLE9BQU8sS0FBSyxXQUFXdUIsUUFBUXZCLE9BQU8sR0FBSSxPQUFPdUIsUUFBUXhCLFNBQVMsS0FBSyxXQUFXd0IsUUFBUXhCLFNBQVMsR0FBRyxLQUFLO2dCQUNySTtnQkFFQSw4REFBOEQ7Z0JBQzlELE1BQU1pRCxXQUFXO2dCQUVqQixrQkFBa0I7Z0JBQ2xCbkMsZ0JBQWdCTyxPQUFPLENBQUM2QixRQUFRLENBQUNELFVBQVVEO2dCQUUzQyx1QkFBdUI7Z0JBQ3ZCNUIsaUJBQWlCLDhDQUF5RjRCLE9BQTNDQSxhQUFhaEQsU0FBUyxFQUFDLHNCQUF5QyxPQUFyQmdELGFBQWEvQyxPQUFPLEVBQUM7Z0JBQy9Ia0IsZUFBZTtZQUNqQixPQUNLLElBQUlLLFFBQVFDLElBQUksS0FBSyxhQUFhO2dCQUNyQywwQ0FBMEM7Z0JBQzFDLE1BQU0wQixrQkFBdUI7b0JBQzNCQyxZQUFZNUIsUUFBUTRCLFVBQVUsS0FBS0MsWUFBWTdCLFFBQVE0QixVQUFVLEdBQUc7Z0JBQ3RFO2dCQUVBLHFDQUFxQztnQkFDckMsSUFBSSxPQUFPNUIsUUFBUXhCLFNBQVMsS0FBSyxVQUFVO29CQUN6Q21ELGdCQUFnQm5ELFNBQVMsR0FBR3dCLFFBQVF4QixTQUFTO2dCQUMvQztnQkFDQSxJQUFJLE9BQU93QixRQUFRdkIsT0FBTyxLQUFLLFVBQVU7b0JBQ3ZDa0QsZ0JBQWdCbEQsT0FBTyxHQUFHdUIsUUFBUXZCLE9BQU87Z0JBQzNDO2dCQUVBLHdCQUF3QjtnQkFDeEJhLGdCQUFnQk8sT0FBTyxDQUFDaUMsWUFBWSxDQUFDSDtnQkFFckMsMkRBQTJEO2dCQUMzRGhDLGVBQWU7WUFDakIsT0FDSyxJQUFJSyxRQUFRQyxJQUFJLEtBQUssY0FBYzhCLE1BQU1DLE9BQU8sQ0FBQ2hDLFFBQVFpQyxRQUFRLEtBQUtqQyxRQUFRaUMsUUFBUSxDQUFDQyxNQUFNLEdBQUcsR0FBRztnQkFDdEcsc0NBQXNDO2dCQUN0QyxNQUFNRCxXQUFXakMsUUFBUWlDLFFBQVEsQ0FBQ0UsR0FBRyxDQUFDQyxDQUFBQSxVQUFZO3dCQUNoRDVELFdBQVcsT0FBTzRELFFBQVE1RCxTQUFTLEtBQUssV0FBVzRELFFBQVE1RCxTQUFTLEdBQUc7d0JBQ3ZFQyxTQUFTLE9BQU8yRCxRQUFRM0QsT0FBTyxLQUFLLFdBQVcyRCxRQUFRM0QsT0FBTyxHQUFJLE9BQU8yRCxRQUFRNUQsU0FBUyxLQUFLLFdBQVc0RCxRQUFRNUQsU0FBUyxHQUFHLElBQUk7b0JBQ3BJO2dCQUVBbUMsUUFBUUMsR0FBRyxDQUFDLGNBQThCLE9BQWhCcUIsU0FBU0MsTUFBTSxFQUFDLGdCQUFjRDtnQkFFeEQsNENBQTRDO2dCQUM1QyxNQUFNSSxvQkFBb0JKLFNBQVNFLEdBQUcsQ0FBQ0csQ0FBQUEsSUFBSyxHQUFrQkEsT0FBZkEsRUFBRTlELFNBQVMsRUFBQyxLQUFhLE9BQVY4RCxFQUFFN0QsT0FBTyxFQUFDLE1BQUk4RCxJQUFJLENBQUM7Z0JBRWpGLElBQUk7b0JBQ0YsdUNBQXVDO29CQUN2QyxNQUFNQyxTQUFTLE1BQU1sRCxnQkFBZ0JPLE9BQU8sQ0FBQzRDLGNBQWMsQ0FBQ1I7b0JBRTVELElBQUlPLFFBQVE7d0JBQ1Y1QyxpQkFBaUIsZ0RBQWtFLE9BQWxCeUMsbUJBQWtCO29CQUNyRixPQUFPO3dCQUNMekMsaUJBQWtCO29CQUNwQjtvQkFDQUQsZUFBZTtnQkFDakIsRUFBRSxPQUFPK0MsT0FBTztvQkFDZC9CLFFBQVErQixLQUFLLENBQUMsZ0NBQWdDQTtvQkFDOUM5QyxpQkFBaUIsa0RBQXVGLE9BQXJDOEMsTUFBTUMsT0FBTyxJQUFJLHFCQUFvQjtnQkFDMUc7WUFDRixPQUNLLElBQUkzQyxRQUFRQyxJQUFJLEtBQUssV0FBVztnQkFDbkMsd0NBQXdDO2dCQUN4Q1UsUUFBUUMsR0FBRyxDQUFDO2dCQUVaLElBQUk7b0JBQ0YsMEJBQTBCO29CQUMxQixNQUFNNEIsU0FBUyxNQUFNbEQsZ0JBQWdCTyxPQUFPLENBQUMrQyxlQUFlO29CQUU1RCxJQUFJSixRQUFRO3dCQUNWNUMsaUJBQWtCO29CQUNwQixPQUFPO3dCQUNMQSxpQkFBa0I7b0JBQ3BCO29CQUNBRCxlQUFlO2dCQUNqQixFQUFFLE9BQU8rQyxPQUFPO29CQUNkL0IsUUFBUStCLEtBQUssQ0FBQyxtQ0FBbUNBO29CQUNqRDlDLGlCQUFpQixpREFBc0YsT0FBckM4QyxNQUFNQyxPQUFPLElBQUkscUJBQW9CO2dCQUN6RztZQUNGLE9BQ0ssSUFBSTNDLFFBQVFDLElBQUksS0FBSyxhQUFhO2dCQUNyQyxrQ0FBa0M7Z0JBQ2xDVSxRQUFRQyxHQUFHLENBQUM7Z0JBRVosSUFBSTtvQkFDRix1Q0FBdUM7b0JBQ3ZDaEIsaUJBQWtCO29CQUVsQixpQ0FBaUM7b0JBQ2pDLE1BQU00QyxTQUFTLE1BQU1sRCxnQkFBZ0JPLE9BQU8sQ0FBQ2dELFNBQVM7b0JBRXRELElBQUlMLFFBQVE7d0JBQ1Y1QyxpQkFBa0I7b0JBQ3BCLE9BQU87d0JBQ0xBLGlCQUFrQjtvQkFDcEI7b0JBQ0FELGVBQWU7Z0JBQ2pCLEVBQUUsT0FBTytDLE9BQU87b0JBQ2QvQixRQUFRK0IsS0FBSyxDQUFDLDZDQUE2Q0E7b0JBQzNEOUMsaUJBQWlCLDJEQUFnRyxPQUFyQzhDLE1BQU1DLE9BQU8sSUFBSSxxQkFBb0I7Z0JBQ25IO1lBQ0Y7UUFDRjtJQUNGLEVBQUUsT0FBT0QsT0FBTztRQUNkL0IsUUFBUStCLEtBQUssQ0FBQyx5Q0FBeUNBO1FBQ3ZEOUMsaUJBQWlCO0lBQ25CO0lBRUEsT0FBTztRQUFFQTtRQUFlRDtJQUFhO0FBQ3ZDO0FBRWUsU0FBU21EOztJQUN0QixNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBR3hGLCtDQUFRQSxDQUFZO1FBQ2xEO1lBQ0V5RixJQUFJO1lBQ0ovQyxTQUFTO1lBQ1RnRCxNQUFNO1lBQ05DLFdBQVcsSUFBSUM7UUFDakI7S0FDRDtJQUNELE1BQU0sQ0FBQ0MsT0FBT0MsU0FBUyxHQUFHOUYsK0NBQVFBLENBQUM7SUFDbkMsTUFBTSxDQUFDK0YsV0FBV0MsYUFBYSxHQUFHaEcsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDaUcsV0FBV0MsYUFBYSxHQUFHbEcsK0NBQVFBLENBQWM7SUFDeEQsTUFBTSxDQUFDbUcsY0FBY0MsZ0JBQWdCLEdBQUdwRywrQ0FBUUEsQ0FBZ0I7SUFDaEUsTUFBTSxDQUFDcUcsYUFBYUMsZUFBZSxHQUFHdEcsK0NBQVFBLENBQUM7SUFDL0MsNERBQTREO0lBQzVELE1BQU0sQ0FBQ2lDLHNCQUFzQnNFLHdCQUF3QixHQUFHdkcsK0NBQVFBLENBQVM7SUFDekUsTUFBTXdHLGVBQWV2Ryw2Q0FBTUEsQ0FBbUI7SUFDOUMsTUFBTXdHLGlCQUFpQnhHLDZDQUFNQSxDQUFpQjtJQUU5Qyx1REFBdUQ7SUFDdkQsTUFBTXlHLGVBQWUvRixxRkFBZUE7SUFDcEMsTUFBTSxFQUFFcUIsUUFBUSxFQUFFMkUsTUFBTSxFQUFFQyxTQUFTLEVBQUUsR0FBR2xHLGlGQUFZQTtJQUNwRCxNQUFNb0Isa0JBQWtCN0IsNkNBQU1BLENBQXVCVyw4RUFBMEJBLENBQUM4RjtJQUVoRiwyQkFBMkI7SUFDM0J4RyxnREFBU0EsQ0FBQztZQUNSdUc7U0FBQUEsMEJBQUFBLGVBQWVwRSxPQUFPLGNBQXRCb0UsOENBQUFBLHdCQUF3QkksY0FBYyxDQUFDO1lBQUVDLFVBQVU7UUFBUztJQUM5RCxHQUFHO1FBQUN2QjtLQUFTO0lBRWIsbUVBQW1FO0lBQ25FckYsZ0RBQVNBLENBQUM7UUFDUjRCLGdCQUFnQk8sT0FBTyxHQUFHekIsOEVBQTBCQSxDQUFDOEY7SUFDdkQsR0FBRztRQUFDQTtLQUFhO0lBRWpCLHNDQUFzQztJQUN0QyxNQUFNSyxtQkFBbUI7WUFDdkJQO1NBQUFBLHdCQUFBQSxhQUFhbkUsT0FBTyxjQUFwQm1FLDRDQUFBQSxzQkFBc0JRLEtBQUs7SUFDN0I7SUFFQSx5Q0FBeUM7SUFDekMsTUFBTUMsbUJBQW1CLENBQUNDO1lBQ1hBO1FBQWIsTUFBTUMsUUFBT0Qsa0JBQUFBLEVBQUVFLE1BQU0sQ0FBQ0MsS0FBSyxjQUFkSCxzQ0FBQUEsZUFBZ0IsQ0FBQyxFQUFFO1FBQ2hDLElBQUlDLE1BQU07WUFDUmpCLGFBQWFpQjtZQUNiLE1BQU1HLGFBQWFDLElBQUlDLGVBQWUsQ0FBQ0w7WUFDdkNmLGdCQUFnQmtCO1FBQ2xCO0lBQ0Y7SUFFQSxrQ0FBa0M7SUFDbEMsTUFBTUcsb0JBQW9CO1FBQ3hCdkIsYUFBYTtRQUNiRSxnQkFBZ0I7UUFDaEIsSUFBSUksYUFBYW5FLE9BQU8sRUFBRW1FLGFBQWFuRSxPQUFPLENBQUNxRixLQUFLLEdBQUc7SUFDekQ7SUFFQSwyQkFBMkI7SUFDM0IsTUFBTUMsY0FBYyxPQUFPUjtRQUN6QixJQUFJO1lBQ0ZiLGVBQWU7WUFDZiwyQ0FBMkM7WUFDM0MsTUFBTXNCLGdCQUFnQixNQUFNL0csbUVBQW9CQSxDQUFDc0csS0FBS1UsSUFBSSxFQUFFVjtZQUU1RCxnREFBZ0Q7WUFDaEQsSUFBSVMsY0FBY0UsU0FBUyxLQUFLLGNBQWM7Z0JBQzVDLGtCQUFrQjtnQkFDbEIsTUFBTUMsTUFBTUgsY0FBY0UsU0FBUyxFQUFFO29CQUNuQ0UsUUFBUTtvQkFDUkMsTUFBTWQ7b0JBQ05lLFNBQVM7d0JBQ1AsZ0JBQWdCZixLQUFLMUUsSUFBSTtvQkFDM0I7Z0JBQ0Y7WUFDRjtZQUNBLDJEQUEyRDtZQUUzRCx1Q0FBdUM7WUFDdkMsT0FBT21GLGNBQWNqRSxHQUFHO1FBQzFCLEVBQUUsT0FBT3VCLE9BQU87WUFDZC9CLFFBQVErQixLQUFLLENBQUMsNkJBQTZCQTtZQUMzQyxNQUFNLElBQUlpRCxNQUFNO1FBQ2xCLFNBQVU7WUFDUjdCLGVBQWU7UUFDakI7SUFDRjtJQUVBLDhCQUE4QjtJQUM5QixNQUFNOEIsb0JBQW9CO1FBQ3hCLElBQUksQ0FBRXZDLE1BQU13QyxJQUFJLE1BQU0sQ0FBQ3BDLGFBQWNGLFdBQVc7UUFFaEQsSUFBSXVDLGNBQXVCO1lBQ3pCN0MsSUFBSUcsS0FBSzJDLEdBQUcsR0FBRzlHLFFBQVE7WUFDdkJpQixTQUFTbUQ7WUFDVEgsTUFBTTtZQUNOQyxXQUFXLElBQUlDO1FBQ2pCO1FBRUEsSUFBSTRDLG1CQUFtQjtRQUN2QixtRkFBbUY7UUFDbkYsSUFBSXRHLGdDQUFnQztRQUVwQywyQ0FBMkM7UUFDM0MsSUFBSStELFdBQVc7WUFDYixJQUFJO2dCQUNGdUMsbUJBQW1CLE1BQU1iLFlBQVkxQjtnQkFDckNxQyxZQUFZeEUsUUFBUSxHQUFHMEU7Z0JBQ3ZCLGdFQUFnRTtnQkFDaEVqQyx3QkFBd0JpQztnQkFDeEIsbUVBQW1FO2dCQUNuRXRHLGdDQUFnQ3NHO2dCQUNoQ3JGLFFBQVFDLEdBQUcsQ0FBQywrQkFBK0JvRixpQkFBaUJDLFNBQVMsQ0FBQyxHQUFHLE9BQU87WUFDbEYsRUFBRSxPQUFPdkQsT0FBTztnQkFDZC9CLFFBQVErQixLQUFLLENBQUMsaUNBQWlDQTtnQkFDL0NNLFlBQVksQ0FBQ2tELE9BQVM7MkJBQ2pCQTt3QkFDSDs0QkFDRWpELElBQUksQ0FBQ0csS0FBSzJDLEdBQUcsS0FBSyxHQUFHOUcsUUFBUTs0QkFDN0JpQixTQUFTLDJFQUNOd0MsQ0FBQUEsaUJBQWlCaUQsUUFBUWpELE1BQU1DLE9BQU8sR0FBRyxtQkFBa0I7NEJBQzlETyxNQUFNOzRCQUNOQyxXQUFXLElBQUlDO3dCQUNqQjtxQkFDRDtnQkFDREksYUFBYTtnQkFDYjtZQUNGO1FBQ0Y7UUFFQSw2QkFBNkI7UUFDN0JSLFlBQVksQ0FBQ2tELE9BQVM7bUJBQUlBO2dCQUFNSjthQUFZO1FBQzVDeEMsU0FBUztRQUNUSSxhQUFhO1FBQ2JFLGdCQUFnQjtRQUNoQixJQUFJSSxhQUFhbkUsT0FBTyxFQUFFbUUsYUFBYW5FLE9BQU8sQ0FBQ3FGLEtBQUssR0FBRztRQUN2RDFCLGFBQWE7UUFFYixJQUFJO2dCQThCd0JZLG9CQUdTNUUsNkJBQUFBLGtCQUEwREEsOEJBQUFBO1lBaEM3Rix5REFBeUQ7WUFDekQsTUFBTTJHLGNBQWNwRCxTQUNqQnFELE1BQU0sQ0FBQ04sYUFDUDNELEdBQUcsQ0FBQ2tFLENBQUFBO2dCQUNILDhFQUE4RTtnQkFDOUUsSUFBSUEsSUFBSS9FLFFBQVEsRUFBRTtvQkFDaEIseUVBQXlFO29CQUN6RSxNQUFNZ0YsWUFBWUQsSUFBSS9FLFFBQVEsQ0FBQ0QsVUFBVSxDQUFDO29CQUMxQyxNQUFNa0YsaUJBQWlCRCxZQUNuQixxQkFDQSxZQUF5QixPQUFiRCxJQUFJL0UsUUFBUSxFQUFDO29CQUU3QixPQUFPO3dCQUNMNEIsTUFBTW1ELElBQUluRCxJQUFJO3dCQUNkaEQsU0FBUyxHQUF3QnFHLE9BQXJCRixJQUFJbkcsT0FBTyxJQUFJLElBQUcsS0FBa0IsT0FBZnFHO29CQUNuQztnQkFDRjtnQkFFQSxPQUFPO29CQUNMckQsTUFBTW1ELElBQUluRCxJQUFJO29CQUNkaEQsU0FBU21HLElBQUluRyxPQUFPO2dCQUN0QjtZQUNGO1lBRUYsZ0RBQWdEO1lBQ2hELE1BQU1zRyxpQkFBaUI7Z0JBQ3JCdEQsTUFBTTtnQkFDTmhELFNBQVMsNEVBR3FCVixPQURONEUsQ0FBQUEsc0JBQUFBLGlDQUFBQSxxQkFBQUEsVUFBV3ZFLE9BQU8sY0FBbEJ1RSx5Q0FBQUEsbUJBQW9CcUMsY0FBYyxJQUFHMUYsS0FBS0MsS0FBSyxDQUFDLENBQUNvRCxVQUFVdkUsT0FBTyxDQUFDNEcsY0FBYyxNQUFNLEtBQUssT0FBTyxNQUFNLEdBQUUsNkNBRXBIdEMsT0FEZTNFLENBQUFBLHFCQUFBQSwrQkFBQUEsU0FBVXNCLFFBQVEsSUFBR0MsS0FBS0MsS0FBSyxDQUFDeEIsU0FBU3NCLFFBQVEsR0FBRyxRQUFRLEdBQUUsOEJBRTVELE9BRGpCcUQsQ0FBQUEsbUJBQUFBLDZCQUFBQSxPQUFRakMsTUFBTSxLQUFJLEdBQUUsK0NBRXpDekMsT0FEc0MsQ0FBQ0QsQ0FBQUEscUJBQUFBLGdDQUFBQSxtQkFBQUEsU0FBVWtILE1BQU0sY0FBaEJsSCx3Q0FBQUEsOEJBQUFBLGlCQUFrQm1ILFVBQVUsY0FBNUJuSCxrREFBQUEsaUNBQUFBLHNCQUFvQyxFQUFFLEVBQUUwQyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMxQyxDQUFBQSxxQkFBQUEsZ0NBQUFBLG9CQUFBQSxTQUFVa0gsTUFBTSxjQUFoQmxILHlDQUFBQSwrQkFBQUEsa0JBQWtCbUgsVUFBVSxjQUE1Qm5ILG1EQUFBQSxrQ0FBQUEsdUJBQW9DLEVBQUUsRUFBRTBDLE1BQU0sR0FBRyxJQUFJLEdBQUUsTUFDM0QsT0FBN0Z6Qyx1QkFBd0Isc0VBQWtFLElBQUc7WUFZekY7WUFFQSxJQUFJO29CQXVCaUJtSDtnQkF0Qm5CLE1BQU1DLFdBQVcsTUFBTXRCLE1BQU0sV0FBVztvQkFDdENDLFFBQVE7b0JBQ1JFLFNBQVM7d0JBQ1AsZ0JBQWdCO29CQUNsQjtvQkFDQUQsTUFBTXFCLEtBQUtDLFNBQVMsQ0FBQzt3QkFDbkJoRSxVQUFVOzRCQUFDeUQ7K0JBQW1CTDt5QkFBWTt3QkFDMUMsaUVBQWlFO3dCQUNqRSw4Q0FBOEM7d0JBQzlDYSxjQUFjdEgsaUNBQWlDRCx3QkFBd0I7b0JBQ3pFO29CQUNBLGdEQUFnRDtvQkFDaER3SCxRQUFRQyxZQUFZQyxPQUFPLENBQUMsT0FBTyxxQkFBcUI7Z0JBQzFEO2dCQUVBLElBQUksQ0FBQ04sU0FBU08sRUFBRSxFQUFFO29CQUNoQixNQUFNLElBQUl6QixNQUFNLGlCQUFvQ2tCLE9BQW5CQSxTQUFTUSxNQUFNLEVBQUMsS0FBdUIsT0FBcEJSLFNBQVNTLFVBQVU7Z0JBQ3pFO2dCQUVBLE1BQU1WLE9BQU8sTUFBTUMsU0FBU1UsSUFBSTtnQkFFaEMsZ0RBQWdEO2dCQUNoRCxNQUFNQyxhQUFhWixDQUFBQSxpQkFBQUEsNEJBQUFBLGdCQUFBQSxLQUFNakUsT0FBTyxjQUFiaUUsb0NBQUFBLGNBQWUxRyxPQUFPLEtBQUk7Z0JBRTdDLHNFQUFzRTtnQkFDdEUsTUFBTWIsY0FBY3VILGlCQUFBQSwyQkFBQUEsS0FBTXZILFdBQVc7Z0JBRXJDLG1DQUFtQztnQkFDbkMsSUFBSU8sZ0JBQWdCNEg7Z0JBQ3BCLDZGQUE2RjtnQkFDN0YsTUFBTWpJLG1CQUFtQjtvQkFBRU0sU0FBU0Q7Z0JBQWM7Z0JBQ2xELElBQUlELGVBQWU7Z0JBRW5CLGdEQUFnRDtnQkFDaEQsTUFBTThILGdCQUFnQixNQUFNckksdUJBQzFCQyxhQUNBQyxpQkFDQUMsa0JBQ0FDLFVBQ0FDLHNCQUNBQztnQkFHRkUsZ0JBQWdCNkgsY0FBYzdILGFBQWE7Z0JBQzNDRCxlQUFlOEgsY0FBYzlILFlBQVk7Z0JBRXpDLE1BQU0rSCxtQkFBNEI7b0JBQ2hDekUsSUFBSSxDQUFDRyxLQUFLMkMsR0FBRyxLQUFLLEdBQUc5RyxRQUFRO29CQUM3QmlCLFNBQVNOO29CQUNUc0QsTUFBTTtvQkFDTkMsV0FBVyxJQUFJQztnQkFDakI7Z0JBRUFKLFlBQVksQ0FBQ2tELE9BQVM7MkJBQUlBO3dCQUFNd0I7cUJBQWlCO1lBQ25ELEVBQUUsT0FBT0MsVUFBVTtnQkFDakJoSCxRQUFRK0IsS0FBSyxDQUFDLDJDQUF3Q2lGO2dCQUV0RCxxQ0FBcUM7Z0JBQ3JDM0UsWUFBWSxDQUFDa0QsT0FBUzsyQkFDakJBO3dCQUNIOzRCQUNFakQsSUFBSSxDQUFDRyxLQUFLMkMsR0FBRyxLQUFLLEdBQUc5RyxRQUFROzRCQUM3QmlCLFNBQVM7NEJBQ1RnRCxNQUFNOzRCQUNOQyxXQUFXLElBQUlDO3dCQUNqQjtxQkFDRDtZQUNIO1FBQ0YsRUFBRSxPQUFPVixPQUFPO1lBQ2QvQixRQUFRK0IsS0FBSyxDQUFDLGlDQUFpQ0E7WUFFL0Msd0NBQXdDO1lBQ3hDLElBQUlrRixlQUFlO1lBRW5CLElBQUlsRixpQkFBaUJpRCxPQUFPO2dCQUMxQixJQUFJakQsTUFBTUMsT0FBTyxDQUFDekQsUUFBUSxDQUFDLGNBQWN3RCxNQUFNQyxPQUFPLENBQUN6RCxRQUFRLENBQUMsVUFBVTtvQkFDeEUwSSxlQUFlO2dCQUNqQixPQUFPLElBQUlsRixNQUFNQyxPQUFPLENBQUN6RCxRQUFRLENBQUMsY0FBY3dELE1BQU1DLE9BQU8sQ0FBQ3pELFFBQVEsQ0FBQyxVQUFVO29CQUMvRTBJLGVBQWU7Z0JBQ2pCO1lBQ0Y7WUFFQSxtQkFBbUI7WUFDbkI1RSxZQUFZLENBQUNrRCxPQUFTO3VCQUNqQkE7b0JBQ0g7d0JBQ0VqRCxJQUFJLENBQUNHLEtBQUsyQyxHQUFHLEtBQUssR0FBRzlHLFFBQVE7d0JBQzdCaUIsU0FBUzBIO3dCQUNUMUUsTUFBTTt3QkFDTkMsV0FBVyxJQUFJQztvQkFDakI7aUJBQ0Q7UUFDSCxTQUFVO1lBQ1JJLGFBQWE7UUFDZjtJQUNGO0lBRUEscUJBQ0UsOERBQUNxRTtRQUFJQyxXQUFVOzswQkFDYiw4REFBQ0Q7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNqSyxrRUFBVUE7b0JBQUNpSyxXQUFVOzhCQUNwQiw0RUFBQ0Q7d0JBQUlDLFdBQVU7OzRCQUNaL0UsU0FBU1osR0FBRyxDQUFDLENBQUNRLHdCQUNiLDhEQUFDa0Y7b0NBRUNDLFdBQVcsaUJBRVYsT0FEQ25GLFFBQVFPLElBQUksS0FBSyxjQUFjLGdCQUFnQjs7c0RBR2pELDhEQUFDMkU7NENBQ0NDLFdBQVcsb0NBSVYsT0FIQ25GLFFBQVFPLElBQUksS0FBSyxjQUNiLDZCQUNBOzs4REFHTiw4REFBQzJFO29EQUFJQyxXQUFVOzhEQUF1Qm5GLFFBQVF6QyxPQUFPOzs7Ozs7Z0RBQ3BEeUMsUUFBUXJCLFFBQVEsa0JBQ2YsOERBQUN1RztvREFBSUMsV0FBVTs4REFDYiw0RUFBQ0M7d0RBQ0NDLEtBQUtyRixRQUFRckIsUUFBUTt3REFDckIyRyxLQUFJO3dEQUNKSCxXQUFVO3dEQUNWSSxPQUFPOzREQUFFQyxVQUFVO3dEQUFPOzs7Ozs7Ozs7Ozs7Ozs7OztzREFLbEMsOERBQUNOOzRDQUFJQyxXQUFVO3NEQUNabkYsUUFBUVEsU0FBUyxDQUFDaUYsa0JBQWtCLENBQUMsRUFBRSxFQUFFO2dEQUN4Q0MsTUFBTTtnREFDTkMsUUFBUTs0Q0FDVjs7Ozs7OzttQ0E1QkczRixRQUFRTSxFQUFFOzs7OzswQ0FnQ25CLDhEQUFDNEU7Z0NBQUlVLEtBQUt0RTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQU1mTiw4QkFDQyw4REFBQ2tFO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ25LLHlEQUFNQTt3QkFDTDZLLFNBQVE7d0JBQ1JDLE1BQUs7d0JBQ0xYLFdBQVU7d0JBQ1ZZLFNBQVN6RDtrQ0FFVCw0RUFBQ2hILG9HQUFDQTs0QkFBQzZKLFdBQVU7Ozs7Ozs7Ozs7O2tDQUVmLDhEQUFDQzt3QkFDQ0MsS0FBS3JFO3dCQUNMc0UsS0FBSTt3QkFDSkgsV0FBVTs7Ozs7Ozs7Ozs7OzBCQUtoQiw4REFBQ0Q7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNEO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ25LLHlEQUFNQTs0QkFDTDZLLFNBQVE7NEJBQ1JDLE1BQUs7NEJBQ0xYLFdBQVU7NEJBQ1ZZLFNBQVNuRTs0QkFDVG9FLFVBQVVwRjtzQ0FFViw0RUFBQ3ZGLHFHQUFTQTtnQ0FBQzhKLFdBQVU7Ozs7Ozs7Ozs7O3NDQUV2Qiw4REFBQ2xLLHVEQUFLQTs0QkFDSnNILE9BQU83Qjs0QkFDUHVGLFVBQVUsQ0FBQ2xFLElBQU1wQixTQUFTb0IsRUFBRUUsTUFBTSxDQUFDTSxLQUFLOzRCQUN4QzJELFdBQVcsQ0FBQ25FO2dDQUNWLElBQUlBLEVBQUVvRSxHQUFHLEtBQUssV0FBVyxDQUFDcEUsRUFBRXFFLFFBQVEsRUFBRTtvQ0FDcENyRSxFQUFFc0UsY0FBYztvQ0FDaEJwRDtnQ0FDRjs0QkFDRjs0QkFDQXFELGFBQVk7NEJBQ1pOLFVBQVVwRjs0QkFDVnVFLFdBQVU7Ozs7OztzQ0FFWiw4REFBQ25LLHlEQUFNQTs0QkFDTCtLLFNBQVM5Qzs0QkFDVCtDLFVBQVUsQ0FBRXRGLE1BQU13QyxJQUFJLE1BQU0sQ0FBQ3BDLGFBQWNGOzRCQUMzQ3VFLFdBQVU7c0NBRVR2RSxhQUFhTSw0QkFDWiw4REFBQzlGLHFHQUFPQTtnQ0FBQytKLFdBQVU7Ozs7O3FEQUVuQiw4REFBQ2hLLHFHQUFJQTtnQ0FBQ2dLLFdBQVU7Ozs7Ozs7Ozs7O3NDQUdwQiw4REFBQ3pFOzRCQUNDcEQsTUFBSzs0QkFDTHNJLEtBQUt2RTs0QkFDTDRFLFVBQVVuRTs0QkFDVnlFLFFBQU87NEJBQ1BwQixXQUFVOzRCQUNWYSxVQUFVcEY7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTXRCO0dBeFl3QlQ7O1FBb0JEM0UsaUZBQWVBO1FBQ0lELDZFQUFZQTs7O0tBckI5QjRFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvYWktY2hhdC9pbmRleC50c3g/NGI5NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2J1dHRvblwiO1xuaW1wb3J0IHsgSW5wdXQgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2lucHV0XCI7XG5pbXBvcnQgeyBTY3JvbGxBcmVhIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9zY3JvbGwtYXJlYVwiO1xuaW1wb3J0IHsgU2VuZCwgTG9hZGVyMiwgSW1hZ2VJY29uLCBYIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xuaW1wb3J0IHVzZURhdGFTdGF0ZSBmcm9tIFwiQC9mZWF0dXJlcy9lZGl0b3Ivc3RvcmUvdXNlLWRhdGEtc3RhdGVcIjtcbmltcG9ydCB7IHVzZVN0YXRlTWFuYWdlciB9IGZyb20gXCJAL2ZlYXR1cmVzL2VkaXRvci9ob29rcy9zdGF0ZS1tYW5hZ2VyXCI7XG5pbXBvcnQgeyBjcmVhdGVWaWRlb0NvbW1hbmRFeGVjdXRvciwgVmlkZW9Db21tYW5kRXhlY3V0b3IgfSBmcm9tIFwiLi9haS12aWRlby1jb21tYW5kc1wiO1xuaW1wb3J0IHsgY3JlYXRlVXBsb2Fkc0RldGFpbHMgfSBmcm9tIFwiQC91dGlscy91cGxvYWRcIjtcblxuLy8gRnVuY2nDs24gcGFyYSBleHRyYWVyIHRpZW1wb3MgZGUgaW5pY2lvIHkgZmluIGRlIHVuYSBpbWFnZW4gYSBwYXJ0aXIgZGVsIG1lbnNhamVcbmZ1bmN0aW9uIGV4dHJhY3RJbWFnZVRpbWVzRnJvbU1lc3NhZ2UobWVzc2FnZUNvbnRlbnQ6IHN0cmluZyk6IHsgc3RhcnRUaW1lOiBudW1iZXIsIGVuZFRpbWU6IG51bWJlciB9IHtcbiAgbGV0IHN0YXJ0VGltZSA9IDA7XG4gIGxldCBlbmRUaW1lID0gNTtcblxuICBpZiAoIW1lc3NhZ2VDb250ZW50KSByZXR1cm4geyBzdGFydFRpbWUsIGVuZFRpbWUgfTtcblxuICAvLyBCdXNjYXIgcmVmZXJlbmNpYXMgYWwgdGllbXBvIGluaWNpYWxcbiAgY29uc3Qgc3RhcnRUaW1lUGF0dGVybnMgPSBbXG4gICAgL2VuIGVsIHNlZ3VuZG8gKFxcZCspL2ksXG4gICAgL2Rlc2RlIGVsIHNlZ3VuZG8gKFxcZCspL2ksXG4gICAgL2EgcGFydGlyIGRlbCBzZWd1bmRvIChcXGQrKS9pLFxuICAgIC9jb21lbnphbmRvIGVuIGVsIHNlZ3VuZG8gKFxcZCspL2ksXG4gICAgL2Rlc2RlIGVsIG1pbnV0byAoXFxkKykvaSwgLy8gQ29udmVydGlyIG1pbnV0b3MgYSBzZWd1bmRvc1xuICAgIC9lbiBlbCBtaW51dG8gKFxcZCspL2ksICAgIC8vIENvbnZlcnRpciBtaW51dG9zIGEgc2VndW5kb3NcbiAgICAvZW50cmUgbG9zIHNlZ3VuZG9zIChcXGQrKSB5L2ksIC8vIENhcHR1cmEgZWwgcHJpbWVyIG7Dum1lcm8gZW4gXCJlbnRyZSBYIHkgWVwiXG4gICAgL2RlbCBzZWd1bmRvIChcXGQrKSBhbC9pLFxuICAgIC9lbXBlemFuZG8gZW4gKFxcZCspL2ksXG4gICAgL3NlZ3VuZG8gKFxcZCspL2ksICAgICAvLyBQYXRyw7NuIG3DoXMgZ2VuZXJhbCBwYXJhIGNhcHR1cmFyIFwic2VndW5kbyBYXCJcbiAgICAvZW4gKFxcZCspIHNlZ3VuZG9zL2ksIC8vIFwiZW4gWCBzZWd1bmRvc1wiXG4gICAgL2VuIGVsIChcXGQrKS9pLCAgICAgICAvLyBcImVuIGVsIFhcIiAoY3VhbmRvIHNlIHJlZmllcmUgYSBzZWd1bmRvcylcbiAgXTtcblxuICAvLyBCdXNjYXIgcmVmZXJlbmNpYXMgYWwgdGllbXBvIGZpbmFsXG4gIGNvbnN0IGVuZFRpbWVQYXR0ZXJucyA9IFtcbiAgICAvaGFzdGEgZWwgc2VndW5kbyAoXFxkKykvaSxcbiAgICAvYWwgc2VndW5kbyAoXFxkKykvaSxcbiAgICAvdGVybWluYW5kbyBlbiBlbCBzZWd1bmRvIChcXGQrKS9pLFxuICAgIC9oYXN0YSBlbCBtaW51dG8gKFxcZCspL2ksIC8vIENvbnZlcnRpciBtaW51dG9zIGEgc2VndW5kb3NcbiAgICAvZW50cmUgbG9zIHNlZ3VuZG9zIFxcZCsgeSAoXFxkKykvaSwgLy8gQ2FwdHVyYSBlbCBzZWd1bmRvIG7Dum1lcm8gZW4gXCJlbnRyZSBYIHkgWVwiXG4gICAgL2RlbCBzZWd1bmRvIFxcZCsgYWwgKFxcZCspL2ksXG4gICAgL3BvciAoXFxkKykgc2VndW5kb3MvaSwgLy8gRHVyYWNpw7NuIHJlbGF0aXZhXG4gICAgL2R1cmFudGUgKFxcZCspIHNlZ3VuZG9zL2ksIC8vIER1cmFjacOzbiByZWxhdGl2YVxuICBdO1xuXG4gIC8vIEJ1c2NhciBwYWxhYnJhcyBjbGF2ZSBlc3BlY2lhbGVzXG4gIGNvbnN0IGlzQXRTdGFydCA9IC9cXGIoYWwgaW5pY2lvfGFsIHByaW5jaXBpb3xhbCBjb21pZW56bylcXGIvaS50ZXN0KG1lc3NhZ2VDb250ZW50KTtcbiAgY29uc3QgaXNBdEVuZCA9IC9cXGIoYWwgZmluYWx8YWwgdMOpcm1pbm98YWwgYWNhYmFyKVxcYi9pLnRlc3QobWVzc2FnZUNvbnRlbnQpO1xuXG4gIC8vIFByb2Nlc2FyIHBhdHJvbmVzIGRlIHRpZW1wbyBpbmljaWFsXG4gIGZvciAoY29uc3QgcGF0dGVybiBvZiBzdGFydFRpbWVQYXR0ZXJucykge1xuICAgIGNvbnN0IG1hdGNoID0gbWVzc2FnZUNvbnRlbnQubWF0Y2gocGF0dGVybik7XG4gICAgaWYgKG1hdGNoICYmIG1hdGNoWzFdKSB7XG4gICAgICAvLyBTaSBlcyByZWZlcmVuY2lhIGEgbWludXRvcywgY29udmVydGlyIGEgc2VndW5kb3NcbiAgICAgIHN0YXJ0VGltZSA9IHBhdHRlcm4udG9TdHJpbmcoKS5pbmNsdWRlcygnbWludXRvJylcbiAgICAgICAgPyBwYXJzZUludChtYXRjaFsxXSkgKiA2MFxuICAgICAgICA6IHBhcnNlSW50KG1hdGNoWzFdKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIC8vIFByb2Nlc2FyIHBhdHJvbmVzIGRlIHRpZW1wbyBmaW5hbFxuICBmb3IgKGNvbnN0IHBhdHRlcm4gb2YgZW5kVGltZVBhdHRlcm5zKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBtZXNzYWdlQ29udGVudC5tYXRjaChwYXR0ZXJuKTtcbiAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMV0pIHtcbiAgICAgIGlmIChwYXR0ZXJuLnRvU3RyaW5nKCkuaW5jbHVkZXMoJ3BvcicpIHx8IHBhdHRlcm4udG9TdHJpbmcoKS5pbmNsdWRlcygnZHVyYW50ZScpKSB7XG4gICAgICAgIC8vIEVzIHVuYSBkdXJhY2nDs24gcmVsYXRpdmEsIHN1bWFyIGFsIHRpZW1wbyBpbmljaWFsXG4gICAgICAgIGVuZFRpbWUgPSBzdGFydFRpbWUgKyBwYXJzZUludChtYXRjaFsxXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBFcyB1biB0aWVtcG8gYWJzb2x1dG9cbiAgICAgICAgZW5kVGltZSA9IHBhdHRlcm4udG9TdHJpbmcoKS5pbmNsdWRlcygnbWludXRvJylcbiAgICAgICAgICA/IHBhcnNlSW50KG1hdGNoWzFdKSAqIDYwXG4gICAgICAgICAgOiBwYXJzZUludChtYXRjaFsxXSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvLyBTaSBzZSBtZW5jaW9uYSBcImFsIGluaWNpb1wiLCBlc3RhYmxlY2VyIHRpZW1wbyBhIDBcbiAgaWYgKGlzQXRTdGFydCkge1xuICAgIHN0YXJ0VGltZSA9IDA7XG4gICAgZW5kVGltZSA9IDU7IC8vIFBvciBkZWZlY3RvIDUgc2VndW5kb3MgZGUgZHVyYWNpw7NuXG4gIH1cblxuICAvLyBTaSBzZSBtZW5jaW9uYSBcImFsIGZpbmFsXCIsIGVzdGFibGVjZXIgdmFsb3JlcyByZWxhdGl2b3MgYWwgZmluYWxcbiAgLy8gTm90YTogRWwgdmFsb3IgcmVhbCBzZSBhanVzdGFyw6EgZW4gZWwgY2xpZW50ZSBzZWfDum4gbGEgZHVyYWNpw7NuXG4gIGlmIChpc0F0RW5kKSB7XG4gICAgc3RhcnRUaW1lID0gLTE7IC8vIEPDs2RpZ28gZXNwZWNpYWwgcGFyYSBcImZpbmFsIC0gNSBzZWd1bmRvc1wiXG4gICAgZW5kVGltZSA9IC0xOyAgIC8vIEPDs2RpZ28gZXNwZWNpYWwgcGFyYSBcImZpbmFsXCJcbiAgfVxuXG4gIC8vIFNpIG5vIHNlIGRldGVjdMOzIHRpZW1wbyBmaW5hbCBwZXJvIHPDrSBpbmljaWFsLCBlc3RhYmxlY2VyIHVuYSBkdXJhY2nDs24gcHJlZGV0ZXJtaW5hZGFcbiAgaWYgKHN0YXJ0VGltZSA+IDAgJiYgZW5kVGltZSA9PT0gNSAmJiBzdGFydFRpbWUgIT09IDApIHtcbiAgICBlbmRUaW1lID0gc3RhcnRUaW1lICsgNTtcbiAgfVxuXG4gIHJldHVybiB7IHN0YXJ0VGltZSwgZW5kVGltZSB9O1xufVxuXG4vLyBUaXBvIHBhcmEgbG9zIG1lbnNhamVzXG50eXBlIE1lc3NhZ2UgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgcm9sZTogXCJhc3Npc3RhbnRcIiB8IFwidXNlclwiO1xuICB0aW1lc3RhbXA6IERhdGU7XG4gIGltYWdlVXJsPzogc3RyaW5nOyAvLyBOdWV2YSBwcm9waWVkYWQgcGFyYSBVUkxzIGRlIGltYWdlblxufTtcblxuLy8gRnVuY2nDs24gcGFyYSBwcm9jZXNhciBlbGVtZW50b3MgZGV0ZWN0YWRvcyBwb3IgbGEgSUFcbmNvbnN0IHByb2Nlc3NEZXRlY3RlZEVsZW1lbnQgPSBhc3luYyAoZWxlbWVudERhdGEsIGNvbW1hbmRFeGVjdXRvciwgZmluYWxSZXNwb25zZVJlZiwgdGltZWxpbmUsIGxhc3RVcGxvYWRlZEltYWdlVXJsLCBjdXJyZW50SW1hZ2VVcmxGb3JUaGlzUmVxdWVzdCkgPT4ge1xuICBsZXQgZWxlbWVudEFkZGVkID0gZmFsc2U7XG4gIGxldCBmaW5hbFJlc3BvbnNlID0gZmluYWxSZXNwb25zZVJlZi5jdXJyZW50O1xuXG4gIHRyeSB7XG4gICAgLy8gU2kgc2UgZGV0ZWN0w7MgdW4gZWxlbWVudG8gcGFyYSBhZ3JlZ2FyIGNvbiBjb25maWFuemEgc3VmaWNpZW50ZVxuICAgIGlmIChlbGVtZW50RGF0YSAmJlxuICAgICAgICBlbGVtZW50RGF0YS5kZXRlY3RlZCA9PT0gdHJ1ZSAmJlxuICAgICAgICB0eXBlb2YgZWxlbWVudERhdGEuY29uZmlkZW5jZSA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgZWxlbWVudERhdGEuY29uZmlkZW5jZSA+IDAuNyAmJlxuICAgICAgICBlbGVtZW50RGF0YS5lbGVtZW50KSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudERhdGEuZWxlbWVudDtcblxuICAgICAgLy8gUHJvY2VzYXIgc2Vnw7puIGVsIHRpcG8gZGUgZWxlbWVudG9cbiAgICAgIGlmIChlbGVtZW50LnR5cGUgPT09IFwidGV4dFwiICYmIGVsZW1lbnQuY29udGVudCkge1xuICAgICAgICAvLyBDb25maWd1cmFyIG9wY2lvbmVzIHBhcmEgZWwgdGV4dG9cbiAgICAgICAgY29uc3QgdGV4dE9wdGlvbnM6IGFueSA9IHtcbiAgICAgICAgICBzdGFydFRpbWU6IHR5cGVvZiBlbGVtZW50LnN0YXJ0VGltZSA9PT0gJ251bWJlcicgPyBlbGVtZW50LnN0YXJ0VGltZSA6IDAsXG4gICAgICAgICAgZW5kVGltZTogdHlwZW9mIGVsZW1lbnQuZW5kVGltZSA9PT0gJ251bWJlcicgPyBlbGVtZW50LmVuZFRpbWUgOiAodHlwZW9mIGVsZW1lbnQuc3RhcnRUaW1lID09PSAnbnVtYmVyJyA/IGVsZW1lbnQuc3RhcnRUaW1lICsgNSA6IDUpLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEFzaWduYXIgY29sb3Igc2kgZXN0w6EgZGlzcG9uaWJsZVxuICAgICAgICBpZiAoZWxlbWVudC5jb2xvcikge1xuICAgICAgICAgIHRleHRPcHRpb25zLmNvbG9yID0gZWxlbWVudC5jb2xvci50b0xvd2VyQ2FzZSgpID09PSBcImJsYW5jb1wiID8gXCIjRkZGRkZGXCIgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY29sb3IudG9Mb3dlckNhc2UoKSA9PT0gXCJuZWdyb1wiID8gXCIjMDAwMDAwXCIgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY29sb3IudG9Mb3dlckNhc2UoKSA9PT0gXCJyb2pvXCIgPyBcIiNGRjAwMDBcIiA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jb2xvci50b0xvd2VyQ2FzZSgpID09PSBcImF6dWxcIiA/IFwiIzAwMDBGRlwiIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNvbG9yLnRvTG93ZXJDYXNlKCkgPT09IFwidmVyZGVcIiA/IFwiIzAwRkYwMFwiIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNvbG9yLnRvTG93ZXJDYXNlKCkgPT09IFwiYW1hcmlsbG9cIiA/IFwiI0ZGRkYwMFwiIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQcOxYWRpciBlbCB0ZXh0b1xuICAgICAgICBjb21tYW5kRXhlY3V0b3IuY3VycmVudC5hZGRUZXh0KGVsZW1lbnQuY29udGVudCwgdGV4dE9wdGlvbnMpO1xuXG4gICAgICAgIC8vIEFjdHVhbGl6YXIgcmVzcHVlc3RhXG4gICAgICAgIGZpbmFsUmVzcG9uc2UgKz0gYFxcblxcbltIZSBhZ3JlZ2FkbyBlbCB0ZXh0byBcIiR7ZWxlbWVudC5jb250ZW50fVwiICR7ZWxlbWVudC5jb2xvciA/IGBjb24gY29sb3IgJHtlbGVtZW50LmNvbG9yfSBgIDogXCJcIn1kZXNkZSBlbCBzZWd1bmRvICR7dGV4dE9wdGlvbnMuc3RhcnRUaW1lfSBoYXN0YSBlbCBzZWd1bmRvICR7dGV4dE9wdGlvbnMuZW5kVGltZX1dYDtcbiAgICAgICAgZWxlbWVudEFkZGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGVsZW1lbnQudHlwZSA9PT0gXCJpbWFnZVwiKSB7XG4gICAgICAgIC8vIENvbmZpZ3VyYXIgb3BjaW9uZXMgcGFyYSBsYSBpbWFnZW5cbiAgICAgICAgY29uc3QgaW1hZ2VPcHRpb25zOiBhbnkgPSB7XG4gICAgICAgICAgc3RhcnRUaW1lOiB0eXBlb2YgZWxlbWVudC5zdGFydFRpbWUgPT09ICdudW1iZXInID8gZWxlbWVudC5zdGFydFRpbWUgOiAwLFxuICAgICAgICAgIGVuZFRpbWU6IHR5cGVvZiBlbGVtZW50LmVuZFRpbWUgPT09ICdudW1iZXInID8gZWxlbWVudC5lbmRUaW1lIDogKHR5cGVvZiBlbGVtZW50LnN0YXJ0VGltZSA9PT0gJ251bWJlcicgPyBlbGVtZW50LnN0YXJ0VGltZSArIDUgOiA1KSxcbiAgICAgICAgICAvLyBQb3NpY2nDs24gY2VudHJhZGEgcG9yIGRlZmVjdG9cbiAgICAgICAgICBwb3NpdGlvbjogeyB4OiAwLjUsIHk6IDAuNSB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gUmVnaXN0cmFyIHRpZW1wb3MgZXNwZWPDrWZpY29zIHBhcmEgZGVwdXJhY2nDs25cbiAgICAgICAgY29uc29sZS5sb2coYFRpZW1wb3MgZGUgaW1hZ2VuIHJlY2liaWRvcyBkZSBsYSBBUEk6IHN0YXJ0VGltZT0ke2VsZW1lbnQuc3RhcnRUaW1lfSwgZW5kVGltZT0ke2VsZW1lbnQuZW5kVGltZX1gKTtcblxuICAgICAgICAvLyBNYW5lamFyIGNhc29zIGVzcGVjaWFsZXMgcGFyYSBcImFsIGZpbmFsXCIgZGVsIHZpZGVvXG4gICAgICAgIGlmIChlbGVtZW50LnN0YXJ0VGltZSA9PT0gLTEgfHwgZWxlbWVudC5lbmRUaW1lID09PSAtMSkge1xuICAgICAgICAgIC8vIENhbGN1bGFyIGxhIGR1cmFjacOzbiBkZWwgdmlkZW8gZW4gc2VndW5kb3NcbiAgICAgICAgICBjb25zdCB2aWRlb0R1cmF0aW9uID0gdGltZWxpbmU/LmR1cmF0aW9uXG4gICAgICAgICAgICA/IE1hdGguZmxvb3IodGltZWxpbmUuZHVyYXRpb24gLyAxMDAwKVxuICAgICAgICAgICAgOiAzMDsgLy8gVmFsb3IgcHJlZGV0ZXJtaW5hZG8gc2kgbm8gaGF5IGR1cmFjacOzblxuXG4gICAgICAgICAgY29uc29sZS5sb2coYER1cmFjacOzbiBkZWwgdmlkZW86ICR7dmlkZW9EdXJhdGlvbn1zYCk7XG5cbiAgICAgICAgICBpZiAoZWxlbWVudC5zdGFydFRpbWUgPT09IC0xICYmIGVsZW1lbnQuZW5kVGltZSA9PT0gLTEpIHtcbiAgICAgICAgICAgIC8vIFNpIGFtYm9zIHNvbiAtMSwgY29sb2NhciBlbiBsb3Mgw7psdGltb3MgNSBzZWd1bmRvc1xuICAgICAgICAgICAgaW1hZ2VPcHRpb25zLnN0YXJ0VGltZSA9IE1hdGgubWF4KDAsIHZpZGVvRHVyYXRpb24gLSA1KTtcbiAgICAgICAgICAgIGltYWdlT3B0aW9ucy5lbmRUaW1lID0gdmlkZW9EdXJhdGlvbjtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBBanVzdGFuZG8gcGFyYSBcImFsIGZpbmFsXCI6IHN0YXJ0VGltZT0ke2ltYWdlT3B0aW9ucy5zdGFydFRpbWV9LCBlbmRUaW1lPSR7aW1hZ2VPcHRpb25zLmVuZFRpbWV9YCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LnN0YXJ0VGltZSA9PT0gLTEpIHtcbiAgICAgICAgICAgIC8vIFNvbG8gc3RhcnRUaW1lIGVzIC0xXG4gICAgICAgICAgICBpbWFnZU9wdGlvbnMuc3RhcnRUaW1lID0gTWF0aC5tYXgoMCwgdmlkZW9EdXJhdGlvbiAtIDUpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5lbmRUaW1lID09PSAtMSkge1xuICAgICAgICAgICAgLy8gU29sbyBlbmRUaW1lIGVzIC0xXG4gICAgICAgICAgICBpbWFnZU9wdGlvbnMuZW5kVGltZSA9IHZpZGVvRHVyYXRpb247XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coYFRpZW1wb3MgZGUgaW1hZ2VuIGEgYXBsaWNhcjogc3RhcnRUaW1lPSR7aW1hZ2VPcHRpb25zLnN0YXJ0VGltZX0sIGVuZFRpbWU9JHtpbWFnZU9wdGlvbnMuZW5kVGltZX1gKTtcblxuICAgICAgICAvLyBEZXRlcm1pbmFyIGxhIFVSTCBkZSBsYSBpbWFnZW4gYSB1c2FyXG4gICAgICAgIGNvbnN0IGlzR2VuZXJpY1VybCA9IGVsZW1lbnQudXJsID09PSAnaW1hZ2VuX2FkanVudGFfcG9yX2VsX3VzdWFyaW8uanBnJztcbiAgICAgICAgY29uc3QgaXNMb2NhbEltYWdlID0gbGFzdFVwbG9hZGVkSW1hZ2VVcmwgJiYgbGFzdFVwbG9hZGVkSW1hZ2VVcmwuc3RhcnRzV2l0aCgnZGF0YTonKTtcblxuICAgICAgICBsZXQgaW1hZ2VVcmw6IHN0cmluZztcblxuICAgICAgICAvLyBQUklPUklEQUQgMTogVXNhciBsYSBpbWFnZW4gcXVlIGFjYWJhIGRlIHN1Ymlyc2UgZW4gZXN0ZSBtZW5zYWplIGVzcGVjw61maWNvXG4gICAgICAgIGlmIChjdXJyZW50SW1hZ2VVcmxGb3JUaGlzUmVxdWVzdCkge1xuICAgICAgICAgIGltYWdlVXJsID0gY3VycmVudEltYWdlVXJsRm9yVGhpc1JlcXVlc3Q7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJVc2FuZG8gbGEgaW1hZ2VuIHJlY2nDqW4gc3ViaWRhIHBhcmEgZXN0YSBzb2xpY2l0dWQgZXNwZWPDrWZpY2FcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUFJJT1JJREFEIDI6IFVzYXIgbGEgVVJMIGRlbCBlbGVtZW50byBzaSB0aWVuZSB1bmEgZXNwZWPDrWZpY2EgeSBOTyBlcyBsYSBVUkwgZ2Vuw6lyaWNhXG4gICAgICAgIGVsc2UgaWYgKGVsZW1lbnQudXJsICYmICFpc0dlbmVyaWNVcmwgJiYgIWVsZW1lbnQudXJsLmluY2x1ZGVzKCcvdXJsX2RlX2xhX2ltYWdlbicpKSB7XG4gICAgICAgICAgaW1hZ2VVcmwgPSBlbGVtZW50LnVybDtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlVzYW5kbyBVUkwgZXNwZWPDrWZpY2EgZGVsIGVsZW1lbnRvXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFBSSU9SSURBRCAzOiBVc2FyIGxhIMO6bHRpbWEgaW1hZ2VuIHN1YmlkYSBndWFyZGFkYSBzaSBoYXkgcmVmZXJlbmNpYSBhIGltYWdlbiBnZW7DqXJpY2FcbiAgICAgICAgZWxzZSBpZiAoaXNHZW5lcmljVXJsICYmIGxhc3RVcGxvYWRlZEltYWdlVXJsKSB7XG4gICAgICAgICAgaW1hZ2VVcmwgPSBsYXN0VXBsb2FkZWRJbWFnZVVybDtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlVzYW5kbyBsYSDDumx0aW1hIGltYWdlbiBzdWJpZGEgZ3VhcmRhZGFcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUFJJT1JJREFEIDQ6IEZhbGxiYWNrIGEgVVJMIGdlbsOpcmljYVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAvLyBTaSB0b2RvIGxvIGRlbcOhcyBmYWxsYSwgdXNhciB1bmEgaW1hZ2VuIGRlIGVqZW1wbG9cbiAgICAgICAgICBpbWFnZVVybCA9IFwiaHR0cHM6Ly9pay5pbWFnZWtpdC5pby93b21iby9pbWFnZXMvaW1nMi5qcGdcIjtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlVzYW5kbyBpbWFnZW4gZGUgZWplbXBsbyBjb21vIGZhbGxiYWNrXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQcOxYWRpciBsYSBpbWFnZW5cbiAgICAgICAgY29tbWFuZEV4ZWN1dG9yLmN1cnJlbnQuYWRkSW1hZ2UoaW1hZ2VVcmwsIGltYWdlT3B0aW9ucyk7XG5cbiAgICAgICAgLy8gQWN0dWFsaXphciByZXNwdWVzdGFcbiAgICAgICAgZmluYWxSZXNwb25zZSArPSBgXFxuXFxuW0hlIGFncmVnYWRvIGxhIGltYWdlbiBkZXNkZSBlbCBzZWd1bmRvICR7aW1hZ2VPcHRpb25zLnN0YXJ0VGltZX0gaGFzdGEgZWwgc2VndW5kbyAke2ltYWdlT3B0aW9ucy5lbmRUaW1lfV1gO1xuICAgICAgICBlbGVtZW50QWRkZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoZWxlbWVudC50eXBlID09PSBcInZpZGVvXCIpIHtcbiAgICAgICAgLy8gQ29uZmlndXJhciBvcGNpb25lcyBwYXJhIGVsIHZpZGVvXG4gICAgICAgIGNvbnN0IHZpZGVvT3B0aW9uczogYW55ID0ge1xuICAgICAgICAgIHN0YXJ0VGltZTogdHlwZW9mIGVsZW1lbnQuc3RhcnRUaW1lID09PSAnbnVtYmVyJyA/IGVsZW1lbnQuc3RhcnRUaW1lIDogMCxcbiAgICAgICAgICBlbmRUaW1lOiB0eXBlb2YgZWxlbWVudC5lbmRUaW1lID09PSAnbnVtYmVyJyA/IGVsZW1lbnQuZW5kVGltZSA6ICh0eXBlb2YgZWxlbWVudC5zdGFydFRpbWUgPT09ICdudW1iZXInID8gZWxlbWVudC5zdGFydFRpbWUgKyAxMCA6IDEwKSxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBVUkwgZGUgdmlkZW8gZGUgZWplbXBsbyAoZW4gcHJvZHVjY2nDs24gZXN0byBzZXLDrWEgZGluw6FtaWNvKVxuICAgICAgICBjb25zdCB2aWRlb1VybCA9IFwiaHR0cHM6Ly9jZG4uZGVzaWduY29tYm8uZGV2L3ZpZGVvcy9kZW1vLXZpZGVvLTQubXA0XCI7XG5cbiAgICAgICAgLy8gQcOxYWRpciBlbCB2aWRlb1xuICAgICAgICBjb21tYW5kRXhlY3V0b3IuY3VycmVudC5hZGRWaWRlbyh2aWRlb1VybCwgdmlkZW9PcHRpb25zKTtcblxuICAgICAgICAvLyBBY3R1YWxpemFyIHJlc3B1ZXN0YVxuICAgICAgICBmaW5hbFJlc3BvbnNlICs9IGBcXG5cXG5bSGUgYWdyZWdhZG8gZWwgdmlkZW8gZGVzZGUgZWwgc2VndW5kbyAke3ZpZGVvT3B0aW9ucy5zdGFydFRpbWV9IGhhc3RhIGVsIHNlZ3VuZG8gJHt2aWRlb09wdGlvbnMuZW5kVGltZX1dYDtcbiAgICAgICAgZWxlbWVudEFkZGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGVsZW1lbnQudHlwZSA9PT0gXCJzdWJ0aXRsZXNcIikge1xuICAgICAgICAvLyBDb25maWd1cmFyIG9wY2lvbmVzIHBhcmEgbG9zIHN1YnTDrXR1bG9zXG4gICAgICAgIGNvbnN0IHN1YnRpdGxlT3B0aW9uczogYW55ID0ge1xuICAgICAgICAgIGdyb3VwV29yZHM6IGVsZW1lbnQuZ3JvdXBXb3JkcyAhPT0gdW5kZWZpbmVkID8gZWxlbWVudC5ncm91cFdvcmRzIDogdHJ1ZSxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBBw7FhZGlyIHRpZW1wb3Mgc2kgc2UgZXNwZWNpZmljYXJvblxuICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQuc3RhcnRUaW1lID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHN1YnRpdGxlT3B0aW9ucy5zdGFydFRpbWUgPSBlbGVtZW50LnN0YXJ0VGltZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQuZW5kVGltZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBzdWJ0aXRsZU9wdGlvbnMuZW5kVGltZSA9IGVsZW1lbnQuZW5kVGltZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEHDsWFkaXIgbG9zIHN1YnTDrXR1bG9zXG4gICAgICAgIGNvbW1hbmRFeGVjdXRvci5jdXJyZW50LmFkZFN1YnRpdGxlcyhzdWJ0aXRsZU9wdGlvbnMpO1xuXG4gICAgICAgIC8vIEFjdHVhbGl6YXIgcmVzcHVlc3RhIHNpbGVuY2lvc2EgKHNlIG1hbmVqYSBlbiBvdHJvIGxhZG8pXG4gICAgICAgIGVsZW1lbnRBZGRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChlbGVtZW50LnR5cGUgPT09IFwic2VnbWVudHNcIiAmJiBBcnJheS5pc0FycmF5KGVsZW1lbnQuc2VnbWVudHMpICYmIGVsZW1lbnQuc2VnbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBDb25maWd1cmFyIGxvcyBzZWdtZW50b3MgYSBlbGltaW5hclxuICAgICAgICBjb25zdCBzZWdtZW50cyA9IGVsZW1lbnQuc2VnbWVudHMubWFwKHNlZ21lbnQgPT4gKHtcbiAgICAgICAgICBzdGFydFRpbWU6IHR5cGVvZiBzZWdtZW50LnN0YXJ0VGltZSA9PT0gJ251bWJlcicgPyBzZWdtZW50LnN0YXJ0VGltZSA6IDAsXG4gICAgICAgICAgZW5kVGltZTogdHlwZW9mIHNlZ21lbnQuZW5kVGltZSA9PT0gJ251bWJlcicgPyBzZWdtZW50LmVuZFRpbWUgOiAodHlwZW9mIHNlZ21lbnQuc3RhcnRUaW1lID09PSAnbnVtYmVyJyA/IHNlZ21lbnQuc3RhcnRUaW1lICsgNSA6IDUpLFxuICAgICAgICB9KSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coYEVsaW1pbmFuZG8gJHtzZWdtZW50cy5sZW5ndGh9IHNlZ21lbnRvczpgLCBzZWdtZW50cyk7XG5cbiAgICAgICAgLy8gRWplbXBsbyBkZSBmb3JtYXRvIGRlIHNlZ21lbnRvcyBhIG1vc3RyYXJcbiAgICAgICAgY29uc3Qgc2VnbWVudHNGb3JtYXR0ZWQgPSBzZWdtZW50cy5tYXAocyA9PiBgJHtzLnN0YXJ0VGltZX0tJHtzLmVuZFRpbWV9c2ApLmpvaW4oJywgJyk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBFamVjdXRhciBsYSBlbGltaW5hY2nDs24gZGUgc2VnbWVudG9zXG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29tbWFuZEV4ZWN1dG9yLmN1cnJlbnQucmVtb3ZlU2VnbWVudHMoc2VnbWVudHMpO1xuXG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgZmluYWxSZXNwb25zZSArPSBgXFxuXFxuW0hlIGVsaW1pbmFkbyBsb3Mgc2VnbWVudG9zIHNvbGljaXRhZG9zOiAke3NlZ21lbnRzRm9ybWF0dGVkfV1gO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaW5hbFJlc3BvbnNlICs9IGBcXG5cXG5bTm8gcHVkZSBlbGltaW5hciBsb3Mgc2VnbWVudG9zIHNvbGljaXRhZG9zLiBBc2Vnw7pyYXRlIGRlIHF1ZSBoYXkgdW4gZWxlbWVudG8gc2VsZWNjaW9uYWRvIGVuIGxhIHRpbWVsaW5lLl1gO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbGVtZW50QWRkZWQgPSB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhbCBlbGltaW5hciBzZWdtZW50b3M6XCIsIGVycm9yKTtcbiAgICAgICAgICBmaW5hbFJlc3BvbnNlICs9IGBcXG5cXG5bRXJyb3IgYWwgaW50ZW50YXIgZWxpbWluYXIgbG9zIHNlZ21lbnRvczogJHtlcnJvci5tZXNzYWdlIHx8IFwiRXJyb3IgZGVzY29ub2NpZG9cIn1dYDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoZWxlbWVudC50eXBlID09PSBcImNvbXBhY3RcIikge1xuICAgICAgICAvLyBFamVjdXRhciBsYSBjb21wYWN0YWNpw7NuIGRlbCB0aW1lbGluZVxuICAgICAgICBjb25zb2xlLmxvZyhcIkNvbXBhY3RhbmRvIHRpbWVsaW5lIHBvciBzb2xpY2l0dWQgZGVsIHVzdWFyaW9cIik7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBJbmljaWFyIGxhIGNvbXBhY3RhY2nDs25cbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb21tYW5kRXhlY3V0b3IuY3VycmVudC5jb21wYWN0VGltZWxpbmUoKTtcblxuICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGZpbmFsUmVzcG9uc2UgKz0gYFxcblxcbltIZSBjb21wYWN0YWRvIGVsIHRpbWVsaW5lIGVsaW1pbmFuZG8gbG9zIGVzcGFjaW9zIHZhY8Otb3MgZW50cmUgZWxlbWVudG9zXWA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpbmFsUmVzcG9uc2UgKz0gYFxcblxcbltObyBmdWUgcG9zaWJsZSBjb21wYWN0YXIgZWwgdGltZWxpbmUuIFB1ZWRlIHF1ZSBubyBoYXlhIGVsZW1lbnRvcyBvIGVzcGFjaW9zIHZhY8Otb3MgcXVlIGNvbXBhY3Rhcl1gO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbGVtZW50QWRkZWQgPSB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhbCBjb21wYWN0YXIgZWwgdGltZWxpbmU6XCIsIGVycm9yKTtcbiAgICAgICAgICBmaW5hbFJlc3BvbnNlICs9IGBcXG5cXG5bRXJyb3IgYWwgaW50ZW50YXIgY29tcGFjdGFyIGVsIHRpbWVsaW5lOiAke2Vycm9yLm1lc3NhZ2UgfHwgXCJFcnJvciBkZXNjb25vY2lkb1wifV1gO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChlbGVtZW50LnR5cGUgPT09IFwic21hcnRUcmltXCIpIHtcbiAgICAgICAgLy8gRWplY3V0YXIgZWwgcmVjb3J0ZSBpbnRlbGlnZW50ZVxuICAgICAgICBjb25zb2xlLmxvZyhcIkluaWNpYW5kbyByZWNvcnRlIGludGVsaWdlbnRlIHBvciBzb2xpY2l0dWQgZGVsIHVzdWFyaW9cIik7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBNb3N0cmFyIG1lbnNhamUgZGUgYW7DoWxpc2lzIGVuIGN1cnNvXG4gICAgICAgICAgZmluYWxSZXNwb25zZSArPSBgXFxuXFxuW0FuYWxpemFuZG8gZWwgdmlkZW8gcGFyYSBpZGVudGlmaWNhciBsYXMgcGFydGVzIGEgZWxpbWluYXIuLi5dYDtcblxuICAgICAgICAgIC8vIEluaWNpYXIgZWwgcmVjb3J0ZSBpbnRlbGlnZW50ZVxuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbW1hbmRFeGVjdXRvci5jdXJyZW50LnNtYXJ0VHJpbSgpO1xuXG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgZmluYWxSZXNwb25zZSArPSBgXFxuXFxuW0hlIHJlYWxpemFkbyB1biByZWNvcnRlIGludGVsaWdlbnRlIGRlbCB2aWRlbywgZWxpbWluYW5kbyBsYXMgcGFydGVzIGlubmVjZXNhcmlhcyB5IGNvbXBhY3RhbmRvIGVsIHRpbWVsaW5lXWA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpbmFsUmVzcG9uc2UgKz0gYFxcblxcbltObyBmdWUgcG9zaWJsZSByZWFsaXphciBlbCByZWNvcnRlIGludGVsaWdlbnRlLiBWZXJpZmljYSBxdWUgZWwgdmlkZW8gdGVuZ2EgdW5hIHRyYW5zY3JpcGNpw7NuXWA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW1lbnRBZGRlZCA9IHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIHJlYWxpemFyIGVsIHJlY29ydGUgaW50ZWxpZ2VudGU6XCIsIGVycm9yKTtcbiAgICAgICAgICBmaW5hbFJlc3BvbnNlICs9IGBcXG5cXG5bRXJyb3IgYWwgaW50ZW50YXIgcmVhbGl6YXIgZWwgcmVjb3J0ZSBpbnRlbGlnZW50ZTogJHtlcnJvci5tZXNzYWdlIHx8IFwiRXJyb3IgZGVzY29ub2NpZG9cIn1dYDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWwgcHJvY2VzYXIgZWxlbWVudG8gZGV0ZWN0YWRvOlwiLCBlcnJvcik7XG4gICAgZmluYWxSZXNwb25zZSArPSBcIlxcblxcbltObyBwdWRlIHByb2Nlc2FyIGxhIHNvbGljaXR1ZCBkZWJpZG8gYSB1biBlcnJvci5dXCI7XG4gIH1cblxuICByZXR1cm4geyBmaW5hbFJlc3BvbnNlLCBlbGVtZW50QWRkZWQgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFJQ2hhdCgpIHtcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZTxNZXNzYWdlW10+KFtcbiAgICB7XG4gICAgICBpZDogXCIxXCIsXG4gICAgICBjb250ZW50OiBcIkhvbGEsIHNveSB0dSBhc2lzdGVudGUgZGUgZWRpY2nDs24gZGUgdmlkZW8uIMK/RW4gcXXDqSBwdWVkbyBheXVkYXJ0ZT9cIixcbiAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgfSxcbiAgXSk7XG4gIGNvbnN0IFtpbnB1dCwgc2V0SW5wdXRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpbWFnZUZpbGUsIHNldEltYWdlRmlsZV0gPSB1c2VTdGF0ZTxGaWxlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpbWFnZVByZXZpZXcsIHNldEltYWdlUHJldmlld10gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzVXBsb2FkaW5nLCBzZXRJc1VwbG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIC8vIEFsbWFjZW5hciBsYSDDumx0aW1hIGltYWdlbiBzdWJpZGEgcGFyYSBwb2RlciByZXV0aWxpemFybGFcbiAgY29uc3QgW2xhc3RVcGxvYWRlZEltYWdlVXJsLCBzZXRMYXN0VXBsb2FkZWRJbWFnZVVybF0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBmaWxlSW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IG1lc3NhZ2VzRW5kUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcblxuICAvLyBSZWZlcmVuY2lhIGFsIHN0YXRlIG1hbmFnZXIgcGFyYSBtYW5pcHVsYXIgZWwgZWRpdG9yXG4gIGNvbnN0IHN0YXRlTWFuYWdlciA9IHVzZVN0YXRlTWFuYWdlcigpO1xuICBjb25zdCB7IHRpbWVsaW5lLCBzY2VuZXMsIHBsYXllclJlZiB9ID0gdXNlRGF0YVN0YXRlKCk7XG4gIGNvbnN0IGNvbW1hbmRFeGVjdXRvciA9IHVzZVJlZjxWaWRlb0NvbW1hbmRFeGVjdXRvcj4oY3JlYXRlVmlkZW9Db21tYW5kRXhlY3V0b3Ioc3RhdGVNYW5hZ2VyKSk7XG5cbiAgLy8gU2Nyb2xsIGFsIMO6bHRpbW8gbWVuc2FqZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIG1lc3NhZ2VzRW5kUmVmLmN1cnJlbnQ/LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6IFwic21vb3RoXCIgfSk7XG4gIH0sIFttZXNzYWdlc10pO1xuXG4gIC8vIEFjdHVhbGl6YXIgZWwgZWplY3V0b3IgZGUgY29tYW5kb3MgY3VhbmRvIGNhbWJpZSBlbCBzdGF0ZU1hbmFnZXJcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb21tYW5kRXhlY3V0b3IuY3VycmVudCA9IGNyZWF0ZVZpZGVvQ29tbWFuZEV4ZWN1dG9yKHN0YXRlTWFuYWdlcik7XG4gIH0sIFtzdGF0ZU1hbmFnZXJdKTtcblxuICAvLyBNYW5lamFyIGNsaWNrIGVuIGVsIGJvdMOzbiBkZSBpbWFnZW5cbiAgY29uc3QgaGFuZGxlSW1hZ2VDbGljayA9ICgpID0+IHtcbiAgICBmaWxlSW5wdXRSZWYuY3VycmVudD8uY2xpY2soKTtcbiAgfTtcblxuICAvLyBNYW5lamFyIHNlbGVjY2nDs24gZGUgYXJjaGl2byBkZSBpbWFnZW5cbiAgY29uc3QgaGFuZGxlRmlsZUNoYW5nZSA9IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgIGNvbnN0IGZpbGUgPSBlLnRhcmdldC5maWxlcz8uWzBdO1xuICAgIGlmIChmaWxlKSB7XG4gICAgICBzZXRJbWFnZUZpbGUoZmlsZSk7XG4gICAgICBjb25zdCBwcmV2aWV3VXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgICAgIHNldEltYWdlUHJldmlldyhwcmV2aWV3VXJsKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRWxpbWluYXIgbGEgaW1hZ2VuIHNlbGVjY2lvbmFkYVxuICBjb25zdCBoYW5kbGVSZW1vdmVJbWFnZSA9ICgpID0+IHtcbiAgICBzZXRJbWFnZUZpbGUobnVsbCk7XG4gICAgc2V0SW1hZ2VQcmV2aWV3KG51bGwpO1xuICAgIGlmIChmaWxlSW5wdXRSZWYuY3VycmVudCkgZmlsZUlucHV0UmVmLmN1cnJlbnQudmFsdWUgPSAnJztcbiAgfTtcblxuICAvLyBTdWJpciBpbWFnZW4gYWwgc2Vydmlkb3JcbiAgY29uc3QgdXBsb2FkSW1hZ2UgPSBhc3luYyAoZmlsZTogRmlsZSk6IFByb21pc2U8c3RyaW5nPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldElzVXBsb2FkaW5nKHRydWUpO1xuICAgICAgLy8gT2J0ZW5lciBVUkwgZmlybWFkYSBwYXJhIHN1YmlyIGxhIGltYWdlblxuICAgICAgY29uc3QgdXBsb2FkRGV0YWlscyA9IGF3YWl0IGNyZWF0ZVVwbG9hZHNEZXRhaWxzKGZpbGUubmFtZSwgZmlsZSk7XG5cbiAgICAgIC8vIFNpIG5vIGVzIHVuIG1vY2sgbG9jYWwsIHByb2NlZGVyIGNvbiBsYSBjYXJnYVxuICAgICAgaWYgKHVwbG9hZERldGFpbHMudXBsb2FkVXJsICE9PSBcImxvY2FsLW1vY2tcIikge1xuICAgICAgICAvLyBTdWJpciBsYSBpbWFnZW5cbiAgICAgICAgYXdhaXQgZmV0Y2godXBsb2FkRGV0YWlscy51cGxvYWRVcmwsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGJvZHk6IGZpbGUsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6IGZpbGUudHlwZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIC8vIE5vIHNlIG5lY2VzaXRhIGhhY2VyIGZldGNoIHNpIGVzIHVuIG1vY2sgbG9jYWwgKGRhdGFVUkwpXG5cbiAgICAgIC8vIFJldG9ybmFyIGxhIFVSTCBww7pibGljYSBkZSBsYSBpbWFnZW5cbiAgICAgIHJldHVybiB1cGxvYWREZXRhaWxzLnVybDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIHN1YmlyIGxhIGltYWdlbjpcIiwgZXJyb3IpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gc2UgcHVkbyBzdWJpciBsYSBpbWFnZW4uIEludMOpbnRhbG8gZGUgbnVldm8uXCIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc1VwbG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEZ1bmNpw7NuIHBhcmEgZW52aWFyIG1lbnNhamVcbiAgY29uc3QgaGFuZGxlU2VuZE1lc3NhZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCghaW5wdXQudHJpbSgpICYmICFpbWFnZUZpbGUpIHx8IGlzTG9hZGluZykgcmV0dXJuO1xuXG4gICAgbGV0IHVzZXJNZXNzYWdlOiBNZXNzYWdlID0ge1xuICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSxcbiAgICAgIGNvbnRlbnQ6IGlucHV0LFxuICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgfTtcblxuICAgIGxldCB1cGxvYWRlZEltYWdlVXJsID0gXCJcIjtcbiAgICAvLyBWYXJpYWJsZSBwYXJhIHJhc3RyZWFyIGxhIFVSTCBkZSBsYSBpbWFnZW4gYWN0dWFsIHBhcmEgZXN0YSBzb2xpY2l0dWQgZXNwZWPDrWZpY2FcbiAgICBsZXQgY3VycmVudEltYWdlVXJsRm9yVGhpc1JlcXVlc3QgPSBcIlwiO1xuXG4gICAgLy8gU2kgaGF5IHVuYSBpbWFnZW4gcGFyYSBzdWJpciwgcHJvY2VzYXJsYVxuICAgIGlmIChpbWFnZUZpbGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHVwbG9hZGVkSW1hZ2VVcmwgPSBhd2FpdCB1cGxvYWRJbWFnZShpbWFnZUZpbGUpO1xuICAgICAgICB1c2VyTWVzc2FnZS5pbWFnZVVybCA9IHVwbG9hZGVkSW1hZ2VVcmw7XG4gICAgICAgIC8vIEd1YXJkYXIgbGEgVVJMIGRlIGxhIGltYWdlbiBwYXJhIHBvc2libGVzIHJlZmVyZW5jaWFzIGZ1dHVyYXNcbiAgICAgICAgc2V0TGFzdFVwbG9hZGVkSW1hZ2VVcmwodXBsb2FkZWRJbWFnZVVybCk7XG4gICAgICAgIC8vIEltcG9ydGFudGU6IEd1YXJkYXIgbGEgVVJMIGFjdHVhbCBwYXJhIGVzdGEgc29saWNpdHVkIGVzcGVjw61maWNhXG4gICAgICAgIGN1cnJlbnRJbWFnZVVybEZvclRoaXNSZXF1ZXN0ID0gdXBsb2FkZWRJbWFnZVVybDtcbiAgICAgICAgY29uc29sZS5sb2coXCJJbWFnZW4gc3ViaWRhIGV4aXRvc2FtZW50ZTpcIiwgdXBsb2FkZWRJbWFnZVVybC5zdWJzdHJpbmcoMCwgMTAwKSArIFwiLi4uXCIpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGVuIGxhIHN1YmlkYSBkZSBpbWFnZW46XCIsIGVycm9yKTtcbiAgICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFtcbiAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAoRGF0ZS5ub3coKSArIDEpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBjb250ZW50OiBcIkVycm9yIGFsIHN1YmlyIGxhIGltYWdlbi4gUG9yIGZhdm9yLCBpbnTDqW50YWxvIGRlIG51ZXZvLiBEZXRhbGxlczogXCIgK1xuICAgICAgICAgICAgICAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkVycm9yIGRlc2Nvbm9jaWRvXCIpLFxuICAgICAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICB9LFxuICAgICAgICBdKTtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEHDsWFkaXIgbWVuc2FqZSBkZWwgdXN1YXJpb1xuICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiBbLi4ucHJldiwgdXNlck1lc3NhZ2VdKTtcbiAgICBzZXRJbnB1dChcIlwiKTtcbiAgICBzZXRJbWFnZUZpbGUobnVsbCk7XG4gICAgc2V0SW1hZ2VQcmV2aWV3KG51bGwpO1xuICAgIGlmIChmaWxlSW5wdXRSZWYuY3VycmVudCkgZmlsZUlucHV0UmVmLmN1cnJlbnQudmFsdWUgPSAnJztcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG5cbiAgICB0cnkge1xuICAgICAgLy8gRW52aWFyIGEgbGEgQVBJIHBhcmEgcHJvY2VzYW1pZW50byBlbiBsZW5ndWFqZSBuYXR1cmFsXG4gICAgICBjb25zdCBhcGlNZXNzYWdlcyA9IG1lc3NhZ2VzXG4gICAgICAgIC5jb25jYXQodXNlck1lc3NhZ2UpXG4gICAgICAgIC5tYXAobXNnID0+IHtcbiAgICAgICAgICAvLyBTaSBlbCBtZW5zYWplIHRpZW5lIHVuYSBpbWFnZW4sIGNyZWFyIHVuIGZvcm1hdG8gZXNwZWNpYWwgcGFyYSBlbCBjb250ZW5pZG9cbiAgICAgICAgICBpZiAobXNnLmltYWdlVXJsKSB7XG4gICAgICAgICAgICAvLyBTaSBlcyB1bmEgVVJMIGRlIGRhdG9zIChjb21pZW56YSBjb24gZGF0YTopLCB1c2FyIHVuIG1hcmNhZG9yIGVzcGVjaWFsXG4gICAgICAgICAgICBjb25zdCBpc0RhdGFVcmwgPSBtc2cuaW1hZ2VVcmwuc3RhcnRzV2l0aCgnZGF0YTonKTtcbiAgICAgICAgICAgIGNvbnN0IGltYWdlVXJsVG9TZW5kID0gaXNEYXRhVXJsXG4gICAgICAgICAgICAgID8gJ1tJTUFHRU5fQURKVU5UQV0nXG4gICAgICAgICAgICAgIDogYFtJTUFHRU46ICR7bXNnLmltYWdlVXJsfV1gO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICByb2xlOiBtc2cucm9sZSxcbiAgICAgICAgICAgICAgY29udGVudDogYCR7bXNnLmNvbnRlbnQgfHwgJyd9ICR7aW1hZ2VVcmxUb1NlbmR9YFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcm9sZTogbXNnLnJvbGUsXG4gICAgICAgICAgICBjb250ZW50OiBtc2cuY29udGVudFxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAvLyBBw7FhZGlyIGNvbnRleHRvIGRlbCBlZGl0b3IgcGFyYSBsYSBJQSBleHRlcm5hXG4gICAgICBjb25zdCBjb250ZXh0TWVzc2FnZSA9IHtcbiAgICAgICAgcm9sZTogJ3N5c3RlbScsXG4gICAgICAgIGNvbnRlbnQ6IGBcbkNvbnRleHRvIGFjdHVhbCBkZWwgZWRpdG9yIGRlIHZpZGVvOlxuLSBQb3NpY2nDs24gYWN0dWFsIChzZWd1bmRvcyk6ICR7cGxheWVyUmVmPy5jdXJyZW50Py5nZXRDdXJyZW50VGltZSA/IE1hdGguZmxvb3IoKHBsYXllclJlZi5jdXJyZW50LmdldEN1cnJlbnRUaW1lKCkgfHwgMCkgKiAxMDApIC8gMTAwIDogMH1cbi0gRHVyYWNpw7NuIGRlbCBwcm95ZWN0byAoc2VndW5kb3MpOiAke3RpbWVsaW5lPy5kdXJhdGlvbiA/IE1hdGguZmxvb3IodGltZWxpbmUuZHVyYXRpb24gLyAxMDAwKSA6IDB9XG4tIE7Dum1lcm8gZGUgZXNjZW5hczogJHtzY2VuZXM/Lmxlbmd0aCB8fCAwfVxuLSBOw7ptZXJvIGRlIGVsZW1lbnRvcyBlbiBlbCB0aW1lbGluZTogJHsodGltZWxpbmU/LmNhbnZhcz8uZ2V0T2JqZWN0cz8uKCkgfHwgW10pLmxlbmd0aCAtIDEgPiAwID8gKHRpbWVsaW5lPy5jYW52YXM/LmdldE9iamVjdHM/LigpIHx8IFtdKS5sZW5ndGggLSAxIDogMH1cbiR7bGFzdFVwbG9hZGVkSW1hZ2VVcmwgPyBgLSDDmmx0aW1hIGltYWdlbiBjb21wYXJ0aWRhIHBvciBlbCB1c3VhcmlvIGRpc3BvbmlibGUgcGFyYSB1c2FyYCA6ICcnfVxuXG5FbCB1c3VhcmlvIHB1ZWRlIGV4cHJlc2FyIGVuIGxlbmd1YWplIG5hdHVyYWwgbGEgbmVjZXNpZGFkIGRlIGFncmVnYXIgZWxlbWVudG9zIGFsIHZpZGVvLlxuRWplbXBsb3M6XG4tIFwiUG9uIHVuIHTDrXR1bG8gcXVlIGRpZ2EgJ0JpZW52ZW5pZG9zJyBhbCBpbmljaW9cIlxuLSBcIlF1aWVybyB1biB0ZXh0byBibGFuY28gcXVlIGRpZ2EgJ0ZpbicgYWwgZmluYWwgZGVsIHZpZGVvXCJcbi0gXCJOZWNlc2l0byB1bmEgaW1hZ2VuIGVuIGVsIHNlZ3VuZG8gMTBcIlxuLSBcIkNvbG9jYSB1biB2aWRlbyBkZSBpbnRyb2R1Y2Npw7NuIGFsIHByaW5jaXBpb1wiXG5cblNpIGVsIHVzdWFyaW8gYWRqdW50YSB1bmEgaW1hZ2VuIGVuIGVsIG1lbnNhamUsIGxhIFVSTCBlc3RhcsOhIGVuIGZvcm1hdG8gW0lNQUdFTjogdXJsX2RlX2xhX2ltYWdlbl0uXG5EZWJlcyBkZXRlY3RhciBzaSBxdWllcmUgYWdyZWdhciBlc3RhIGltYWdlbiBhbCB2aWRlbyB5IGVuIHF1w6kgbW9tZW50byB0ZW1wb3JhbC5cbmBcbiAgICAgIH07XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYWknLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIG1lc3NhZ2VzOiBbY29udGV4dE1lc3NhZ2UsIC4uLmFwaU1lc3NhZ2VzXSxcbiAgICAgICAgICAgIC8vIFVzYXIgbGEgVVJMIGRlIGxhIGltYWdlbiBhY3R1YWwgcGFyYSBlc3RhIHNvbGljaXR1ZCBzaSBleGlzdGUsXG4gICAgICAgICAgICAvLyBkZSBsbyBjb250cmFyaW8gdXNhciBsYSDDumx0aW1hIFVSTCBndWFyZGFkYVxuICAgICAgICAgICAgbGFzdEltYWdlVXJsOiBjdXJyZW50SW1hZ2VVcmxGb3JUaGlzUmVxdWVzdCB8fCBsYXN0VXBsb2FkZWRJbWFnZVVybCB8fCBcIlwiXG4gICAgICAgICAgfSksXG4gICAgICAgICAgLy8gQWdyZWdhciB0aW1lb3V0IHBhcmEgZXZpdGFyIGVzcGVyYXMgaW5maW5pdGFzXG4gICAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KDE1MDAwKSAvLyAxNSBzZWd1bmRvcyBtw6F4aW1vXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGRlIEFQSTogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgICAgLy8gQXNlZ3VyYXJzZSBkZSBxdWUgZGF0YS5tZXNzYWdlLmNvbnRlbnQgZXhpc3RlXG4gICAgICAgIGNvbnN0IGFpUmVzcG9uc2UgPSBkYXRhPy5tZXNzYWdlPy5jb250ZW50IHx8IFwiTG8gc2llbnRvLCBubyBwdWRlIGVudGVuZGVyIHR1IHNvbGljaXR1ZC5cIjtcblxuICAgICAgICAvLyBPYnRlbmVyIGxvcyBkYXRvcyBkZWwgZWxlbWVudG8gc2kgZXhpc3RlbiAoY29uIHZlcmlmaWNhY2nDs24gc2VndXJhKVxuICAgICAgICBjb25zdCBlbGVtZW50RGF0YSA9IGRhdGE/LmVsZW1lbnREYXRhO1xuXG4gICAgICAgIC8vIFZhcmlhYmxlIHBhcmEgbGEgcmVzcHVlc3RhIGZpbmFsXG4gICAgICAgIGxldCBmaW5hbFJlc3BvbnNlID0gYWlSZXNwb25zZTtcbiAgICAgICAgLy8gQ3JlYXIgdW5hIHJlZmVyZW5jaWEgYSBsYSByZXNwdWVzdGEgZmluYWwgcGFyYSBxdWUgc2VhIGFjY2VzaWJsZSBlbiBsYSBmdW5jacOzbiBwcm9jZXNhZG9yYVxuICAgICAgICBjb25zdCBmaW5hbFJlc3BvbnNlUmVmID0geyBjdXJyZW50OiBmaW5hbFJlc3BvbnNlIH07XG4gICAgICAgIGxldCBlbGVtZW50QWRkZWQgPSBmYWxzZTtcblxuICAgICAgICAvLyBVc2FyIGxhIGZ1bmNpw7NuIGRlIHByb2Nlc2FtaWVudG8gZGUgZWxlbWVudG9zXG4gICAgICAgIGNvbnN0IHByb2Nlc3NSZXN1bHQgPSBhd2FpdCBwcm9jZXNzRGV0ZWN0ZWRFbGVtZW50KFxuICAgICAgICAgIGVsZW1lbnREYXRhLFxuICAgICAgICAgIGNvbW1hbmRFeGVjdXRvcixcbiAgICAgICAgICBmaW5hbFJlc3BvbnNlUmVmLFxuICAgICAgICAgIHRpbWVsaW5lLFxuICAgICAgICAgIGxhc3RVcGxvYWRlZEltYWdlVXJsLFxuICAgICAgICAgIGN1cnJlbnRJbWFnZVVybEZvclRoaXNSZXF1ZXN0XG4gICAgICAgICk7XG5cbiAgICAgICAgZmluYWxSZXNwb25zZSA9IHByb2Nlc3NSZXN1bHQuZmluYWxSZXNwb25zZTtcbiAgICAgICAgZWxlbWVudEFkZGVkID0gcHJvY2Vzc1Jlc3VsdC5lbGVtZW50QWRkZWQ7XG5cbiAgICAgICAgY29uc3QgYXNzaXN0YW50TWVzc2FnZTogTWVzc2FnZSA9IHtcbiAgICAgICAgICBpZDogKERhdGUubm93KCkgKyAxKS50b1N0cmluZygpLFxuICAgICAgICAgIGNvbnRlbnQ6IGZpbmFsUmVzcG9uc2UsXG4gICAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgIH07XG5cbiAgICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFsuLi5wcmV2LCBhc3Npc3RhbnRNZXNzYWdlXSk7XG4gICAgICB9IGNhdGNoIChhcGlFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZW4gbGEgY29tdW5pY2FjacOzbiBjb24gbGEgQVBJOlwiLCBhcGlFcnJvcik7XG5cbiAgICAgICAgLy8gTWVuc2FqZSBkZSBlcnJvciBlc3BlY8OtZmljbyBkZSBBUElcbiAgICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFtcbiAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAoRGF0ZS5ub3coKSArIDEpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBjb250ZW50OiBcIkxvIHNpZW50bywgaGEgb2N1cnJpZG8gdW4gZXJyb3IgYWwgY29tdW5pY2Fyc2UgY29uIGVsIHNlcnZpY2lvIGRlIElBLiBQb3IgZmF2b3IsIGludGVudGEgZGUgbnVldm8gZW4gdW5vcyBtb21lbnRvcy5cIixcbiAgICAgICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgfSxcbiAgICAgICAgXSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhbCBwcm9jZXNhciBlbCBtZW5zYWplOlwiLCBlcnJvcik7XG5cbiAgICAgIC8vIERldGVybWluYXIgbWVuc2FqZSBkZSBlcnJvciBhcHJvcGlhZG9cbiAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBcIkxvIHNpZW50bywgaGEgb2N1cnJpZG8gdW4gZXJyb3IgYWwgcHJvY2VzYXIgdHUgbWVuc2FqZS5cIjtcblxuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoXCJ0aW1lb3V0XCIpIHx8IGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoXCJhYm9ydFwiKSkge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IFwiTGEgc29saWNpdHVkIGhhIHRhcmRhZG8gZGVtYXNpYWRvLiBQcnVlYmEgY29uIHVuIG1lbnNhamUgbcOhcyBjb3J0by5cIjtcbiAgICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKFwibmV0d29ya1wiKSB8fCBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKFwiZmV0Y2hcIikpIHtcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIlBhcmVjZSBxdWUgaGF5IHVuIHByb2JsZW1hIGRlIGNvbmV4acOzbi4gVmVyaWZpY2EgdHUgY29uZXhpw7NuIGEgaW50ZXJuZXQgZSBpbnRlbnRhIGRlIG51ZXZvLlwiO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIE1lbnNhamUgZGUgZXJyb3JcbiAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiBbXG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogKERhdGUubm93KCkgKyAxKS50b1N0cmluZygpLFxuICAgICAgICAgIGNvbnRlbnQ6IGVycm9yTWVzc2FnZSxcbiAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgfSxcbiAgICAgIF0pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLWZ1bGwgZmxleC1jb2wgYm9yZGVyLXIgYm9yZGVyLWJvcmRlci84MCBiZy1zaWRlYmFyXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgPFNjcm9sbEFyZWEgY2xhc3NOYW1lPVwiaC1mdWxsXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC00IHAtNFwiPlxuICAgICAgICAgICAge21lc3NhZ2VzLm1hcCgobWVzc2FnZSkgPT4gKFxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAga2V5PXttZXNzYWdlLmlkfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXggZmxleC1jb2wgJHtcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uucm9sZSA9PT0gXCJhc3Npc3RhbnRcIiA/IFwiaXRlbXMtc3RhcnRcIiA6IFwiaXRlbXMtZW5kXCJcbiAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YG1heC13LVs4NSVdIHJvdW5kZWQtbGcgcHgtNCBweS0yICR7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uucm9sZSA9PT0gXCJhc3Npc3RhbnRcIlxuICAgICAgICAgICAgICAgICAgICAgID8gXCJiZy1tdXRlZCB0ZXh0LWZvcmVncm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgIDogXCJiZy1wcmltYXJ5IHRleHQtcHJpbWFyeS1mb3JlZ3JvdW5kXCJcbiAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2hpdGVzcGFjZS1wcmUtd3JhcFwiPnttZXNzYWdlLmNvbnRlbnR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICB7bWVzc2FnZS5pbWFnZVVybCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17bWVzc2FnZS5pbWFnZVVybH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGFsdD1cIkltYWdlbiBhZGp1bnRhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1heC1oLTQ4IG1heC13LWZ1bGwgcm91bmRlZC1tZCBvYmplY3QtY29udGFpblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXhXaWR0aDogJzEwMCUnIH19XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMSBweC0xIHRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+XG4gICAgICAgICAgICAgICAgICB7bWVzc2FnZS50aW1lc3RhbXAudG9Mb2NhbGVUaW1lU3RyaW5nKFtdLCB7XG4gICAgICAgICAgICAgICAgICAgIGhvdXI6IFwiMi1kaWdpdFwiLFxuICAgICAgICAgICAgICAgICAgICBtaW51dGU6IFwiMi1kaWdpdFwiLFxuICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8ZGl2IHJlZj17bWVzc2FnZXNFbmRSZWZ9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvU2Nyb2xsQXJlYT5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7Lyogw4FyZWEgZGUgdmlzdGEgcHJldmlhIGRlIGltYWdlbiAqL31cbiAgICAgIHtpbWFnZVByZXZpZXcgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIG14LTQgbXQtMSBoLTI0IHJvdW5kZWQtbWQgYmctbXV0ZWQgcC0yIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICAgIHNpemU9XCJpY29uXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTEgdG9wLTEgei0xMCBoLTUgdy01IHJvdW5kZWQtZnVsbCBiZy1iYWNrZ3JvdW5kIGhvdmVyOmJnLWRlc3RydWN0aXZlXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVJlbW92ZUltYWdlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxYIGNsYXNzTmFtZT1cImgtMyB3LTNcIiAvPlxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgIHNyYz17aW1hZ2VQcmV2aWV3fVxuICAgICAgICAgICAgYWx0PVwiVmlzdGEgcHJldmlhXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1heC1oLWZ1bGwgbWF4LXctZnVsbCByb3VuZGVkIG9iamVjdC1jb250YWluXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLXQgYm9yZGVyLWJvcmRlciBiZy1zaWRlYmFyIHAtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICAgIHNpemU9XCJpY29uXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInNocmluay0wXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUltYWdlQ2xpY2t9XG4gICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxJbWFnZUljb24gY2xhc3NOYW1lPVwiaC01IHctNVwiIC8+XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPElucHV0XG4gICAgICAgICAgICB2YWx1ZT17aW5wdXR9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldElucHV0KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIG9uS2V5RG93bj17KGUpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgaGFuZGxlU2VuZE1lc3NhZ2UoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRXNjcmliZSB0dSBtZW5zYWplLi4uXCJcbiAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmd9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTFcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2VuZE1lc3NhZ2V9XG4gICAgICAgICAgICBkaXNhYmxlZD17KCFpbnB1dC50cmltKCkgJiYgIWltYWdlRmlsZSkgfHwgaXNMb2FkaW5nfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwic2hyaW5rLTBcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtpc0xvYWRpbmcgfHwgaXNVcGxvYWRpbmcgPyAoXG4gICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cImgtNCB3LTQgYW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxTZW5kIGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICAgIHJlZj17ZmlsZUlucHV0UmVmfVxuICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUZpbGVDaGFuZ2V9XG4gICAgICAgICAgICBhY2NlcHQ9XCJpbWFnZS8qXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImhpZGRlblwiXG4gICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJCdXR0b24iLCJJbnB1dCIsIlNjcm9sbEFyZWEiLCJTZW5kIiwiTG9hZGVyMiIsIkltYWdlSWNvbiIsIlgiLCJ1c2VEYXRhU3RhdGUiLCJ1c2VTdGF0ZU1hbmFnZXIiLCJjcmVhdGVWaWRlb0NvbW1hbmRFeGVjdXRvciIsImNyZWF0ZVVwbG9hZHNEZXRhaWxzIiwiZXh0cmFjdEltYWdlVGltZXNGcm9tTWVzc2FnZSIsIm1lc3NhZ2VDb250ZW50Iiwic3RhcnRUaW1lIiwiZW5kVGltZSIsInN0YXJ0VGltZVBhdHRlcm5zIiwiZW5kVGltZVBhdHRlcm5zIiwiaXNBdFN0YXJ0IiwidGVzdCIsImlzQXRFbmQiLCJwYXR0ZXJuIiwibWF0Y2giLCJ0b1N0cmluZyIsImluY2x1ZGVzIiwicGFyc2VJbnQiLCJwcm9jZXNzRGV0ZWN0ZWRFbGVtZW50IiwiZWxlbWVudERhdGEiLCJjb21tYW5kRXhlY3V0b3IiLCJmaW5hbFJlc3BvbnNlUmVmIiwidGltZWxpbmUiLCJsYXN0VXBsb2FkZWRJbWFnZVVybCIsImN1cnJlbnRJbWFnZVVybEZvclRoaXNSZXF1ZXN0IiwiZWxlbWVudEFkZGVkIiwiZmluYWxSZXNwb25zZSIsImN1cnJlbnQiLCJkZXRlY3RlZCIsImNvbmZpZGVuY2UiLCJlbGVtZW50IiwidHlwZSIsImNvbnRlbnQiLCJ0ZXh0T3B0aW9ucyIsImNvbG9yIiwidG9Mb3dlckNhc2UiLCJhZGRUZXh0IiwiaW1hZ2VPcHRpb25zIiwicG9zaXRpb24iLCJ4IiwieSIsImNvbnNvbGUiLCJsb2ciLCJ2aWRlb0R1cmF0aW9uIiwiZHVyYXRpb24iLCJNYXRoIiwiZmxvb3IiLCJtYXgiLCJpc0dlbmVyaWNVcmwiLCJ1cmwiLCJpc0xvY2FsSW1hZ2UiLCJzdGFydHNXaXRoIiwiaW1hZ2VVcmwiLCJhZGRJbWFnZSIsInZpZGVvT3B0aW9ucyIsInZpZGVvVXJsIiwiYWRkVmlkZW8iLCJzdWJ0aXRsZU9wdGlvbnMiLCJncm91cFdvcmRzIiwidW5kZWZpbmVkIiwiYWRkU3VidGl0bGVzIiwiQXJyYXkiLCJpc0FycmF5Iiwic2VnbWVudHMiLCJsZW5ndGgiLCJtYXAiLCJzZWdtZW50Iiwic2VnbWVudHNGb3JtYXR0ZWQiLCJzIiwiam9pbiIsInJlc3VsdCIsInJlbW92ZVNlZ21lbnRzIiwiZXJyb3IiLCJtZXNzYWdlIiwiY29tcGFjdFRpbWVsaW5lIiwic21hcnRUcmltIiwiQUlDaGF0IiwibWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsImlkIiwicm9sZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJpbnB1dCIsInNldElucHV0IiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiaW1hZ2VGaWxlIiwic2V0SW1hZ2VGaWxlIiwiaW1hZ2VQcmV2aWV3Iiwic2V0SW1hZ2VQcmV2aWV3IiwiaXNVcGxvYWRpbmciLCJzZXRJc1VwbG9hZGluZyIsInNldExhc3RVcGxvYWRlZEltYWdlVXJsIiwiZmlsZUlucHV0UmVmIiwibWVzc2FnZXNFbmRSZWYiLCJzdGF0ZU1hbmFnZXIiLCJzY2VuZXMiLCJwbGF5ZXJSZWYiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiaGFuZGxlSW1hZ2VDbGljayIsImNsaWNrIiwiaGFuZGxlRmlsZUNoYW5nZSIsImUiLCJmaWxlIiwidGFyZ2V0IiwiZmlsZXMiLCJwcmV2aWV3VXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiaGFuZGxlUmVtb3ZlSW1hZ2UiLCJ2YWx1ZSIsInVwbG9hZEltYWdlIiwidXBsb2FkRGV0YWlscyIsIm5hbWUiLCJ1cGxvYWRVcmwiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJoZWFkZXJzIiwiRXJyb3IiLCJoYW5kbGVTZW5kTWVzc2FnZSIsInRyaW0iLCJ1c2VyTWVzc2FnZSIsIm5vdyIsInVwbG9hZGVkSW1hZ2VVcmwiLCJzdWJzdHJpbmciLCJwcmV2IiwiYXBpTWVzc2FnZXMiLCJjb25jYXQiLCJtc2ciLCJpc0RhdGFVcmwiLCJpbWFnZVVybFRvU2VuZCIsImNvbnRleHRNZXNzYWdlIiwiZ2V0Q3VycmVudFRpbWUiLCJjYW52YXMiLCJnZXRPYmplY3RzIiwiZGF0YSIsInJlc3BvbnNlIiwiSlNPTiIsInN0cmluZ2lmeSIsImxhc3RJbWFnZVVybCIsInNpZ25hbCIsIkFib3J0U2lnbmFsIiwidGltZW91dCIsIm9rIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsImpzb24iLCJhaVJlc3BvbnNlIiwicHJvY2Vzc1Jlc3VsdCIsImFzc2lzdGFudE1lc3NhZ2UiLCJhcGlFcnJvciIsImVycm9yTWVzc2FnZSIsImRpdiIsImNsYXNzTmFtZSIsImltZyIsInNyYyIsImFsdCIsInN0eWxlIiwibWF4V2lkdGgiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyIiwibWludXRlIiwicmVmIiwidmFyaWFudCIsInNpemUiLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJvbkNoYW5nZSIsIm9uS2V5RG93biIsImtleSIsInNoaWZ0S2V5IiwicHJldmVudERlZmF1bHQiLCJwbGFjZWhvbGRlciIsImFjY2VwdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ai-chat/index.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./features/editor/timeline/header.tsx":
/*!*********************************************!*\
  !*** ./features/editor/timeline/header.tsx ***!
  \*********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _designcombo_events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @designcombo/events */ \"(app-pages-browser)/./node_modules/@designcombo/events/dist/index.es.js\");\n/* harmony import */ var _designcombo_state__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @designcombo/state */ \"(app-pages-browser)/./node_modules/@designcombo/state/dist/index.es.js\");\n/* harmony import */ var _constants_events__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants/events */ \"(app-pages-browser)/./features/editor/constants/events.ts\");\n/* harmony import */ var _utils_time__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/time */ \"(app-pages-browser)/./features/editor/utils/time.ts\");\n/* harmony import */ var _store_use_store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../store/use-store */ \"(app-pages-browser)/./features/editor/store/use-store.ts\");\n/* harmony import */ var _barrel_optimize_names_SquareSplitHorizontal_Trash_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=SquareSplitHorizontal,Trash,ZoomIn,ZoomOut!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trash.js\");\n/* harmony import */ var _barrel_optimize_names_SquareSplitHorizontal_Trash_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=SquareSplitHorizontal,Trash,ZoomIn,ZoomOut!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/square-split-horizontal.js\");\n/* harmony import */ var _barrel_optimize_names_SquareSplitHorizontal_Trash_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=SquareSplitHorizontal,Trash,ZoomIn,ZoomOut!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/zoom-out.js\");\n/* harmony import */ var _barrel_optimize_names_SquareSplitHorizontal_Trash_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=SquareSplitHorizontal,Trash,ZoomIn,ZoomOut!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/zoom-in.js\");\n/* harmony import */ var _utils_timeline__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/timeline */ \"(app-pages-browser)/./features/editor/utils/timeline.ts\");\n/* harmony import */ var _hooks_use_current_frame__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../hooks/use-current-frame */ \"(app-pages-browser)/./features/editor/hooks/use-current-frame.tsx\");\n/* harmony import */ var _components_ui_slider__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/ui/slider */ \"(app-pages-browser)/./components/ui/slider.tsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _hooks_use_update_ansestors__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../hooks/use-update-ansestors */ \"(app-pages-browser)/./features/editor/hooks/use-update-ansestors.tsx\");\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\nconst IconPlayerPlayFilled = (param)=>{\n    let { size } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: size,\n        viewBox: \"0 0 24 24\",\n        fill: \"currentColor\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                stroke: \"none\",\n                d: \"M0 0h24v24H0z\",\n                fill: \"none\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                lineNumber: 32,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                d: \"M6 4v16a1 1 0 0 0 1.524 .852l13 -8a1 1 0 0 0 0 -1.704l-13 -8a1 1 0 0 0 -1.524 .852z\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                lineNumber: 33,\n                columnNumber: 5\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n        lineNumber: 26,\n        columnNumber: 3\n    }, undefined);\n};\n_c = IconPlayerPlayFilled;\nconst IconPlayerPauseFilled = (param)=>{\n    let { size } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: size,\n        viewBox: \"0 0 24 24\",\n        fill: \"currentColor\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                stroke: \"none\",\n                d: \"M0 0h24v24H0z\",\n                fill: \"none\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                lineNumber: 44,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                d: \"M9 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                lineNumber: 45,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                d: \"M17 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                lineNumber: 46,\n                columnNumber: 5\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n        lineNumber: 38,\n        columnNumber: 3\n    }, undefined);\n};\n_c1 = IconPlayerPauseFilled;\nconst IconPlayerSkipBack = (param)=>{\n    let { size } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: size,\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        stroke: \"currentColor\",\n        strokeWidth: \"2\",\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                stroke: \"none\",\n                d: \"M0 0h24v24H0z\",\n                fill: \"none\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                lineNumber: 60,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                d: \"M20 5v14l-12 -7z\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                lineNumber: 61,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                d: \"M4 5l0 14\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                lineNumber: 62,\n                columnNumber: 5\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n        lineNumber: 50,\n        columnNumber: 3\n    }, undefined);\n};\n_c2 = IconPlayerSkipBack;\nconst IconPlayerSkipForward = (param)=>{\n    let { size } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: size,\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        stroke: \"currentColor\",\n        strokeWidth: \"2\",\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                stroke: \"none\",\n                d: \"M0 0h24v24H0z\",\n                fill: \"none\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                lineNumber: 77,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                d: \"M4 5v14l12 -7z\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                lineNumber: 78,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                d: \"M20 5l0 14\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                lineNumber: 79,\n                columnNumber: 5\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n        lineNumber: 67,\n        columnNumber: 3\n    }, undefined);\n};\n_c3 = IconPlayerSkipForward;\nconst Header = ()=>{\n    _s();\n    const [playing, setPlaying] = (0,react__WEBPACK_IMPORTED_MODULE_10__.useState)(false);\n    const { duration, fps, scale, playerRef, activeIds } = (0,_store_use_store__WEBPACK_IMPORTED_MODULE_6__[\"default\"])();\n    console.log(\"scale\", scale);\n    (0,_hooks_use_update_ansestors__WEBPACK_IMPORTED_MODULE_11__[\"default\"])({\n        playing,\n        playerRef\n    });\n    const currentFrame = (0,_hooks_use_current_frame__WEBPACK_IMPORTED_MODULE_8__.useCurrentPlayerFrame)(playerRef);\n    const doActiveDelete = ()=>{\n        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_2__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_3__.LAYER_DELETE);\n    };\n    const doActiveSplit = ()=>{\n        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_2__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_3__.ACTIVE_SPLIT, {\n            payload: {},\n            options: {\n                time: (0,_utils_time__WEBPACK_IMPORTED_MODULE_5__.getCurrentTime)()\n            }\n        });\n    };\n    const changeScale = (scale)=>{\n        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_2__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_3__.TIMELINE_SCALE_CHANGED, {\n            payload: {\n                scale\n            }\n        });\n    };\n    const handlePlay = ()=>{\n        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_2__.dispatch)(_constants_events__WEBPACK_IMPORTED_MODULE_4__.PLAYER_PLAY);\n    };\n    const handlePause = ()=>{\n        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_2__.dispatch)(_constants_events__WEBPACK_IMPORTED_MODULE_4__.PLAYER_PAUSE);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_10__.useEffect)(()=>{\n        var _playerRef_current, _playerRef_current1;\n        playerRef === null || playerRef === void 0 ? void 0 : (_playerRef_current = playerRef.current) === null || _playerRef_current === void 0 ? void 0 : _playerRef_current.addEventListener(\"play\", ()=>{\n            setPlaying(true);\n        });\n        playerRef === null || playerRef === void 0 ? void 0 : (_playerRef_current1 = playerRef.current) === null || _playerRef_current1 === void 0 ? void 0 : _playerRef_current1.addEventListener(\"pause\", ()=>{\n            setPlaying(false);\n        });\n        return ()=>{\n            var _playerRef_current, _playerRef_current1;\n            playerRef === null || playerRef === void 0 ? void 0 : (_playerRef_current = playerRef.current) === null || _playerRef_current === void 0 ? void 0 : _playerRef_current.removeEventListener(\"play\", ()=>{\n                setPlaying(true);\n            });\n            playerRef === null || playerRef === void 0 ? void 0 : (_playerRef_current1 = playerRef.current) === null || _playerRef_current1 === void 0 ? void 0 : _playerRef_current1.removeEventListener(\"pause\", ()=>{\n                setPlaying(false);\n            });\n        };\n    }, [\n        playerRef\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"relative\",\n            height: \"50px\",\n            flex: \"none\"\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                position: \"absolute\",\n                height: 50,\n                width: \"100%\",\n                display: \"flex\",\n                alignItems: \"center\"\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    height: 36,\n                    width: \"100%\",\n                    display: \"grid\",\n                    gridTemplateColumns: \"1fr 260px 1fr\",\n                    alignItems: \"center\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex px-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                                disabled: !activeIds.length,\n                                onClick: doActiveDelete,\n                                variant: \"ghost\",\n                                size: \"sm\",\n                                className: \"flex items-center gap-1 px-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_SquareSplitHorizontal_Trash_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                        size: 14\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                        lineNumber: 171,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    \" Delete\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                lineNumber: 164,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                                disabled: !activeIds.length,\n                                onClick: doActiveSplit,\n                                variant: \"ghost\",\n                                size: \"sm\",\n                                className: \"flex items-center gap-1 px-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_SquareSplitHorizontal_Trash_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                        size: 15\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                        lineNumber: 181,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    \" Split\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                lineNumber: 174,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                                disabled: !activeIds.length,\n                                onClick: ()=>{\n                                    (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_2__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_3__.LAYER_CLONE);\n                                },\n                                variant: \"ghost\",\n                                size: \"sm\",\n                                className: \"flex items-center gap-1 px-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_SquareSplitHorizontal_Trash_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                        size: 15\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                        lineNumber: 192,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    \" Clone\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                lineNumber: 183,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                        lineNumber: 163,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                                        onClick: doActiveDelete,\n                                        variant: \"ghost\",\n                                        size: \"icon\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(IconPlayerSkipBack, {\n                                            size: 14\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                            lineNumber: 198,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                        lineNumber: 197,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                                        onClick: ()=>{\n                                            if (playing) {\n                                                return handlePause();\n                                            }\n                                            handlePlay();\n                                        },\n                                        variant: \"ghost\",\n                                        size: \"icon\",\n                                        children: playing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(IconPlayerPauseFilled, {\n                                            size: 14\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                            lineNumber: 211,\n                                            columnNumber: 19\n                                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(IconPlayerPlayFilled, {\n                                            size: 14\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                            lineNumber: 213,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                        lineNumber: 200,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                                        onClick: doActiveSplit,\n                                        variant: \"ghost\",\n                                        size: \"icon\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(IconPlayerSkipForward, {\n                                            size: 14\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                            lineNumber: 217,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                        lineNumber: 216,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                lineNumber: 196,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs font-light\",\n                                style: {\n                                    display: \"grid\",\n                                    alignItems: \"center\",\n                                    gridTemplateColumns: \"54px 4px 54px\",\n                                    paddingTop: \"2px\",\n                                    justifyContent: \"center\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"font-medium text-zinc-200\",\n                                        style: {\n                                            display: \"flex\",\n                                            justifyContent: \"center\"\n                                        },\n                                        \"data-current-time\": currentFrame / fps,\n                                        id: \"video-current-time\",\n                                        children: (0,_utils_time__WEBPACK_IMPORTED_MODULE_5__.frameToTimeString)({\n                                            frame: currentFrame\n                                        }, {\n                                            fps\n                                        })\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                        lineNumber: 230,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"/\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                        lineNumber: 241,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-muted-foreground\",\n                                        style: {\n                                            display: \"flex\",\n                                            justifyContent: \"center\"\n                                        },\n                                        children: (0,_utils_time__WEBPACK_IMPORTED_MODULE_5__.timeToString)({\n                                            time: duration\n                                        })\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                        lineNumber: 242,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                                lineNumber: 220,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                        lineNumber: 195,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ZoomControl, {\n                        scale: scale,\n                        onChangeTimelineScale: changeScale,\n                        duration: duration\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                        lineNumber: 254,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                lineNumber: 154,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n            lineNumber: 145,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n        lineNumber: 138,\n        columnNumber: 5\n    }, undefined);\n};\n_s(Header, \"s/VeRg52xmC50YlCGhYp0tIgyPM=\", false, function() {\n    return [\n        _store_use_store__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n        _hooks_use_update_ansestors__WEBPACK_IMPORTED_MODULE_11__[\"default\"],\n        _hooks_use_current_frame__WEBPACK_IMPORTED_MODULE_8__.useCurrentPlayerFrame\n    ];\n});\n_c4 = Header;\nconst ZoomControl = (param)=>{\n    let { scale, onChangeTimelineScale, duration } = param;\n    _s1();\n    const [localValue, setLocalValue] = (0,react__WEBPACK_IMPORTED_MODULE_10__.useState)(scale.index);\n    (0,react__WEBPACK_IMPORTED_MODULE_10__.useEffect)(()=>{\n        setLocalValue(scale.index);\n    }, [\n        scale.index\n    ]);\n    const onZoomOutClick = ()=>{\n        const previousZoom = (0,_utils_timeline__WEBPACK_IMPORTED_MODULE_7__.getPreviousZoomLevel)(scale);\n        onChangeTimelineScale(previousZoom);\n    };\n    const onZoomInClick = ()=>{\n        const nextZoom = (0,_utils_timeline__WEBPACK_IMPORTED_MODULE_7__.getNextZoomLevel)(scale);\n        onChangeTimelineScale(nextZoom);\n    };\n    const onZoomFitClick = ()=>{\n        const fitZoom = (0,_utils_timeline__WEBPACK_IMPORTED_MODULE_7__.getFitZoomLevel)(duration, scale.zoom);\n        onChangeTimelineScale(fitZoom);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex items-center justify-end\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex border-l border-border pl-4 pr-2\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                    size: \"icon\",\n                    variant: \"ghost\",\n                    onClick: onZoomOutClick,\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_SquareSplitHorizontal_Trash_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                        size: 16\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                        lineNumber: 299,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                    lineNumber: 298,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_slider__WEBPACK_IMPORTED_MODULE_9__.Slider, {\n                    className: \"w-28\",\n                    value: [\n                        localValue\n                    ],\n                    min: 0,\n                    max: 12,\n                    step: 1,\n                    onValueChange: (e)=>{\n                        setLocalValue(e[0]); // Update local state\n                    },\n                    onValueCommit: ()=>{\n                        const zoom = (0,_utils_timeline__WEBPACK_IMPORTED_MODULE_7__.getZoomByIndex)(localValue);\n                        onChangeTimelineScale(zoom); // Propagate value to parent when user commits change\n                    }\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                    lineNumber: 301,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                    size: \"icon\",\n                    variant: \"ghost\",\n                    onClick: onZoomInClick,\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_SquareSplitHorizontal_Trash_ZoomIn_ZoomOut_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                        size: 16\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                        lineNumber: 316,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                    lineNumber: 315,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                    onClick: onZoomFitClick,\n                    variant: \"ghost\",\n                    size: \"icon\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        width: \"16\",\n                        viewBox: \"0 0 24 24\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                            fill: \"currentColor\",\n                            d: \"M20 8V6h-2q-.425 0-.712-.288T17 5t.288-.712T18 4h2q.825 0 1.413.588T22 6v2q0 .425-.288.713T21 9t-.712-.288T20 8M2 8V6q0-.825.588-1.412T4 4h2q.425 0 .713.288T7 5t-.288.713T6 6H4v2q0 .425-.288.713T3 9t-.712-.288T2 8m18 12h-2q-.425 0-.712-.288T17 19t.288-.712T18 18h2v-2q0-.425.288-.712T21 15t.713.288T22 16v2q0 .825-.587 1.413T20 20M4 20q-.825 0-1.412-.587T2 18v-2q0-.425.288-.712T3 15t.713.288T4 16v2h2q.425 0 .713.288T7 19t-.288.713T6 20zm2-6v-4q0-.825.588-1.412T8 8h8q.825 0 1.413.588T18 10v4q0 .825-.587 1.413T16 16H8q-.825 0-1.412-.587T6 14\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                            lineNumber: 324,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                        lineNumber: 319,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n                    lineNumber: 318,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n            lineNumber: 297,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\header.tsx\",\n        lineNumber: 296,\n        columnNumber: 5\n    }, undefined);\n};\n_s1(ZoomControl, \"CYGgnsxzruPcIeNe34ZCr/OKU+M=\");\n_c5 = ZoomControl;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Header);\nvar _c, _c1, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"IconPlayerPlayFilled\");\n$RefreshReg$(_c1, \"IconPlayerPauseFilled\");\n$RefreshReg$(_c2, \"IconPlayerSkipBack\");\n$RefreshReg$(_c3, \"IconPlayerSkipForward\");\n$RefreshReg$(_c4, \"Header\");\n$RefreshReg$(_c5, \"ZoomControl\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2ZlYXR1cmVzL2VkaXRvci90aW1lbGluZS9oZWFkZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWdEO0FBQ0Q7QUFNbkI7QUFDb0M7QUFDZ0I7QUFDdEM7QUFDbUM7QUFNbEQ7QUFDd0M7QUFDbkI7QUFDSjtBQUNtQjtBQUcvRCxNQUFNeUIsdUJBQXVCO1FBQUMsRUFBRUMsSUFBSSxFQUFvQjt5QkFDdEQsOERBQUNDO1FBQ0NDLE9BQU07UUFDTkMsT0FBT0g7UUFDUEksU0FBUTtRQUNSQyxNQUFLOzswQkFFTCw4REFBQ0M7Z0JBQUtDLFFBQU87Z0JBQU9DLEdBQUU7Z0JBQWdCSCxNQUFLOzs7Ozs7MEJBQzNDLDhEQUFDQztnQkFBS0UsR0FBRTs7Ozs7Ozs7Ozs7OztLQVJOVDtBQVlOLE1BQU1VLHdCQUF3QjtRQUFDLEVBQUVULElBQUksRUFBb0I7eUJBQ3ZELDhEQUFDQztRQUNDQyxPQUFNO1FBQ05DLE9BQU9IO1FBQ1BJLFNBQVE7UUFDUkMsTUFBSzs7MEJBRUwsOERBQUNDO2dCQUFLQyxRQUFPO2dCQUFPQyxHQUFFO2dCQUFnQkgsTUFBSzs7Ozs7OzBCQUMzQyw4REFBQ0M7Z0JBQUtFLEdBQUU7Ozs7OzswQkFDUiw4REFBQ0Y7Z0JBQUtFLEdBQUU7Ozs7Ozs7Ozs7Ozs7TUFUTkM7QUFZTixNQUFNQyxxQkFBcUI7UUFBQyxFQUFFVixJQUFJLEVBQW9CO3lCQUNwRCw4REFBQ0M7UUFDQ0MsT0FBTTtRQUNOQyxPQUFPSDtRQUNQSSxTQUFRO1FBQ1JDLE1BQUs7UUFDTEUsUUFBTztRQUNQSSxhQUFZO1FBQ1pDLGVBQWM7UUFDZEMsZ0JBQWU7OzBCQUVmLDhEQUFDUDtnQkFBS0MsUUFBTztnQkFBT0MsR0FBRTtnQkFBZ0JILE1BQUs7Ozs7OzswQkFDM0MsOERBQUNDO2dCQUFLRSxHQUFFOzs7Ozs7MEJBQ1IsOERBQUNGO2dCQUFLRSxHQUFFOzs7Ozs7Ozs7Ozs7O01BYk5FO0FBaUJOLE1BQU1JLHdC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QUFzQlM7SUFDeEI7SUFFQSxxQkFDRSw4REFBQzdCO1FBQUlRLFdBQVU7a0JBQ2IsNEVBQUNSO1lBQUlRLFdBQVU7OzhCQUNiLDhEQUFDdkUseURBQU1BO29CQUFDMEIsTUFBTTtvQkFBUWlELFNBQVM7b0JBQVNELFNBQVNhOzhCQUMvQyw0RUFBQ3hFLHVIQUFPQTt3QkFBQ1csTUFBTTs7Ozs7Ozs7Ozs7OEJBRWpCLDhEQUFDTCx5REFBTUE7b0JBQ0xrRCxXQUFVO29CQUNWdUIsT0FBTzt3QkFBQ1Y7cUJBQVc7b0JBQ25CVyxLQUFLO29CQUNMQyxLQUFLO29CQUNMQyxNQUFNO29CQUNOQyxlQUFlLENBQUNDO3dCQUNkZCxjQUFjYyxDQUFDLENBQUMsRUFBRSxHQUFHLHFCQUFxQjtvQkFDNUM7b0JBQ0FDLGVBQWU7d0JBQ2IsTUFBTVAsT0FBTzFFLCtEQUFjQSxDQUFDaUU7d0JBQzVCRCxzQkFBc0JVLE9BQU8scURBQXFEO29CQUNwRjs7Ozs7OzhCQUVGLDhEQUFDN0YseURBQU1BO29CQUFDMEIsTUFBTTtvQkFBUWlELFNBQVM7b0JBQVNELFNBQVNlOzhCQUMvQyw0RUFBQzNFLHVIQUFNQTt3QkFBQ1ksTUFBTTs7Ozs7Ozs7Ozs7OEJBRWhCLDhEQUFDMUIseURBQU1BO29CQUFDMEUsU0FBU2lCO29CQUFnQmhCLFNBQVM7b0JBQVNqRCxNQUFNOzhCQUN2RCw0RUFBQ0M7d0JBQ0NDLE9BQU07d0JBQ05DLE9BQU07d0JBQ05DLFNBQVE7a0NBRVIsNEVBQUNFOzRCQUNDRCxNQUFLOzRCQUNMRyxHQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPaEI7SUFwRU1nRDtNQUFBQTtBQXNFTiwrREFBZXpDLE1BQU1BLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vZmVhdHVyZXMvZWRpdG9yL3RpbWVsaW5lL2hlYWRlci50c3g/ZWExNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2J1dHRvblwiO1xuaW1wb3J0IHsgZGlzcGF0Y2ggfSBmcm9tIFwiQGRlc2lnbmNvbWJvL2V2ZW50c1wiO1xuaW1wb3J0IHtcbiAgQUNUSVZFX1NQTElULFxuICBMQVlFUl9DTE9ORSxcbiAgTEFZRVJfREVMRVRFLFxuICBUSU1FTElORV9TQ0FMRV9DSEFOR0VELFxufSBmcm9tIFwiQGRlc2lnbmNvbWJvL3N0YXRlXCI7XG5pbXBvcnQgeyBQTEFZRVJfUEFVU0UsIFBMQVlFUl9QTEFZIH0gZnJvbSBcIi4uL2NvbnN0YW50cy9ldmVudHNcIjtcbmltcG9ydCB7IGZyYW1lVG9UaW1lU3RyaW5nLCBnZXRDdXJyZW50VGltZSwgdGltZVRvU3RyaW5nIH0gZnJvbSBcIi4uL3V0aWxzL3RpbWVcIjtcbmltcG9ydCB1c2VTdG9yZSBmcm9tIFwiLi4vc3RvcmUvdXNlLXN0b3JlXCI7XG5pbXBvcnQgeyBTcXVhcmVTcGxpdEhvcml6b250YWwsIFRyYXNoLCBab29tSW4sIFpvb21PdXQgfSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5pbXBvcnQge1xuICBnZXRGaXRab29tTGV2ZWwsXG4gIGdldE5leHRab29tTGV2ZWwsXG4gIGdldFByZXZpb3VzWm9vbUxldmVsLFxuICBnZXRab29tQnlJbmRleCxcbn0gZnJvbSBcIi4uL3V0aWxzL3RpbWVsaW5lXCI7XG5pbXBvcnQgeyB1c2VDdXJyZW50UGxheWVyRnJhbWUgfSBmcm9tIFwiLi4vaG9va3MvdXNlLWN1cnJlbnQtZnJhbWVcIjtcbmltcG9ydCB7IFNsaWRlciB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvc2xpZGVyXCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgdXNlVXBkYXRlQW5zZXN0b3JzIGZyb20gXCIuLi9ob29rcy91c2UtdXBkYXRlLWFuc2VzdG9yc1wiO1xuaW1wb3J0IHsgSVRpbWVsaW5lU2NhbGVTdGF0ZSB9IGZyb20gXCJAZGVzaWduY29tYm8vdHlwZXNcIjtcblxuY29uc3QgSWNvblBsYXllclBsYXlGaWxsZWQgPSAoeyBzaXplIH06IHsgc2l6ZTogbnVtYmVyIH0pID0+IChcbiAgPHN2Z1xuICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgIHdpZHRoPXtzaXplfVxuICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICAgIGZpbGw9XCJjdXJyZW50Q29sb3JcIlxuICA+XG4gICAgPHBhdGggc3Ryb2tlPVwibm9uZVwiIGQ9XCJNMCAwaDI0djI0SDB6XCIgZmlsbD1cIm5vbmVcIiAvPlxuICAgIDxwYXRoIGQ9XCJNNiA0djE2YTEgMSAwIDAgMCAxLjUyNCAuODUybDEzIC04YTEgMSAwIDAgMCAwIC0xLjcwNGwtMTMgLThhMSAxIDAgMCAwIC0xLjUyNCAuODUyelwiIC8+XG4gIDwvc3ZnPlxuKTtcblxuY29uc3QgSWNvblBsYXllclBhdXNlRmlsbGVkID0gKHsgc2l6ZSB9OiB7IHNpemU6IG51bWJlciB9KSA9PiAoXG4gIDxzdmdcbiAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICB3aWR0aD17c2l6ZX1cbiAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgICBmaWxsPVwiY3VycmVudENvbG9yXCJcbiAgPlxuICAgIDxwYXRoIHN0cm9rZT1cIm5vbmVcIiBkPVwiTTAgMGgyNHYyNEgwelwiIGZpbGw9XCJub25lXCIgLz5cbiAgICA8cGF0aCBkPVwiTTkgNGgtMmEyIDIgMCAwIDAgLTIgMnYxMmEyIDIgMCAwIDAgMiAyaDJhMiAyIDAgMCAwIDIgLTJ2LTEyYTIgMiAwIDAgMCAtMiAtMnpcIiAvPlxuICAgIDxwYXRoIGQ9XCJNMTcgNGgtMmEyIDIgMCAwIDAgLTIgMnYxMmEyIDIgMCAwIDAgMiAyaDJhMiAyIDAgMCAwIDIgLTJ2LTEyYTIgMiAwIDAgMCAtMiAtMnpcIiAvPlxuICA8L3N2Zz5cbik7XG5jb25zdCBJY29uUGxheWVyU2tpcEJhY2sgPSAoeyBzaXplIH06IHsgc2l6ZTogbnVtYmVyIH0pID0+IChcbiAgPHN2Z1xuICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgIHdpZHRoPXtzaXplfVxuICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICAgIGZpbGw9XCJub25lXCJcbiAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgIHN0cm9rZVdpZHRoPVwiMlwiXG4gICAgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCJcbiAgICBzdHJva2VMaW5lam9pbj1cInJvdW5kXCJcbiAgPlxuICAgIDxwYXRoIHN0cm9rZT1cIm5vbmVcIiBkPVwiTTAgMGgyNHYyNEgwelwiIGZpbGw9XCJub25lXCIgLz5cbiAgICA8cGF0aCBkPVwiTTIwIDV2MTRsLTEyIC03elwiIC8+XG4gICAgPHBhdGggZD1cIk00IDVsMCAxNFwiIC8+XG4gIDwvc3ZnPlxuKTtcblxuY29uc3QgSWNvblBsYXllclNraXBGb3J3YXJkID0gKHsgc2l6ZSB9OiB7IHNpemU6IG51bWJlciB9KSA9PiAoXG4gIDxzdmdcbiAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICB3aWR0aD17c2l6ZX1cbiAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgICBmaWxsPVwibm9uZVwiXG4gICAgc3Ryb2tlPVwiY3VycmVudENvbG9yXCJcbiAgICBzdHJva2VXaWR0aD1cIjJcIlxuICAgIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiXG4gICAgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiXG4gID5cbiAgICA8cGF0aCBzdHJva2U9XCJub25lXCIgZD1cIk0wIDBoMjR2MjRIMHpcIiBmaWxsPVwibm9uZVwiIC8+XG4gICAgPHBhdGggZD1cIk00IDV2MTRsMTIgLTd6XCIgLz5cbiAgICA8cGF0aCBkPVwiTTIwIDVsMCAxNFwiIC8+XG4gIDwvc3ZnPlxuKTtcbmNvbnN0IEhlYWRlciA9ICgpID0+IHtcbiAgY29uc3QgW3BsYXlpbmcsIHNldFBsYXlpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCB7IGR1cmF0aW9uLCBmcHMsIHNjYWxlLCBwbGF5ZXJSZWYsIGFjdGl2ZUlkcyB9ID0gdXNlU3RvcmUoKTtcbiAgY29uc29sZS5sb2coXCJzY2FsZVwiLCBzY2FsZSk7XG5cbiAgdXNlVXBkYXRlQW5zZXN0b3JzKHsgcGxheWluZywgcGxheWVyUmVmIH0pO1xuXG4gIGNvbnN0IGN1cnJlbnRGcmFtZSA9IHVzZUN1cnJlbnRQbGF5ZXJGcmFtZShwbGF5ZXJSZWYhKTtcblxuICBjb25zdCBkb0FjdGl2ZURlbGV0ZSA9ICgpID0+IHtcbiAgICBkaXNwYXRjaChMQVlFUl9ERUxFVEUpO1xuICB9O1xuXG4gIGNvbnN0IGRvQWN0aXZlU3BsaXQgPSAoKSA9PiB7XG4gICAgZGlzcGF0Y2goQUNUSVZFX1NQTElULCB7XG4gICAgICBwYXlsb2FkOiB7fSxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgdGltZTogZ2V0Q3VycmVudFRpbWUoKSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgY2hhbmdlU2NhbGUgPSAoc2NhbGU6IElUaW1lbGluZVNjYWxlU3RhdGUpID0+IHtcbiAgICBkaXNwYXRjaChUSU1FTElORV9TQ0FMRV9DSEFOR0VELCB7XG4gICAgICBwYXlsb2FkOiB7XG4gICAgICAgIHNjYWxlLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVQbGF5ID0gKCkgPT4ge1xuICAgIGRpc3BhdGNoKFBMQVlFUl9QTEFZKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVQYXVzZSA9ICgpID0+IHtcbiAgICBkaXNwYXRjaChQTEFZRVJfUEFVU0UpO1xuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcGxheWVyUmVmPy5jdXJyZW50Py5hZGRFdmVudExpc3RlbmVyKFwicGxheVwiLCAoKSA9PiB7XG4gICAgICBzZXRQbGF5aW5nKHRydWUpO1xuICAgIH0pO1xuICAgIHBsYXllclJlZj8uY3VycmVudD8uYWRkRXZlbnRMaXN0ZW5lcihcInBhdXNlXCIsICgpID0+IHtcbiAgICAgIHNldFBsYXlpbmcoZmFsc2UpO1xuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBwbGF5ZXJSZWY/LmN1cnJlbnQ/LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwbGF5XCIsICgpID0+IHtcbiAgICAgICAgc2V0UGxheWluZyh0cnVlKTtcbiAgICAgIH0pO1xuICAgICAgcGxheWVyUmVmPy5jdXJyZW50Py5yZW1vdmVFdmVudExpc3RlbmVyKFwicGF1c2VcIiwgKCkgPT4ge1xuICAgICAgICBzZXRQbGF5aW5nKGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH0sIFtwbGF5ZXJSZWZdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHN0eWxlPXt7XG4gICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgIGhlaWdodDogXCI1MHB4XCIsXG4gICAgICAgIGZsZXg6IFwibm9uZVwiLFxuICAgICAgfX1cbiAgICA+XG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICBoZWlnaHQ6IDUwLFxuICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIGhlaWdodDogMzYsXG4gICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICBkaXNwbGF5OiBcImdyaWRcIixcbiAgICAgICAgICAgIGdyaWRUZW1wbGF0ZUNvbHVtbnM6IFwiMWZyIDI2MHB4IDFmclwiLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHB4LTJcIj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFhY3RpdmVJZHMubGVuZ3RofVxuICAgICAgICAgICAgICBvbkNsaWNrPXtkb0FjdGl2ZURlbGV0ZX1cbiAgICAgICAgICAgICAgdmFyaWFudD17XCJnaG9zdFwifVxuICAgICAgICAgICAgICBzaXplPXtcInNtXCJ9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIHB4LTJcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8VHJhc2ggc2l6ZT17MTR9IC8+IERlbGV0ZVxuICAgICAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFhY3RpdmVJZHMubGVuZ3RofVxuICAgICAgICAgICAgICBvbkNsaWNrPXtkb0FjdGl2ZVNwbGl0fVxuICAgICAgICAgICAgICB2YXJpYW50PXtcImdob3N0XCJ9XG4gICAgICAgICAgICAgIHNpemU9e1wic21cIn1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgcHgtMlwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxTcXVhcmVTcGxpdEhvcml6b250YWwgc2l6ZT17MTV9IC8+IFNwbGl0XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFhY3RpdmVJZHMubGVuZ3RofVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goTEFZRVJfQ0xPTkUpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICB2YXJpYW50PXtcImdob3N0XCJ9XG4gICAgICAgICAgICAgIHNpemU9e1wic21cIn1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgcHgtMlwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxTcXVhcmVTcGxpdEhvcml6b250YWwgc2l6ZT17MTV9IC8+IENsb25lXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e2RvQWN0aXZlRGVsZXRlfSB2YXJpYW50PXtcImdob3N0XCJ9IHNpemU9e1wiaWNvblwifT5cbiAgICAgICAgICAgICAgICA8SWNvblBsYXllclNraXBCYWNrIHNpemU9ezE0fSAvPlxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChwbGF5aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVQYXVzZSgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaGFuZGxlUGxheSgpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgdmFyaWFudD17XCJnaG9zdFwifVxuICAgICAgICAgICAgICAgIHNpemU9e1wiaWNvblwifVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3BsYXlpbmcgPyAoXG4gICAgICAgICAgICAgICAgICA8SWNvblBsYXllclBhdXNlRmlsbGVkIHNpemU9ezE0fSAvPlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8SWNvblBsYXllclBsYXlGaWxsZWQgc2l6ZT17MTR9IC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17ZG9BY3RpdmVTcGxpdH0gdmFyaWFudD17XCJnaG9zdFwifSBzaXplPXtcImljb25cIn0+XG4gICAgICAgICAgICAgICAgPEljb25QbGF5ZXJTa2lwRm9yd2FyZCBzaXplPXsxNH0gLz5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LWxpZ2h0XCJcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImdyaWRcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGdyaWRUZW1wbGF0ZUNvbHVtbnM6IFwiNTRweCA0cHggNTRweFwiLFxuICAgICAgICAgICAgICAgIHBhZGRpbmdUb3A6IFwiMnB4XCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LXppbmMtMjAwXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGRhdGEtY3VycmVudC10aW1lPXtjdXJyZW50RnJhbWUgLyBmcHN9XG4gICAgICAgICAgICAgICAgaWQ9XCJ2aWRlby1jdXJyZW50LXRpbWVcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2ZyYW1lVG9UaW1lU3RyaW5nKHsgZnJhbWU6IGN1cnJlbnRGcmFtZSB9LCB7IGZwcyB9KX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxzcGFuPi88L3NwYW4+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkLWZvcmVncm91bmRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7dGltZVRvU3RyaW5nKHsgdGltZTogZHVyYXRpb24gfSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8Wm9vbUNvbnRyb2xcbiAgICAgICAgICAgIHNjYWxlPXtzY2FsZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlVGltZWxpbmVTY2FsZT17Y2hhbmdlU2NhbGV9XG4gICAgICAgICAgICBkdXJhdGlvbj17ZHVyYXRpb259XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmNvbnN0IFpvb21Db250cm9sID0gKHtcbiAgc2NhbGUsXG4gIG9uQ2hhbmdlVGltZWxpbmVTY2FsZSxcbiAgZHVyYXRpb24sXG59OiB7XG4gIHNjYWxlOiBJVGltZWxpbmVTY2FsZVN0YXRlO1xuICBvbkNoYW5nZVRpbWVsaW5lU2NhbGU6IChzY2FsZTogSVRpbWVsaW5lU2NhbGVTdGF0ZSkgPT4gdm9pZDtcbiAgZHVyYXRpb246IG51bWJlcjtcbn0pID0+IHtcbiAgY29uc3QgW2xvY2FsVmFsdWUsIHNldExvY2FsVmFsdWVdID0gdXNlU3RhdGUoc2NhbGUuaW5kZXgpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0TG9jYWxWYWx1ZShzY2FsZS5pbmRleCk7XG4gIH0sIFtzY2FsZS5pbmRleF0pO1xuXG4gIGNvbnN0IG9uWm9vbU91dENsaWNrID0gKCkgPT4ge1xuICAgIGNvbnN0IHByZXZpb3VzWm9vbSA9IGdldFByZXZpb3VzWm9vbUxldmVsKHNjYWxlKTtcbiAgICBvbkNoYW5nZVRpbWVsaW5lU2NhbGUocHJldmlvdXNab29tKTtcbiAgfTtcblxuICBjb25zdCBvblpvb21JbkNsaWNrID0gKCkgPT4ge1xuICAgIGNvbnN0IG5leHRab29tID0gZ2V0TmV4dFpvb21MZXZlbChzY2FsZSk7XG4gICAgb25DaGFuZ2VUaW1lbGluZVNjYWxlKG5leHRab29tKTtcbiAgfTtcblxuICBjb25zdCBvblpvb21GaXRDbGljayA9ICgpID0+IHtcbiAgICBjb25zdCBmaXRab29tID0gZ2V0Rml0Wm9vbUxldmVsKGR1cmF0aW9uLCBzY2FsZS56b29tKTtcbiAgICBvbkNoYW5nZVRpbWVsaW5lU2NhbGUoZml0Wm9vbSk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktZW5kXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggYm9yZGVyLWwgYm9yZGVyLWJvcmRlciBwbC00IHByLTJcIj5cbiAgICAgICAgPEJ1dHRvbiBzaXplPXtcImljb25cIn0gdmFyaWFudD17XCJnaG9zdFwifSBvbkNsaWNrPXtvblpvb21PdXRDbGlja30+XG4gICAgICAgICAgPFpvb21PdXQgc2l6ZT17MTZ9IC8+XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8U2xpZGVyXG4gICAgICAgICAgY2xhc3NOYW1lPVwidy0yOFwiXG4gICAgICAgICAgdmFsdWU9e1tsb2NhbFZhbHVlXX1cbiAgICAgICAgICBtaW49ezB9XG4gICAgICAgICAgbWF4PXsxMn1cbiAgICAgICAgICBzdGVwPXsxfVxuICAgICAgICAgIG9uVmFsdWVDaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICBzZXRMb2NhbFZhbHVlKGVbMF0pOyAvLyBVcGRhdGUgbG9jYWwgc3RhdGVcbiAgICAgICAgICB9fVxuICAgICAgICAgIG9uVmFsdWVDb21taXQ9eygpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHpvb20gPSBnZXRab29tQnlJbmRleChsb2NhbFZhbHVlKTtcbiAgICAgICAgICAgIG9uQ2hhbmdlVGltZWxpbmVTY2FsZSh6b29tKTsgLy8gUHJvcGFnYXRlIHZhbHVlIHRvIHBhcmVudCB3aGVuIHVzZXIgY29tbWl0cyBjaGFuZ2VcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgICA8QnV0dG9uIHNpemU9e1wiaWNvblwifSB2YXJpYW50PXtcImdob3N0XCJ9IG9uQ2xpY2s9e29uWm9vbUluQ2xpY2t9PlxuICAgICAgICAgIDxab29tSW4gc2l6ZT17MTZ9IC8+XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e29uWm9vbUZpdENsaWNrfSB2YXJpYW50PXtcImdob3N0XCJ9IHNpemU9e1wiaWNvblwifT5cbiAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICAgICAgICAgIHdpZHRoPVwiMTZcIlxuICAgICAgICAgICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgZmlsbD1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgICAgIGQ9XCJNMjAgOFY2aC0ycS0uNDI1IDAtLjcxMi0uMjg4VDE3IDV0LjI4OC0uNzEyVDE4IDRoMnEuODI1IDAgMS40MTMuNTg4VDIyIDZ2MnEwIC40MjUtLjI4OC43MTNUMjEgOXQtLjcxMi0uMjg4VDIwIDhNMiA4VjZxMC0uODI1LjU4OC0xLjQxMlQ0IDRoMnEuNDI1IDAgLjcxMy4yODhUNyA1dC0uMjg4LjcxM1Q2IDZINHYycTAgLjQyNS0uMjg4LjcxM1QzIDl0LS43MTItLjI4OFQyIDhtMTggMTJoLTJxLS40MjUgMC0uNzEyLS4yODhUMTcgMTl0LjI4OC0uNzEyVDE4IDE4aDJ2LTJxMC0uNDI1LjI4OC0uNzEyVDIxIDE1dC43MTMuMjg4VDIyIDE2djJxMCAuODI1LS41ODcgMS40MTNUMjAgMjBNNCAyMHEtLjgyNSAwLTEuNDEyLS41ODdUMiAxOHYtMnEwLS40MjUuMjg4LS43MTJUMyAxNXQuNzEzLjI4OFQ0IDE2djJoMnEuNDI1IDAgLjcxMy4yODhUNyAxOXQtLjI4OC43MTNUNiAyMHptMi02di00cTAtLjgyNS41ODgtMS40MTJUOCA4aDhxLjgyNSAwIDEuNDEzLjU4OFQxOCAxMHY0cTAgLjgyNS0uNTg3IDEuNDEzVDE2IDE2SDhxLS44MjUgMC0xLjQxMi0uNTg3VDYgMTRcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEhlYWRlcjtcbiJdLCJuYW1lcyI6WyJCdXR0b24iLCJkaXNwYXRjaCIsIkFDVElWRV9TUExJVCIsIkxBWUVSX0NMT05FIiwiTEFZRVJfREVMRVRFIiwiVElNRUxJTkVfU0NBTEVfQ0hBTkdFRCIsIlBMQVlFUl9QQVVTRSIsIlBMQVlFUl9QTEFZIiwiZnJhbWVUb1RpbWVTdHJpbmciLCJnZXRDdXJyZW50VGltZSIsInRpbWVUb1N0cmluZyIsInVzZVN0b3JlIiwiU3F1YXJlU3BsaXRIb3Jpem9udGFsIiwiVHJhc2giLCJab29tSW4iLCJab29tT3V0IiwiZ2V0Rml0Wm9vbUxldmVsIiwiZ2V0TmV4dFpvb21MZXZlbCIsImdldFByZXZpb3VzWm9vbUxldmVsIiwiZ2V0Wm9vbUJ5SW5kZXgiLCJ1c2VDdXJyZW50UGxheWVyRnJhbWUiLCJTbGlkZXIiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZVVwZGF0ZUFuc2VzdG9ycyIsIkljb25QbGF5ZXJQbGF5RmlsbGVkIiwic2l6ZSIsInN2ZyIsInhtbG5zIiwid2lkdGgiLCJ2aWV3Qm94IiwiZmlsbCIsInBhdGgiLCJzdHJva2UiLCJkIiwiSWNvblBsYXllclBhdXNlRmlsbGVkIiwiSWNvblBsYXllclNraXBCYWNrIiwic3Ryb2tlV2lkdGgiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJJY29uUGxheWVyU2tpcEZvcndhcmQiLCJIZWFkZXIiLCJwbGF5aW5nIiwic2V0UGxheWluZyIsImR1cmF0aW9uIiwiZnBzIiwic2NhbGUiLCJwbGF5ZXJSZWYiLCJhY3RpdmVJZHMiLCJjb25zb2xlIiwibG9nIiwiY3VycmVudEZyYW1lIiwiZG9BY3RpdmVEZWxldGUiLCJkb0FjdGl2ZVNwbGl0IiwicGF5bG9hZCIsIm9wdGlvbnMiLCJ0aW1lIiwiY2hhbmdlU2NhbGUiLCJoYW5kbGVQbGF5IiwiaGFuZGxlUGF1c2UiLCJjdXJyZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkaXYiLCJzdHlsZSIsInBvc2l0aW9uIiwiaGVpZ2h0IiwiZmxleCIsImRpc3BsYXkiLCJhbGlnbkl0ZW1zIiwiZ3JpZFRlbXBsYXRlQ29sdW1ucyIsImNsYXNzTmFtZSIsImRpc2FibGVkIiwibGVuZ3RoIiwib25DbGljayIsInZhcmlhbnQiLCJwYWRkaW5nVG9wIiwianVzdGlmeUNvbnRlbnQiLCJkYXRhLWN1cnJlbnQtdGltZSIsImlkIiwiZnJhbWUiLCJzcGFuIiwiWm9vbUNvbnRyb2wiLCJvbkNoYW5nZVRpbWVsaW5lU2NhbGUiLCJsb2NhbFZhbHVlIiwic2V0TG9jYWxWYWx1ZSIsImluZGV4Iiwib25ab29tT3V0Q2xpY2siLCJwcmV2aW91c1pvb20iLCJvblpvb21JbkNsaWNrIiwibmV4dFpvb20iLCJvblpvb21GaXRDbGljayIsImZpdFpvb20iLCJ6b29tIiwidmFsdWUiLCJtaW4iLCJtYXgiLCJzdGVwIiwib25WYWx1ZUNoYW5nZSIsImUiLCJvblZhbHVlQ29tbWl0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./features/editor/timeline/header.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./features/editor/timeline/ruler.tsx":
/*!********************************************!*\
  !*** ./features/editor/timeline/ruler.tsx ***!
  \********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _constants_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants/constants */ \"(app-pages-browser)/./features/editor/constants/constants.ts\");\n/* harmony import */ var _utils_format__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/format */ \"(app-pages-browser)/./features/editor/utils/format.ts\");\n/* harmony import */ var _store_use_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../store/use-store */ \"(app-pages-browser)/./features/editor/store/use-store.ts\");\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/debounce */ \"(app-pages-browser)/./node_modules/lodash/debounce.js\");\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_5__);\n\nvar _s = $RefreshSig$();\n\n\n\n\n\nconst Ruler = (props)=>{\n    _s();\n    const { height = 40, longLineSize = 8, shortLineSize = 10, offsetX = _constants_constants__WEBPACK_IMPORTED_MODULE_2__.TIMELINE_OFFSET_X + _constants_constants__WEBPACK_IMPORTED_MODULE_2__.TIMELINE_OFFSET_CANVAS_LEFT, textOffsetY = 17, textFormat = _utils_format__WEBPACK_IMPORTED_MODULE_3__.formatTimelineUnit, scrollLeft: scrollPos = 0, onClick } = props;\n    const { scale } = (0,_store_use_store__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [canvasContext, setCanvasContext] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [canvasSize, setCanvasSize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        width: 0,\n        height: height\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const canvas = canvasRef.current;\n        if (canvas) {\n            const context = canvas.getContext(\"2d\");\n            setCanvasContext(context);\n            resize(canvas, context, scrollPos);\n        }\n    }, []);\n    const handleResize = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        resize(canvasRef.current, canvasContext, scrollPos);\n    }, [\n        canvasContext,\n        scrollPos\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const resizeHandler = lodash_debounce__WEBPACK_IMPORTED_MODULE_5___default()(handleResize, 200);\n        window.addEventListener(\"resize\", resizeHandler);\n        return ()=>{\n            window.removeEventListener(\"resize\", resizeHandler);\n        };\n    }, [\n        handleResize\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (canvasContext) {\n            resize(canvasRef.current, canvasContext, scrollPos);\n        }\n    }, [\n        canvasContext,\n        scrollPos,\n        scale\n    ]);\n    const resize = (canvas, context, scrollPos)=>{\n        if (!canvas || !context) return;\n        const offsetParent = canvas.offsetParent;\n        var _offsetParent_offsetWidth;\n        const width = (_offsetParent_offsetWidth = offsetParent === null || offsetParent === void 0 ? void 0 : offsetParent.offsetWidth) !== null && _offsetParent_offsetWidth !== void 0 ? _offsetParent_offsetWidth : canvas.offsetWidth;\n        const height = canvasSize.height;\n        canvas.width = width;\n        canvas.height = height;\n        draw(context, scrollPos, width, height);\n        setCanvasSize({\n            width,\n            height\n        });\n    };\n    const draw = (context, scrollPos, width, height)=>{\n        const zoom = scale.zoom;\n        const unit = scale.unit;\n        const segments = scale.segments;\n        context.clearRect(0, 0, width, height);\n        context.save();\n        context.strokeStyle = \"#71717a\";\n        context.fillStyle = \"#71717a\";\n        context.lineWidth = 1;\n        context.font = \"\".concat(_constants_constants__WEBPACK_IMPORTED_MODULE_2__.SMALL_FONT_SIZE, \"px \").concat(_constants_constants__WEBPACK_IMPORTED_MODULE_2__.SECONDARY_FONT);\n        context.textBaseline = \"top\";\n        context.translate(0.5, 0);\n        context.beginPath();\n        const zoomUnit = unit * zoom * _constants_constants__WEBPACK_IMPORTED_MODULE_2__.PREVIEW_FRAME_WIDTH;\n        const minRange = Math.floor(scrollPos / zoomUnit);\n        const maxRange = Math.ceil((scrollPos + width) / zoomUnit);\n        const length = maxRange - minRange;\n        // Draw text before drawing the lines\n        for(let i = 0; i <= length; ++i){\n            const value = i + minRange;\n            if (value < 0) continue;\n            const startValue = value * zoomUnit / zoom;\n            const startPos = (startValue - scrollPos / zoom) * zoom;\n            if (startPos < -zoomUnit || startPos >= width + zoomUnit) continue;\n            const text = textFormat(startValue);\n            // Calculate the textOffsetX value\n            const textWidth = context.measureText(text).width;\n            const textOffsetX = -textWidth / 2;\n            // Adjust textOffsetY so it stays inside the canvas but above the lines\n            context.fillText(text, startPos + textOffsetX + offsetX, textOffsetY);\n        }\n        // Draw long and short lines after the text\n        for(let i = 0; i <= length; ++i){\n            const value = i + minRange;\n            if (value < 0) continue;\n            const startValue = value * zoomUnit;\n            const startPos = startValue - scrollPos + offsetX;\n            for(let j = 0; j < segments; ++j){\n                const pos = startPos + j / segments * zoomUnit;\n                if (pos < 0 || pos >= width) continue;\n                const lineSize = j % segments ? shortLineSize : longLineSize;\n                // Set color based on line size\n                if (lineSize === shortLineSize) {\n                    context.strokeStyle = \"#52525b\"; // Yellow for short lines\n                } else {\n                    context.strokeStyle = \"#18181b\"; // Red for long lines\n                }\n                const origin = 18; // Increase the origin to start lines lower, below the text\n                const [x1, y1] = [\n                    pos,\n                    origin\n                ];\n                const [x2, y2] = [\n                    x1,\n                    y1 + lineSize\n                ];\n                context.beginPath(); // Begin a new path for each line\n                context.moveTo(x1, y1);\n                context.lineTo(x2, y2);\n                // Set color based on line size\n                if (lineSize === shortLineSize) {\n                    context.stroke(); // Draw the line\n                }\n            }\n        }\n        context.restore();\n    };\n    const handleClick = (event)=>{\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        // Get the bounding box of the canvas to calculate the relative click position\n        const rect = canvas.getBoundingClientRect();\n        const clickX = event.clientX - rect.left;\n        // Calculate total x position, including scrollPos\n        const totalX = clickX + scrollPos - _constants_constants__WEBPACK_IMPORTED_MODULE_2__.TIMELINE_OFFSET_X - _constants_constants__WEBPACK_IMPORTED_MODULE_2__.TIMELINE_OFFSET_CANVAS_LEFT;\n        onClick === null || onClick === void 0 ? void 0 : onClick(totalX);\n    // Here you can handle the result as needed\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"border-t border-border\",\n        style: {\n            position: \"relative\",\n            width: \"100%\",\n            height: \"\".concat(canvasSize.height, \"px\")\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n            onMouseUp: handleClick,\n            ref: canvasRef,\n            height: canvasSize.height\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\ruler.tsx\",\n            lineNumber: 204,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\ruler.tsx\",\n        lineNumber: 196,\n        columnNumber: 5\n    }, undefined);\n};\n_s(Ruler, \"6NY144mKApz3XNZxWfNgUuY9hO8=\", false, function() {\n    return [\n        _store_use_store__WEBPACK_IMPORTED_MODULE_4__[\"default\"]\n    ];\n});\n_c = Ruler;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Ruler);\nvar _c;\n$RefreshReg$(_c, \"Ruler\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2ZlYXR1cmVzL2VkaXRvci90aW1lbGluZS9ydWxlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBaUU7QUFRakM7QUFDcUI7QUFDWDtBQUNSO0FBY2xDLE1BQU1ZLFFBQVEsQ0FBQ0M7O0lBQ2IsTUFBTSxFQUNKQyxTQUFTLEVBQUUsRUFDWEMsZUFBZSxDQUFDLEVBQ2hCQyxnQkFBZ0IsRUFBRSxFQUNsQkMsVUFBVVQsbUVBQWlCQSxHQUFHRCw2RUFBMkIsRUFDekRXLGNBQWMsRUFBRSxFQUNoQkMsYUFBYVYsNkRBQWtCLEVBQy9CVyxZQUFZQyxZQUFZLENBQUMsRUFDekJDLE9BQU8sRUFDUixHQUFHVDtJQUNKLE1BQU0sRUFBRVUsS0FBSyxFQUFFLEdBQUdiLDREQUFRQTtJQUMxQixNQUFNYyxZQUFZdEIsNkNBQU1BLENBQTJCO0lBQ25ELE1BQU0sQ0FBQ3VCLGVBQWVDLGlCQUFpQixHQUNyQ3ZCLCtDQUFRQSxDQUFrQztJQUM1QyxNQUFNLENBQUN3QixZQUFZQyxjQUFjLEdBQUd6QiwrQ0FBUUEsQ0FBQztRQUMzQzBCLE9BQU87UUFDUGYsUUFBUUE7SUFDVjtJQUVBYixnREFBU0EsQ0FBQztRQUNSLE1BQU02QixTQUFTTixVQUFVTyxPQUFPO1FBQ2hDLElBQUlELFFBQVE7WUFDVixNQUFNRSxVQUFVRixPQUFPRyxVQUFVLENBQUM7WUFDbENQLGlCQUFpQk07WUFDakJFLE9BQU9KLFFBQVFFLFNBQVNYO1FBQzFCO0lBQ0YsR0FBRyxFQUFFO0lBRUwsTUFBTWMsZUFBZW5DLGtEQUFXQSxDQUFDO1FBQy9Ca0MsT0FBT1YsVUFBVU8sT0FBTyxFQUFFTixlQUFlSjtJQUMzQyxHQUFHO1FBQUNJO1FBQWVKO0tBQVU7SUFFN0JwQixnREFBU0EsQ0FBQztRQUNSLE1BQU1tQyxnQkFBZ0J6QixzREFBUUEsQ0FBQ3dCLGNBQWM7UUFDN0NFLE9BQU9DLGdCQUFnQixDQUFDLFVBQVVGO1FBRWxDLE9BQU87WUFDTEMsT0FBT0UsbUJBQW1CLENBQUMsVUFBVUg7UUFDdkM7SUFDRixHQUFHO1FBQUNEO0tBQWE7SUFFakJsQyxnREFBU0EsQ0FBQztRQUNSLElBQUl3QixlQUFlO1lBQ2pCUyxPQUFPVixVQUFVTyxPQUFPLEVBQUVOLGVBQWVKO1FBQzNDO0lBQ0YsR0FBRztRQUFDSTtRQUFlSjtRQUFXRTtLQUFNO0lBRXBDLE1BQU1XLFNBQVMsQ0FDYkosUUFDQUUsU0FDQVg7UUFFQSxJQUFJLENBQUNTLFVBQVUsQ0FBQ0UsU0FBUztRQUV6QixNQUFNUSxlQUFlVixPQUFPVSxZQUFZO1lBQzFCQTtRQUFkLE1BQU1YLFFBQVFXLENBQUFBLDRCQUFBQSx5QkFBQUEsbUNBQUFBLGFBQWNDLFdBQVcsY0FBekJELHVDQUFBQSw0QkFBNkJWLE9BQU9XLFdBQVc7UUFDN0QsTUFBTTNCLFNBQVNhLFdBQVdiLE1BQU07UUFFaENnQixPQUFPRCxLQUFLLEdBQUdBO1FBQ2ZDLE9BQU9oQixNQUFNLEdBQUdBO1FBRWhCNEIsS0FBS1YsU0FBU1gsV0FBV1EsT0FBT2Y7UUFDaENjLGNBQWM7WUFBRUM7WUFBT2Y7UUFBTztJQUNoQztJQUVBLE1BQU00QixPQUFPLENBQ1hWLFNBQ0FYLFdBQ0FRLE9BQ0FmO1FBRUEsTUFBTTZCLE9BQU9wQixNQUFNb0IsSUFBSTtRQUN2QixNQUFNQyxPQUFPckIsTUFBTXFCLElBQUk7UUFDdkIsTUFBTUMsV0FBV3RCLE1BQU1zQixRQUFRO1FBQy9CYixRQUFRYyxTQUFTLENBQUMsR0FBRyxHQUFHakIsT0FBT2Y7UUFDL0JrQixRQUFRZSxJQUFJO1FBQ1pmLFFBQVFnQixXQUFXLEdBQUc7UUFDdEJoQixRQUFRaUIsU0FBUyxHQUFHO1FBQ3BCakIsUUFBUWtCLFNBQVMsR0FBRztRQUNwQmxCLFFBQVFtQixJQUFJLEdBQUcsR0FBd0I5QyxPQUFyQkMsaUVBQWVBLEVBQUMsT0FBb0IsT0FBZkQsZ0VBQWNBO1FBQ3JEMkIsUUFBUW9CLFlBQVksR0FBRztRQUV2QnBCLFFBQVFxQixTQUFTLENBQUMsS0FBSztRQUN2QnJCLFFBQVFzQixTQUFTO1FBRWpCLE1BQU1DLFdBQVdYLE9BQU9ELE9BQU92QyxxRUFBbUJBO1FBQ2xELE1BQU1vRCxXQUFXQyxLQUFLQyxLQUFLLENBQUNyQyxZQUFZa0M7UUFDeEMsTUFBTUksV0FBV0YsS0FBS0csSUFBSSxDQUFDLENBQUN2QyxZQUFZUSxLQUFJLElBQUswQjtRQUNqRCxNQUFNTSxTQUFTRixXQUFXSDtRQUUxQixxQ0FBcUM7UUFDckMsSUFBSyxJQUFJTSxJQUFJLEdBQUdBLEtBQUtELFFBQVEsRUFBRUMsRUFBRztZQUNoQyxNQUFNQyxRQUFRRCxJQUFJTjtZQUVsQixJQUFJTyxRQUFRLEdBQUc7WUFFZixNQUFNQyxhQUFhLFFBQVNULFdBQVlaO1lBQ3hDLE1BQU1zQixXQUFXLENBQUNELGFBQWEzQyxZQUFZc0IsSUFBRyxJQUFLQTtZQUVuRCxJQUFJc0IsV0FBVyxDQUFDVixZQUFZVSxZQUFZcEMsUUFBUTBCLFVBQVU7WUFDMUQsTUFBTVcsT0FBTy9DLFdBQVc2QztZQUV4QixrQ0FBa0M7WUFDbEMsTUFBTUcsWUFBWW5DLFFBQVFvQyxXQUFXLENBQUNGLE1BQU1yQyxLQUFLO1lBQ2pELE1BQU13QyxjQUFjLENBQUNGLFlBQVk7WUFFakMsdUVBQXVFO1lBQ3ZFbkMsUUFBUXNDLFFBQVEsQ0FBQ0osTUFBTUQsV0FBV0ksY0FBY3BELFNBQVNDO1FBQzNEO1FBRUEsMkNBQTJDO1FBQzNDLElBQUssSUFBSTRDLElBQUksR0FBR0EsS0FBS0QsUUFBUSxFQUFFQyxFQUFHO1lBQ2hDLE1BQU1DLFFBQVFELElBQUlOO1lBRWxCLElBQUlPLFFBQVEsR0FBRztZQUVmLE1BQU1DLGFBQWFELFFBQVFSO1lBQzNCLE1BQU1VLFdBQVdELGFBQWEzQyxZQUFZSjtZQUUxQyxJQUFLLElBQUlzRCxJQUFJLEdBQUdBLElBQUkxQixVQUFVLEVBQUUwQixFQUFHO2dCQUNqQyxNQUFNQyxNQUFNUCxXQUFXLElBQUtwQixXQUFZVTtnQkFFeEMsSUFBSWlCLE1BQU0sS0FBS0EsT0FBTzNDLE9BQU87Z0JBRTdCLE1BQU00QyxXQUFXRixJQUFJMUIsV0FBVzdCLGdCQUFnQkQ7Z0JBRWhELCtCQUErQjtnQkFDL0IsSUFBSTBELGFBQWF6RCxlQUFlO29CQUM5QmdCLFFBQVFnQixXQUFXLEdBQUcsV0FBVyx5QkFBeUI7Z0JBQzVELE9BQU87b0JBQ0xoQixRQUFRZ0IsV0FBVyxHQUFHLFdBQVcscUJBQXFCO2dCQUN4RDtnQkFFQSxNQUFNMEIsU0FBUyxJQUFJLDJEQUEyRDtnQkFFOUUsTUFBTSxDQUFDQyxJQUFJQyxHQUFHLEdBQUc7b0JBQUNKO29CQUFLRTtpQkFBTztnQkFDOUIsTUFBTSxDQUFDRyxJQUFJQyxHQUFHLEdBQUc7b0JBQUNIO29CQUFJQyxLQUFLSDtpQkFBUztnQkFFcEN6QyxRQUFRc0IsU0FBUyxJQUFJLGlDQUFpQztnQkFDdER0QixRQUFRK0MsTUFBTSxDQUFDSixJQUFJQztnQkFDbkI1QyxRQUFRZ0QsTUFBTSxDQUFDSCxJQUFJQztnQkFFbkIsK0JBQStCO2dCQUMvQixJQUFJTCxhQUFhekQsZUFBZTtvQkFDOUJnQixRQUFRaUQsTUFBTSxJQUFJLGdCQUFnQjtnQkFDcEM7WUFDRjtRQUNGO1FBRUFqRCxRQUFRa0QsT0FBTztJQUNqQjtJQUVBLE1BQU1DLGNBQWMsQ0FBQ0M7UUFDbkIsTUFBTXRELFNBQVNOLFVBQVVPLE9BQU87UUFDaEMsSUFBSSxDQUFDRCxRQUFRO1FBRWIsOEVBQThFO1FBQzlFLE1BQU11RCxPQUFPdkQsT0FBT3dELHFCQUFxQjtRQUN6QyxNQUFNQyxTQUFTSCxNQUFNSSxPQUFPLEdBQUdILEtBQUtJLElBQUk7UUFFeEMsa0RBQWtEO1FBQ2xELE1BQU1DLFNBQ0pILFNBQVNsRSxZQUFZYixtRUFBaUJBLEdBQUdELDZFQUEyQkE7UUFFdEVlLG9CQUFBQSw4QkFBQUEsUUFBVW9FO0lBQ1YsMkNBQTJDO0lBQzdDO0lBRUEscUJBQ0UsOERBQUNDO1FBQ0NDLFdBQVU7UUFDVkMsT0FBTztZQUNMQyxVQUFVO1lBQ1ZqRSxPQUFPO1lBQ1BmLFFBQVEsR0FBcUIsT0FBbEJhLFdBQVdiLE1BQU0sRUFBQztRQUMvQjtrQkFFQSw0RUFBQ2dCO1lBQ0NpRSxXQUFXWjtZQUNYYSxLQUFLeEU7WUFDTFYsUUFBUWEsV0FBV2IsTUFBTTs7Ozs7Ozs7Ozs7QUFJakM7R0F6TE1GOztRQVdjRix3REFBUUE7OztLQVh0QkU7QUEyTE4sK0RBQWVBLEtBQUtBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vZmVhdHVyZXMvZWRpdG9yL3RpbWVsaW5lL3J1bGVyLnRzeD8wNjk0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IHtcbiAgUFJFVklFV19GUkFNRV9XSURUSCxcbiAgU0VDT05EQVJZX0ZPTlQsXG4gIFNNQUxMX0ZPTlRfU0laRSxcbiAgVElNRUxJTkVfT0ZGU0VUX0NBTlZBU19MRUZULFxuICBUSU1FTElORV9PRkZTRVRfWCxcbn0gZnJvbSBcIi4uL2NvbnN0YW50cy9jb25zdGFudHNcIjtcbmltcG9ydCB7IGZvcm1hdFRpbWVsaW5lVW5pdCB9IGZyb20gXCIuLi91dGlscy9mb3JtYXRcIjtcbmltcG9ydCB1c2VTdG9yZSBmcm9tIFwiLi4vc3RvcmUvdXNlLXN0b3JlXCI7XG5pbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gXCJsb2Rhc2hcIjtcblxuaW50ZXJmYWNlIFJ1bGVyUHJvcHMge1xuICBoZWlnaHQ/OiBudW1iZXI7XG4gIGxvbmdMaW5lU2l6ZT86IG51bWJlcjtcbiAgc2hvcnRMaW5lU2l6ZT86IG51bWJlcjtcbiAgb2Zmc2V0WD86IG51bWJlcjtcbiAgdGV4dE9mZnNldFk/OiBudW1iZXI7XG4gIHNjcm9sbFBvcz86IG51bWJlcjtcbiAgdGV4dEZvcm1hdD86IChzY2FsZTogbnVtYmVyKSA9PiBzdHJpbmc7XG4gIHNjcm9sbExlZnQ/OiBudW1iZXI7XG4gIG9uQ2xpY2s/OiAodW5pdHM6IG51bWJlcikgPT4gdm9pZDtcbn1cblxuY29uc3QgUnVsZXIgPSAocHJvcHM6IFJ1bGVyUHJvcHMpID0+IHtcbiAgY29uc3Qge1xuICAgIGhlaWdodCA9IDQwLCAvLyBJbmNyZWFzZWQgaGVpZ2h0IHRvIGdpdmUgc3BhY2UgZm9yIHRoZSB0ZXh0XG4gICAgbG9uZ0xpbmVTaXplID0gOCxcbiAgICBzaG9ydExpbmVTaXplID0gMTAsXG4gICAgb2Zmc2V0WCA9IFRJTUVMSU5FX09GRlNFVF9YICsgVElNRUxJTkVfT0ZGU0VUX0NBTlZBU19MRUZULFxuICAgIHRleHRPZmZzZXRZID0gMTcsIC8vIFBsYWNlIHRoZSB0ZXh0IGFib3ZlIHRoZSBsaW5lcyBidXQgaW5zaWRlIHRoZSBjYW52YXNcbiAgICB0ZXh0Rm9ybWF0ID0gZm9ybWF0VGltZWxpbmVVbml0LFxuICAgIHNjcm9sbExlZnQ6IHNjcm9sbFBvcyA9IDAsXG4gICAgb25DbGljayxcbiAgfSA9IHByb3BzO1xuICBjb25zdCB7IHNjYWxlIH0gPSB1c2VTdG9yZSgpO1xuICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWY8SFRNTENhbnZhc0VsZW1lbnQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2NhbnZhc0NvbnRleHQsIHNldENhbnZhc0NvbnRleHRdID1cbiAgICB1c2VTdGF0ZTxDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2NhbnZhc1NpemUsIHNldENhbnZhc1NpemVdID0gdXNlU3RhdGUoe1xuICAgIHdpZHRoOiAwLFxuICAgIGhlaWdodDogaGVpZ2h0LCAvLyBJbmNyZWFzZWQgaGVpZ2h0IGZvciB0ZXh0IHNwYWNlXG4gIH0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgaWYgKGNhbnZhcykge1xuICAgICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICBzZXRDYW52YXNDb250ZXh0KGNvbnRleHQpO1xuICAgICAgcmVzaXplKGNhbnZhcywgY29udGV4dCwgc2Nyb2xsUG9zKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVSZXNpemUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgcmVzaXplKGNhbnZhc1JlZi5jdXJyZW50LCBjYW52YXNDb250ZXh0LCBzY3JvbGxQb3MpO1xuICB9LCBbY2FudmFzQ29udGV4dCwgc2Nyb2xsUG9zXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCByZXNpemVIYW5kbGVyID0gZGVib3VuY2UoaGFuZGxlUmVzaXplLCAyMDApO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHJlc2l6ZUhhbmRsZXIpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHJlc2l6ZUhhbmRsZXIpO1xuICAgIH07XG4gIH0sIFtoYW5kbGVSZXNpemVdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjYW52YXNDb250ZXh0KSB7XG4gICAgICByZXNpemUoY2FudmFzUmVmLmN1cnJlbnQsIGNhbnZhc0NvbnRleHQsIHNjcm9sbFBvcyk7XG4gICAgfVxuICB9LCBbY2FudmFzQ29udGV4dCwgc2Nyb2xsUG9zLCBzY2FsZV0pO1xuXG4gIGNvbnN0IHJlc2l6ZSA9IChcbiAgICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbCxcbiAgICBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgfCBudWxsLFxuICAgIHNjcm9sbFBvczogbnVtYmVyLFxuICApID0+IHtcbiAgICBpZiAoIWNhbnZhcyB8fCAhY29udGV4dCkgcmV0dXJuO1xuXG4gICAgY29uc3Qgb2Zmc2V0UGFyZW50ID0gY2FudmFzLm9mZnNldFBhcmVudCBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICBjb25zdCB3aWR0aCA9IG9mZnNldFBhcmVudD8ub2Zmc2V0V2lkdGggPz8gY2FudmFzLm9mZnNldFdpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IGNhbnZhc1NpemUuaGVpZ2h0O1xuXG4gICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcblxuICAgIGRyYXcoY29udGV4dCwgc2Nyb2xsUG9zLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICBzZXRDYW52YXNTaXplKHsgd2lkdGgsIGhlaWdodCB9KTtcbiAgfTtcblxuICBjb25zdCBkcmF3ID0gKFxuICAgIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgICBzY3JvbGxQb3M6IG51bWJlcixcbiAgICB3aWR0aDogbnVtYmVyLFxuICAgIGhlaWdodDogbnVtYmVyLFxuICApID0+IHtcbiAgICBjb25zdCB6b29tID0gc2NhbGUuem9vbTtcbiAgICBjb25zdCB1bml0ID0gc2NhbGUudW5pdDtcbiAgICBjb25zdCBzZWdtZW50cyA9IHNjYWxlLnNlZ21lbnRzO1xuICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBcIiM3MTcxN2FcIjtcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IFwiIzcxNzE3YVwiO1xuICAgIGNvbnRleHQubGluZVdpZHRoID0gMTtcbiAgICBjb250ZXh0LmZvbnQgPSBgJHtTTUFMTF9GT05UX1NJWkV9cHggJHtTRUNPTkRBUllfRk9OVH1gO1xuICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gXCJ0b3BcIjtcblxuICAgIGNvbnRleHQudHJhbnNsYXRlKDAuNSwgMCk7XG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgIGNvbnN0IHpvb21Vbml0ID0gdW5pdCAqIHpvb20gKiBQUkVWSUVXX0ZSQU1FX1dJRFRIO1xuICAgIGNvbnN0IG1pblJhbmdlID0gTWF0aC5mbG9vcihzY3JvbGxQb3MgLyB6b29tVW5pdCk7XG4gICAgY29uc3QgbWF4UmFuZ2UgPSBNYXRoLmNlaWwoKHNjcm9sbFBvcyArIHdpZHRoKSAvIHpvb21Vbml0KTtcbiAgICBjb25zdCBsZW5ndGggPSBtYXhSYW5nZSAtIG1pblJhbmdlO1xuXG4gICAgLy8gRHJhdyB0ZXh0IGJlZm9yZSBkcmF3aW5nIHRoZSBsaW5lc1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IGxlbmd0aDsgKytpKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGkgKyBtaW5SYW5nZTtcblxuICAgICAgaWYgKHZhbHVlIDwgMCkgY29udGludWU7XG5cbiAgICAgIGNvbnN0IHN0YXJ0VmFsdWUgPSAodmFsdWUgKiB6b29tVW5pdCkgLyB6b29tO1xuICAgICAgY29uc3Qgc3RhcnRQb3MgPSAoc3RhcnRWYWx1ZSAtIHNjcm9sbFBvcyAvIHpvb20pICogem9vbTtcblxuICAgICAgaWYgKHN0YXJ0UG9zIDwgLXpvb21Vbml0IHx8IHN0YXJ0UG9zID49IHdpZHRoICsgem9vbVVuaXQpIGNvbnRpbnVlO1xuICAgICAgY29uc3QgdGV4dCA9IHRleHRGb3JtYXQoc3RhcnRWYWx1ZSk7XG5cbiAgICAgIC8vIENhbGN1bGF0ZSB0aGUgdGV4dE9mZnNldFggdmFsdWVcbiAgICAgIGNvbnN0IHRleHRXaWR0aCA9IGNvbnRleHQubWVhc3VyZVRleHQodGV4dCkud2lkdGg7XG4gICAgICBjb25zdCB0ZXh0T2Zmc2V0WCA9IC10ZXh0V2lkdGggLyAyO1xuXG4gICAgICAvLyBBZGp1c3QgdGV4dE9mZnNldFkgc28gaXQgc3RheXMgaW5zaWRlIHRoZSBjYW52YXMgYnV0IGFib3ZlIHRoZSBsaW5lc1xuICAgICAgY29udGV4dC5maWxsVGV4dCh0ZXh0LCBzdGFydFBvcyArIHRleHRPZmZzZXRYICsgb2Zmc2V0WCwgdGV4dE9mZnNldFkpO1xuICAgIH1cblxuICAgIC8vIERyYXcgbG9uZyBhbmQgc2hvcnQgbGluZXMgYWZ0ZXIgdGhlIHRleHRcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBsZW5ndGg7ICsraSkge1xuICAgICAgY29uc3QgdmFsdWUgPSBpICsgbWluUmFuZ2U7XG5cbiAgICAgIGlmICh2YWx1ZSA8IDApIGNvbnRpbnVlO1xuXG4gICAgICBjb25zdCBzdGFydFZhbHVlID0gdmFsdWUgKiB6b29tVW5pdDtcbiAgICAgIGNvbnN0IHN0YXJ0UG9zID0gc3RhcnRWYWx1ZSAtIHNjcm9sbFBvcyArIG9mZnNldFg7XG5cbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgc2VnbWVudHM7ICsraikge1xuICAgICAgICBjb25zdCBwb3MgPSBzdGFydFBvcyArIChqIC8gc2VnbWVudHMpICogem9vbVVuaXQ7XG5cbiAgICAgICAgaWYgKHBvcyA8IDAgfHwgcG9zID49IHdpZHRoKSBjb250aW51ZTtcblxuICAgICAgICBjb25zdCBsaW5lU2l6ZSA9IGogJSBzZWdtZW50cyA/IHNob3J0TGluZVNpemUgOiBsb25nTGluZVNpemU7XG5cbiAgICAgICAgLy8gU2V0IGNvbG9yIGJhc2VkIG9uIGxpbmUgc2l6ZVxuICAgICAgICBpZiAobGluZVNpemUgPT09IHNob3J0TGluZVNpemUpIHtcbiAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gXCIjNTI1MjViXCI7IC8vIFllbGxvdyBmb3Igc2hvcnQgbGluZXNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gXCIjMTgxODFiXCI7IC8vIFJlZCBmb3IgbG9uZyBsaW5lc1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb3JpZ2luID0gMTg7IC8vIEluY3JlYXNlIHRoZSBvcmlnaW4gdG8gc3RhcnQgbGluZXMgbG93ZXIsIGJlbG93IHRoZSB0ZXh0XG5cbiAgICAgICAgY29uc3QgW3gxLCB5MV0gPSBbcG9zLCBvcmlnaW5dO1xuICAgICAgICBjb25zdCBbeDIsIHkyXSA9IFt4MSwgeTEgKyBsaW5lU2l6ZV07XG5cbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTsgLy8gQmVnaW4gYSBuZXcgcGF0aCBmb3IgZWFjaCBsaW5lXG4gICAgICAgIGNvbnRleHQubW92ZVRvKHgxLCB5MSk7XG4gICAgICAgIGNvbnRleHQubGluZVRvKHgyLCB5Mik7XG5cbiAgICAgICAgLy8gU2V0IGNvbG9yIGJhc2VkIG9uIGxpbmUgc2l6ZVxuICAgICAgICBpZiAobGluZVNpemUgPT09IHNob3J0TGluZVNpemUpIHtcbiAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpOyAvLyBEcmF3IHRoZSBsaW5lXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDbGljayA9IChldmVudDogUmVhY3QuTW91c2VFdmVudDxIVE1MQ2FudmFzRWxlbWVudD4pID0+IHtcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICBpZiAoIWNhbnZhcykgcmV0dXJuO1xuXG4gICAgLy8gR2V0IHRoZSBib3VuZGluZyBib3ggb2YgdGhlIGNhbnZhcyB0byBjYWxjdWxhdGUgdGhlIHJlbGF0aXZlIGNsaWNrIHBvc2l0aW9uXG4gICAgY29uc3QgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBjbGlja1ggPSBldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0O1xuXG4gICAgLy8gQ2FsY3VsYXRlIHRvdGFsIHggcG9zaXRpb24sIGluY2x1ZGluZyBzY3JvbGxQb3NcbiAgICBjb25zdCB0b3RhbFggPVxuICAgICAgY2xpY2tYICsgc2Nyb2xsUG9zIC0gVElNRUxJTkVfT0ZGU0VUX1ggLSBUSU1FTElORV9PRkZTRVRfQ0FOVkFTX0xFRlQ7XG5cbiAgICBvbkNsaWNrPy4odG90YWxYKTtcbiAgICAvLyBIZXJlIHlvdSBjYW4gaGFuZGxlIHRoZSByZXN1bHQgYXMgbmVlZGVkXG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9XCJib3JkZXItdCBib3JkZXItYm9yZGVyXCJcbiAgICAgIHN0eWxlPXt7XG4gICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgaGVpZ2h0OiBgJHtjYW52YXNTaXplLmhlaWdodH1weGAsXG4gICAgICB9fVxuICAgID5cbiAgICAgIDxjYW52YXNcbiAgICAgICAgb25Nb3VzZVVwPXtoYW5kbGVDbGlja31cbiAgICAgICAgcmVmPXtjYW52YXNSZWZ9XG4gICAgICAgIGhlaWdodD17Y2FudmFzU2l6ZS5oZWlnaHR9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUnVsZXI7XG4iXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIlBSRVZJRVdfRlJBTUVfV0lEVEgiLCJTRUNPTkRBUllfRk9OVCIsIlNNQUxMX0ZPTlRfU0laRSIsIlRJTUVMSU5FX09GRlNFVF9DQU5WQVNfTEVGVCIsIlRJTUVMSU5FX09GRlNFVF9YIiwiZm9ybWF0VGltZWxpbmVVbml0IiwidXNlU3RvcmUiLCJkZWJvdW5jZSIsIlJ1bGVyIiwicHJvcHMiLCJoZWlnaHQiLCJsb25nTGluZVNpemUiLCJzaG9ydExpbmVTaXplIiwib2Zmc2V0WCIsInRleHRPZmZzZXRZIiwidGV4dEZvcm1hdCIsInNjcm9sbExlZnQiLCJzY3JvbGxQb3MiLCJvbkNsaWNrIiwic2NhbGUiLCJjYW52YXNSZWYiLCJjYW52YXNDb250ZXh0Iiwic2V0Q2FudmFzQ29udGV4dCIsImNhbnZhc1NpemUiLCJzZXRDYW52YXNTaXplIiwid2lkdGgiLCJjYW52YXMiLCJjdXJyZW50IiwiY29udGV4dCIsImdldENvbnRleHQiLCJyZXNpemUiLCJoYW5kbGVSZXNpemUiLCJyZXNpemVIYW5kbGVyIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvZmZzZXRQYXJlbnQiLCJvZmZzZXRXaWR0aCIsImRyYXciLCJ6b29tIiwidW5pdCIsInNlZ21lbnRzIiwiY2xlYXJSZWN0Iiwic2F2ZSIsInN0cm9rZVN0eWxlIiwiZmlsbFN0eWxlIiwibGluZVdpZHRoIiwiZm9udCIsInRleHRCYXNlbGluZSIsInRyYW5zbGF0ZSIsImJlZ2luUGF0aCIsInpvb21Vbml0IiwibWluUmFuZ2UiLCJNYXRoIiwiZmxvb3IiLCJtYXhSYW5nZSIsImNlaWwiLCJsZW5ndGgiLCJpIiwidmFsdWUiLCJzdGFydFZhbHVlIiwic3RhcnRQb3MiLCJ0ZXh0IiwidGV4dFdpZHRoIiwibWVhc3VyZVRleHQiLCJ0ZXh0T2Zmc2V0WCIsImZpbGxUZXh0IiwiaiIsInBvcyIsImxpbmVTaXplIiwib3JpZ2luIiwieDEiLCJ5MSIsIngyIiwieTIiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJyZXN0b3JlIiwiaGFuZGxlQ2xpY2siLCJldmVudCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjbGlja1giLCJjbGllbnRYIiwibGVmdCIsInRvdGFsWCIsImRpdiIsImNsYXNzTmFtZSIsInN0eWxlIiwicG9zaXRpb24iLCJvbk1vdXNlVXAiLCJyZWYiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./features/editor/timeline/ruler.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./features/editor/timeline/timeline.tsx":
/*!***********************************************!*\
  !*** ./features/editor/timeline/timeline.tsx ***!
  \***********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _header__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./header */ \"(app-pages-browser)/./features/editor/timeline/header.tsx\");\n/* harmony import */ var _ruler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ruler */ \"(app-pages-browser)/./features/editor/timeline/ruler.tsx\");\n/* harmony import */ var _designcombo_timeline__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @designcombo/timeline */ \"(app-pages-browser)/./node_modules/@designcombo/timeline/dist/index.es.js\");\n/* harmony import */ var _items_timeline__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./items/timeline */ \"(app-pages-browser)/./features/editor/timeline/items/timeline.ts\");\n/* harmony import */ var _radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @radix-ui/react-scroll-area */ \"(app-pages-browser)/./node_modules/@radix-ui/react-scroll-area/dist/index.mjs\");\n/* harmony import */ var _designcombo_events__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @designcombo/events */ \"(app-pages-browser)/./node_modules/@designcombo/events/dist/index.es.js\");\n/* harmony import */ var _store_use_store__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../store/use-store */ \"(app-pages-browser)/./features/editor/store/use-store.ts\");\n/* harmony import */ var _playhead__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./playhead */ \"(app-pages-browser)/./features/editor/timeline/playhead.tsx\");\n/* harmony import */ var _hooks_use_current_frame__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../hooks/use-current-frame */ \"(app-pages-browser)/./features/editor/hooks/use-current-frame.tsx\");\n/* harmony import */ var _items__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./items */ \"(app-pages-browser)/./features/editor/timeline/items/index.ts\");\n/* harmony import */ var _designcombo_state__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @designcombo/state */ \"(app-pages-browser)/./node_modules/@designcombo/state/dist/index.es.js\");\n/* harmony import */ var _constants_constants__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../constants/constants */ \"(app-pages-browser)/./features/editor/constants/constants.ts\");\n/* harmony import */ var _items_preview_drag_item__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./items/preview-drag-item */ \"(app-pages-browser)/./features/editor/timeline/items/preview-drag-item.ts\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n_items_timeline__WEBPACK_IMPORTED_MODULE_5__[\"default\"].registerItems({\n    Text: _items__WEBPACK_IMPORTED_MODULE_10__.Text,\n    Image: _items__WEBPACK_IMPORTED_MODULE_10__.Image,\n    Audio: _items__WEBPACK_IMPORTED_MODULE_10__.Audio,\n    Video: _items__WEBPACK_IMPORTED_MODULE_10__.Video,\n    Caption: _items__WEBPACK_IMPORTED_MODULE_10__.Caption,\n    Helper: _items__WEBPACK_IMPORTED_MODULE_10__.Helper,\n    Track: _items__WEBPACK_IMPORTED_MODULE_10__.Track,\n    PreviewTrackItem: _items_preview_drag_item__WEBPACK_IMPORTED_MODULE_13__[\"default\"]\n});\nconst EMPTY_SIZE = {\n    width: 0,\n    height: 0\n};\nconst Timeline = (param)=>{\n    let { stateManager } = param;\n    var _playerRef_current;\n    _s();\n    // prevent duplicate scroll events\n    const canScrollRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const timelineContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [scrollLeft, setScrollLeft] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const canvasElRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const verticalScrollbarVpRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const horizontalScrollbarVpRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const { scale, playerRef, fps, duration, setState, timeline } = (0,_store_use_store__WEBPACK_IMPORTED_MODULE_7__[\"default\"])();\n    const currentFrame = (0,_hooks_use_current_frame__WEBPACK_IMPORTED_MODULE_9__.useCurrentPlayerFrame)(playerRef);\n    const [canvasSize, setCanvasSize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(EMPTY_SIZE);\n    const [size, setSize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(EMPTY_SIZE);\n    const { setTimeline } = (0,_store_use_store__WEBPACK_IMPORTED_MODULE_7__[\"default\"])();\n    const onScroll = (v)=>{\n        if (horizontalScrollbarVpRef.current && verticalScrollbarVpRef.current) {\n            verticalScrollbarVpRef.current.scrollTop = -v.scrollTop;\n            horizontalScrollbarVpRef.current.scrollLeft = -v.scrollLeft;\n            setScrollLeft(-v.scrollLeft);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (playerRef === null || playerRef === void 0 ? void 0 : playerRef.current) {\n            canScrollRef.current = playerRef === null || playerRef === void 0 ? void 0 : playerRef.current.isPlaying();\n        }\n    }, [\n        playerRef === null || playerRef === void 0 ? void 0 : (_playerRef_current = playerRef.current) === null || _playerRef_current === void 0 ? void 0 : _playerRef_current.isPlaying()\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        var _canvasElRef_current, _canvasElRef_current1;\n        const position = (0,_designcombo_timeline__WEBPACK_IMPORTED_MODULE_4__.timeMsToUnits)(currentFrame / fps * 1000, scale.zoom);\n        const canvasBoudingX = ((_canvasElRef_current = canvasElRef.current) === null || _canvasElRef_current === void 0 ? void 0 : _canvasElRef_current.getBoundingClientRect().x) + ((_canvasElRef_current1 = canvasElRef.current) === null || _canvasElRef_current1 === void 0 ? void 0 : _canvasElRef_current1.clientWidth);\n        const playHeadPos = position - scrollLeft + 40;\n        if (playHeadPos >= canvasBoudingX) {\n            var _horizontalScrollbarVpRef_current, _horizontalScrollbarVpRef_current1, _horizontalScrollbarVpRef_current2;\n            const scrollDivWidth = (_horizontalScrollbarVpRef_current = horizontalScrollbarVpRef.current) === null || _horizontalScrollbarVpRef_current === void 0 ? void 0 : _horizontalScrollbarVpRef_current.clientWidth;\n            const totalScrollWidth = (_horizontalScrollbarVpRef_current1 = horizontalScrollbarVpRef.current) === null || _horizontalScrollbarVpRef_current1 === void 0 ? void 0 : _horizontalScrollbarVpRef_current1.scrollWidth;\n            const currentPosScroll = (_horizontalScrollbarVpRef_current2 = horizontalScrollbarVpRef.current) === null || _horizontalScrollbarVpRef_current2 === void 0 ? void 0 : _horizontalScrollbarVpRef_current2.scrollLeft;\n            const availableScroll = totalScrollWidth - (scrollDivWidth + currentPosScroll);\n            const scaleScroll = availableScroll / scrollDivWidth;\n            if (scaleScroll >= 0) {\n                var _horizontalScrollbarVpRef_current3, _horizontalScrollbarVpRef_current4;\n                if (scaleScroll > 1) (_horizontalScrollbarVpRef_current3 = horizontalScrollbarVpRef.current) === null || _horizontalScrollbarVpRef_current3 === void 0 ? void 0 : _horizontalScrollbarVpRef_current3.scrollTo({\n                    left: currentPosScroll + scrollDivWidth\n                });\n                else (_horizontalScrollbarVpRef_current4 = horizontalScrollbarVpRef.current) === null || _horizontalScrollbarVpRef_current4 === void 0 ? void 0 : _horizontalScrollbarVpRef_current4.scrollTo({\n                    left: totalScrollWidth - scrollDivWidth\n                });\n            }\n        }\n    }, [\n        currentFrame\n    ]);\n    const onResizeCanvas = (payload)=>{\n        setCanvasSize({\n            width: payload.width,\n            height: payload.height\n        });\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const canvasEl = canvasElRef.current;\n        const timelineContainerEl = timelineContainerRef.current;\n        if (!canvasEl || !timelineContainerEl) return;\n        const containerWidth = timelineContainerEl.clientWidth - 40;\n        const containerHeight = timelineContainerEl.clientHeight - 90;\n        const canvas = new _items_timeline__WEBPACK_IMPORTED_MODULE_5__[\"default\"](canvasEl, {\n            width: containerWidth,\n            height: containerHeight,\n            bounding: {\n                width: containerWidth,\n                height: 0\n            },\n            selectionColor: \"rgba(0, 216, 214,0.1)\",\n            selectionBorderColor: \"rgba(0, 216, 214,1.0)\",\n            onScroll,\n            onResizeCanvas,\n            scale: scale,\n            state: stateManager,\n            duration,\n            spacing: {\n                left: _constants_constants__WEBPACK_IMPORTED_MODULE_12__.TIMELINE_OFFSET_CANVAS_LEFT,\n                right: _constants_constants__WEBPACK_IMPORTED_MODULE_12__.TIMELINE_OFFSET_CANVAS_RIGHT\n            },\n            sizesMap: {\n                caption: 32,\n                text: 32,\n                audio: 36,\n                customTrack: 40,\n                customTrack2: 40\n            },\n            acceptsMap: {\n                text: [\n                    \"text\",\n                    \"caption\"\n                ],\n                image: [\n                    \"image\",\n                    \"video\"\n                ],\n                video: [\n                    \"video\",\n                    \"image\"\n                ],\n                audio: [\n                    \"audio\"\n                ],\n                caption: [\n                    \"caption\",\n                    \"text\"\n                ],\n                template: [\n                    \"template\"\n                ],\n                customTrack: [\n                    \"video\",\n                    \"image\"\n                ],\n                customTrack2: [\n                    \"video\",\n                    \"image\"\n                ],\n                main: [\n                    \"video\",\n                    \"image\"\n                ]\n            },\n            guideLineColor: \"#ffffff\"\n        });\n        canvasRef.current = canvas;\n        setCanvasSize({\n            width: containerWidth,\n            height: containerHeight\n        });\n        setSize({\n            width: containerWidth,\n            height: 0\n        });\n        setTimeline(canvas);\n        const resizeDesignSubscription = stateManager.subscribeToSize((newState)=>{\n            setState(newState);\n        });\n        const scaleSubscription = stateManager.subscribeToScale((newState)=>{\n            setState(newState);\n        });\n        const tracksSubscription = stateManager.subscribeToState((newState)=>{\n            setState(newState);\n        });\n        const durationSubscription = stateManager.subscribeToDuration((newState)=>{\n            setState(newState);\n        });\n        const updateTrackItemsMap = stateManager.subscribeToUpdateTrackItem(()=>{\n            const currentState = stateManager.getState();\n            setState({\n                duration: currentState.duration,\n                trackItemsMap: currentState.trackItemsMap\n            });\n        });\n        const itemsDetailsSubscription = stateManager.subscribeToAddOrRemoveItems(()=>{\n            const currentState = stateManager.getState();\n            setState({\n                trackItemDetailsMap: currentState.trackItemDetailsMap,\n                trackItemsMap: currentState.trackItemsMap,\n                trackItemIds: currentState.trackItemIds,\n                tracks: currentState.tracks\n            });\n        });\n        const updateItemDetailsSubscription = stateManager.subscribeToUpdateItemDetails(()=>{\n            const currentState = stateManager.getState();\n            setState({\n                trackItemDetailsMap: currentState.trackItemDetailsMap\n            });\n        });\n        return ()=>{\n            canvas.purge();\n            scaleSubscription.unsubscribe();\n            tracksSubscription.unsubscribe();\n            durationSubscription.unsubscribe();\n            itemsDetailsSubscription.unsubscribe();\n            updateTrackItemsMap.unsubscribe();\n            updateItemDetailsSubscription.unsubscribe();\n            resizeDesignSubscription.unsubscribe();\n        };\n    }, []);\n    const handleOnScrollH = (e)=>{\n        const scrollLeft = e.currentTarget.scrollLeft;\n        if (canScrollRef.current) {\n            const canvas = canvasRef.current;\n            canvas.scrollTo({\n                scrollLeft\n            });\n        }\n        setScrollLeft(scrollLeft);\n    };\n    const handleOnScrollV = (e)=>{\n        const scrollTop = e.currentTarget.scrollTop;\n        if (canScrollRef.current) {\n            const canvas = canvasRef.current;\n            canvas.scrollTo({\n                scrollTop\n            });\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const addEvents = _designcombo_events__WEBPACK_IMPORTED_MODULE_6__.subject.pipe((0,_designcombo_events__WEBPACK_IMPORTED_MODULE_6__.filter)((param)=>{\n            let { key } = param;\n            return key.startsWith(_designcombo_timeline__WEBPACK_IMPORTED_MODULE_4__.TIMELINE_PREFIX);\n        }));\n        const subscription = addEvents.subscribe((obj)=>{\n            if (obj.key === _designcombo_timeline__WEBPACK_IMPORTED_MODULE_4__.TIMELINE_BOUNDING_CHANGED) {\n                var _obj_value_payload, _obj_value;\n                const bounding = (_obj_value = obj.value) === null || _obj_value === void 0 ? void 0 : (_obj_value_payload = _obj_value.payload) === null || _obj_value_payload === void 0 ? void 0 : _obj_value_payload.bounding;\n                if (bounding) {\n                    setSize({\n                        width: bounding.width,\n                        height: bounding.height\n                    });\n                }\n            }\n        });\n        return ()=>{\n            subscription.unsubscribe();\n        };\n    }, []);\n    const handleReplaceItem = (trackItem)=>{\n        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_6__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_11__.REPLACE_MEDIA, {\n            payload: {\n                [trackItem.id]: {\n                    details: {\n                        src: \"https://cdn.designcombo.dev/videos/demo-video-4.mp4\"\n                    }\n                }\n            }\n        });\n    };\n    const onClickRuler = (units)=>{\n        var _playerRef_current;\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        const time = (0,_designcombo_timeline__WEBPACK_IMPORTED_MODULE_4__.unitsToTimeMs)(units, scale.zoom);\n        playerRef === null || playerRef === void 0 ? void 0 : (_playerRef_current = playerRef.current) === null || _playerRef_current === void 0 ? void 0 : _playerRef_current.seekTo(time * fps / 1000);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        var _horizontalScrollbarVpRef_current;\n        const availableScroll = (_horizontalScrollbarVpRef_current = horizontalScrollbarVpRef.current) === null || _horizontalScrollbarVpRef_current === void 0 ? void 0 : _horizontalScrollbarVpRef_current.scrollWidth;\n        if (!availableScroll || !timeline) return;\n        const canvasWidth = timeline.width;\n        if (availableScroll < canvasWidth + scrollLeft) {\n            timeline.scrollTo({\n                scrollLeft: availableScroll - canvasWidth\n            });\n        }\n    }, [\n        scale\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: timelineContainerRef,\n        id: \"timeline-container\",\n        className: \"relative h-full w-full overflow-hidden bg-sidebar\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_header__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {}, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\timeline.tsx\",\n                lineNumber: 288,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ruler__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                onClick: onClickRuler,\n                scrollLeft: scrollLeft\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\timeline.tsx\",\n                lineNumber: 289,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_playhead__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                scrollLeft: scrollLeft\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\timeline.tsx\",\n                lineNumber: 290,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"relative w-10 flex-none\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\timeline.tsx\",\n                        lineNumber: 292,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            height: canvasSize.height\n                        },\n                        className: \"relative flex-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    height: canvasSize.height\n                                },\n                                ref: containerRef,\n                                className: \"absolute top-0 w-full\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                                    id: \"designcombo-timeline-canvas\",\n                                    ref: canvasElRef\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\timeline.tsx\",\n                                    lineNumber: 299,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\timeline.tsx\",\n                                lineNumber: 294,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_14__.Root, {\n                                type: \"always\",\n                                style: {\n                                    position: \"absolute\",\n                                    width: \"calc(100vw - 40px)\",\n                                    height: \"10px\"\n                                },\n                                className: \"ScrollAreaRootH\",\n                                onPointerDown: ()=>{\n                                    canScrollRef.current = true;\n                                },\n                                onPointerUp: ()=>{\n                                    canScrollRef.current = false;\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_14__.Viewport, {\n                                        onScroll: handleOnScrollH,\n                                        className: \"ScrollAreaViewport\",\n                                        id: \"viewportH\",\n                                        ref: horizontalScrollbarVpRef,\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                width: size.width > canvasSize.width ? size.width + _constants_constants__WEBPACK_IMPORTED_MODULE_12__.TIMELINE_OFFSET_CANVAS_RIGHT : size.width\n                                            },\n                                            className: \"pointer-events-none h-[10px]\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\timeline.tsx\",\n                                            lineNumber: 322,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\timeline.tsx\",\n                                        lineNumber: 316,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_14__.Scrollbar, {\n                                        className: \"ScrollAreaScrollbar\",\n                                        orientation: \"horizontal\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_14__.Thumb, {\n                                            onMouseDown: ()=>{\n                                                canScrollRef.current = true;\n                                            },\n                                            onMouseUp: ()=>{\n                                                canScrollRef.current = false;\n                                            },\n                                            className: \"ScrollAreaThumb\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\timeline.tsx\",\n                                            lineNumber: 337,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\timeline.tsx\",\n                                        lineNumber: 333,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\timeline.tsx\",\n                                lineNumber: 301,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_14__.Root, {\n                                type: \"always\",\n                                style: {\n                                    position: \"absolute\",\n                                    height: canvasSize.height,\n                                    width: \"10px\"\n                                },\n                                className: \"ScrollAreaRootV\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_14__.Viewport, {\n                                        onScroll: handleOnScrollV,\n                                        className: \"ScrollAreaViewport\",\n                                        ref: verticalScrollbarVpRef,\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                height: size.height > canvasSize.height ? size.height + 40 : canvasSize.height\n                                            },\n                                            className: \"pointer-events-none w-[10px]\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\timeline.tsx\",\n                                            lineNumber: 363,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\timeline.tsx\",\n                                        lineNumber: 358,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_14__.Scrollbar, {\n                                        className: \"ScrollAreaScrollbar\",\n                                        orientation: \"vertical\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_14__.Thumb, {\n                                            onMouseDown: ()=>{\n                                                canScrollRef.current = true;\n                                            },\n                                            onMouseUp: ()=>{\n                                                canScrollRef.current = false;\n                                            },\n                                            className: \"ScrollAreaThumb\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\timeline.tsx\",\n                                            lineNumber: 377,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\timeline.tsx\",\n                                        lineNumber: 373,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\timeline.tsx\",\n                                lineNumber: 349,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\timeline.tsx\",\n                        lineNumber: 293,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\timeline.tsx\",\n                lineNumber: 291,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\timeline.tsx\",\n        lineNumber: 283,\n        columnNumber: 5\n    }, undefined);\n};\n_s(Timeline, \"9wywpLG/f0BNUXUj9+BOy+2Xe6Y=\", false, function() {\n    return [\n        _store_use_store__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n        _hooks_use_current_frame__WEBPACK_IMPORTED_MODULE_9__.useCurrentPlayerFrame,\n        _store_use_store__WEBPACK_IMPORTED_MODULE_7__[\"default\"]\n    ];\n});\n_c = Timeline;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Timeline);\nvar _c;\n$RefreshReg$(_c, \"Timeline\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2ZlYXR1cmVzL2VkaXRvci90aW1lbGluZS90aW1lbGluZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFvRDtBQUN0QjtBQUNGO0FBQ3lDO0FBQ3ZCO0FBQ1k7QUFDTTtBQUlqQztBQUNXO0FBQ1I7QUFDaUM7QUFDUztBQUNYO0FBSWpDO0FBRXlCO0FBRXpETyx1REFBY0EsQ0FBQ3FCLGFBQWEsQ0FBQztJQUMzQlQsSUFBSUEsMkNBQUFBO0lBQ0pELEtBQUtBLDRDQUFBQTtJQUNMRCxLQUFLQSw0Q0FBQUE7SUFDTEcsS0FBS0EsNENBQUFBO0lBQ0xDLE9BQU9BLDhDQUFBQTtJQUNQQyxNQUFNQSw2Q0FBQUE7SUFDTkMsS0FBS0EsNENBQUFBO0lBQ0xJLGdCQUFnQkEsbUVBQUFBO0FBQ2xCO0FBRUEsTUFBTUUsYUFBYTtJQUFFQyxPQUFPO0lBQUdDLFFBQVE7QUFBRTtBQUN6QyxNQUFNQyxXQUFXO1FBQUMsRUFBRUMsWUFBWSxFQUFrQztRQThCNURDOztJQTdCSixrQ0FBa0M7SUFDbEMsTUFBTUMsZUFBZWxDLDZDQUFNQSxDQUFDO0lBQzVCLE1BQU1tQyx1QkFBdUJuQyw2Q0FBTUEsQ0FBaUI7SUFDcEQsTUFBTSxDQUFDb0MsWUFBWUMsY0FBYyxHQUFHcEMsK0NBQVFBLENBQUM7SUFDN0MsTUFBTXFDLGVBQWV0Qyw2Q0FBTUEsQ0FBaUI7SUFDNUMsTUFBTXVDLGNBQWN2Qyw2Q0FBTUEsQ0FBb0I7SUFDOUMsTUFBTXdDLFlBQVl4Qyw2Q0FBTUEsQ0FBd0I7SUFDaEQsTUFBTXlDLHlCQUF5QnpDLDZDQUFNQSxDQUFpQjtJQUN0RCxNQUFNMEMsMkJBQTJCMUMsNkNBQU1BLENBQWlCO0lBQ3hELE1BQU0sRUFBRTJDLEtBQUssRUFBRVYsU0FBUyxFQUFFVyxHQUFHLEVBQUVDLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUUsR0FBR2xDLDREQUFRQTtJQUN4RSxNQUFNbUMsZUFBZWpDLCtFQUFxQkEs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QUNkbUIsV0FBV25CLE1BQU07NENBQ3pCOzRDQUNBcUgsV0FBVTs7Ozs7Ozs7Ozs7a0RBR2QsOERBQUM1SSxtRUFBb0I7d0NBQ25CNEksV0FBVTt3Q0FDVlMsYUFBWTtrREFFWiw0RUFBQ3JKLCtEQUFnQjs0Q0FDZnVKLGFBQWE7Z0RBQ1g1SCxhQUFhc0IsT0FBTyxHQUFHOzRDQUN6Qjs0Q0FDQXVHLFdBQVc7Z0RBQ1Q3SCxhQUFhc0IsT0FBTyxHQUFHOzRDQUN6Qjs0Q0FDQTJGLFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUTFCO0dBcFdNcEg7O1FBVTREbEIsd0RBQVFBO1FBQ25ERSwyRUFBcUJBO1FBTWxCRix3REFBUUE7OztLQWpCNUJrQjtBQXNXTiwrREFBZUEsUUFBUUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9mZWF0dXJlcy9lZGl0b3IvdGltZWxpbmUvdGltZWxpbmUudHN4P2QyYzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgSGVhZGVyIGZyb20gXCIuL2hlYWRlclwiO1xuaW1wb3J0IFJ1bGVyIGZyb20gXCIuL3J1bGVyXCI7XG5pbXBvcnQgeyB0aW1lTXNUb1VuaXRzLCB1bml0c1RvVGltZU1zIH0gZnJvbSBcIkBkZXNpZ25jb21iby90aW1lbGluZVwiO1xuaW1wb3J0IENhbnZhc1RpbWVsaW5lIGZyb20gXCIuL2l0ZW1zL3RpbWVsaW5lXCI7XG5pbXBvcnQgKiBhcyBTY3JvbGxBcmVhIGZyb20gXCJAcmFkaXgtdWkvcmVhY3Qtc2Nyb2xsLWFyZWFcIjtcbmltcG9ydCB7IGRpc3BhdGNoLCBmaWx0ZXIsIHN1YmplY3QgfSBmcm9tIFwiQGRlc2lnbmNvbWJvL2V2ZW50c1wiO1xuaW1wb3J0IHtcbiAgVElNRUxJTkVfQk9VTkRJTkdfQ0hBTkdFRCxcbiAgVElNRUxJTkVfUFJFRklYLFxufSBmcm9tIFwiQGRlc2lnbmNvbWJvL3RpbWVsaW5lXCI7XG5pbXBvcnQgdXNlU3RvcmUgZnJvbSBcIi4uL3N0b3JlL3VzZS1zdG9yZVwiO1xuaW1wb3J0IFBsYXloZWFkIGZyb20gXCIuL3BsYXloZWFkXCI7XG5pbXBvcnQgeyB1c2VDdXJyZW50UGxheWVyRnJhbWUgfSBmcm9tIFwiLi4vaG9va3MvdXNlLWN1cnJlbnQtZnJhbWVcIjtcbmltcG9ydCB7IEF1ZGlvLCBJbWFnZSwgVGV4dCwgVmlkZW8sIENhcHRpb24sIEhlbHBlciwgVHJhY2sgfSBmcm9tIFwiLi9pdGVtc1wiO1xuaW1wb3J0IFN0YXRlTWFuYWdlciwgeyBSRVBMQUNFX01FRElBIH0gZnJvbSBcIkBkZXNpZ25jb21iby9zdGF0ZVwiO1xuaW1wb3J0IHtcbiAgVElNRUxJTkVfT0ZGU0VUX0NBTlZBU19MRUZULFxuICBUSU1FTElORV9PRkZTRVRfQ0FOVkFTX1JJR0hULFxufSBmcm9tIFwiLi4vY29uc3RhbnRzL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgSVRyYWNrSXRlbSB9IGZyb20gXCJAZGVzaWduY29tYm8vdHlwZXNcIjtcbmltcG9ydCBQcmV2aWV3VHJhY2tJdGVtIGZyb20gXCIuL2l0ZW1zL3ByZXZpZXctZHJhZy1pdGVtXCI7XG5cbkNhbnZhc1RpbWVsaW5lLnJlZ2lzdGVySXRlbXMoe1xuICBUZXh0LFxuICBJbWFnZSxcbiAgQXVkaW8sXG4gIFZpZGVvLFxuICBDYXB0aW9uLFxuICBIZWxwZXIsXG4gIFRyYWNrLFxuICBQcmV2aWV3VHJhY2tJdGVtLFxufSk7XG5cbmNvbnN0IEVNUFRZX1NJWkUgPSB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcbmNvbnN0IFRpbWVsaW5lID0gKHsgc3RhdGVNYW5hZ2VyIH06IHsgc3RhdGVNYW5hZ2VyOiBTdGF0ZU1hbmFnZXIgfSkgPT4ge1xuICAvLyBwcmV2ZW50IGR1cGxpY2F0ZSBzY3JvbGwgZXZlbnRzXG4gIGNvbnN0IGNhblNjcm9sbFJlZiA9IHVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IHRpbWVsaW5lQ29udGFpbmVyUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgW3Njcm9sbExlZnQsIHNldFNjcm9sbExlZnRdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IGNvbnRhaW5lclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IGNhbnZhc0VsUmVmID0gdXNlUmVmPEhUTUxDYW52YXNFbGVtZW50PihudWxsKTtcbiAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmPENhbnZhc1RpbWVsaW5lIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHZlcnRpY2FsU2Nyb2xsYmFyVnBSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBob3Jpem9udGFsU2Nyb2xsYmFyVnBSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCB7IHNjYWxlLCBwbGF5ZXJSZWYsIGZwcywgZHVyYXRpb24sIHNldFN0YXRlLCB0aW1lbGluZSB9ID0gdXNlU3RvcmUoKTtcbiAgY29uc3QgY3VycmVudEZyYW1lID0gdXNlQ3VycmVudFBsYXllckZyYW1lKHBsYXllclJlZiEpO1xuICBjb25zdCBbY2FudmFzU2l6ZSwgc2V0Q2FudmFzU2l6ZV0gPSB1c2VTdGF0ZShFTVBUWV9TSVpFKTtcbiAgY29uc3QgW3NpemUsIHNldFNpemVdID0gdXNlU3RhdGU8eyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9PihcbiAgICBFTVBUWV9TSVpFLFxuICApO1xuXG4gIGNvbnN0IHsgc2V0VGltZWxpbmUgfSA9IHVzZVN0b3JlKCk7XG4gIGNvbnN0IG9uU2Nyb2xsID0gKHY6IHsgc2Nyb2xsVG9wOiBudW1iZXI7IHNjcm9sbExlZnQ6IG51bWJlciB9KSA9PiB7XG4gICAgaWYgKGhvcml6b250YWxTY3JvbGxiYXJWcFJlZi5jdXJyZW50ICYmIHZlcnRpY2FsU2Nyb2xsYmFyVnBSZWYuY3VycmVudCkge1xuICAgICAgdmVydGljYWxTY3JvbGxiYXJWcFJlZi5jdXJyZW50LnNjcm9sbFRvcCA9IC12LnNjcm9sbFRvcDtcbiAgICAgIGhvcml6b250YWxTY3JvbGxiYXJWcFJlZi5jdXJyZW50LnNjcm9sbExlZnQgPSAtdi5zY3JvbGxMZWZ0O1xuICAgICAgc2V0U2Nyb2xsTGVmdCgtdi5zY3JvbGxMZWZ0KTtcbiAgICB9XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocGxheWVyUmVmPy5jdXJyZW50KSB7XG4gICAgICBjYW5TY3JvbGxSZWYuY3VycmVudCA9IHBsYXllclJlZj8uY3VycmVudC5pc1BsYXlpbmcoKTtcbiAgICB9XG4gIH0sIFtwbGF5ZXJSZWY/LmN1cnJlbnQ/LmlzUGxheWluZygpXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRpbWVNc1RvVW5pdHMoKGN1cnJlbnRGcmFtZSAvIGZwcykgKiAxMDAwLCBzY2FsZS56b29tKTtcbiAgICBjb25zdCBjYW52YXNCb3VkaW5nWCA9XG4gICAgICBjYW52YXNFbFJlZi5jdXJyZW50Py5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS54ISArXG4gICAgICBjYW52YXNFbFJlZi5jdXJyZW50Py5jbGllbnRXaWR0aCE7XG4gICAgY29uc3QgcGxheUhlYWRQb3MgPSBwb3NpdGlvbiAtIHNjcm9sbExlZnQgKyA0MDtcbiAgICBpZiAocGxheUhlYWRQb3MgPj0gY2FudmFzQm91ZGluZ1gpIHtcbiAgICAgIGNvbnN0IHNjcm9sbERpdldpZHRoID0gaG9yaXpvbnRhbFNjcm9sbGJhclZwUmVmLmN1cnJlbnQ/LmNsaWVudFdpZHRoITtcbiAgICAgIGNvbnN0IHRvdGFsU2Nyb2xsV2lkdGggPSBob3Jpem9udGFsU2Nyb2xsYmFyVnBSZWYuY3VycmVudD8uc2Nyb2xsV2lkdGghO1xuICAgICAgY29uc3QgY3VycmVudFBvc1Njcm9sbCA9IGhvcml6b250YWxTY3JvbGxiYXJWcFJlZi5jdXJyZW50Py5zY3JvbGxMZWZ0ITtcbiAgICAgIGNvbnN0IGF2YWlsYWJsZVNjcm9sbCA9XG4gICAgICAgIHRvdGFsU2Nyb2xsV2lkdGggLSAoc2Nyb2xsRGl2V2lkdGggKyBjdXJyZW50UG9zU2Nyb2xsKTtcbiAgICAgIGNvbnN0IHNjYWxlU2Nyb2xsID0gYXZhaWxhYmxlU2Nyb2xsIC8gc2Nyb2xsRGl2V2lkdGg7XG4gICAgICBpZiAoc2NhbGVTY3JvbGwgPj0gMCkge1xuICAgICAgICBpZiAoc2NhbGVTY3JvbGwgPiAxKVxuICAgICAgICAgIGhvcml6b250YWxTY3JvbGxiYXJWcFJlZi5jdXJyZW50Py5zY3JvbGxUbyh7XG4gICAgICAgICAgICBsZWZ0OiBjdXJyZW50UG9zU2Nyb2xsICsgc2Nyb2xsRGl2V2lkdGgsXG4gICAgICAgICAgfSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBob3Jpem9udGFsU2Nyb2xsYmFyVnBSZWYuY3VycmVudD8uc2Nyb2xsVG8oe1xuICAgICAgICAgICAgbGVmdDogdG90YWxTY3JvbGxXaWR0aCAtIHNjcm9sbERpdldpZHRoLFxuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2N1cnJlbnRGcmFtZV0pO1xuXG4gIGNvbnN0IG9uUmVzaXplQ2FudmFzID0gKHBheWxvYWQ6IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfSkgPT4ge1xuICAgIHNldENhbnZhc1NpemUoe1xuICAgICAgd2lkdGg6IHBheWxvYWQud2lkdGgsXG4gICAgICBoZWlnaHQ6IHBheWxvYWQuaGVpZ2h0LFxuICAgIH0pO1xuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY2FudmFzRWwgPSBjYW52YXNFbFJlZi5jdXJyZW50O1xuICAgIGNvbnN0IHRpbWVsaW5lQ29udGFpbmVyRWwgPSB0aW1lbGluZUNvbnRhaW5lclJlZi5jdXJyZW50O1xuXG4gICAgaWYgKCFjYW52YXNFbCB8fCAhdGltZWxpbmVDb250YWluZXJFbCkgcmV0dXJuO1xuXG4gICAgY29uc3QgY29udGFpbmVyV2lkdGggPSB0aW1lbGluZUNvbnRhaW5lckVsLmNsaWVudFdpZHRoIC0gNDA7XG4gICAgY29uc3QgY29udGFpbmVySGVpZ2h0ID0gdGltZWxpbmVDb250YWluZXJFbC5jbGllbnRIZWlnaHQgLSA5MDtcbiAgICBjb25zdCBjYW52YXMgPSBuZXcgQ2FudmFzVGltZWxpbmUoY2FudmFzRWwsIHtcbiAgICAgIHdpZHRoOiBjb250YWluZXJXaWR0aCxcbiAgICAgIGhlaWdodDogY29udGFpbmVySGVpZ2h0LFxuICAgICAgYm91bmRpbmc6IHtcbiAgICAgICAgd2lkdGg6IGNvbnRhaW5lcldpZHRoLFxuICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICB9LFxuICAgICAgc2VsZWN0aW9uQ29sb3I6IFwicmdiYSgwLCAyMTYsIDIxNCwwLjEpXCIsXG4gICAgICBzZWxlY3Rpb25Cb3JkZXJDb2xvcjogXCJyZ2JhKDAsIDIxNiwgMjE0LDEuMClcIixcbiAgICAgIG9uU2Nyb2xsLFxuICAgICAgb25SZXNpemVDYW52YXMsXG4gICAgICBzY2FsZTogc2NhbGUsXG4gICAgICBzdGF0ZTogc3RhdGVNYW5hZ2VyLFxuICAgICAgZHVyYXRpb24sXG4gICAgICBzcGFjaW5nOiB7XG4gICAgICAgIGxlZnQ6IFRJTUVMSU5FX09GRlNFVF9DQU5WQVNfTEVGVCxcbiAgICAgICAgcmlnaHQ6IFRJTUVMSU5FX09GRlNFVF9DQU5WQVNfUklHSFQsXG4gICAgICB9LFxuICAgICAgc2l6ZXNNYXA6IHtcbiAgICAgICAgY2FwdGlvbjogMzIsXG4gICAgICAgIHRleHQ6IDMyLFxuICAgICAgICBhdWRpbzogMzYsXG4gICAgICAgIGN1c3RvbVRyYWNrOiA0MCxcbiAgICAgICAgY3VzdG9tVHJhY2syOiA0MCxcbiAgICAgIH0sXG4gICAgICBhY2NlcHRzTWFwOiB7XG4gICAgICAgIHRleHQ6IFtcInRleHRcIiwgXCJjYXB0aW9uXCJdLFxuICAgICAgICBpbWFnZTogW1wiaW1hZ2VcIiwgXCJ2aWRlb1wiXSxcbiAgICAgICAgdmlkZW86IFtcInZpZGVvXCIsIFwiaW1hZ2VcIl0sXG4gICAgICAgIGF1ZGlvOiBbXCJhdWRpb1wiXSxcbiAgICAgICAgY2FwdGlvbjogW1wiY2FwdGlvblwiLCBcInRleHRcIl0sXG4gICAgICAgIHRlbXBsYXRlOiBbXCJ0ZW1wbGF0ZVwiXSxcbiAgICAgICAgY3VzdG9tVHJhY2s6IFtcInZpZGVvXCIsIFwiaW1hZ2VcIl0sXG4gICAgICAgIGN1c3RvbVRyYWNrMjogW1widmlkZW9cIiwgXCJpbWFnZVwiXSxcbiAgICAgICAgbWFpbjogW1widmlkZW9cIiwgXCJpbWFnZVwiXSxcbiAgICAgIH0sXG4gICAgICBndWlkZUxpbmVDb2xvcjogXCIjZmZmZmZmXCIsXG4gICAgfSk7XG5cbiAgICBjYW52YXNSZWYuY3VycmVudCA9IGNhbnZhcztcblxuICAgIHNldENhbnZhc1NpemUoeyB3aWR0aDogY29udGFpbmVyV2lkdGgsIGhlaWdodDogY29udGFpbmVySGVpZ2h0IH0pO1xuICAgIHNldFNpemUoe1xuICAgICAgd2lkdGg6IGNvbnRhaW5lcldpZHRoLFxuICAgICAgaGVpZ2h0OiAwLFxuICAgIH0pO1xuICAgIHNldFRpbWVsaW5lKGNhbnZhcyk7XG5cbiAgICBjb25zdCByZXNpemVEZXNpZ25TdWJzY3JpcHRpb24gPSBzdGF0ZU1hbmFnZXIuc3Vic2NyaWJlVG9TaXplKFxuICAgICAgKG5ld1N0YXRlKSA9PiB7XG4gICAgICAgIHNldFN0YXRlKG5ld1N0YXRlKTtcbiAgICAgIH0sXG4gICAgKTtcbiAgICBjb25zdCBzY2FsZVN1YnNjcmlwdGlvbiA9IHN0YXRlTWFuYWdlci5zdWJzY3JpYmVUb1NjYWxlKChuZXdTdGF0ZSkgPT4ge1xuICAgICAgc2V0U3RhdGUobmV3U3RhdGUpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgdHJhY2tzU3Vic2NyaXB0aW9uID0gc3RhdGVNYW5hZ2VyLnN1YnNjcmliZVRvU3RhdGUoKG5ld1N0YXRlKSA9PiB7XG4gICAgICBzZXRTdGF0ZShuZXdTdGF0ZSk7XG4gICAgfSk7XG4gICAgY29uc3QgZHVyYXRpb25TdWJzY3JpcHRpb24gPSBzdGF0ZU1hbmFnZXIuc3Vic2NyaWJlVG9EdXJhdGlvbihcbiAgICAgIChuZXdTdGF0ZSkgPT4ge1xuICAgICAgICBzZXRTdGF0ZShuZXdTdGF0ZSk7XG4gICAgICB9LFxuICAgICk7XG5cbiAgICBjb25zdCB1cGRhdGVUcmFja0l0ZW1zTWFwID0gc3RhdGVNYW5hZ2VyLnN1YnNjcmliZVRvVXBkYXRlVHJhY2tJdGVtKCgpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHN0YXRlTWFuYWdlci5nZXRTdGF0ZSgpO1xuICAgICAgc2V0U3RhdGUoe1xuICAgICAgICBkdXJhdGlvbjogY3VycmVudFN0YXRlLmR1cmF0aW9uLFxuICAgICAgICB0cmFja0l0ZW1zTWFwOiBjdXJyZW50U3RhdGUudHJhY2tJdGVtc01hcCxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgY29uc3QgaXRlbXNEZXRhaWxzU3Vic2NyaXB0aW9uID0gc3RhdGVNYW5hZ2VyLnN1YnNjcmliZVRvQWRkT3JSZW1vdmVJdGVtcyhcbiAgICAgICgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFN0YXRlID0gc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCk7XG4gICAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgICB0cmFja0l0ZW1EZXRhaWxzTWFwOiBjdXJyZW50U3RhdGUudHJhY2tJdGVtRGV0YWlsc01hcCxcbiAgICAgICAgICB0cmFja0l0ZW1zTWFwOiBjdXJyZW50U3RhdGUudHJhY2tJdGVtc01hcCxcbiAgICAgICAgICB0cmFja0l0ZW1JZHM6IGN1cnJlbnRTdGF0ZS50cmFja0l0ZW1JZHMsXG4gICAgICAgICAgdHJhY2tzOiBjdXJyZW50U3RhdGUudHJhY2tzLFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgKTtcblxuICAgIGNvbnN0IHVwZGF0ZUl0ZW1EZXRhaWxzU3Vic2NyaXB0aW9uID1cbiAgICAgIHN0YXRlTWFuYWdlci5zdWJzY3JpYmVUb1VwZGF0ZUl0ZW1EZXRhaWxzKCgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFN0YXRlID0gc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCk7XG4gICAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgICB0cmFja0l0ZW1EZXRhaWxzTWFwOiBjdXJyZW50U3RhdGUudHJhY2tJdGVtRGV0YWlsc01hcCxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjYW52YXMucHVyZ2UoKTtcbiAgICAgIHNjYWxlU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICB0cmFja3NTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgIGR1cmF0aW9uU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICBpdGVtc0RldGFpbHNTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgIHVwZGF0ZVRyYWNrSXRlbXNNYXAudW5zdWJzY3JpYmUoKTtcbiAgICAgIHVwZGF0ZUl0ZW1EZXRhaWxzU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICByZXNpemVEZXNpZ25TdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgY29uc3QgaGFuZGxlT25TY3JvbGxIID0gKGU6IFJlYWN0LlVJRXZlbnQ8SFRNTERpdkVsZW1lbnQsIFVJRXZlbnQ+KSA9PiB7XG4gICAgY29uc3Qgc2Nyb2xsTGVmdCA9IGUuY3VycmVudFRhcmdldC5zY3JvbGxMZWZ0O1xuICAgIGlmIChjYW5TY3JvbGxSZWYuY3VycmVudCkge1xuICAgICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQhO1xuICAgICAgY2FudmFzLnNjcm9sbFRvKHsgc2Nyb2xsTGVmdCB9KTtcbiAgICB9XG4gICAgc2V0U2Nyb2xsTGVmdChzY3JvbGxMZWZ0KTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVPblNjcm9sbFYgPSAoZTogUmVhY3QuVUlFdmVudDxIVE1MRGl2RWxlbWVudCwgVUlFdmVudD4pID0+IHtcbiAgICBjb25zdCBzY3JvbGxUb3AgPSBlLmN1cnJlbnRUYXJnZXQuc2Nyb2xsVG9wO1xuICAgIGlmIChjYW5TY3JvbGxSZWYuY3VycmVudCkge1xuICAgICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQhO1xuICAgICAgY2FudmFzLnNjcm9sbFRvKHsgc2Nyb2xsVG9wIH0pO1xuICAgIH1cbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGFkZEV2ZW50cyA9IHN1YmplY3QucGlwZShcbiAgICAgIGZpbHRlcigoeyBrZXkgfSkgPT4ga2V5LnN0YXJ0c1dpdGgoVElNRUxJTkVfUFJFRklYKSksXG4gICAgKTtcblxuICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IGFkZEV2ZW50cy5zdWJzY3JpYmUoKG9iaikgPT4ge1xuICAgICAgaWYgKG9iai5rZXkgPT09IFRJTUVMSU5FX0JPVU5ESU5HX0NIQU5HRUQpIHtcbiAgICAgICAgY29uc3QgYm91bmRpbmcgPSBvYmoudmFsdWU/LnBheWxvYWQ/LmJvdW5kaW5nO1xuICAgICAgICBpZiAoYm91bmRpbmcpIHtcbiAgICAgICAgICBzZXRTaXplKHtcbiAgICAgICAgICAgIHdpZHRoOiBib3VuZGluZy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogYm91bmRpbmcuaGVpZ2h0LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVSZXBsYWNlSXRlbSA9ICh0cmFja0l0ZW06IFBhcnRpYWw8SVRyYWNrSXRlbT4pID0+IHtcbiAgICBkaXNwYXRjaChSRVBMQUNFX01FRElBLCB7XG4gICAgICBwYXlsb2FkOiB7XG4gICAgICAgIFt0cmFja0l0ZW0uaWQhXToge1xuICAgICAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgICAgIHNyYzogXCJodHRwczovL2Nkbi5kZXNpZ25jb21iby5kZXYvdmlkZW9zL2RlbW8tdmlkZW8tNC5tcDRcIixcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBvbkNsaWNrUnVsZXIgPSAodW5pdHM6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xuICAgIGlmICghY2FudmFzKSByZXR1cm47XG5cbiAgICBjb25zdCB0aW1lID0gdW5pdHNUb1RpbWVNcyh1bml0cywgc2NhbGUuem9vbSk7XG4gICAgcGxheWVyUmVmPy5jdXJyZW50Py5zZWVrVG8oKHRpbWUgKiBmcHMpIC8gMTAwMCk7XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBhdmFpbGFibGVTY3JvbGwgPSBob3Jpem9udGFsU2Nyb2xsYmFyVnBSZWYuY3VycmVudD8uc2Nyb2xsV2lkdGg7XG4gICAgaWYgKCFhdmFpbGFibGVTY3JvbGwgfHwgIXRpbWVsaW5lKSByZXR1cm47XG4gICAgY29uc3QgY2FudmFzV2lkdGggPSB0aW1lbGluZS53aWR0aDtcbiAgICBpZiAoYXZhaWxhYmxlU2Nyb2xsIDwgY2FudmFzV2lkdGggKyBzY3JvbGxMZWZ0KSB7XG4gICAgICB0aW1lbGluZS5zY3JvbGxUbyh7IHNjcm9sbExlZnQ6IGF2YWlsYWJsZVNjcm9sbCAtIGNhbnZhc1dpZHRoIH0pO1xuICAgIH1cbiAgfSwgW3NjYWxlXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICByZWY9e3RpbWVsaW5lQ29udGFpbmVyUmVmfVxuICAgICAgaWQ9e1widGltZWxpbmUtY29udGFpbmVyXCJ9XG4gICAgICBjbGFzc05hbWU9XCJyZWxhdGl2ZSBoLWZ1bGwgdy1mdWxsIG92ZXJmbG93LWhpZGRlbiBiZy1zaWRlYmFyXCJcbiAgICA+XG4gICAgICA8SGVhZGVyIC8+XG4gICAgICA8UnVsZXIgb25DbGljaz17b25DbGlja1J1bGVyfSBzY3JvbGxMZWZ0PXtzY3JvbGxMZWZ0fSAvPlxuICAgICAgPFBsYXloZWFkIHNjcm9sbExlZnQ9e3Njcm9sbExlZnR9IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSB3LTEwIGZsZXgtbm9uZVwiPjwvZGl2PlxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGhlaWdodDogY2FudmFzU2l6ZS5oZWlnaHQgfX0gY2xhc3NOYW1lPVwicmVsYXRpdmUgZmxleC0xXCI+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3sgaGVpZ2h0OiBjYW52YXNTaXplLmhlaWdodCB9fVxuICAgICAgICAgICAgcmVmPXtjb250YWluZXJSZWZ9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMCB3LWZ1bGxcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxjYW52YXMgaWQ9XCJkZXNpZ25jb21iby10aW1lbGluZS1jYW52YXNcIiByZWY9e2NhbnZhc0VsUmVmfSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxTY3JvbGxBcmVhLlJvb3RcbiAgICAgICAgICAgIHR5cGU9XCJhbHdheXNcIlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgICAgd2lkdGg6IFwiY2FsYygxMDB2dyAtIDQwcHgpXCIsXG4gICAgICAgICAgICAgIGhlaWdodDogXCIxMHB4XCIsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiU2Nyb2xsQXJlYVJvb3RIXCJcbiAgICAgICAgICAgIG9uUG9pbnRlckRvd249eygpID0+IHtcbiAgICAgICAgICAgICAgY2FuU2Nyb2xsUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uUG9pbnRlclVwPXsoKSA9PiB7XG4gICAgICAgICAgICAgIGNhblNjcm9sbFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxTY3JvbGxBcmVhLlZpZXdwb3J0XG4gICAgICAgICAgICAgIG9uU2Nyb2xsPXtoYW5kbGVPblNjcm9sbEh9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIlNjcm9sbEFyZWFWaWV3cG9ydFwiXG4gICAgICAgICAgICAgIGlkPVwidmlld3BvcnRIXCJcbiAgICAgICAgICAgICAgcmVmPXtob3Jpem9udGFsU2Nyb2xsYmFyVnBSZWZ9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgd2lkdGg6XG4gICAgICAgICAgICAgICAgICAgIHNpemUud2lkdGggPiBjYW52YXNTaXplLndpZHRoXG4gICAgICAgICAgICAgICAgICAgICAgPyBzaXplLndpZHRoICsgVElNRUxJTkVfT0ZGU0VUX0NBTlZBU19SSUdIVFxuICAgICAgICAgICAgICAgICAgICAgIDogc2l6ZS53aWR0aCxcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInBvaW50ZXItZXZlbnRzLW5vbmUgaC1bMTBweF1cIlxuICAgICAgICAgICAgICA+PC9kaXY+XG4gICAgICAgICAgICA8L1Njcm9sbEFyZWEuVmlld3BvcnQ+XG5cbiAgICAgICAgICAgIDxTY3JvbGxBcmVhLlNjcm9sbGJhclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJTY3JvbGxBcmVhU2Nyb2xsYmFyXCJcbiAgICAgICAgICAgICAgb3JpZW50YXRpb249XCJob3Jpem9udGFsXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFNjcm9sbEFyZWEuVGh1bWJcbiAgICAgICAgICAgICAgICBvbk1vdXNlRG93bj17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY2FuU2Nyb2xsUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgb25Nb3VzZVVwPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjYW5TY3JvbGxSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiU2Nyb2xsQXJlYVRodW1iXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvU2Nyb2xsQXJlYS5TY3JvbGxiYXI+XG4gICAgICAgICAgPC9TY3JvbGxBcmVhLlJvb3Q+XG5cbiAgICAgICAgICA8U2Nyb2xsQXJlYS5Sb290XG4gICAgICAgICAgICB0eXBlPVwiYWx3YXlzXCJcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgIGhlaWdodDogY2FudmFzU2l6ZS5oZWlnaHQsXG4gICAgICAgICAgICAgIHdpZHRoOiBcIjEwcHhcIixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJTY3JvbGxBcmVhUm9vdFZcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxTY3JvbGxBcmVhLlZpZXdwb3J0XG4gICAgICAgICAgICAgIG9uU2Nyb2xsPXtoYW5kbGVPblNjcm9sbFZ9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIlNjcm9sbEFyZWFWaWV3cG9ydFwiXG4gICAgICAgICAgICAgIHJlZj17dmVydGljYWxTY3JvbGxiYXJWcFJlZn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBoZWlnaHQ6XG4gICAgICAgICAgICAgICAgICAgIHNpemUuaGVpZ2h0ID4gY2FudmFzU2l6ZS5oZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgICA/IHNpemUuaGVpZ2h0ICsgNDBcbiAgICAgICAgICAgICAgICAgICAgICA6IGNhbnZhc1NpemUuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicG9pbnRlci1ldmVudHMtbm9uZSB3LVsxMHB4XVwiXG4gICAgICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgICAgIDwvU2Nyb2xsQXJlYS5WaWV3cG9ydD5cbiAgICAgICAgICAgIDxTY3JvbGxBcmVhLlNjcm9sbGJhclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJTY3JvbGxBcmVhU2Nyb2xsYmFyXCJcbiAgICAgICAgICAgICAgb3JpZW50YXRpb249XCJ2ZXJ0aWNhbFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxTY3JvbGxBcmVhLlRodW1iXG4gICAgICAgICAgICAgICAgb25Nb3VzZURvd249eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNhblNjcm9sbFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIG9uTW91c2VVcD17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY2FuU2Nyb2xsUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIlNjcm9sbEFyZWFUaHVtYlwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L1Njcm9sbEFyZWEuU2Nyb2xsYmFyPlxuICAgICAgICAgIDwvU2Nyb2xsQXJlYS5Sb290PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgVGltZWxpbmU7XG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJIZWFkZXIiLCJSdWxlciIsInRpbWVNc1RvVW5pdHMiLCJ1bml0c1RvVGltZU1zIiwiQ2FudmFzVGltZWxpbmUiLCJTY3JvbGxBcmVhIiwiZGlzcGF0Y2giLCJmaWx0ZXIiLCJzdWJqZWN0IiwiVElNRUxJTkVfQk9VTkRJTkdfQ0hBTkdFRCIsIlRJTUVMSU5FX1BSRUZJWCIsInVzZVN0b3JlIiwiUGxheWhlYWQiLCJ1c2VDdXJyZW50UGxheWVyRnJhbWUiLCJBdWRpbyIsIkltYWdlIiwiVGV4dCIsIlZpZGVvIiwiQ2FwdGlvbiIsIkhlbHBlciIsIlRyYWNrIiwiUkVQTEFDRV9NRURJQSIsIlRJTUVMSU5FX09GRlNFVF9DQU5WQVNfTEVGVCIsIlRJTUVMSU5FX09GRlNFVF9DQU5WQVNfUklHSFQiLCJQcmV2aWV3VHJhY2tJdGVtIiwicmVnaXN0ZXJJdGVtcyIsIkVNUFRZX1NJWkUiLCJ3aWR0aCIsImhlaWdodCIsIlRpbWVsaW5lIiwic3RhdGVNYW5hZ2VyIiwicGxheWVyUmVmIiwiY2FuU2Nyb2xsUmVmIiwidGltZWxpbmVDb250YWluZXJSZWYiLCJzY3JvbGxMZWZ0Iiwic2V0U2Nyb2xsTGVmdCIsImNvbnRhaW5lclJlZiIsImNhbnZhc0VsUmVmIiwiY2FudmFzUmVmIiwidmVydGljYWxTY3JvbGxiYXJWcFJlZiIsImhvcml6b250YWxTY3JvbGxiYXJWcFJlZiIsInNjYWxlIiwiZnBzIiwiZHVyYXRpb24iLCJzZXRTdGF0ZSIsInRpbWVsaW5lIiwiY3VycmVudEZyYW1lIiwiY2FudmFzU2l6ZSIsInNldENhbnZhc1NpemUiLCJzaXplIiwic2V0U2l6ZSIsInNldFRpbWVsaW5lIiwib25TY3JvbGwiLCJ2IiwiY3VycmVudCIsInNjcm9sbFRvcCIsImlzUGxheWluZyIsInBvc2l0aW9uIiwiem9vbSIsImNhbnZhc0JvdWRpbmdYIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwieCIsImNsaWVudFdpZHRoIiwicGxheUhlYWRQb3MiLCJzY3JvbGxEaXZXaWR0aCIsInRvdGFsU2Nyb2xsV2lkdGgiLCJzY3JvbGxXaWR0aCIsImN1cnJlbnRQb3NTY3JvbGwiLCJhdmFpbGFibGVTY3JvbGwiLCJzY2FsZVNjcm9sbCIsInNjcm9sbFRvIiwibGVmdCIsIm9uUmVzaXplQ2FudmFzIiwicGF5bG9hZCIsImNhbnZhc0VsIiwidGltZWxpbmVDb250YWluZXJFbCIsImNvbnRhaW5lcldpZHRoIiwiY29udGFpbmVySGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiY2FudmFzIiwiYm91bmRpbmciLCJzZWxlY3Rpb25Db2xvciIsInNlbGVjdGlvbkJvcmRlckNvbG9yIiwic3RhdGUiLCJzcGFjaW5nIiwicmlnaHQiLCJzaXplc01hcCIsImNhcHRpb24iLCJ0ZXh0IiwiYXVkaW8iLCJjdXN0b21UcmFjayIsImN1c3RvbVRyYWNrMiIsImFjY2VwdHNNYXAiLCJpbWFnZSIsInZpZGVvIiwidGVtcGxhdGUiLCJtYWluIiwiZ3VpZGVMaW5lQ29sb3IiLCJyZXNpemVEZXNpZ25TdWJzY3JpcHRpb24iLCJzdWJzY3JpYmVUb1NpemUiLCJuZXdTdGF0ZSIsInNjYWxlU3Vic2NyaXB0aW9uIiwic3Vic2NyaWJlVG9TY2FsZSIsInRyYWNrc1N1YnNjcmlwdGlvbiIsInN1YnNjcmliZVRvU3RhdGUiLCJkdXJhdGlvblN1YnNjcmlwdGlvbiIsInN1YnNjcmliZVRvRHVyYXRpb24iLCJ1cGRhdGVUcmFja0l0ZW1zTWFwIiwic3Vic2NyaWJlVG9VcGRhdGVUcmFja0l0ZW0iLCJjdXJyZW50U3RhdGUiLCJnZXRTdGF0ZSIsInRyYWNrSXRlbXNNYXAiLCJpdGVtc0RldGFpbHNTdWJzY3JpcHRpb24iLCJzdWJzY3JpYmVUb0FkZE9yUmVtb3ZlSXRlbXMiLCJ0cmFja0l0ZW1EZXRhaWxzTWFwIiwidHJhY2tJdGVtSWRzIiwidHJhY2tzIiwidXBkYXRlSXRlbURldGFpbHNTdWJzY3JpcHRpb24iLCJzdWJzY3JpYmVUb1VwZGF0ZUl0ZW1EZXRhaWxzIiwicHVyZ2UiLCJ1bnN1YnNjcmliZSIsImhhbmRsZU9uU2Nyb2xsSCIsImUiLCJjdXJyZW50VGFyZ2V0IiwiaGFuZGxlT25TY3JvbGxWIiwiYWRkRXZlbnRzIiwicGlwZSIsImtleSIsInN0YXJ0c1dpdGgiLCJzdWJzY3JpcHRpb24iLCJzdWJzY3JpYmUiLCJvYmoiLCJ2YWx1ZSIsImhhbmRsZVJlcGxhY2VJdGVtIiwidHJhY2tJdGVtIiwiaWQiLCJkZXRhaWxzIiwic3JjIiwib25DbGlja1J1bGVyIiwidW5pdHMiLCJ0aW1lIiwic2Vla1RvIiwiY2FudmFzV2lkdGgiLCJkaXYiLCJyZWYiLCJjbGFzc05hbWUiLCJvbkNsaWNrIiwic3R5bGUiLCJSb290IiwidHlwZSIsIm9uUG9pbnRlckRvd24iLCJvblBvaW50ZXJVcCIsIlZpZXdwb3J0IiwiU2Nyb2xsYmFyIiwib3JpZW50YXRpb24iLCJUaHVtYiIsIm9uTW91c2VEb3duIiwib25Nb3VzZVVwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./features/editor/timeline/timeline.tsx\n"));

/***/ })

});