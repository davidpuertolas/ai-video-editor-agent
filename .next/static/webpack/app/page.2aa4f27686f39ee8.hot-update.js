"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/ai-chat/ai-video-commands.ts":
/*!*************************************************!*\
  !*** ./components/ai-chat/ai-video-commands.ts ***!
  \*************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createVideoCommandExecutor: function() { return /* binding */ createVideoCommandExecutor; }\n/* harmony export */ });\n/* harmony import */ var _designcombo_events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @designcombo/events */ \"(app-pages-browser)/./node_modules/@designcombo/events/dist/index.es.js\");\n/* harmony import */ var _designcombo_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @designcombo/state */ \"(app-pages-browser)/./node_modules/@designcombo/state/dist/index.es.js\");\n/* harmony import */ var _designcombo_timeline__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @designcombo/timeline */ \"(app-pages-browser)/./node_modules/@designcombo/timeline/dist/index.es.js\");\n\n\n\nfunction createVideoCommandExecutor(stateManager) {\n    // Crear el objeto executor con todos los métodos\n    const executor = {\n        addText: (text, options)=>{\n            const position = (options === null || options === void 0 ? void 0 : options.position) || {\n                x: 0.5,\n                y: 0.5\n            }; // Centrado por defecto\n            const fontSize = (options === null || options === void 0 ? void 0 : options.fontSize) || 48;\n            const fontFamily = (options === null || options === void 0 ? void 0 : options.fontFamily) || \"Roboto-Bold\";\n            const color = (options === null || options === void 0 ? void 0 : options.color) || \"#FFFFFF\";\n            const startTime = (options === null || options === void 0 ? void 0 : options.startTime) || 0; // Por defecto al inicio\n            const endTime = (options === null || options === void 0 ? void 0 : options.endTime) || 5; // Por defecto 5 segundos de duración\n            // Crear payload para el texto\n            const textPayload = {\n                id: (0,_designcombo_timeline__WEBPACK_IMPORTED_MODULE_2__.generateId)(),\n                display: {\n                    from: startTime * 1000,\n                    to: endTime * 1000 // Convertir a milisegundos\n                },\n                type: \"text\",\n                details: {\n                    text: text,\n                    fontSize: fontSize,\n                    width: 600,\n                    fontFamily: fontFamily,\n                    color: color,\n                    wordWrap: \"break-word\",\n                    textAlign: \"center\",\n                    borderWidth: 0,\n                    borderColor: \"#000000\",\n                    boxShadow: {\n                        color: \"#ffffff\",\n                        x: 0,\n                        y: 0,\n                        blur: 0\n                    }\n                }\n            };\n            // Agregar texto al timeline\n            (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.ADD_TEXT, {\n                payload: textPayload,\n                options: {}\n            });\n        },\n        changeColor: (elementId, color)=>{\n            // Simulación de cambio de color (la implementación real dependerá de la estructura del proyecto)\n            console.log(\"Cambiando color del elemento \".concat(elementId, \" a \").concat(color));\n        // Aquí iría la lógica real para cambiar el color de un elemento\n        },\n        addImage: (url, options)=>{\n            // Asegurar que tenemos una URL válida\n            if (!url) {\n                console.error(\"URL de imagen no v\\xe1lida\");\n                return;\n            }\n            // Verificar si es una URL genérica de referencia, que no debe usarse directamente\n            if (url === \"imagen_adjunta_por_el_usuario.jpg\" || url.includes(\"/url_de_la_imagen\")) {\n                console.error(\"Error: URL de imagen gen\\xe9rica inv\\xe1lida detectada\", url);\n                throw new Error(\"La URL de imagen no es v\\xe1lida. Se intent\\xf3 usar un marcador gen\\xe9rico directamente.\");\n            }\n            const width = (options === null || options === void 0 ? void 0 : options.width) || 480;\n            const height = (options === null || options === void 0 ? void 0 : options.height) || 270;\n            const startTime = (options === null || options === void 0 ? void 0 : options.startTime) !== undefined ? options.startTime : 0;\n            const endTime = (options === null || options === void 0 ? void 0 : options.endTime) !== undefined ? options.endTime : startTime + 5;\n            // Para depuración, mostrar parte de la URL (truncada si es data:URL)\n            const logUrl = url.startsWith(\"data:\") ? \"\".concat(url.substring(0, 30), \"... (data URL)\") : url;\n            console.log(\"A\\xf1adiendo imagen desde \".concat(logUrl, \" desde segundo \").concat(startTime, \" hasta \").concat(endTime));\n            // Pre-cargar la imagen para obtener sus dimensiones reales\n            const preloadImage = (imageUrl)=>{\n                return new Promise((resolve)=>{\n                    if (imageUrl.startsWith(\"data:\")) {\n                        // Para data URLs, creamos una imagen temporal\n                        const img = new Image();\n                        img.onload = ()=>{\n                            resolve({\n                                width: img.width,\n                                height: img.height\n                            });\n                        };\n                        img.onerror = ()=>{\n                            console.warn(\"Error al cargar la imagen para dimensiones, usando valores por defecto\");\n                            resolve({\n                                width: 480,\n                                height: 270\n                            });\n                        };\n                        img.src = imageUrl;\n                    } else {\n                        // Para URLs normales, usamos dimensiones predeterminadas\n                        resolve({\n                            width: 480,\n                            height: 270\n                        });\n                    }\n                });\n            };\n            // Función para crear el payload después de pre-cargar la imagen\n            const createAndDispatchPayload = async ()=>{\n                try {\n                    // Obtener dimensiones reales si es una data URL\n                    let finalWidth = width;\n                    let finalHeight = height;\n                    if (url.startsWith(\"data:\")) {\n                        const dimensions = await preloadImage(url);\n                        // Calcular proporciones para mantener relación de aspecto\n                        const aspectRatio = dimensions.width / dimensions.height;\n                        // Ajustar dimensiones manteniendo proporción\n                        if (aspectRatio > 1) {\n                            finalWidth = Math.min(640, dimensions.width);\n                            finalHeight = finalWidth / aspectRatio;\n                        } else {\n                            finalHeight = Math.min(480, dimensions.height);\n                            finalWidth = finalHeight * aspectRatio;\n                        }\n                        console.log(\"Dimensiones originales: \".concat(dimensions.width, \"x\").concat(dimensions.height, \", Ajustadas: \").concat(finalWidth, \"x\").concat(finalHeight));\n                    }\n                    // Obtener posición (centrada por defecto)\n                    const position = (options === null || options === void 0 ? void 0 : options.position) || {\n                        x: 0.5,\n                        y: 0.5\n                    };\n                    // Crear payload para la imagen con dimensiones ajustadas\n                    const imagePayload = {\n                        id: (0,_designcombo_timeline__WEBPACK_IMPORTED_MODULE_2__.generateId)(),\n                        display: {\n                            from: startTime * 1000,\n                            to: endTime * 1000 // Convertir a milisegundos\n                        },\n                        type: \"image\",\n                        details: {\n                            src: url,\n                            width: finalWidth,\n                            height: finalHeight,\n                            opacity: 100,\n                            scaleMode: \"fit\",\n                            left: position.x,\n                            top: position.y,\n                            originX: \"center\",\n                            originY: \"center\"\n                        }\n                    };\n                    // Agregar imagen al timeline\n                    (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.ADD_IMAGE, {\n                        payload: imagePayload,\n                        options: {\n                            scaleMode: \"fit\",\n                            position: position\n                        }\n                    });\n                    console.log(\"Imagen agregada correctamente al timeline en posici\\xf3n (\".concat(position.x, \", \").concat(position.y, \")\"));\n                } catch (error) {\n                    console.error(\"Error al agregar imagen al timeline:\", error);\n                    throw new Error(\"Error al agregar imagen: \".concat(error instanceof Error ? error.message : \"Error desconocido\"));\n                }\n            };\n            // Iniciar el proceso\n            createAndDispatchPayload();\n        },\n        addVideo: (url, options)=>{\n            const width = (options === null || options === void 0 ? void 0 : options.width) || 640;\n            const height = (options === null || options === void 0 ? void 0 : options.height) || 360;\n            const startTime = (options === null || options === void 0 ? void 0 : options.startTime) || 0; // Por defecto al inicio\n            const endTime = (options === null || options === void 0 ? void 0 : options.endTime) || 10; // Por defecto 10 segundos de duración\n            // Detectar si es un archivo APNG para tratamiento especial\n            const isAPNG = url.toLowerCase().endsWith(\".apng\");\n            // Crear payload para el video\n            const videoPayload = {\n                id: (0,_designcombo_timeline__WEBPACK_IMPORTED_MODULE_2__.generateId)(),\n                display: {\n                    from: startTime * 1000,\n                    to: endTime * 1000 // Convertir a milisegundos\n                },\n                type: \"video\",\n                details: {\n                    src: url,\n                    width: width,\n                    height: height,\n                    opacity: 100,\n                    // Para APNG, añadir propiedades adicionales para posicionamiento a pantalla completa\n                    ...isAPNG && {\n                        scaleMode: \"cover\",\n                        left: 0.5,\n                        top: 0.5,\n                        originX: \"center\",\n                        originY: \"center\"\n                    }\n                }\n            };\n            // Agregar video al timeline\n            (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.ADD_VIDEO, {\n                payload: videoPayload,\n                options: {\n                    resourceId: \"main\",\n                    scaleMode: isAPNG ? \"cover\" : \"fit\",\n                    ...isAPNG && {\n                        position: {\n                            x: 0.5,\n                            y: 0.5\n                        } // Centrar para APNG\n                    }\n                }\n            });\n            console.log(\"Video \".concat(isAPNG ? \"APNG\" : \"\", \" a\\xf1adido al timeline desde \").concat(startTime, \"s hasta \").concat(endTime, \"s. Dimensiones: \").concat(width, \"x\").concat(height));\n        },\n        changeDuration: (elementId, duration)=>{\n            // Simulación de cambio de duración (la implementación real dependerá de la estructura del proyecto)\n            console.log(\"Cambiando duraci\\xf3n del elemento \".concat(elementId, \" a \").concat(duration, \"s\"));\n        // Aquí iría la lógica real para cambiar la duración de un elemento\n        },\n        changeTransition: (elementId, transition)=>{\n            // Simulación de cambio de transición (la implementación real dependerá de la estructura del proyecto)\n            console.log(\"Cambiando transici\\xf3n del elemento \".concat(elementId, \" a \").concat(transition));\n        // Aquí iría la lógica real para cambiar la transición de un elemento\n        },\n        addSubtitles: async (options)=>{\n            try {\n                console.log(\"A\\xf1adiendo subt\\xedtulos directamente sin depender del bot\\xf3n\");\n                // Función para parsear el tiempo de formato SRT a milisegundos\n                const parseTimeToMs = (timeString)=>{\n                    const [hours, minutes, secondsAndMs] = timeString.split(\":\");\n                    const [seconds, ms] = secondsAndMs.split(\",\");\n                    return parseInt(hours) * 3600000 + parseInt(minutes) * 60000 + parseInt(seconds) * 1000 + parseInt(ms);\n                };\n                // Función para parsear el archivo SRT\n                const parseSRT = (srtContent)=>{\n                    const segments = [];\n                    const blocks = srtContent.trim().split(\"\\n\\n\");\n                    blocks.forEach((block)=>{\n                        const lines = block.split(\"\\n\");\n                        if (lines.length >= 3) {\n                            const id = parseInt(lines[0]);\n                            const timeRange = lines[1].split(\" --> \");\n                            const startTime = parseTimeToMs(timeRange[0]);\n                            const endTime = parseTimeToMs(timeRange[1]);\n                            const text = lines.slice(2).join(\"\\n\"); // Unir todas las líneas de texto\n                            segments.push({\n                                id,\n                                startTime,\n                                endTime,\n                                text\n                            });\n                        }\n                    });\n                    return segments;\n                };\n                // Función para dividir un texto en grupos de aproximadamente 3 palabras\n                const splitTextIntoGroups = function(text) {\n                    let wordsPerGroup = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 3;\n                    const words = text.split(/\\s+/);\n                    const groups = [];\n                    for(let i = 0; i < words.length; i += wordsPerGroup){\n                        const group = words.slice(i, i + wordsPerGroup).join(\" \");\n                        groups.push(group);\n                    }\n                    return groups;\n                };\n                // Función para procesar un segmento y dividirlo en múltiples segmentos si es necesario\n                const processSegment = (segment)=>{\n                    const textGroups = splitTextIntoGroups(segment.text);\n                    // Si solo hay un grupo, devolver el segmento original\n                    if (textGroups.length <= 1) {\n                        return [\n                            segment\n                        ];\n                    }\n                    // Calcular la duración de cada grupo\n                    const totalDuration = segment.endTime - segment.startTime;\n                    const groupDuration = totalDuration / textGroups.length;\n                    // Crear un nuevo segmento para cada grupo\n                    return textGroups.map((groupText, index)=>{\n                        const startTime = segment.startTime + index * groupDuration;\n                        const endTime = startTime + groupDuration;\n                        return {\n                            id: segment.id * 1000 + index,\n                            startTime,\n                            endTime,\n                            text: groupText\n                        };\n                    });\n                };\n                // Función para crear el payload de texto para subtítulos\n                const createSubtitlePayload = (text, startTime, endTime)=>({\n                        id: (0,_designcombo_timeline__WEBPACK_IMPORTED_MODULE_2__.generateId)(),\n                        display: {\n                            from: startTime,\n                            to: endTime\n                        },\n                        type: \"text\",\n                        details: {\n                            text: text.toUpperCase(),\n                            fontSize: 80,\n                            width: 900,\n                            fontUrl: \"/fonts/mrbeast.ttf\",\n                            fontFamily: \"MrBeast\",\n                            color: \"#FFFF00\",\n                            wordWrap: \"break-word\",\n                            textAlign: \"center\",\n                            borderWidth: 20,\n                            borderColor: \"#000000\",\n                            boxShadow: {\n                                color: \"#000000\",\n                                x: 3,\n                                y: 3,\n                                blur: 0\n                            },\n                            backgroundColor: \"transparent\",\n                            padding: 10,\n                            borderRadius: 0\n                        }\n                    });\n                // Cargar el archivo SRT\n                console.log(\"Cargando archivo SRT...\");\n                const response = await fetch(\"/transcriptions/transcription1.srt\");\n                if (!response.ok) {\n                    throw new Error(\"Error al cargar el archivo SRT: \".concat(response.status));\n                }\n                const srtContent = await response.text();\n                console.log(\"Archivo SRT cargado correctamente\");\n                // Parsear el archivo SRT\n                let segments = parseSRT(srtContent);\n                console.log(\"Se encontraron \".concat(segments.length, \" segmentos de subt\\xedtulos\"));\n                // Siempre usar el modo agrupado (dividir en grupos de 3 palabras)\n                segments = segments.flatMap(processSegment);\n                console.log(\"Despu\\xe9s de procesar, hay \".concat(segments.length, \" segmentos de subt\\xedtulos\"));\n                // Filtrar por tiempo si es necesario\n                if ((options === null || options === void 0 ? void 0 : options.startTime) !== undefined || (options === null || options === void 0 ? void 0 : options.endTime) !== undefined) {\n                    const originalLength = segments.length;\n                    segments = segments.filter((segment)=>{\n                        const passesStartFilter = options.startTime === undefined || segment.startTime >= options.startTime * 1000;\n                        const passesEndFilter = options.endTime === undefined || segment.endTime <= options.endTime * 1000;\n                        return passesStartFilter && passesEndFilter;\n                    });\n                    console.log(\"Filtrado por tiempo: de \".concat(originalLength, \" a \").concat(segments.length, \" segmentos\"));\n                }\n                // Añadir los subtítulos con un retraso entre cada uno\n                console.log(\"A\\xf1adiendo \".concat(segments.length, \" segmentos de subt\\xedtulos al timeline...\"));\n                segments.forEach((segment, index)=>{\n                    setTimeout(()=>{\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.ADD_TEXT, {\n                            payload: createSubtitlePayload(segment.text, segment.startTime, segment.endTime),\n                            options: {}\n                        });\n                        if ((index + 1) % 10 === 0 || index === segments.length - 1) {\n                            console.log(\"Progreso: \".concat(index + 1, \"/\").concat(segments.length, \" subt\\xedtulos a\\xf1adidos\"));\n                        }\n                    }, index * 200); // 200ms de retraso entre cada subtítulo\n                });\n                return true;\n            } catch (error) {\n                console.error(\"Error al a\\xf1adir subt\\xedtulos:\", error);\n                return false;\n            }\n        },\n        getActiveElements: async ()=>{\n            try {\n                // Obtener el estado actual\n                const state = stateManager.getState();\n                // Verificar si hay IDs activos\n                if (!state.activeIds || state.activeIds.length === 0) {\n                    console.log(\"No hay elementos activos seleccionados\");\n                    return [];\n                }\n                // Verificar si hay elementos en el trackItemsMap\n                if (!state.trackItemsMap) {\n                    console.log(\"No hay trackItemsMap disponible\");\n                    return [];\n                }\n                // Obtener información de los elementos activos\n                const activeElements = state.activeIds.filter((id)=>state.trackItemsMap[id]).map((id)=>{\n                    var _item_display, _item_display1;\n                    const item = state.trackItemsMap[id];\n                    return {\n                        id,\n                        trackId: item.trackId,\n                        type: item.type,\n                        from: (_item_display = item.display) === null || _item_display === void 0 ? void 0 : _item_display.from,\n                        to: (_item_display1 = item.display) === null || _item_display1 === void 0 ? void 0 : _item_display1.to,\n                        duration: item.display ? item.display.to - item.display.from : 0,\n                        details: item.details\n                    };\n                });\n                console.log(\"Se encontraron \".concat(activeElements.length, \" elementos activos\"));\n                return activeElements;\n            } catch (error) {\n                console.error(\"Error al obtener elementos activos:\", error);\n                return [];\n            }\n        },\n        getAllTimelineElements: async ()=>{\n            try {\n                // Obtener el estado actual\n                const state = stateManager.getState();\n                // Verificar si hay elementos en el trackItemsMap\n                if (!state.trackItemsMap || Object.keys(state.trackItemsMap).length === 0) {\n                    console.log(\"No hay elementos en el trackItemsMap\");\n                    // Buscar elementos en otras propiedades del estado\n                    for (const key of Object.keys(state)){\n                        if (typeof state[key] === \"object\" && state[key] !== null) {\n                            const objValue = state[key];\n                            console.log(\"Explorando propiedad alternativa: \".concat(key));\n                            // Verificar si parece ser un mapa de elementos\n                            if (Object.keys(objValue).length > 0) {\n                                const sample = objValue[Object.keys(objValue)[0]];\n                                if (sample && sample.display && sample.type) {\n                                    console.log(\"Encontrada posible fuente alternativa de elementos en propiedad \".concat(key));\n                                    // Procesar elementos de esta propiedad alternativa\n                                    return Object.entries(objValue).filter((param)=>{\n                                        let [_, item] = param;\n                                        return item && item.display;\n                                    }).map((param)=>{\n                                        let [id, item] = param;\n                                        var _item_display, _item_display1;\n                                        return {\n                                            id,\n                                            trackId: item.trackId,\n                                            type: item.type,\n                                            from: (_item_display = item.display) === null || _item_display === void 0 ? void 0 : _item_display.from,\n                                            to: (_item_display1 = item.display) === null || _item_display1 === void 0 ? void 0 : _item_display1.to,\n                                            duration: item.display ? item.display.to - item.display.from : 0,\n                                            details: item.details\n                                        };\n                                    });\n                                }\n                            }\n                        }\n                    }\n                    return [];\n                }\n                // Obtener todos los elementos\n                const allElements = Object.entries(state.trackItemsMap).filter((param)=>{\n                    let [_, item] = param;\n                    return item && item.display;\n                }).map((param)=>{\n                    let [id, item] = param;\n                    var _item_display, _item_display1;\n                    return {\n                        id,\n                        trackId: item.trackId,\n                        type: item.type,\n                        from: (_item_display = item.display) === null || _item_display === void 0 ? void 0 : _item_display.from,\n                        to: (_item_display1 = item.display) === null || _item_display1 === void 0 ? void 0 : _item_display1.to,\n                        duration: item.display ? item.display.to - item.display.from : 0,\n                        details: item.details\n                    };\n                }).sort((a, b)=>(a.from || 0) - (b.from || 0));\n                console.log(\"Se encontraron \".concat(allElements.length, \" elementos en el timeline\"));\n                return allElements;\n            } catch (error) {\n                console.error(\"Error al obtener todos los elementos del timeline:\", error);\n                return [];\n            }\n        },\n        removeSegments: async (segments)=>{\n            try {\n                console.log(\"Iniciando eliminaci\\xf3n de segmentos m\\xfaltiples\");\n                // Obtener el estado actual\n                const state = stateManager.getState();\n                // Validar que haya elementos en la timeline\n                if (!state.activeIds || state.activeIds.length === 0) {\n                    console.error(\"No hay elementos seleccionados en la timeline\");\n                    // Buscar el primer elemento disponible en la timeline\n                    const trackItemsMap = state.trackItemsMap || {};\n                    const trackItems = Object.keys(trackItemsMap);\n                    if (trackItems.length === 0) {\n                        console.error(\"No hay elementos en la timeline para eliminar segmentos\");\n                        throw new Error(\"No hay elementos en la timeline\");\n                    }\n                    // Seleccionar el primer elemento disponible\n                    const firstItemId = trackItems[0];\n                    console.log(\"Seleccionando autom\\xe1ticamente el elemento con ID: \".concat(firstItemId));\n                    (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.LAYER_SELECT, {\n                        payload: {\n                            ids: [\n                                firstItemId\n                            ]\n                        }\n                    });\n                    // Esperar a que se aplique la selección\n                    await new Promise((resolve)=>setTimeout(resolve, 300));\n                }\n                // Almacenamos información del elemento seleccionado\n                const currentState = stateManager.getState();\n                if (!currentState.activeIds || currentState.activeIds.length === 0) {\n                    throw new Error(\"No se pudo seleccionar ning\\xfan elemento en la timeline\");\n                }\n                const originalItemId = currentState.activeIds[0];\n                const originalItem = currentState.trackItemsMap[originalItemId];\n                const trackType = originalItem.type;\n                const trackId = originalItem.trackId;\n                console.log(\"Elemento seleccionado: ID=\".concat(originalItemId, \", tipo=\").concat(trackType, \", trackId=\").concat(trackId));\n                // Procesar cada segmento en orden (de final a principio para evitar afectar posiciones)\n                for(let i = segments.length - 1; i >= 0; i--){\n                    const segment = segments[i];\n                    console.log(\"Procesando segmento \".concat(i + 1, \"/\").concat(segments.length, \": \").concat(segment.startTime, \"s - \").concat(segment.endTime, \"s\"));\n                    try {\n                        // PASO 1: Hacer un corte en el tiempo final\n                        const endMs = segment.endTime * 1000;\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.ACTIVE_SPLIT, {\n                            payload: {},\n                            options: {\n                                time: endMs\n                            }\n                        });\n                        console.log(\"Paso 1: Corte aplicado en tiempo final \".concat(segment.endTime, \"s\"));\n                        // Esperar a que se procese el primer corte\n                        await new Promise((resolve)=>setTimeout(resolve, 500));\n                        // Obtenemos el estado después del primer corte\n                        const stateAfterFirstCut = stateManager.getState();\n                        const elementsAfterFirstCut = Object.entries(stateAfterFirstCut.trackItemsMap).filter((param)=>{\n                            let [_, item] = param;\n                            return item.type === trackType && item.trackId === trackId && item.display && !isNaN(item.display.from) && !isNaN(item.display.to);\n                        }).map((param)=>{\n                            let [id, item] = param;\n                            return {\n                                id,\n                                from: item.display.from,\n                                to: item.display.to,\n                                duración: item.display.to - item.display.from\n                            };\n                        }).sort((a, b)=>a.from - b.from);\n                        console.log(\"Elementos despu\\xe9s del primer corte:\", elementsAfterFirstCut);\n                        // PASO 2: Identificar el elemento izquierdo que contiene el tiempo inicial\n                        const startMs = segment.startTime * 1000;\n                        const leftElement = elementsAfterFirstCut.find((elem)=>elem.from <= startMs && elem.to >= startMs);\n                        if (!leftElement) {\n                            console.error(\"No se pudo identificar el elemento izquierdo para el segmento \".concat(i + 1));\n                            continue;\n                        }\n                        console.log(\"Paso 2: Elemento izquierdo identificado (ID: \".concat(leftElement.id, \")\"));\n                        // PASO 3: Seleccionar el elemento izquierdo y hacer corte en tiempo inicial\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.LAYER_SELECT, {\n                            payload: {\n                                ids: [\n                                    leftElement.id\n                                ]\n                            }\n                        });\n                        // Esperar a que se aplique la selección\n                        await new Promise((resolve)=>setTimeout(resolve, 300));\n                        // Aplicar el corte en el tiempo inicial\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.ACTIVE_SPLIT, {\n                            payload: {},\n                            options: {\n                                time: startMs\n                            }\n                        });\n                        console.log(\"Paso 3: Segundo corte aplicado en tiempo inicial \".concat(segment.startTime, \"s\"));\n                        // Esperar a que se procese el segundo corte\n                        await new Promise((resolve)=>setTimeout(resolve, 500));\n                        // Obtenemos el estado después del segundo corte\n                        const stateAfterSecondCut = stateManager.getState();\n                        const elementsAfterSecondCut = Object.entries(stateAfterSecondCut.trackItemsMap).filter((param)=>{\n                            let [_, item] = param;\n                            return item.type === trackType && item.trackId === trackId && item.display && !isNaN(item.display.from) && !isNaN(item.display.to);\n                        }).map((param)=>{\n                            let [id, item] = param;\n                            return {\n                                id,\n                                from: item.display.from,\n                                to: item.display.to,\n                                duración: item.display.to - item.display.from\n                            };\n                        }).sort((a, b)=>a.from - b.from);\n                        console.log(\"Elementos despu\\xe9s del segundo corte:\", elementsAfterSecondCut);\n                        // PASO 4: Identificar el elemento del medio usando criterios más precisos\n                        const middleElements = elementsAfterSecondCut.filter((elem)=>Math.abs(elem.from - startMs) < 50 && Math.abs(elem.to - endMs) < 50);\n                        console.log(\"Elementos que coinciden con los criterios del medio:\", middleElements);\n                        if (middleElements.length === 0) {\n                            console.error(\"No se pudo identificar el elemento del medio para el segmento \".concat(i + 1));\n                            continue;\n                        }\n                        // Si hay más de un elemento que coincide, tomamos el primero\n                        const middleElement = middleElements[0];\n                        console.log(\"Paso 4: Elemento del medio identificado (ID: \".concat(middleElement.id, \")\"));\n                        // PASO 5: Seleccionar y eliminar el elemento del medio\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.LAYER_SELECT, {\n                            payload: {\n                                ids: [\n                                    middleElement.id\n                                ]\n                            }\n                        });\n                        // Esperar a que se aplique la selección\n                        await new Promise((resolve)=>setTimeout(resolve, 300));\n                        // Verificar que el elemento está seleccionado antes de eliminarlo\n                        const currentState = stateManager.getState();\n                        if (currentState.activeIds && currentState.activeIds.includes(middleElement.id)) {\n                            console.log(\"Elemento del medio correctamente seleccionado, procediendo con eliminaci\\xf3n\");\n                            (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.LAYER_DELETE);\n                            console.log(\"Elemento eliminado correctamente: \".concat(middleElement.id));\n                        } else {\n                            console.log(\"No se pudo seleccionar normalmente, intentando m\\xe9todo alternativo\");\n                            // Enfoque alternativo: Usar el EDIT_OBJECT para \"ocultar\" el segmento\n                            (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.EDIT_OBJECT, {\n                                payload: {\n                                    [middleElement.id]: {\n                                        display: {\n                                            from: -99999,\n                                            to: -99990\n                                        },\n                                        visible: false // Adicionalmente marcarlo como no visible\n                                    }\n                                }\n                            });\n                            console.log(\"Aplicado m\\xe9todo alternativo para ocultar el segmento\");\n                        }\n                        // Esperar a que se procese la eliminación\n                        await new Promise((resolve)=>setTimeout(resolve, 500));\n                    } catch (error) {\n                        console.error(\"Error al procesar el segmento \".concat(i + 1, \":\"), error);\n                    }\n                    // Pausa entre segmentos\n                    await new Promise((resolve)=>setTimeout(resolve, 500));\n                }\n                // Actualizar la escala para refrescar la vista\n                const { scale } = stateManager.getState();\n                if (scale) {\n                    console.log(\"Actualizando escala para refrescar la vista\");\n                    // Guardar el valor actual de scale.unit\n                    const originalUnit = scale.unit;\n                    // Incrementar el valor\n                    scale.unit += 1;\n                    console.log(\"Scale cambiada: \".concat(originalUnit, \" -> \").concat(scale.unit));\n                    // Asegurar que el cambio sea notado por el sistema\n                    (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.TIMELINE_SCALE_CHANGED, {\n                        payload: {\n                            scale: {\n                                ...scale,\n                                unit: scale.unit // Explícitamente establecer el nuevo valor\n                            }\n                        }\n                    });\n                    // Forzar una actualización adicional volviendo al valor original después de un momento\n                    setTimeout(()=>{\n                        const currentState = stateManager.getState();\n                        if (currentState.scale) {\n                            (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.TIMELINE_SCALE_CHANGED, {\n                                payload: {\n                                    scale: {\n                                        ...currentState.scale,\n                                        unit: originalUnit // Volver al valor original\n                                    }\n                                }\n                            });\n                            console.log(\"Restaurado scale a valor original: \".concat(originalUnit));\n                        }\n                    }, 300);\n                }\n                console.log(\"Eliminaci\\xf3n de segmentos completada\");\n                return true;\n            } catch (error) {\n                console.error(\"Error al eliminar segmentos:\", error);\n                return false;\n            }\n        },\n        compactTimeline: async ()=>{\n            try {\n                console.log(\"=== INICIANDO COMPACTACI\\xd3N DE L\\xcdNEA DE TIEMPO DESDE IA ===\");\n                // Obtener el estado actual\n                const estado = stateManager.getState();\n                console.log(\"Estado para compactaci\\xf3n:\", Object.keys(estado));\n                // Añadir un tiempo de espera inicial para asegurar que el estado está actualizado\n                console.log(\"Esperando 1 segundo para asegurar consistencia del estado...\");\n                await new Promise((resolve)=>setTimeout(resolve, 1000));\n                // Verificación adicional para asegurarnos que los cambios en la timeline ya se aplicaron\n                console.log(\"Verificando que los elementos en la timeline reflejen los cambios m\\xe1s recientes...\");\n                // Pequeña pausa adicional para asegurar consistencia del estado\n                await new Promise((resolve)=>setTimeout(resolve, 500));\n                // Buscar los elementos del timeline - usando la referencia al método dentro del mismo objeto\n                const todosElementos = await executor.getAllTimelineElements();\n                console.log(\"Encontrados \".concat(todosElementos.length, \" elementos en la timeline\"));\n                // Logging de elementos para diagnóstico\n                todosElementos.forEach((elem, index)=>{\n                    console.log(\"Elemento \".concat(index + 1, \": ID=\").concat(elem.id, \", Tipo=\").concat(elem.type, \", Track=\").concat(elem.trackId, \", Tiempo=\").concat(elem.from, \"ms-\").concat(elem.to, \"ms (duraci\\xf3n=\").concat(elem.to - elem.from, \"ms)\"));\n                });\n                // Si no hay elementos, no podemos compactar\n                if (todosElementos.length === 0) {\n                    console.log(\"No hay elementos en el timeline para compactar\");\n                    return false;\n                }\n                // Agrupar elementos por track para análisis\n                const elementosPorTrack = {};\n                todosElementos.forEach((elem)=>{\n                    if (elem.trackId) {\n                        if (!elementosPorTrack[elem.trackId]) {\n                            elementosPorTrack[elem.trackId] = [];\n                        }\n                        elementosPorTrack[elem.trackId].push(elem);\n                    }\n                });\n                // Ordenar elementos en cada track por tiempo\n                Object.keys(elementosPorTrack).forEach((trackId)=>{\n                    elementosPorTrack[trackId].sort((a, b)=>a.from - b.from);\n                });\n                console.log(\"Elementos agrupados por track:\", Object.keys(elementosPorTrack).length);\n                // Logging de tracks para diagnóstico\n                Object.keys(elementosPorTrack).forEach((trackId)=>{\n                    console.log(\"Track \".concat(trackId, \": \").concat(elementosPorTrack[trackId].length, \" elementos\"));\n                    // Mostrar los elementos en este track ordenados\n                    elementosPorTrack[trackId].forEach((elem, idx)=>{\n                        console.log(\"  \".concat(idx + 1, \". ID=\").concat(elem.id.substring(0, 8), \"... Tiempo=\").concat(elem.from, \"ms-\").concat(elem.to, \"ms (duraci\\xf3n: \").concat(elem.to - elem.from, \"ms)\"));\n                    });\n                });\n                // Buscar espacios vacíos en cada track\n                const espaciosVacios = [];\n                Object.keys(elementosPorTrack).forEach((trackId)=>{\n                    const elementos = elementosPorTrack[trackId];\n                    // Si hay al menos 2 elementos, podemos buscar espacios\n                    if (elementos.length >= 2) {\n                        for(let i = 0; i < elementos.length - 1; i++){\n                            const elementoActual = elementos[i];\n                            const elementoSiguiente = elementos[i + 1];\n                            // Verificar si hay un espacio entre el fin del elemento actual y el inicio del siguiente\n                            const espacio = elementoSiguiente.from - elementoActual.to;\n                            // Si el espacio es significativo (más de 100ms)\n                            if (espacio > 100) {\n                                espaciosVacios.push({\n                                    trackId,\n                                    start: elementoActual.to,\n                                    end: elementoSiguiente.from,\n                                    size: espacio,\n                                    elementoAntes: elementoActual.id,\n                                    elementoDespues: elementoSiguiente.id\n                                });\n                                console.log(\"Encontrado espacio de \".concat(espacio, \"ms (\").concat(espacio / 1000, \"s) en track \").concat(trackId, \" entre elementos \").concat(elementoActual.id.substring(0, 8), \"... y \").concat(elementoSiguiente.id.substring(0, 8), \"...\"));\n                            }\n                        }\n                    }\n                });\n                console.log(\"Se encontraron \".concat(espaciosVacios.length, \" espacios vac\\xedos\"));\n                // Si no hay espacios, no necesitamos compactar\n                if (espaciosVacios.length === 0) {\n                    console.log(\"No hay espacios significativos para compactar\");\n                    return true; // Devolvemos true porque técnicamente está compactado\n                }\n                // Ordenar espacios por posición (de izquierda a derecha)\n                espaciosVacios.sort((a, b)=>a.start - b.start);\n                // Calcular el espacio total a compactar\n                let espacioTotal = 0;\n                espaciosVacios.forEach((espacio)=>{\n                    espacioTotal += espacio.size;\n                });\n                console.log(\"Espacio total a compactar: \".concat(espacioTotal, \"ms (\").concat(espacioTotal / 1000, \"s)\"));\n                console.log(\"Preparando actualizaciones para \".concat(todosElementos.length, \" elementos...\"));\n                // Preparar actualizaciones para cada elemento\n                const actualizaciones = {};\n                let elementosAMover = 0;\n                // Para cada elemento, calculamos el desplazamiento basado en los espacios anteriores\n                todosElementos.forEach((elemento)=>{\n                    let desplazamiento = 0;\n                    // Calcular cuánto debe moverse basado en los espacios vacíos anteriores\n                    for (const espacio of espaciosVacios){\n                        // Si el elemento está después del espacio vacío, debe moverse\n                        if (elemento.from > espacio.end) {\n                            desplazamiento += espacio.size;\n                        }\n                    }\n                    // Si hay desplazamiento, añadir a las actualizaciones\n                    if (desplazamiento > 0) {\n                        const nuevoFrom = elemento.from - desplazamiento;\n                        const nuevoTo = elemento.to - desplazamiento;\n                        console.log(\"Elemento \".concat(elemento.id.substring(0, 8), \"... se mover\\xe1: \").concat(elemento.from, \"ms -> \").concat(nuevoFrom, \"ms (desplazamiento: \").concat(desplazamiento, \"ms)\"));\n                        actualizaciones[elemento.id] = {\n                            display: {\n                                from: nuevoFrom,\n                                to: nuevoTo\n                            }\n                        };\n                        elementosAMover++;\n                    }\n                });\n                console.log(\"Elementos a mover: \".concat(elementosAMover, \" de \").concat(todosElementos.length, \" total\"));\n                // Aplicar las actualizaciones\n                if (elementosAMover > 0) {\n                    console.log(\"Aplicando actualizaciones para compactar timeline...\");\n                    try {\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.EDIT_OBJECT, {\n                            payload: actualizaciones\n                        });\n                        console.log(\"Actualizaciones aplicadas con \\xe9xito\");\n                    } catch (error) {\n                        console.error(\"Error al aplicar actualizaciones:\", error);\n                        return false;\n                    }\n                    // Refrescar la vista\n                    setTimeout(()=>{\n                        try {\n                            const { scale } = stateManager.getState();\n                            if (scale) {\n                                // Hacer un pequeño cambio en la escala para forzar la actualización\n                                const updatedScale = {\n                                    ...scale\n                                };\n                                if (typeof updatedScale.unit === \"number\") {\n                                    updatedScale.unit = (updatedScale.unit || 0) + 1;\n                                    (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.TIMELINE_SCALE_CHANGED, {\n                                        payload: {\n                                            scale: updatedScale\n                                        }\n                                    });\n                                    // Volver a la escala original\n                                    setTimeout(()=>{\n                                        const currentScale = {\n                                            ...stateManager.getState().scale\n                                        };\n                                        currentScale.unit = (currentScale.unit || 1) - 1;\n                                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.TIMELINE_SCALE_CHANGED, {\n                                            payload: {\n                                                scale: currentScale\n                                            }\n                                        });\n                                    }, 300);\n                                }\n                            }\n                        } catch (error) {\n                            console.error(\"Error al refrescar la vista:\", error);\n                        }\n                    }, 500);\n                    console.log(\"Compactaci\\xf3n completada con \\xe9xito\");\n                    return true;\n                } else {\n                    console.log(\"No hay elementos que necesiten moverse\");\n                    return true;\n                }\n            } catch (error) {\n                console.error(\"Error al compactar la l\\xednea de tiempo:\", error);\n                return false;\n            }\n        },\n        smartTrim: async ()=>{\n            try {\n                console.log(\"=== INICIANDO PROCESO DE RECORTE INTELIGENTE DESDE IA ===\");\n                // 1. Realizar la llamada al API para analizar la transcripción\n                console.log(\"Solicitando an\\xe1lisis de transcripci\\xf3n...\");\n                const response = await fetch(\"/api/smart-trim\");\n                if (!response.ok) {\n                    throw new Error(\"Error al analizar la transcripci\\xf3n: \".concat(response.status));\n                }\n                const data = await response.json();\n                console.log(\"An\\xe1lisis de transcripci\\xf3n completado:\", data);\n                if (!data.removeSegments || !Array.isArray(data.removeSegments) || data.removeSegments.length === 0) {\n                    console.log(\"No se encontraron segmentos para eliminar\");\n                    return false;\n                }\n                // 2. Convertir los segmentos al formato que espera removeSegments\n                const segments = data.removeSegments.map((segment)=>({\n                        startTime: segment.startTime,\n                        endTime: segment.endTime // Ya está en segundos\n                    }));\n                console.log(\"Se eliminar\\xe1n \".concat(segments.length, \" segmentos:\"), segments.map((s)=>\"\".concat(s.startTime, \"s-\").concat(s.endTime, \"s\")).join(\", \"));\n                // Almacenar información del estado previo para identificar tracks y elementos\n                console.log(\"Obteniendo informaci\\xf3n del estado antes de eliminar segmentos...\");\n                const estadoPrevio = stateManager.getState();\n                const elementosPrevios = await executor.getAllTimelineElements();\n                // Determinar el trackId principal basado en los elementos\n                const contadorTracks = {};\n                elementosPrevios.forEach((elem)=>{\n                    if (elem.trackId) {\n                        contadorTracks[elem.trackId] = (contadorTracks[elem.trackId] || 0) + 1;\n                    }\n                });\n                // Encontrar el track con más elementos\n                let trackIdPrincipal = \"\";\n                if (Object.keys(contadorTracks).length > 0) {\n                    const tracksPorUso = Object.entries(contadorTracks).sort((a, b)=>b[1] - a[1]);\n                    if (tracksPorUso.length > 0) {\n                        trackIdPrincipal = tracksPorUso[0][0];\n                        console.log(\"Usando trackId principal: \".concat(trackIdPrincipal));\n                    }\n                }\n                // 3. Eliminar los segmentos\n                console.log(\"Ejecutando eliminaci\\xf3n de segmentos...\");\n                const result = await executor.removeSegments(segments);\n                if (!result) {\n                    console.log(\"Error al eliminar los segmentos\");\n                    return false;\n                }\n                console.log(\"Segmentos eliminados correctamente\");\n                // 4. Crear registro de los segmentos eliminados para compactación\n                const segmentosEliminados = segments.map((segment)=>({\n                        start: segment.startTime * 1000,\n                        end: segment.endTime * 1000,\n                        trackId: trackIdPrincipal,\n                        size: (segment.endTime - segment.startTime) * 1000\n                    }));\n                console.log(\"Segmentos registrados para compactaci\\xf3n:\", segmentosEliminados);\n                // 5. Esperar un momento para que se completen las actualizaciones del DOM y el estado\n                console.log(\"Esperando 5 segundos para asegurar que los cambios en la timeline est\\xe9n completos antes de compactar...\");\n                await new Promise((resolve)=>setTimeout(resolve, 5000));\n                // 6. Compactar el timeline usando el enfoque de segmentos registrados\n                console.log(\"Compactando timeline basado en segmentos eliminados...\");\n                // Obtener elementos actuales después de la eliminación\n                const elementosActuales = await executor.getAllTimelineElements();\n                console.log(\"Se encontraron \".concat(elementosActuales.length, \" elementos en la timeline despu\\xe9s de eliminar segmentos\"));\n                // Calcular el espacio total a compactar\n                let espacioTotal = 0;\n                segmentosEliminados.forEach((segmento)=>{\n                    espacioTotal += segmento.size;\n                });\n                console.log(\"Espacio total a compactar: \".concat(espacioTotal, \"ms (\").concat(espacioTotal / 1000, \"s)\"));\n                // Preparar actualizaciones para cada elemento\n                const actualizaciones = {};\n                let elementosAMover = 0;\n                // Ordenar segmentos por posición de inicio\n                const segmentosOrdenados = [\n                    ...segmentosEliminados\n                ].sort((a, b)=>a.start - b.start);\n                // Para cada elemento, calcular el desplazamiento basado en los segmentos eliminados\n                elementosActuales.forEach((elemento)=>{\n                    let desplazamiento = 0;\n                    // Calcular cuánto debe moverse basado en los segmentos eliminados anteriores\n                    for (const segmento of segmentosOrdenados){\n                        if (elemento.from > segmento.start) {\n                            desplazamiento += segmento.size;\n                        }\n                    }\n                    // Si hay desplazamiento, añadir a las actualizaciones\n                    if (desplazamiento > 0) {\n                        const nuevoFrom = elemento.from - desplazamiento;\n                        const nuevoTo = elemento.to - desplazamiento;\n                        console.log(\"Elemento \".concat(elemento.id.substring(0, 8), \"... se mover\\xe1: \").concat(elemento.from, \"ms -> \").concat(nuevoFrom, \"ms (desplazamiento: \").concat(desplazamiento, \"ms)\"));\n                        actualizaciones[elemento.id] = {\n                            display: {\n                                from: nuevoFrom,\n                                to: nuevoTo\n                            }\n                        };\n                        elementosAMover++;\n                    }\n                });\n                console.log(\"Elementos a mover: \".concat(elementosAMover, \" de \").concat(elementosActuales.length, \" total\"));\n                // Aplicar las actualizaciones\n                if (elementosAMover > 0) {\n                    console.log(\"Aplicando actualizaciones para compactar timeline...\");\n                    try {\n                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.EDIT_OBJECT, {\n                            payload: actualizaciones\n                        });\n                        console.log(\"Actualizaciones aplicadas con \\xe9xito\");\n                        // Refrescar la vista\n                        setTimeout(()=>{\n                            try {\n                                const { scale } = stateManager.getState();\n                                if (scale) {\n                                    const updatedScale = {\n                                        ...scale\n                                    };\n                                    if (typeof updatedScale.unit === \"number\") {\n                                        updatedScale.unit = (updatedScale.unit || 0) + 1;\n                                        (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.TIMELINE_SCALE_CHANGED, {\n                                            payload: {\n                                                scale: updatedScale\n                                            }\n                                        });\n                                        // Volver a la escala original\n                                        setTimeout(()=>{\n                                            const currentScale = {\n                                                ...stateManager.getState().scale\n                                            };\n                                            currentScale.unit = (currentScale.unit || 1) - 1;\n                                            (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_1__.TIMELINE_SCALE_CHANGED, {\n                                                payload: {\n                                                    scale: currentScale\n                                                }\n                                            });\n                                        }, 300);\n                                    }\n                                }\n                            } catch (error) {\n                                console.error(\"Error al refrescar la vista:\", error);\n                            }\n                        }, 500);\n                    } catch (error) {\n                        console.error(\"Error al aplicar actualizaciones:\", error);\n                        return false;\n                    }\n                } else {\n                    console.log(\"No se encontraron elementos que necesiten moverse\");\n                }\n                console.log(\"Timeline compactado correctamente\");\n                return true;\n            } catch (error) {\n                console.error(\"Error al realizar el recorte inteligente:\", error);\n                return false;\n            }\n        }\n    };\n    return executor;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvYWktY2hhdC9haS12aWRlby1jb21tYW5kcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQytDO0FBQ3lKO0FBQ3JKO0FBOEQ1QyxTQUFTVSwyQkFBMkJDLFlBQTBCO0lBQ25FLGlEQUFpRDtJQUNqRCxNQUFNQyxXQUFpQztRQUNyQ0MsU0FBUyxDQUFDQyxNQUFjQztZQUN0QixNQUFNQyxXQUFXRCxDQUFBQSxvQkFBQUEsOEJBQUFBLFFBQVNDLFFBQVEsS0FBSTtnQkFBRUMsR0FBRztnQkFBS0MsR0FBRztZQUFJLEdBQUcsdUJBQXVCO1lBQ2pGLE1BQU1DLFdBQVdKLENBQUFBLG9CQUFBQSw4QkFBQUEsUUFBU0ksUUFBUSxLQUFJO1lBQ3RDLE1BQU1DLGFBQWFMLENBQUFBLG9CQUFBQSw4QkFBQUEsUUFBU0ssVUFBVSxLQUFJO1lBQzFDLE1BQU1DLFFBQVFOLENBQUFBLG9CQUFBQSw4QkFBQUEsUUFBU00sS0FBSyxLQUFJO1lBQ2hDLE1BQU1DLFlBQVlQLENBQUFBLG9CQUFBQSw4QkFBQUEsUUFBU08sU0FBUyxLQUFJLEdBQUcsd0JBQXdCO1lBQ25FLE1BQU1DLFVBQVVSLENBQUFBLG9CQUFBQSw4QkFBQUEsUUFBU1EsT0FBTyxLQUFJLEdBQUcscUNBQXFDO1lBRTVFLDhCQUE4QjtZQUM5QixNQUFNQyxjQUFjO2dCQUNsQkMsSUFBSWhCLGlFQUFVQTtnQkFDZGlCLFNBQVM7b0JBQ1BDLE1BQU1MLFlBQVk7b0JBQ2xCTSxJQUFJTCxVQUFVLEtBQVMsMkJBQTJCO2dCQUNwRDtnQkFDQU0sTUFBTTtnQkFDTkMsU0FBUztvQkFDUGhCLE1BQU1BO29CQUNOSyxVQUFVQTtvQkFDVlksT0FBTztvQkFDUFgsWUFBWUE7b0JBQ1pDLE9BQU9BO29CQUNQVyxVQUFVO29CQUNWQyxXQUFXO29CQUNYQyxhQUFhO29CQUNiQyxhQUFhO29CQUNiQyxXQUFXO3dCQUNUZixPQUFPO3dCQUNQSixHQUFHO3dCQUNIQyxHQUFHO3dC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QUFRQSxDQUFDTyxzRUFBc0JBLEVBQUU7Z0RBQy9CK0IsU0FBUztvREFBRW1KLE9BQU8wQjtnREFBYTs0Q0FDakM7d0NBQ0YsR0FBRztvQ0FDTDtnQ0FDRjs0QkFDRixFQUFFLE9BQU90SyxPQUFPO2dDQUNkSixRQUFRSSxLQUFLLENBQUMsZ0NBQWdDQTs0QkFDaEQ7d0JBQ0YsR0FBRztvQkFFTCxFQUFFLE9BQU9BLE9BQU87d0JBQ2RKLFFBQVFJLEtBQUssQ0FBQyxxQ0FBcUNBO3dCQUNuRCxPQUFPO29CQUNUO2dCQUNGLE9BQU87b0JBQ0xKLFFBQVFDLEdBQUcsQ0FBQztnQkFDZDtnQkFFQUQsUUFBUUMsR0FBRyxDQUFDO2dCQUNaLE9BQU87WUFDVCxFQUFFLE9BQU9HLE9BQU87Z0JBQ2RKLFFBQVFJLEtBQUssQ0FBQyw2Q0FBNkNBO2dCQUMzRCxPQUFPO1lBQ1Q7UUFDRjtJQUNGO0lBRUEsT0FBT2pDO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9haS1jaGF0L2FpLXZpZGVvLWNvbW1hbmRzLnRzPzI2MjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFN0YXRlTWFuYWdlciBmcm9tIFwiQGRlc2lnbmNvbWJvL3N0YXRlXCI7XG5pbXBvcnQgeyBkaXNwYXRjaCB9IGZyb20gXCJAZGVzaWduY29tYm8vZXZlbnRzXCI7XG5pbXBvcnQgeyBERVNJR05fQUREX1RFWFQsIERFU0lHTl9BRERfQVVESU8sIERFU0lHTl9BRERfSU1BR0UsIEFERF9URVhULCBBRERfVklERU8sIEFERF9JTUFHRSwgQUNUSVZFX1NQTElULCBMQVlFUl9TRUxFQ1QsIExBWUVSX0RFTEVURSwgVElNRUxJTkVfU0NBTEVfQ0hBTkdFRCwgRURJVF9PQkpFQ1QgfSBmcm9tIFwiQGRlc2lnbmNvbWJvL3N0YXRlXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZUlkIH0gZnJvbSBcIkBkZXNpZ25jb21iby90aW1lbGluZVwiO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9Db21tYW5kRXhlY3V0b3Ige1xuICBhZGRUZXh0OiAodGV4dDogc3RyaW5nLCBvcHRpb25zPzogVGV4dE9wdGlvbnMpID0+IHZvaWQ7XG4gIGNoYW5nZUNvbG9yOiAoZWxlbWVudElkOiBzdHJpbmcsIGNvbG9yOiBzdHJpbmcpID0+IHZvaWQ7XG4gIGFkZEltYWdlOiAodXJsOiBzdHJpbmcsIG9wdGlvbnM/OiBJbWFnZU9wdGlvbnMpID0+IHZvaWQ7XG4gIGFkZFZpZGVvOiAodXJsOiBzdHJpbmcsIG9wdGlvbnM/OiBWaWRlb09wdGlvbnMpID0+IHZvaWQ7XG4gIGNoYW5nZUR1cmF0aW9uOiAoZWxlbWVudElkOiBzdHJpbmcsIGR1cmF0aW9uOiBudW1iZXIpID0+IHZvaWQ7XG4gIGNoYW5nZVRyYW5zaXRpb246IChlbGVtZW50SWQ6IHN0cmluZywgdHJhbnNpdGlvbjogc3RyaW5nKSA9PiB2b2lkO1xuICBhZGRTdWJ0aXRsZXM6IChvcHRpb25zPzogU3VidGl0bGVPcHRpb25zKSA9PiB2b2lkO1xuICByZW1vdmVTZWdtZW50czogKHNlZ21lbnRzOiBUaW1lU2VnbWVudFtdKSA9PiB2b2lkO1xuICBnZXRBY3RpdmVFbGVtZW50czogKCkgPT4gUHJvbWlzZTxhbnlbXT47XG4gIGdldEFsbFRpbWVsaW5lRWxlbWVudHM6ICgpID0+IFByb21pc2U8YW55W10+O1xuICBjb21wYWN0VGltZWxpbmU6ICgpID0+IFByb21pc2U8Ym9vbGVhbj47XG4gIHNtYXJ0VHJpbTogKCkgPT4gUHJvbWlzZTxib29sZWFuPjtcbn1cblxuaW50ZXJmYWNlIFRleHRPcHRpb25zIHtcbiAgZm9udFNpemU/OiBudW1iZXI7XG4gIGZvbnRGYW1pbHk/OiBzdHJpbmc7XG4gIGNvbG9yPzogc3RyaW5nO1xuICBwb3NpdGlvbj86IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfTtcbiAgc3RhcnRUaW1lPzogbnVtYmVyOyAvLyBlbiBzZWd1bmRvc1xuICBlbmRUaW1lPzogbnVtYmVyOyAvLyBlbiBzZWd1bmRvc1xufVxuXG5pbnRlcmZhY2UgSW1hZ2VPcHRpb25zIHtcbiAgd2lkdGg/OiBudW1iZXI7XG4gIGhlaWdodD86IG51bWJlcjtcbiAgcG9zaXRpb24/OiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH07XG4gIHN0YXJ0VGltZT86IG51bWJlcjsgLy8gZW4gc2VndW5kb3NcbiAgZW5kVGltZT86IG51bWJlcjsgLy8gZW4gc2VndW5kb3Ncbn1cblxuaW50ZXJmYWNlIFZpZGVvT3B0aW9ucyB7XG4gIHdpZHRoPzogbnVtYmVyO1xuICBoZWlnaHQ/OiBudW1iZXI7XG4gIHBvc2l0aW9uPzogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9O1xuICBzdGFydFRpbWU/OiBudW1iZXI7IC8vIGVuIHNlZ3VuZG9zXG4gIGVuZFRpbWU/OiBudW1iZXI7IC8vIGVuIHNlZ3VuZG9zXG59XG5cbmludGVyZmFjZSBTdWJ0aXRsZU9wdGlvbnMge1xuICBncm91cFdvcmRzPzogYm9vbGVhbjsgLy8gU2kgc2UgZGViZW4gYWdydXBhciBwYWxhYnJhcyAodHJ1ZSkgbyB1c2FyIHN1YnTDrXR1bG9zIGNvbXBsZXRvcyAoZmFsc2UpXG4gIHN0YXJ0VGltZT86IG51bWJlcjsgICAvLyBUaWVtcG8gZGUgaW5pY2lvIHBhcmEgZmlsdHJhciBzdWJ0w610dWxvcyAob3BjaW9uYWwpXG4gIGVuZFRpbWU/OiBudW1iZXI7ICAgICAvLyBUaWVtcG8gZGUgZmluIHBhcmEgZmlsdHJhciBzdWJ0w610dWxvcyAob3BjaW9uYWwpXG59XG5cbi8vIFRpcG8gcGFyYSByZXByZXNlbnRhciB1biBzZWdtZW50byBkZSBzdWJ0w610dWxvXG5pbnRlcmZhY2UgU3VidGl0bGVTZWdtZW50IHtcbiAgaWQ6IG51bWJlcjtcbiAgc3RhcnRUaW1lOiBudW1iZXI7IC8vIGVuIG1pbGlzZWd1bmRvc1xuICBlbmRUaW1lOiBudW1iZXI7ICAgLy8gZW4gbWlsaXNlZ3VuZG9zXG4gIHRleHQ6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFRpbWVTZWdtZW50IHtcbiAgc3RhcnRUaW1lOiBudW1iZXI7IC8vIFRpZW1wbyBkZSBpbmljaW8gZW4gc2VndW5kb3NcbiAgZW5kVGltZTogbnVtYmVyOyAgIC8vIFRpZW1wbyBmaW5hbCBlbiBzZWd1bmRvc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVmlkZW9Db21tYW5kRXhlY3V0b3Ioc3RhdGVNYW5hZ2VyOiBTdGF0ZU1hbmFnZXIpOiBWaWRlb0NvbW1hbmRFeGVjdXRvciB7XG4gIC8vIENyZWFyIGVsIG9iamV0byBleGVjdXRvciBjb24gdG9kb3MgbG9zIG3DqXRvZG9zXG4gIGNvbnN0IGV4ZWN1dG9yOiBWaWRlb0NvbW1hbmRFeGVjdXRvciA9IHtcbiAgICBhZGRUZXh0OiAodGV4dDogc3RyaW5nLCBvcHRpb25zPzogVGV4dE9wdGlvbnMpID0+IHtcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gb3B0aW9ucz8ucG9zaXRpb24gfHwgeyB4OiAwLjUsIHk6IDAuNSB9OyAvLyBDZW50cmFkbyBwb3IgZGVmZWN0b1xuICAgICAgY29uc3QgZm9udFNpemUgPSBvcHRpb25zPy5mb250U2l6ZSB8fCA0ODtcbiAgICAgIGNvbnN0IGZvbnRGYW1pbHkgPSBvcHRpb25zPy5mb250RmFtaWx5IHx8IFwiUm9ib3RvLUJvbGRcIjtcbiAgICAgIGNvbnN0IGNvbG9yID0gb3B0aW9ucz8uY29sb3IgfHwgXCIjRkZGRkZGXCI7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBvcHRpb25zPy5zdGFydFRpbWUgfHwgMDsgLy8gUG9yIGRlZmVjdG8gYWwgaW5pY2lvXG4gICAgICBjb25zdCBlbmRUaW1lID0gb3B0aW9ucz8uZW5kVGltZSB8fCA1OyAvLyBQb3IgZGVmZWN0byA1IHNlZ3VuZG9zIGRlIGR1cmFjacOzblxuXG4gICAgICAvLyBDcmVhciBwYXlsb2FkIHBhcmEgZWwgdGV4dG9cbiAgICAgIGNvbnN0IHRleHRQYXlsb2FkID0ge1xuICAgICAgICBpZDogZ2VuZXJhdGVJZCgpLFxuICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgZnJvbTogc3RhcnRUaW1lICogMTAwMCwgLy8gQ29udmVydGlyIGEgbWlsaXNlZ3VuZG9zXG4gICAgICAgICAgdG86IGVuZFRpbWUgKiAxMDAwICAgICAvLyBDb252ZXJ0aXIgYSBtaWxpc2VndW5kb3NcbiAgICAgICAgfSxcbiAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICBmb250U2l6ZTogZm9udFNpemUsXG4gICAgICAgICAgd2lkdGg6IDYwMCxcbiAgICAgICAgICBmb250RmFtaWx5OiBmb250RmFtaWx5LFxuICAgICAgICAgIGNvbG9yOiBjb2xvcixcbiAgICAgICAgICB3b3JkV3JhcDogJ2JyZWFrLXdvcmQnLFxuICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICAgICAgYm9yZGVyV2lkdGg6IDAsXG4gICAgICAgICAgYm9yZGVyQ29sb3I6ICcjMDAwMDAwJyxcbiAgICAgICAgICBib3hTaGFkb3c6IHtcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgIGJsdXI6IDAsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIC8vIEFncmVnYXIgdGV4dG8gYWwgdGltZWxpbmVcbiAgICAgIGRpc3BhdGNoKEFERF9URVhULCB7XG4gICAgICAgIHBheWxvYWQ6IHRleHRQYXlsb2FkLFxuICAgICAgICBvcHRpb25zOiB7fSxcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBjaGFuZ2VDb2xvcjogKGVsZW1lbnRJZDogc3RyaW5nLCBjb2xvcjogc3RyaW5nKSA9PiB7XG4gICAgICAvLyBTaW11bGFjacOzbiBkZSBjYW1iaW8gZGUgY29sb3IgKGxhIGltcGxlbWVudGFjacOzbiByZWFsIGRlcGVuZGVyw6EgZGUgbGEgZXN0cnVjdHVyYSBkZWwgcHJveWVjdG8pXG4gICAgICBjb25zb2xlLmxvZyhgQ2FtYmlhbmRvIGNvbG9yIGRlbCBlbGVtZW50byAke2VsZW1lbnRJZH0gYSAke2NvbG9yfWApO1xuXG4gICAgICAvLyBBcXXDrSBpcsOtYSBsYSBsw7NnaWNhIHJlYWwgcGFyYSBjYW1iaWFyIGVsIGNvbG9yIGRlIHVuIGVsZW1lbnRvXG4gICAgfSxcblxuICAgIGFkZEltYWdlOiAodXJsOiBzdHJpbmcsIG9wdGlvbnM/OiBJbWFnZU9wdGlvbnMpID0+IHtcbiAgICAgIC8vIEFzZWd1cmFyIHF1ZSB0ZW5lbW9zIHVuYSBVUkwgdsOhbGlkYVxuICAgICAgaWYgKCF1cmwpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVSTCBkZSBpbWFnZW4gbm8gdsOhbGlkYVwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBWZXJpZmljYXIgc2kgZXMgdW5hIFVSTCBnZW7DqXJpY2EgZGUgcmVmZXJlbmNpYSwgcXVlIG5vIGRlYmUgdXNhcnNlIGRpcmVjdGFtZW50ZVxuICAgICAgaWYgKHVybCA9PT0gJ2ltYWdlbl9hZGp1bnRhX3Bvcl9lbF91c3VhcmlvLmpwZycgfHwgdXJsLmluY2x1ZGVzKCcvdXJsX2RlX2xhX2ltYWdlbicpKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvcjogVVJMIGRlIGltYWdlbiBnZW7DqXJpY2EgaW52w6FsaWRhIGRldGVjdGFkYVwiLCB1cmwpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMYSBVUkwgZGUgaW1hZ2VuIG5vIGVzIHbDoWxpZGEuIFNlIGludGVudMOzIHVzYXIgdW4gbWFyY2Fkb3IgZ2Vuw6lyaWNvIGRpcmVjdGFtZW50ZS5cIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHdpZHRoID0gb3B0aW9ucz8ud2lkdGggfHwgNDgwO1xuICAgICAgY29uc3QgaGVpZ2h0ID0gb3B0aW9ucz8uaGVpZ2h0IHx8IDI3MDtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IG9wdGlvbnM/LnN0YXJ0VGltZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zdGFydFRpbWUgOiAwO1xuICAgICAgY29uc3QgZW5kVGltZSA9IG9wdGlvbnM/LmVuZFRpbWUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZW5kVGltZSA6IHN0YXJ0VGltZSArIDU7XG5cbiAgICAgIC8vIFBhcmEgZGVwdXJhY2nDs24sIG1vc3RyYXIgcGFydGUgZGUgbGEgVVJMICh0cnVuY2FkYSBzaSBlcyBkYXRhOlVSTClcbiAgICAgIGNvbnN0IGxvZ1VybCA9IHVybC5zdGFydHNXaXRoKCdkYXRhOicpXG4gICAgICAgID8gYCR7dXJsLnN1YnN0cmluZygwLCAzMCl9Li4uIChkYXRhIFVSTClgXG4gICAgICAgIDogdXJsO1xuICAgICAgY29uc29sZS5sb2coYEHDsWFkaWVuZG8gaW1hZ2VuIGRlc2RlICR7bG9nVXJsfSBkZXNkZSBzZWd1bmRvICR7c3RhcnRUaW1lfSBoYXN0YSAke2VuZFRpbWV9YCk7XG5cbiAgICAgIC8vIFByZS1jYXJnYXIgbGEgaW1hZ2VuIHBhcmEgb2J0ZW5lciBzdXMgZGltZW5zaW9uZXMgcmVhbGVzXG4gICAgICBjb25zdCBwcmVsb2FkSW1hZ2UgPSAoaW1hZ2VVcmw6IHN0cmluZyk6IFByb21pc2U8eyB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciB9PiA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgIGlmIChpbWFnZVVybC5zdGFydHNXaXRoKCdkYXRhOicpKSB7XG4gICAgICAgICAgICAvLyBQYXJhIGRhdGEgVVJMcywgY3JlYW1vcyB1bmEgaW1hZ2VuIHRlbXBvcmFsXG4gICAgICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgIHJlc29sdmUoeyB3aWR0aDogaW1nLndpZHRoLCBoZWlnaHQ6IGltZy5oZWlnaHQgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaW1nLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkVycm9yIGFsIGNhcmdhciBsYSBpbWFnZW4gcGFyYSBkaW1lbnNpb25lcywgdXNhbmRvIHZhbG9yZXMgcG9yIGRlZmVjdG9cIik7XG4gICAgICAgICAgICAgIHJlc29sdmUoeyB3aWR0aDogNDgwLCBoZWlnaHQ6IDI3MCB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpbWcuc3JjID0gaW1hZ2VVcmw7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFBhcmEgVVJMcyBub3JtYWxlcywgdXNhbW9zIGRpbWVuc2lvbmVzIHByZWRldGVybWluYWRhc1xuICAgICAgICAgICAgcmVzb2x2ZSh7IHdpZHRoOiA0ODAsIGhlaWdodDogMjcwIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICAvLyBGdW5jacOzbiBwYXJhIGNyZWFyIGVsIHBheWxvYWQgZGVzcHXDqXMgZGUgcHJlLWNhcmdhciBsYSBpbWFnZW5cbiAgICAgIGNvbnN0IGNyZWF0ZUFuZERpc3BhdGNoUGF5bG9hZCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBPYnRlbmVyIGRpbWVuc2lvbmVzIHJlYWxlcyBzaSBlcyB1bmEgZGF0YSBVUkxcbiAgICAgICAgICBsZXQgZmluYWxXaWR0aCA9IHdpZHRoO1xuICAgICAgICAgIGxldCBmaW5hbEhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAgIGlmICh1cmwuc3RhcnRzV2l0aCgnZGF0YTonKSkge1xuICAgICAgICAgICAgY29uc3QgZGltZW5zaW9ucyA9IGF3YWl0IHByZWxvYWRJbWFnZSh1cmwpO1xuXG4gICAgICAgICAgICAvLyBDYWxjdWxhciBwcm9wb3JjaW9uZXMgcGFyYSBtYW50ZW5lciByZWxhY2nDs24gZGUgYXNwZWN0b1xuICAgICAgICAgICAgY29uc3QgYXNwZWN0UmF0aW8gPSBkaW1lbnNpb25zLndpZHRoIC8gZGltZW5zaW9ucy5oZWlnaHQ7XG5cbiAgICAgICAgICAgIC8vIEFqdXN0YXIgZGltZW5zaW9uZXMgbWFudGVuaWVuZG8gcHJvcG9yY2nDs25cbiAgICAgICAgICAgIGlmIChhc3BlY3RSYXRpbyA+IDEpIHsgLy8gSW1hZ2VuIGhvcml6b250YWxcbiAgICAgICAgICAgICAgZmluYWxXaWR0aCA9IE1hdGgubWluKDY0MCwgZGltZW5zaW9ucy53aWR0aCk7XG4gICAgICAgICAgICAgIGZpbmFsSGVpZ2h0ID0gZmluYWxXaWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgfSBlbHNlIHsgLy8gSW1hZ2VuIHZlcnRpY2FsIG8gY3VhZHJhZGFcbiAgICAgICAgICAgICAgZmluYWxIZWlnaHQgPSBNYXRoLm1pbig0ODAsIGRpbWVuc2lvbnMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgZmluYWxXaWR0aCA9IGZpbmFsSGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBEaW1lbnNpb25lcyBvcmlnaW5hbGVzOiAke2RpbWVuc2lvbnMud2lkdGh9eCR7ZGltZW5zaW9ucy5oZWlnaHR9LCBBanVzdGFkYXM6ICR7ZmluYWxXaWR0aH14JHtmaW5hbEhlaWdodH1gKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBPYnRlbmVyIHBvc2ljacOzbiAoY2VudHJhZGEgcG9yIGRlZmVjdG8pXG4gICAgICAgICAgY29uc3QgcG9zaXRpb24gPSBvcHRpb25zPy5wb3NpdGlvbiB8fCB7IHg6IDAuNSwgeTogMC41IH07XG5cbiAgICAgICAgICAvLyBDcmVhciBwYXlsb2FkIHBhcmEgbGEgaW1hZ2VuIGNvbiBkaW1lbnNpb25lcyBhanVzdGFkYXNcbiAgICAgICAgICBjb25zdCBpbWFnZVBheWxvYWQgPSB7XG4gICAgICAgICAgICBpZDogZ2VuZXJhdGVJZCgpLFxuICAgICAgICAgICAgZGlzcGxheToge1xuICAgICAgICAgICAgICBmcm9tOiBzdGFydFRpbWUgKiAxMDAwLCAvLyBDb252ZXJ0aXIgYSBtaWxpc2VndW5kb3NcbiAgICAgICAgICAgICAgdG86IGVuZFRpbWUgKiAxMDAwICAgICAvLyBDb252ZXJ0aXIgYSBtaWxpc2VndW5kb3NcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0eXBlOiAnaW1hZ2UnLFxuICAgICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgICBzcmM6IHVybCxcbiAgICAgICAgICAgICAgd2lkdGg6IGZpbmFsV2lkdGgsXG4gICAgICAgICAgICAgIGhlaWdodDogZmluYWxIZWlnaHQsXG4gICAgICAgICAgICAgIG9wYWNpdHk6IDEwMCxcbiAgICAgICAgICAgICAgc2NhbGVNb2RlOiBcImZpdFwiLCAvLyBBc2VndXJhciBxdWUgbGEgaW1hZ2VuIHNlIGVzY2FsZSBtYW50ZW5pZW5kbyBwcm9wb3JjaW9uZXNcbiAgICAgICAgICAgICAgbGVmdDogcG9zaXRpb24ueCwgLy8gUG9zaWNpw7NuIGhvcml6b250YWwgKDAtMSlcbiAgICAgICAgICAgICAgdG9wOiBwb3NpdGlvbi55LCAgLy8gUG9zaWNpw7NuIHZlcnRpY2FsICgwLTEpXG4gICAgICAgICAgICAgIG9yaWdpblg6IFwiY2VudGVyXCIsIC8vIFB1bnRvIGRlIG9yaWdlbiBob3Jpem9udGFsXG4gICAgICAgICAgICAgIG9yaWdpblk6IFwiY2VudGVyXCIsIC8vIFB1bnRvIGRlIG9yaWdlbiB2ZXJ0aWNhbFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgLy8gQWdyZWdhciBpbWFnZW4gYWwgdGltZWxpbmVcbiAgICAgICAgICBkaXNwYXRjaChBRERfSU1BR0UsIHtcbiAgICAgICAgICAgIHBheWxvYWQ6IGltYWdlUGF5bG9hZCxcbiAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgc2NhbGVNb2RlOiBcImZpdFwiLCAvLyBUYW1iacOpbiBjb25maWd1cmFtb3MgYXF1w60gcGFyYSBhc2VndXJhclxuICAgICAgICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24sIC8vIEFzZWd1cmFtb3MgcXVlIGxhIHBvc2ljacOzbiBzZSB0cmFuc2ZpZXJlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBJbWFnZW4gYWdyZWdhZGEgY29ycmVjdGFtZW50ZSBhbCB0aW1lbGluZSBlbiBwb3NpY2nDs24gKCR7cG9zaXRpb24ueH0sICR7cG9zaXRpb24ueX0pYCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIGFncmVnYXIgaW1hZ2VuIGFsIHRpbWVsaW5lOlwiLCBlcnJvcik7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBhbCBhZ3JlZ2FyIGltYWdlbjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdFcnJvciBkZXNjb25vY2lkbyd9YCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vIEluaWNpYXIgZWwgcHJvY2Vzb1xuICAgICAgY3JlYXRlQW5kRGlzcGF0Y2hQYXlsb2FkKCk7XG4gICAgfSxcblxuICAgIGFkZFZpZGVvOiAodXJsOiBzdHJpbmcsIG9wdGlvbnM/OiBWaWRlb09wdGlvbnMpID0+IHtcbiAgICAgIGNvbnN0IHdpZHRoID0gb3B0aW9ucz8ud2lkdGggfHwgNjQwO1xuICAgICAgY29uc3QgaGVpZ2h0ID0gb3B0aW9ucz8uaGVpZ2h0IHx8IDM2MDtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IG9wdGlvbnM/LnN0YXJ0VGltZSB8fCAwOyAvLyBQb3IgZGVmZWN0byBhbCBpbmljaW9cbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBvcHRpb25zPy5lbmRUaW1lIHx8IDEwOyAvLyBQb3IgZGVmZWN0byAxMCBzZWd1bmRvcyBkZSBkdXJhY2nDs25cblxuICAgICAgLy8gRGV0ZWN0YXIgc2kgZXMgdW4gYXJjaGl2byBBUE5HIHBhcmEgdHJhdGFtaWVudG8gZXNwZWNpYWxcbiAgICAgIGNvbnN0IGlzQVBORyA9IHVybC50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKCcuYXBuZycpO1xuXG4gICAgICAvLyBDcmVhciBwYXlsb2FkIHBhcmEgZWwgdmlkZW9cbiAgICAgIGNvbnN0IHZpZGVvUGF5bG9hZCA9IHtcbiAgICAgICAgaWQ6IGdlbmVyYXRlSWQoKSxcbiAgICAgICAgZGlzcGxheToge1xuICAgICAgICAgIGZyb206IHN0YXJ0VGltZSAqIDEwMDAsIC8vIENvbnZlcnRpciBhIG1pbGlzZWd1bmRvc1xuICAgICAgICAgIHRvOiBlbmRUaW1lICogMTAwMCAgICAgLy8gQ29udmVydGlyIGEgbWlsaXNlZ3VuZG9zXG4gICAgICAgIH0sXG4gICAgICAgIHR5cGU6ICd2aWRlbycsXG4gICAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgICBzcmM6IHVybCxcbiAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgb3BhY2l0eTogMTAwLFxuICAgICAgICAgIC8vIFBhcmEgQVBORywgYcOxYWRpciBwcm9waWVkYWRlcyBhZGljaW9uYWxlcyBwYXJhIHBvc2ljaW9uYW1pZW50byBhIHBhbnRhbGxhIGNvbXBsZXRhXG4gICAgICAgICAgLi4uKGlzQVBORyAmJiB7XG4gICAgICAgICAgICBzY2FsZU1vZGU6IFwiY292ZXJcIiwgLy8gVXNhciBcImNvdmVyXCIgZW4gbHVnYXIgZGUgXCJmaXRcIiBwYXJhIGFzZWd1cmFyIHF1ZSBjdWJyYSB0b2RvXG4gICAgICAgICAgICBsZWZ0OiAwLjUsIC8vIENlbnRyYWRvIGhvcml6b250YWxtZW50ZVxuICAgICAgICAgICAgdG9wOiAwLjUsICAvLyBDZW50cmFkbyB2ZXJ0aWNhbG1lbnRlXG4gICAgICAgICAgICBvcmlnaW5YOiBcImNlbnRlclwiLCAvLyBPcmlnZW4gZW4gZWwgY2VudHJvXG4gICAgICAgICAgICBvcmlnaW5ZOiBcImNlbnRlclwiLCAvLyBPcmlnZW4gZW4gZWwgY2VudHJvXG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIC8vIEFncmVnYXIgdmlkZW8gYWwgdGltZWxpbmVcbiAgICAgIGRpc3BhdGNoKEFERF9WSURFTywge1xuICAgICAgICBwYXlsb2FkOiB2aWRlb1BheWxvYWQsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICByZXNvdXJjZUlkOiBcIm1haW5cIixcbiAgICAgICAgICBzY2FsZU1vZGU6IGlzQVBORyA/IFwiY292ZXJcIiA6IFwiZml0XCIsIC8vIFVzYXIgY292ZXIgcGFyYSBBUE5HLCBmaXQgcGFyYSBvdHJvcyB2aWRlb3NcbiAgICAgICAgICAuLi4oaXNBUE5HICYmIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiB7IHg6IDAuNSwgeTogMC41IH0gLy8gQ2VudHJhciBwYXJhIEFQTkdcbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKGBWaWRlbyAke2lzQVBORyA/ICdBUE5HJyA6ICcnfSBhw7FhZGlkbyBhbCB0aW1lbGluZSBkZXNkZSAke3N0YXJ0VGltZX1zIGhhc3RhICR7ZW5kVGltZX1zLiBEaW1lbnNpb25lczogJHt3aWR0aH14JHtoZWlnaHR9YCk7XG4gICAgfSxcblxuICAgIGNoYW5nZUR1cmF0aW9uOiAoZWxlbWVudElkOiBzdHJpbmcsIGR1cmF0aW9uOiBudW1iZXIpID0+IHtcbiAgICAgIC8vIFNpbXVsYWNpw7NuIGRlIGNhbWJpbyBkZSBkdXJhY2nDs24gKGxhIGltcGxlbWVudGFjacOzbiByZWFsIGRlcGVuZGVyw6EgZGUgbGEgZXN0cnVjdHVyYSBkZWwgcHJveWVjdG8pXG4gICAgICBjb25zb2xlLmxvZyhgQ2FtYmlhbmRvIGR1cmFjacOzbiBkZWwgZWxlbWVudG8gJHtlbGVtZW50SWR9IGEgJHtkdXJhdGlvbn1zYCk7XG5cbiAgICAgIC8vIEFxdcOtIGlyw61hIGxhIGzDs2dpY2EgcmVhbCBwYXJhIGNhbWJpYXIgbGEgZHVyYWNpw7NuIGRlIHVuIGVsZW1lbnRvXG4gICAgfSxcblxuICAgIGNoYW5nZVRyYW5zaXRpb246IChlbGVtZW50SWQ6IHN0cmluZywgdHJhbnNpdGlvbjogc3RyaW5nKSA9PiB7XG4gICAgICAvLyBTaW11bGFjacOzbiBkZSBjYW1iaW8gZGUgdHJhbnNpY2nDs24gKGxhIGltcGxlbWVudGFjacOzbiByZWFsIGRlcGVuZGVyw6EgZGUgbGEgZXN0cnVjdHVyYSBkZWwgcHJveWVjdG8pXG4gICAgICBjb25zb2xlLmxvZyhgQ2FtYmlhbmRvIHRyYW5zaWNpw7NuIGRlbCBlbGVtZW50byAke2VsZW1lbnRJZH0gYSAke3RyYW5zaXRpb259YCk7XG5cbiAgICAgIC8vIEFxdcOtIGlyw61hIGxhIGzDs2dpY2EgcmVhbCBwYXJhIGNhbWJpYXIgbGEgdHJhbnNpY2nDs24gZGUgdW4gZWxlbWVudG9cbiAgICB9LFxuXG4gICAgYWRkU3VidGl0bGVzOiBhc3luYyAob3B0aW9ucz86IFN1YnRpdGxlT3B0aW9ucykgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJBw7FhZGllbmRvIHN1YnTDrXR1bG9zIGRpcmVjdGFtZW50ZSBzaW4gZGVwZW5kZXIgZGVsIGJvdMOzblwiKTtcblxuICAgICAgICAvLyBUaXBvIHBhcmEgcmVwcmVzZW50YXIgdW4gc2VnbWVudG8gZGUgc3VidMOtdHVsb1xuICAgICAgICBpbnRlcmZhY2UgU3VidGl0bGVTZWdtZW50IHtcbiAgICAgICAgICBpZDogbnVtYmVyO1xuICAgICAgICAgIHN0YXJ0VGltZTogbnVtYmVyOyAvLyBlbiBtaWxpc2VndW5kb3NcbiAgICAgICAgICBlbmRUaW1lOiBudW1iZXI7ICAgLy8gZW4gbWlsaXNlZ3VuZG9zXG4gICAgICAgICAgdGV4dDogc3RyaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRnVuY2nDs24gcGFyYSBwYXJzZWFyIGVsIHRpZW1wbyBkZSBmb3JtYXRvIFNSVCBhIG1pbGlzZWd1bmRvc1xuICAgICAgICBjb25zdCBwYXJzZVRpbWVUb01zID0gKHRpbWVTdHJpbmc6IHN0cmluZyk6IG51bWJlciA9PiB7XG4gICAgICAgICAgY29uc3QgW2hvdXJzLCBtaW51dGVzLCBzZWNvbmRzQW5kTXNdID0gdGltZVN0cmluZy5zcGxpdCgnOicpO1xuICAgICAgICAgIGNvbnN0IFtzZWNvbmRzLCBtc10gPSBzZWNvbmRzQW5kTXMuc3BsaXQoJywnKTtcblxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBwYXJzZUludChob3VycykgKiAzNjAwMDAwICtcbiAgICAgICAgICAgIHBhcnNlSW50KG1pbnV0ZXMpICogNjAwMDAgK1xuICAgICAgICAgICAgcGFyc2VJbnQoc2Vjb25kcykgKiAxMDAwICtcbiAgICAgICAgICAgIHBhcnNlSW50KG1zKVxuICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gRnVuY2nDs24gcGFyYSBwYXJzZWFyIGVsIGFyY2hpdm8gU1JUXG4gICAgICAgIGNvbnN0IHBhcnNlU1JUID0gKHNydENvbnRlbnQ6IHN0cmluZyk6IFN1YnRpdGxlU2VnbWVudFtdID0+IHtcbiAgICAgICAgICBjb25zdCBzZWdtZW50czogU3VidGl0bGVTZWdtZW50W10gPSBbXTtcbiAgICAgICAgICBjb25zdCBibG9ja3MgPSBzcnRDb250ZW50LnRyaW0oKS5zcGxpdCgnXFxuXFxuJyk7XG5cbiAgICAgICAgICBibG9ja3MuZm9yRWFjaChibG9jayA9PiB7XG4gICAgICAgICAgICBjb25zdCBsaW5lcyA9IGJsb2NrLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgIGlmIChsaW5lcy5sZW5ndGggPj0gMykge1xuICAgICAgICAgICAgICBjb25zdCBpZCA9IHBhcnNlSW50KGxpbmVzWzBdKTtcbiAgICAgICAgICAgICAgY29uc3QgdGltZVJhbmdlID0gbGluZXNbMV0uc3BsaXQoJyAtLT4gJyk7XG4gICAgICAgICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBhcnNlVGltZVRvTXModGltZVJhbmdlWzBdKTtcbiAgICAgICAgICAgICAgY29uc3QgZW5kVGltZSA9IHBhcnNlVGltZVRvTXModGltZVJhbmdlWzFdKTtcbiAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGxpbmVzLnNsaWNlKDIpLmpvaW4oJ1xcbicpOyAvLyBVbmlyIHRvZGFzIGxhcyBsw61uZWFzIGRlIHRleHRvXG5cbiAgICAgICAgICAgICAgc2VnbWVudHMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgIGVuZFRpbWUsXG4gICAgICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBzZWdtZW50cztcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBGdW5jacOzbiBwYXJhIGRpdmlkaXIgdW4gdGV4dG8gZW4gZ3J1cG9zIGRlIGFwcm94aW1hZGFtZW50ZSAzIHBhbGFicmFzXG4gICAgICAgIGNvbnN0IHNwbGl0VGV4dEludG9Hcm91cHMgPSAodGV4dDogc3RyaW5nLCB3b3Jkc1Blckdyb3VwID0gMyk6IHN0cmluZ1tdID0+IHtcbiAgICAgICAgICBjb25zdCB3b3JkcyA9IHRleHQuc3BsaXQoL1xccysvKTtcbiAgICAgICAgICBjb25zdCBncm91cHM6IHN0cmluZ1tdID0gW107XG5cbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdvcmRzLmxlbmd0aDsgaSArPSB3b3Jkc1Blckdyb3VwKSB7XG4gICAgICAgICAgICBjb25zdCBncm91cCA9IHdvcmRzLnNsaWNlKGksIGkgKyB3b3Jkc1Blckdyb3VwKS5qb2luKCcgJyk7XG4gICAgICAgICAgICBncm91cHMucHVzaChncm91cCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGdyb3VwcztcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBGdW5jacOzbiBwYXJhIHByb2Nlc2FyIHVuIHNlZ21lbnRvIHkgZGl2aWRpcmxvIGVuIG3Dumx0aXBsZXMgc2VnbWVudG9zIHNpIGVzIG5lY2VzYXJpb1xuICAgICAgICBjb25zdCBwcm9jZXNzU2VnbWVudCA9IChzZWdtZW50OiBTdWJ0aXRsZVNlZ21lbnQpOiBTdWJ0aXRsZVNlZ21lbnRbXSA9PiB7XG4gICAgICAgICAgY29uc3QgdGV4dEdyb3VwcyA9IHNwbGl0VGV4dEludG9Hcm91cHMoc2VnbWVudC50ZXh0KTtcblxuICAgICAgICAgIC8vIFNpIHNvbG8gaGF5IHVuIGdydXBvLCBkZXZvbHZlciBlbCBzZWdtZW50byBvcmlnaW5hbFxuICAgICAgICAgIGlmICh0ZXh0R3JvdXBzLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gW3NlZ21lbnRdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIENhbGN1bGFyIGxhIGR1cmFjacOzbiBkZSBjYWRhIGdydXBvXG4gICAgICAgICAgY29uc3QgdG90YWxEdXJhdGlvbiA9IHNlZ21lbnQuZW5kVGltZSAtIHNlZ21lbnQuc3RhcnRUaW1lO1xuICAgICAgICAgIGNvbnN0IGdyb3VwRHVyYXRpb24gPSB0b3RhbER1cmF0aW9uIC8gdGV4dEdyb3Vwcy5sZW5ndGg7XG5cbiAgICAgICAgICAvLyBDcmVhciB1biBudWV2byBzZWdtZW50byBwYXJhIGNhZGEgZ3J1cG9cbiAgICAgICAgICByZXR1cm4gdGV4dEdyb3Vwcy5tYXAoKGdyb3VwVGV4dCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHNlZ21lbnQuc3RhcnRUaW1lICsgKGluZGV4ICogZ3JvdXBEdXJhdGlvbik7XG4gICAgICAgICAgICBjb25zdCBlbmRUaW1lID0gc3RhcnRUaW1lICsgZ3JvdXBEdXJhdGlvbjtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgaWQ6IHNlZ21lbnQuaWQgKiAxMDAwICsgaW5kZXgsIC8vIEdlbmVyYXIgdW4gSUQgw7puaWNvXG4gICAgICAgICAgICAgIHN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgZW5kVGltZSxcbiAgICAgICAgICAgICAgdGV4dDogZ3JvdXBUZXh0XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEZ1bmNpw7NuIHBhcmEgY3JlYXIgZWwgcGF5bG9hZCBkZSB0ZXh0byBwYXJhIHN1YnTDrXR1bG9zXG4gICAgICAgIGNvbnN0IGNyZWF0ZVN1YnRpdGxlUGF5bG9hZCA9ICh0ZXh0OiBzdHJpbmcsIHN0YXJ0VGltZTogbnVtYmVyLCBlbmRUaW1lOiBudW1iZXIpID0+ICh7XG4gICAgICAgICAgaWQ6IGdlbmVyYXRlSWQoKSxcbiAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICBmcm9tOiBzdGFydFRpbWUsXG4gICAgICAgICAgICB0bzogZW5kVGltZSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LnRvVXBwZXJDYXNlKCksIC8vIENvbnZlcnRpciBhIG1hecO6c2N1bGFzIGNvbW8gTXJCZWFzdFxuICAgICAgICAgICAgZm9udFNpemU6IDgwLCAvLyBUYW1hw7FvIG3DoXMgZ3JhbmRlIHBhcmEgZXN0aWxvIE1yQmVhc3RcbiAgICAgICAgICAgIHdpZHRoOiA5MDAsXG4gICAgICAgICAgICBmb250VXJsOiAnL2ZvbnRzL21yYmVhc3QudHRmJywgLy8gVXNhciBsYSBmdWVudGUgTXJCZWFzdFxuICAgICAgICAgICAgZm9udEZhbWlseTogJ01yQmVhc3QnLCAvLyBOb21icmUgZGUgbGEgZnVlbnRlIE1yQmVhc3RcbiAgICAgICAgICAgIGNvbG9yOiAnI0ZGRkYwMCcsIC8vIEFtYXJpbGxvIGJyaWxsYW50ZVxuICAgICAgICAgICAgd29yZFdyYXA6ICdicmVhay13b3JkJyxcbiAgICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICAgICAgICBib3JkZXJXaWR0aDogMjAsIC8vIFN0cm9rZSBuZWdybyBncnVlc29cbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnIzAwMDAwMCcsXG4gICAgICAgICAgICBib3hTaGFkb3c6IHtcbiAgICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcbiAgICAgICAgICAgICAgeDogMyxcbiAgICAgICAgICAgICAgeTogMyxcbiAgICAgICAgICAgICAgYmx1cjogMCwgLy8gU2luIGRlc2VuZm9xdWUgcGFyYSB1biBlc3RpbG8gbcOhcyBpbXBhY3RhbnRlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLCAvLyBTaW4gZm9uZG8gcGFyYSBxdWUgZGVzdGFxdWUgbcOhc1xuICAgICAgICAgICAgcGFkZGluZzogMTAsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IDAsIC8vIFNpbiBib3JkZXMgcmVkb25kZWFkb3MgcGFyYSB1biBlc3RpbG8gbcOhcyBpbXBhY3RhbnRlXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ2FyZ2FyIGVsIGFyY2hpdm8gU1JUXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2FyZ2FuZG8gYXJjaGl2byBTUlQuLi5cIik7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy90cmFuc2NyaXB0aW9ucy90cmFuc2NyaXB0aW9uMS5zcnQnKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgYWwgY2FyZ2FyIGVsIGFyY2hpdm8gU1JUOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNydENvbnRlbnQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQXJjaGl2byBTUlQgY2FyZ2FkbyBjb3JyZWN0YW1lbnRlXCIpO1xuXG4gICAgICAgIC8vIFBhcnNlYXIgZWwgYXJjaGl2byBTUlRcbiAgICAgICAgbGV0IHNlZ21lbnRzID0gcGFyc2VTUlQoc3J0Q29udGVudCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBTZSBlbmNvbnRyYXJvbiAke3NlZ21lbnRzLmxlbmd0aH0gc2VnbWVudG9zIGRlIHN1YnTDrXR1bG9zYCk7XG5cbiAgICAgICAgLy8gU2llbXByZSB1c2FyIGVsIG1vZG8gYWdydXBhZG8gKGRpdmlkaXIgZW4gZ3J1cG9zIGRlIDMgcGFsYWJyYXMpXG4gICAgICAgIHNlZ21lbnRzID0gc2VnbWVudHMuZmxhdE1hcChwcm9jZXNzU2VnbWVudCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBEZXNwdcOpcyBkZSBwcm9jZXNhciwgaGF5ICR7c2VnbWVudHMubGVuZ3RofSBzZWdtZW50b3MgZGUgc3VidMOtdHVsb3NgKTtcblxuICAgICAgICAvLyBGaWx0cmFyIHBvciB0aWVtcG8gc2kgZXMgbmVjZXNhcmlvXG4gICAgICAgIGlmIChvcHRpb25zPy5zdGFydFRpbWUgIT09IHVuZGVmaW5lZCB8fCBvcHRpb25zPy5lbmRUaW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjb25zdCBvcmlnaW5hbExlbmd0aCA9IHNlZ21lbnRzLmxlbmd0aDtcbiAgICAgICAgICBzZWdtZW50cyA9IHNlZ21lbnRzLmZpbHRlcihzZWdtZW50ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhc3Nlc1N0YXJ0RmlsdGVyID0gb3B0aW9ucy5zdGFydFRpbWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnQuc3RhcnRUaW1lID49IChvcHRpb25zLnN0YXJ0VGltZSAqIDEwMDApO1xuICAgICAgICAgICAgY29uc3QgcGFzc2VzRW5kRmlsdGVyID0gb3B0aW9ucy5lbmRUaW1lID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudC5lbmRUaW1lIDw9IChvcHRpb25zLmVuZFRpbWUgKiAxMDAwKTtcbiAgICAgICAgICAgIHJldHVybiBwYXNzZXNTdGFydEZpbHRlciAmJiBwYXNzZXNFbmRGaWx0ZXI7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc29sZS5sb2coYEZpbHRyYWRvIHBvciB0aWVtcG86IGRlICR7b3JpZ2luYWxMZW5ndGh9IGEgJHtzZWdtZW50cy5sZW5ndGh9IHNlZ21lbnRvc2ApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQcOxYWRpciBsb3Mgc3VidMOtdHVsb3MgY29uIHVuIHJldHJhc28gZW50cmUgY2FkYSB1bm9cbiAgICAgICAgY29uc29sZS5sb2coYEHDsWFkaWVuZG8gJHtzZWdtZW50cy5sZW5ndGh9IHNlZ21lbnRvcyBkZSBzdWJ0w610dWxvcyBhbCB0aW1lbGluZS4uLmApO1xuXG4gICAgICAgIHNlZ21lbnRzLmZvckVhY2goKHNlZ21lbnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBkaXNwYXRjaChBRERfVEVYVCwge1xuICAgICAgICAgICAgICBwYXlsb2FkOiBjcmVhdGVTdWJ0aXRsZVBheWxvYWQoc2VnbWVudC50ZXh0LCBzZWdtZW50LnN0YXJ0VGltZSwgc2VnbWVudC5lbmRUaW1lKSxcbiAgICAgICAgICAgICAgb3B0aW9uczoge30sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKChpbmRleCArIDEpICUgMTAgPT09IDAgfHwgaW5kZXggPT09IHNlZ21lbnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYFByb2dyZXNvOiAke2luZGV4ICsgMX0vJHtzZWdtZW50cy5sZW5ndGh9IHN1YnTDrXR1bG9zIGHDsWFkaWRvc2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIGluZGV4ICogMjAwKTsgLy8gMjAwbXMgZGUgcmV0cmFzbyBlbnRyZSBjYWRhIHN1YnTDrXR1bG9cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWwgYcOxYWRpciBzdWJ0w610dWxvczpcIiwgZXJyb3IpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGdldEFjdGl2ZUVsZW1lbnRzOiBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBPYnRlbmVyIGVsIGVzdGFkbyBhY3R1YWxcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBzdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKTtcblxuICAgICAgICAvLyBWZXJpZmljYXIgc2kgaGF5IElEcyBhY3Rpdm9zXG4gICAgICAgIGlmICghc3RhdGUuYWN0aXZlSWRzIHx8IHN0YXRlLmFjdGl2ZUlkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIGhheSBlbGVtZW50b3MgYWN0aXZvcyBzZWxlY2Npb25hZG9zXCIpO1xuICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFZlcmlmaWNhciBzaSBoYXkgZWxlbWVudG9zIGVuIGVsIHRyYWNrSXRlbXNNYXBcbiAgICAgICAgaWYgKCFzdGF0ZS50cmFja0l0ZW1zTWFwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJObyBoYXkgdHJhY2tJdGVtc01hcCBkaXNwb25pYmxlXCIpO1xuICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9idGVuZXIgaW5mb3JtYWNpw7NuIGRlIGxvcyBlbGVtZW50b3MgYWN0aXZvc1xuICAgICAgICBjb25zdCBhY3RpdmVFbGVtZW50cyA9IHN0YXRlLmFjdGl2ZUlkc1xuICAgICAgICAgIC5maWx0ZXIoaWQgPT4gc3RhdGUudHJhY2tJdGVtc01hcFtpZF0pXG4gICAgICAgICAgLm1hcChpZCA9PiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gc3RhdGUudHJhY2tJdGVtc01hcFtpZF07XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgdHJhY2tJZDogaXRlbS50cmFja0lkLFxuICAgICAgICAgICAgICB0eXBlOiBpdGVtLnR5cGUsXG4gICAgICAgICAgICAgIGZyb206IGl0ZW0uZGlzcGxheT8uZnJvbSxcbiAgICAgICAgICAgICAgdG86IGl0ZW0uZGlzcGxheT8udG8sXG4gICAgICAgICAgICAgIGR1cmF0aW9uOiBpdGVtLmRpc3BsYXkgPyAoaXRlbS5kaXNwbGF5LnRvIC0gaXRlbS5kaXNwbGF5LmZyb20pIDogMCxcbiAgICAgICAgICAgICAgZGV0YWlsczogaXRlbS5kZXRhaWxzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGBTZSBlbmNvbnRyYXJvbiAke2FjdGl2ZUVsZW1lbnRzLmxlbmd0aH0gZWxlbWVudG9zIGFjdGl2b3NgKTtcbiAgICAgICAgcmV0dXJuIGFjdGl2ZUVsZW1lbnRzO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIG9idGVuZXIgZWxlbWVudG9zIGFjdGl2b3M6XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBnZXRBbGxUaW1lbGluZUVsZW1lbnRzOiBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBPYnRlbmVyIGVsIGVzdGFkbyBhY3R1YWxcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBzdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKTtcblxuICAgICAgICAvLyBWZXJpZmljYXIgc2kgaGF5IGVsZW1lbnRvcyBlbiBlbCB0cmFja0l0ZW1zTWFwXG4gICAgICAgIGlmICghc3RhdGUudHJhY2tJdGVtc01hcCB8fCBPYmplY3Qua2V5cyhzdGF0ZS50cmFja0l0ZW1zTWFwKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIGhheSBlbGVtZW50b3MgZW4gZWwgdHJhY2tJdGVtc01hcFwiKTtcblxuICAgICAgICAgIC8vIEJ1c2NhciBlbGVtZW50b3MgZW4gb3RyYXMgcHJvcGllZGFkZXMgZGVsIGVzdGFkb1xuICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHN0YXRlKSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGF0ZVtrZXldID09PSAnb2JqZWN0JyAmJiBzdGF0ZVtrZXldICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG9ialZhbHVlID0gc3RhdGVba2V5XTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYEV4cGxvcmFuZG8gcHJvcGllZGFkIGFsdGVybmF0aXZhOiAke2tleX1gKTtcblxuICAgICAgICAgICAgICAvLyBWZXJpZmljYXIgc2kgcGFyZWNlIHNlciB1biBtYXBhIGRlIGVsZW1lbnRvc1xuICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMob2JqVmFsdWUpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzYW1wbGUgPSBvYmpWYWx1ZVtPYmplY3Qua2V5cyhvYmpWYWx1ZSlbMF1dO1xuICAgICAgICAgICAgICAgIGlmIChzYW1wbGUgJiYgc2FtcGxlLmRpc3BsYXkgJiYgc2FtcGxlLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBFbmNvbnRyYWRhIHBvc2libGUgZnVlbnRlIGFsdGVybmF0aXZhIGRlIGVsZW1lbnRvcyBlbiBwcm9waWVkYWQgJHtrZXl9YCk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIFByb2Nlc2FyIGVsZW1lbnRvcyBkZSBlc3RhIHByb3BpZWRhZCBhbHRlcm5hdGl2YVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKG9ialZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChbXywgaXRlbV0pID0+IGl0ZW0gJiYgaXRlbS5kaXNwbGF5KVxuICAgICAgICAgICAgICAgICAgICAubWFwKChbaWQsIGl0ZW1dKSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgICAgICAgIHRyYWNrSWQ6IGl0ZW0udHJhY2tJZCxcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBpdGVtLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgZnJvbTogaXRlbS5kaXNwbGF5Py5mcm9tLFxuICAgICAgICAgICAgICAgICAgICAgIHRvOiBpdGVtLmRpc3BsYXk/LnRvLFxuICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBpdGVtLmRpc3BsYXkgPyAoaXRlbS5kaXNwbGF5LnRvIC0gaXRlbS5kaXNwbGF5LmZyb20pIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBpdGVtLmRldGFpbHNcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9idGVuZXIgdG9kb3MgbG9zIGVsZW1lbnRvc1xuICAgICAgICBjb25zdCBhbGxFbGVtZW50cyA9IE9iamVjdC5lbnRyaWVzKHN0YXRlLnRyYWNrSXRlbXNNYXApXG4gICAgICAgICAgLmZpbHRlcigoW18sIGl0ZW1dKSA9PiBpdGVtICYmIGl0ZW0uZGlzcGxheSlcbiAgICAgICAgICAubWFwKChbaWQsIGl0ZW1dKSA9PiAoe1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICB0cmFja0lkOiBpdGVtLnRyYWNrSWQsXG4gICAgICAgICAgICB0eXBlOiBpdGVtLnR5cGUsXG4gICAgICAgICAgICBmcm9tOiBpdGVtLmRpc3BsYXk/LmZyb20sXG4gICAgICAgICAgICB0bzogaXRlbS5kaXNwbGF5Py50byxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBpdGVtLmRpc3BsYXkgPyAoaXRlbS5kaXNwbGF5LnRvIC0gaXRlbS5kaXNwbGF5LmZyb20pIDogMCxcbiAgICAgICAgICAgIGRldGFpbHM6IGl0ZW0uZGV0YWlsc1xuICAgICAgICAgIH0pKVxuICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiAoYS5mcm9tIHx8IDApIC0gKGIuZnJvbSB8fCAwKSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coYFNlIGVuY29udHJhcm9uICR7YWxsRWxlbWVudHMubGVuZ3RofSBlbGVtZW50b3MgZW4gZWwgdGltZWxpbmVgKTtcbiAgICAgICAgcmV0dXJuIGFsbEVsZW1lbnRzO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIG9idGVuZXIgdG9kb3MgbG9zIGVsZW1lbnRvcyBkZWwgdGltZWxpbmU6XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICByZW1vdmVTZWdtZW50czogYXN5bmMgKHNlZ21lbnRzOiBUaW1lU2VnbWVudFtdKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkluaWNpYW5kbyBlbGltaW5hY2nDs24gZGUgc2VnbWVudG9zIG3Dumx0aXBsZXNcIik7XG5cbiAgICAgICAgLy8gT2J0ZW5lciBlbCBlc3RhZG8gYWN0dWFsXG4gICAgICAgIGNvbnN0IHN0YXRlID0gc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCk7XG5cbiAgICAgICAgLy8gVmFsaWRhciBxdWUgaGF5YSBlbGVtZW50b3MgZW4gbGEgdGltZWxpbmVcbiAgICAgICAgaWYgKCFzdGF0ZS5hY3RpdmVJZHMgfHwgc3RhdGUuYWN0aXZlSWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJObyBoYXkgZWxlbWVudG9zIHNlbGVjY2lvbmFkb3MgZW4gbGEgdGltZWxpbmVcIik7XG5cbiAgICAgICAgICAvLyBCdXNjYXIgZWwgcHJpbWVyIGVsZW1lbnRvIGRpc3BvbmlibGUgZW4gbGEgdGltZWxpbmVcbiAgICAgICAgICBjb25zdCB0cmFja0l0ZW1zTWFwID0gc3RhdGUudHJhY2tJdGVtc01hcCB8fCB7fTtcbiAgICAgICAgICBjb25zdCB0cmFja0l0ZW1zID0gT2JqZWN0LmtleXModHJhY2tJdGVtc01hcCk7XG5cbiAgICAgICAgICBpZiAodHJhY2tJdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJObyBoYXkgZWxlbWVudG9zIGVuIGxhIHRpbWVsaW5lIHBhcmEgZWxpbWluYXIgc2VnbWVudG9zXCIpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gaGF5IGVsZW1lbnRvcyBlbiBsYSB0aW1lbGluZVwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTZWxlY2Npb25hciBlbCBwcmltZXIgZWxlbWVudG8gZGlzcG9uaWJsZVxuICAgICAgICAgIGNvbnN0IGZpcnN0SXRlbUlkID0gdHJhY2tJdGVtc1swXTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgU2VsZWNjaW9uYW5kbyBhdXRvbcOhdGljYW1lbnRlIGVsIGVsZW1lbnRvIGNvbiBJRDogJHtmaXJzdEl0ZW1JZH1gKTtcblxuICAgICAgICAgIGRpc3BhdGNoKExBWUVSX1NFTEVDVCwge1xuICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICBpZHM6IFtmaXJzdEl0ZW1JZF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIEVzcGVyYXIgYSBxdWUgc2UgYXBsaXF1ZSBsYSBzZWxlY2Npw7NuXG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDMwMCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWxtYWNlbmFtb3MgaW5mb3JtYWNpw7NuIGRlbCBlbGVtZW50byBzZWxlY2Npb25hZG9cbiAgICAgICAgY29uc3QgY3VycmVudFN0YXRlID0gc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCk7XG4gICAgICAgIGlmICghY3VycmVudFN0YXRlLmFjdGl2ZUlkcyB8fCBjdXJyZW50U3RhdGUuYWN0aXZlSWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHNlIHB1ZG8gc2VsZWNjaW9uYXIgbmluZ8O6biBlbGVtZW50byBlbiBsYSB0aW1lbGluZVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsSXRlbUlkID0gY3VycmVudFN0YXRlLmFjdGl2ZUlkc1swXTtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxJdGVtID0gY3VycmVudFN0YXRlLnRyYWNrSXRlbXNNYXBbb3JpZ2luYWxJdGVtSWRdO1xuICAgICAgICBjb25zdCB0cmFja1R5cGUgPSBvcmlnaW5hbEl0ZW0udHlwZTtcbiAgICAgICAgY29uc3QgdHJhY2tJZCA9IG9yaWdpbmFsSXRlbS50cmFja0lkO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGBFbGVtZW50byBzZWxlY2Npb25hZG86IElEPSR7b3JpZ2luYWxJdGVtSWR9LCB0aXBvPSR7dHJhY2tUeXBlfSwgdHJhY2tJZD0ke3RyYWNrSWR9YCk7XG5cbiAgICAgICAgLy8gUHJvY2VzYXIgY2FkYSBzZWdtZW50byBlbiBvcmRlbiAoZGUgZmluYWwgYSBwcmluY2lwaW8gcGFyYSBldml0YXIgYWZlY3RhciBwb3NpY2lvbmVzKVxuICAgICAgICBmb3IgKGxldCBpID0gc2VnbWVudHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBjb25zdCBzZWdtZW50ID0gc2VnbWVudHNbaV07XG4gICAgICAgICAgY29uc29sZS5sb2coYFByb2Nlc2FuZG8gc2VnbWVudG8gJHtpKzF9LyR7c2VnbWVudHMubGVuZ3RofTogJHtzZWdtZW50LnN0YXJ0VGltZX1zIC0gJHtzZWdtZW50LmVuZFRpbWV9c2ApO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFBBU08gMTogSGFjZXIgdW4gY29ydGUgZW4gZWwgdGllbXBvIGZpbmFsXG4gICAgICAgICAgICBjb25zdCBlbmRNcyA9IHNlZ21lbnQuZW5kVGltZSAqIDEwMDA7XG4gICAgICAgICAgICBkaXNwYXRjaChBQ1RJVkVfU1BMSVQsIHtcbiAgICAgICAgICAgICAgcGF5bG9hZDoge30sXG4gICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICB0aW1lOiBlbmRNcyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFBhc28gMTogQ29ydGUgYXBsaWNhZG8gZW4gdGllbXBvIGZpbmFsICR7c2VnbWVudC5lbmRUaW1lfXNgKTtcblxuICAgICAgICAgICAgLy8gRXNwZXJhciBhIHF1ZSBzZSBwcm9jZXNlIGVsIHByaW1lciBjb3J0ZVxuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpO1xuXG4gICAgICAgICAgICAvLyBPYnRlbmVtb3MgZWwgZXN0YWRvIGRlc3B1w6lzIGRlbCBwcmltZXIgY29ydGVcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlQWZ0ZXJGaXJzdEN1dCA9IHN0YXRlTWFuYWdlci5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudHNBZnRlckZpcnN0Q3V0ID0gT2JqZWN0LmVudHJpZXMoc3RhdGVBZnRlckZpcnN0Q3V0LnRyYWNrSXRlbXNNYXApXG4gICAgICAgICAgICAgIC5maWx0ZXIoKFtfLCBpdGVtXSkgPT5cbiAgICAgICAgICAgICAgICBpdGVtLnR5cGUgPT09IHRyYWNrVHlwZSAmJlxuICAgICAgICAgICAgICAgIGl0ZW0udHJhY2tJZCA9PT0gdHJhY2tJZCAmJlxuICAgICAgICAgICAgICAgIGl0ZW0uZGlzcGxheSAmJlxuICAgICAgICAgICAgICAgICFpc05hTihpdGVtLmRpc3BsYXkuZnJvbSkgJiZcbiAgICAgICAgICAgICAgICAhaXNOYU4oaXRlbS5kaXNwbGF5LnRvKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIC5tYXAoKFtpZCwgaXRlbV0pID0+ICh7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgZnJvbTogaXRlbS5kaXNwbGF5LmZyb20sXG4gICAgICAgICAgICAgICAgdG86IGl0ZW0uZGlzcGxheS50byxcbiAgICAgICAgICAgICAgICBkdXJhY2nDs246IGl0ZW0uZGlzcGxheS50byAtIGl0ZW0uZGlzcGxheS5mcm9tXG4gICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYS5mcm9tIC0gYi5mcm9tKTtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFbGVtZW50b3MgZGVzcHXDqXMgZGVsIHByaW1lciBjb3J0ZTpcIiwgZWxlbWVudHNBZnRlckZpcnN0Q3V0KTtcblxuICAgICAgICAgICAgLy8gUEFTTyAyOiBJZGVudGlmaWNhciBlbCBlbGVtZW50byBpenF1aWVyZG8gcXVlIGNvbnRpZW5lIGVsIHRpZW1wbyBpbmljaWFsXG4gICAgICAgICAgICBjb25zdCBzdGFydE1zID0gc2VnbWVudC5zdGFydFRpbWUgKiAxMDAwO1xuICAgICAgICAgICAgY29uc3QgbGVmdEVsZW1lbnQgPSBlbGVtZW50c0FmdGVyRmlyc3RDdXQuZmluZChlbGVtID0+XG4gICAgICAgICAgICAgIGVsZW0uZnJvbSA8PSBzdGFydE1zICYmIGVsZW0udG8gPj0gc3RhcnRNc1xuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKCFsZWZ0RWxlbWVudCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBObyBzZSBwdWRvIGlkZW50aWZpY2FyIGVsIGVsZW1lbnRvIGl6cXVpZXJkbyBwYXJhIGVsIHNlZ21lbnRvICR7aSsxfWApO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5sb2coYFBhc28gMjogRWxlbWVudG8gaXpxdWllcmRvIGlkZW50aWZpY2FkbyAoSUQ6ICR7bGVmdEVsZW1lbnQuaWR9KWApO1xuXG4gICAgICAgICAgICAvLyBQQVNPIDM6IFNlbGVjY2lvbmFyIGVsIGVsZW1lbnRvIGl6cXVpZXJkbyB5IGhhY2VyIGNvcnRlIGVuIHRpZW1wbyBpbmljaWFsXG4gICAgICAgICAgICBkaXNwYXRjaChMQVlFUl9TRUxFQ1QsIHtcbiAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgIGlkczogW2xlZnRFbGVtZW50LmlkXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gRXNwZXJhciBhIHF1ZSBzZSBhcGxpcXVlIGxhIHNlbGVjY2nDs25cbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAzMDApKTtcblxuICAgICAgICAgICAgLy8gQXBsaWNhciBlbCBjb3J0ZSBlbiBlbCB0aWVtcG8gaW5pY2lhbFxuICAgICAgICAgICAgZGlzcGF0Y2goQUNUSVZFX1NQTElULCB7XG4gICAgICAgICAgICAgIHBheWxvYWQ6IHt9LFxuICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgdGltZTogc3RhcnRNcyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFBhc28gMzogU2VndW5kbyBjb3J0ZSBhcGxpY2FkbyBlbiB0aWVtcG8gaW5pY2lhbCAke3NlZ21lbnQuc3RhcnRUaW1lfXNgKTtcblxuICAgICAgICAgICAgLy8gRXNwZXJhciBhIHF1ZSBzZSBwcm9jZXNlIGVsIHNlZ3VuZG8gY29ydGVcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDApKTtcblxuICAgICAgICAgICAgLy8gT2J0ZW5lbW9zIGVsIGVzdGFkbyBkZXNwdcOpcyBkZWwgc2VndW5kbyBjb3J0ZVxuICAgICAgICAgICAgY29uc3Qgc3RhdGVBZnRlclNlY29uZEN1dCA9IHN0YXRlTWFuYWdlci5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudHNBZnRlclNlY29uZEN1dCA9IE9iamVjdC5lbnRyaWVzKHN0YXRlQWZ0ZXJTZWNvbmRDdXQudHJhY2tJdGVtc01hcClcbiAgICAgICAgICAgICAgLmZpbHRlcigoW18sIGl0ZW1dKSA9PlxuICAgICAgICAgICAgICAgIGl0ZW0udHlwZSA9PT0gdHJhY2tUeXBlICYmXG4gICAgICAgICAgICAgICAgaXRlbS50cmFja0lkID09PSB0cmFja0lkICYmXG4gICAgICAgICAgICAgICAgaXRlbS5kaXNwbGF5ICYmXG4gICAgICAgICAgICAgICAgIWlzTmFOKGl0ZW0uZGlzcGxheS5mcm9tKSAmJlxuICAgICAgICAgICAgICAgICFpc05hTihpdGVtLmRpc3BsYXkudG8pXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgLm1hcCgoW2lkLCBpdGVtXSkgPT4gKHtcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICBmcm9tOiBpdGVtLmRpc3BsYXkuZnJvbSxcbiAgICAgICAgICAgICAgICB0bzogaXRlbS5kaXNwbGF5LnRvLFxuICAgICAgICAgICAgICAgIGR1cmFjacOzbjogaXRlbS5kaXNwbGF5LnRvIC0gaXRlbS5kaXNwbGF5LmZyb21cbiAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBhLmZyb20gLSBiLmZyb20pO1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVsZW1lbnRvcyBkZXNwdcOpcyBkZWwgc2VndW5kbyBjb3J0ZTpcIiwgZWxlbWVudHNBZnRlclNlY29uZEN1dCk7XG5cbiAgICAgICAgICAgIC8vIFBBU08gNDogSWRlbnRpZmljYXIgZWwgZWxlbWVudG8gZGVsIG1lZGlvIHVzYW5kbyBjcml0ZXJpb3MgbcOhcyBwcmVjaXNvc1xuICAgICAgICAgICAgY29uc3QgbWlkZGxlRWxlbWVudHMgPSBlbGVtZW50c0FmdGVyU2Vjb25kQ3V0LmZpbHRlcihlbGVtID0+XG4gICAgICAgICAgICAgIE1hdGguYWJzKGVsZW0uZnJvbSAtIHN0YXJ0TXMpIDwgNTAgJiYgTWF0aC5hYnMoZWxlbS50byAtIGVuZE1zKSA8IDUwXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVsZW1lbnRvcyBxdWUgY29pbmNpZGVuIGNvbiBsb3MgY3JpdGVyaW9zIGRlbCBtZWRpbzpcIiwgbWlkZGxlRWxlbWVudHMpO1xuXG4gICAgICAgICAgICBpZiAobWlkZGxlRWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYE5vIHNlIHB1ZG8gaWRlbnRpZmljYXIgZWwgZWxlbWVudG8gZGVsIG1lZGlvIHBhcmEgZWwgc2VnbWVudG8gJHtpKzF9YCk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTaSBoYXkgbcOhcyBkZSB1biBlbGVtZW50byBxdWUgY29pbmNpZGUsIHRvbWFtb3MgZWwgcHJpbWVyb1xuICAgICAgICAgICAgY29uc3QgbWlkZGxlRWxlbWVudCA9IG1pZGRsZUVsZW1lbnRzWzBdO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFBhc28gNDogRWxlbWVudG8gZGVsIG1lZGlvIGlkZW50aWZpY2FkbyAoSUQ6ICR7bWlkZGxlRWxlbWVudC5pZH0pYCk7XG5cbiAgICAgICAgICAgIC8vIFBBU08gNTogU2VsZWNjaW9uYXIgeSBlbGltaW5hciBlbCBlbGVtZW50byBkZWwgbWVkaW9cbiAgICAgICAgICAgIGRpc3BhdGNoKExBWUVSX1NFTEVDVCwge1xuICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgaWRzOiBbbWlkZGxlRWxlbWVudC5pZF1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIEVzcGVyYXIgYSBxdWUgc2UgYXBsaXF1ZSBsYSBzZWxlY2Npw7NuXG4gICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMzAwKSk7XG5cbiAgICAgICAgICAgIC8vIFZlcmlmaWNhciBxdWUgZWwgZWxlbWVudG8gZXN0w6Egc2VsZWNjaW9uYWRvIGFudGVzIGRlIGVsaW1pbmFybG9cbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHN0YXRlTWFuYWdlci5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZS5hY3RpdmVJZHMgJiYgY3VycmVudFN0YXRlLmFjdGl2ZUlkcy5pbmNsdWRlcyhtaWRkbGVFbGVtZW50LmlkKSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgRWxlbWVudG8gZGVsIG1lZGlvIGNvcnJlY3RhbWVudGUgc2VsZWNjaW9uYWRvLCBwcm9jZWRpZW5kbyBjb24gZWxpbWluYWNpw7NuYCk7XG4gICAgICAgICAgICAgIGRpc3BhdGNoKExBWUVSX0RFTEVURSk7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBFbGVtZW50byBlbGltaW5hZG8gY29ycmVjdGFtZW50ZTogJHttaWRkbGVFbGVtZW50LmlkfWApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYE5vIHNlIHB1ZG8gc2VsZWNjaW9uYXIgbm9ybWFsbWVudGUsIGludGVudGFuZG8gbcOpdG9kbyBhbHRlcm5hdGl2b2ApO1xuXG4gICAgICAgICAgICAgIC8vIEVuZm9xdWUgYWx0ZXJuYXRpdm86IFVzYXIgZWwgRURJVF9PQkpFQ1QgcGFyYSBcIm9jdWx0YXJcIiBlbCBzZWdtZW50b1xuICAgICAgICAgICAgICBkaXNwYXRjaChFRElUX09CSkVDVCwge1xuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgIFttaWRkbGVFbGVtZW50LmlkXToge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgZnJvbTogLTk5OTk5LCAvLyBVbiB2YWxvciBmdWVyYSBkZWwgcmFuZ28gdmlzaWJsZVxuICAgICAgICAgICAgICAgICAgICAgIHRvOiAtOTk5OTBcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2UgLy8gQWRpY2lvbmFsbWVudGUgbWFyY2FybG8gY29tbyBubyB2aXNpYmxlXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYEFwbGljYWRvIG3DqXRvZG8gYWx0ZXJuYXRpdm8gcGFyYSBvY3VsdGFyIGVsIHNlZ21lbnRvYCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEVzcGVyYXIgYSBxdWUgc2UgcHJvY2VzZSBsYSBlbGltaW5hY2nDs25cbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDApKTtcblxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBhbCBwcm9jZXNhciBlbCBzZWdtZW50byAke2krMX06YCwgZXJyb3IpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFBhdXNhIGVudHJlIHNlZ21lbnRvc1xuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFjdHVhbGl6YXIgbGEgZXNjYWxhIHBhcmEgcmVmcmVzY2FyIGxhIHZpc3RhXG4gICAgICAgIGNvbnN0IHsgc2NhbGUgfSA9IHN0YXRlTWFuYWdlci5nZXRTdGF0ZSgpO1xuICAgICAgICBpZiAoc2NhbGUpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkFjdHVhbGl6YW5kbyBlc2NhbGEgcGFyYSByZWZyZXNjYXIgbGEgdmlzdGFcIik7XG5cbiAgICAgICAgICAvLyBHdWFyZGFyIGVsIHZhbG9yIGFjdHVhbCBkZSBzY2FsZS51bml0XG4gICAgICAgICAgY29uc3Qgb3JpZ2luYWxVbml0ID0gc2NhbGUudW5pdDtcblxuICAgICAgICAgIC8vIEluY3JlbWVudGFyIGVsIHZhbG9yXG4gICAgICAgICAgc2NhbGUudW5pdCArPSAxO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBTY2FsZSBjYW1iaWFkYTogJHtvcmlnaW5hbFVuaXR9IC0+ICR7c2NhbGUudW5pdH1gKTtcblxuICAgICAgICAgIC8vIEFzZWd1cmFyIHF1ZSBlbCBjYW1iaW8gc2VhIG5vdGFkbyBwb3IgZWwgc2lzdGVtYVxuICAgICAgICAgIGRpc3BhdGNoKFRJTUVMSU5FX1NDQUxFX0NIQU5HRUQsIHtcbiAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgc2NhbGU6IHtcbiAgICAgICAgICAgICAgICAuLi5zY2FsZSwgIC8vIEluY2x1aXIgdG9kYXMgbGFzIHByb3BpZWRhZGVzIGRlIHNjYWxlXG4gICAgICAgICAgICAgICAgdW5pdDogc2NhbGUudW5pdCAgLy8gRXhwbMOtY2l0YW1lbnRlIGVzdGFibGVjZXIgZWwgbnVldm8gdmFsb3JcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBGb3J6YXIgdW5hIGFjdHVhbGl6YWNpw7NuIGFkaWNpb25hbCB2b2x2aWVuZG8gYWwgdmFsb3Igb3JpZ2luYWwgZGVzcHXDqXMgZGUgdW4gbW9tZW50b1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFN0YXRlID0gc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCk7XG4gICAgICAgICAgICBpZiAoY3VycmVudFN0YXRlLnNjYWxlKSB7XG4gICAgICAgICAgICAgIGRpc3BhdGNoKFRJTUVMSU5FX1NDQUxFX0NIQU5HRUQsIHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICBzY2FsZToge1xuICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50U3RhdGUuc2NhbGUsXG4gICAgICAgICAgICAgICAgICAgIHVuaXQ6IG9yaWdpbmFsVW5pdCAgLy8gVm9sdmVyIGFsIHZhbG9yIG9yaWdpbmFsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBSZXN0YXVyYWRvIHNjYWxlIGEgdmFsb3Igb3JpZ2luYWw6ICR7b3JpZ2luYWxVbml0fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhcIkVsaW1pbmFjacOzbiBkZSBzZWdtZW50b3MgY29tcGxldGFkYVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWwgZWxpbWluYXIgc2VnbWVudG9zOlwiLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgY29tcGFjdFRpbWVsaW5lOiBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIj09PSBJTklDSUFORE8gQ09NUEFDVEFDScOTTiBERSBMw41ORUEgREUgVElFTVBPIERFU0RFIElBID09PVwiKTtcblxuICAgICAgICAvLyBPYnRlbmVyIGVsIGVzdGFkbyBhY3R1YWxcbiAgICAgICAgY29uc3QgZXN0YWRvID0gc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXN0YWRvIHBhcmEgY29tcGFjdGFjacOzbjpcIiwgT2JqZWN0LmtleXMoZXN0YWRvKSk7XG5cbiAgICAgICAgLy8gQcOxYWRpciB1biB0aWVtcG8gZGUgZXNwZXJhIGluaWNpYWwgcGFyYSBhc2VndXJhciBxdWUgZWwgZXN0YWRvIGVzdMOhIGFjdHVhbGl6YWRvXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXNwZXJhbmRvIDEgc2VndW5kbyBwYXJhIGFzZWd1cmFyIGNvbnNpc3RlbmNpYSBkZWwgZXN0YWRvLi4uXCIpO1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCkpO1xuXG4gICAgICAgIC8vIFZlcmlmaWNhY2nDs24gYWRpY2lvbmFsIHBhcmEgYXNlZ3VyYXJub3MgcXVlIGxvcyBjYW1iaW9zIGVuIGxhIHRpbWVsaW5lIHlhIHNlIGFwbGljYXJvblxuICAgICAgICBjb25zb2xlLmxvZyhcIlZlcmlmaWNhbmRvIHF1ZSBsb3MgZWxlbWVudG9zIGVuIGxhIHRpbWVsaW5lIHJlZmxlamVuIGxvcyBjYW1iaW9zIG3DoXMgcmVjaWVudGVzLi4uXCIpO1xuXG4gICAgICAgIC8vIFBlcXVlw7FhIHBhdXNhIGFkaWNpb25hbCBwYXJhIGFzZWd1cmFyIGNvbnNpc3RlbmNpYSBkZWwgZXN0YWRvXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDApKTtcblxuICAgICAgICAvLyBCdXNjYXIgbG9zIGVsZW1lbnRvcyBkZWwgdGltZWxpbmUgLSB1c2FuZG8gbGEgcmVmZXJlbmNpYSBhbCBtw6l0b2RvIGRlbnRybyBkZWwgbWlzbW8gb2JqZXRvXG4gICAgICAgIGNvbnN0IHRvZG9zRWxlbWVudG9zID0gYXdhaXQgZXhlY3V0b3IuZ2V0QWxsVGltZWxpbmVFbGVtZW50cygpO1xuICAgICAgICBjb25zb2xlLmxvZyhgRW5jb250cmFkb3MgJHt0b2Rvc0VsZW1lbnRvcy5sZW5ndGh9IGVsZW1lbnRvcyBlbiBsYSB0aW1lbGluZWApO1xuXG4gICAgICAgIC8vIExvZ2dpbmcgZGUgZWxlbWVudG9zIHBhcmEgZGlhZ27Ds3N0aWNvXG4gICAgICAgIHRvZG9zRWxlbWVudG9zLmZvckVhY2goKGVsZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coYEVsZW1lbnRvICR7aW5kZXggKyAxfTogSUQ9JHtlbGVtLmlkfSwgVGlwbz0ke2VsZW0udHlwZX0sIFRyYWNrPSR7ZWxlbS50cmFja0lkfSwgVGllbXBvPSR7ZWxlbS5mcm9tfW1zLSR7ZWxlbS50b31tcyAoZHVyYWNpw7NuPSR7ZWxlbS50by1lbGVtLmZyb219bXMpYCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNpIG5vIGhheSBlbGVtZW50b3MsIG5vIHBvZGVtb3MgY29tcGFjdGFyXG4gICAgICAgIGlmICh0b2Rvc0VsZW1lbnRvcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIGhheSBlbGVtZW50b3MgZW4gZWwgdGltZWxpbmUgcGFyYSBjb21wYWN0YXJcIik7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWdydXBhciBlbGVtZW50b3MgcG9yIHRyYWNrIHBhcmEgYW7DoWxpc2lzXG4gICAgICAgIGNvbnN0IGVsZW1lbnRvc1BvclRyYWNrID0ge307XG4gICAgICAgIHRvZG9zRWxlbWVudG9zLmZvckVhY2goZWxlbSA9PiB7XG4gICAgICAgICAgaWYgKGVsZW0udHJhY2tJZCkge1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50b3NQb3JUcmFja1tlbGVtLnRyYWNrSWRdKSB7XG4gICAgICAgICAgICAgIGVsZW1lbnRvc1BvclRyYWNrW2VsZW0udHJhY2tJZF0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsZW1lbnRvc1BvclRyYWNrW2VsZW0udHJhY2tJZF0ucHVzaChlbGVtKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIE9yZGVuYXIgZWxlbWVudG9zIGVuIGNhZGEgdHJhY2sgcG9yIHRpZW1wb1xuICAgICAgICBPYmplY3Qua2V5cyhlbGVtZW50b3NQb3JUcmFjaykuZm9yRWFjaCh0cmFja0lkID0+IHtcbiAgICAgICAgICBlbGVtZW50b3NQb3JUcmFja1t0cmFja0lkXS5zb3J0KChhLCBiKSA9PiBhLmZyb20gLSBiLmZyb20pO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIkVsZW1lbnRvcyBhZ3J1cGFkb3MgcG9yIHRyYWNrOlwiLCBPYmplY3Qua2V5cyhlbGVtZW50b3NQb3JUcmFjaykubGVuZ3RoKTtcblxuICAgICAgICAvLyBMb2dnaW5nIGRlIHRyYWNrcyBwYXJhIGRpYWduw7NzdGljb1xuICAgICAgICBPYmplY3Qua2V5cyhlbGVtZW50b3NQb3JUcmFjaykuZm9yRWFjaCh0cmFja0lkID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgVHJhY2sgJHt0cmFja0lkfTogJHtlbGVtZW50b3NQb3JUcmFja1t0cmFja0lkXS5sZW5ndGh9IGVsZW1lbnRvc2ApO1xuICAgICAgICAgIC8vIE1vc3RyYXIgbG9zIGVsZW1lbnRvcyBlbiBlc3RlIHRyYWNrIG9yZGVuYWRvc1xuICAgICAgICAgIGVsZW1lbnRvc1BvclRyYWNrW3RyYWNrSWRdLmZvckVhY2goKGVsZW0sIGlkeCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYCAgJHtpZHgrMX0uIElEPSR7ZWxlbS5pZC5zdWJzdHJpbmcoMCw4KX0uLi4gVGllbXBvPSR7ZWxlbS5mcm9tfW1zLSR7ZWxlbS50b31tcyAoZHVyYWNpw7NuOiAke2VsZW0udG8tZWxlbS5mcm9tfW1zKWApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBCdXNjYXIgZXNwYWNpb3MgdmFjw61vcyBlbiBjYWRhIHRyYWNrXG4gICAgICAgIGNvbnN0IGVzcGFjaW9zVmFjaW9zID0gW107XG5cbiAgICAgICAgT2JqZWN0LmtleXMoZWxlbWVudG9zUG9yVHJhY2spLmZvckVhY2godHJhY2tJZCA9PiB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudG9zID0gZWxlbWVudG9zUG9yVHJhY2tbdHJhY2tJZF07XG5cbiAgICAgICAgICAvLyBTaSBoYXkgYWwgbWVub3MgMiBlbGVtZW50b3MsIHBvZGVtb3MgYnVzY2FyIGVzcGFjaW9zXG4gICAgICAgICAgaWYgKGVsZW1lbnRvcy5sZW5ndGggPj0gMikge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50b3MubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRvQWN0dWFsID0gZWxlbWVudG9zW2ldO1xuICAgICAgICAgICAgICBjb25zdCBlbGVtZW50b1NpZ3VpZW50ZSA9IGVsZW1lbnRvc1tpICsgMV07XG5cbiAgICAgICAgICAgICAgLy8gVmVyaWZpY2FyIHNpIGhheSB1biBlc3BhY2lvIGVudHJlIGVsIGZpbiBkZWwgZWxlbWVudG8gYWN0dWFsIHkgZWwgaW5pY2lvIGRlbCBzaWd1aWVudGVcbiAgICAgICAgICAgICAgY29uc3QgZXNwYWNpbyA9IGVsZW1lbnRvU2lndWllbnRlLmZyb20gLSBlbGVtZW50b0FjdHVhbC50bztcblxuICAgICAgICAgICAgICAvLyBTaSBlbCBlc3BhY2lvIGVzIHNpZ25pZmljYXRpdm8gKG3DoXMgZGUgMTAwbXMpXG4gICAgICAgICAgICAgIGlmIChlc3BhY2lvID4gMTAwKSB7XG4gICAgICAgICAgICAgICAgZXNwYWNpb3NWYWNpb3MucHVzaCh7XG4gICAgICAgICAgICAgICAgICB0cmFja0lkLFxuICAgICAgICAgICAgICAgICAgc3RhcnQ6IGVsZW1lbnRvQWN0dWFsLnRvLFxuICAgICAgICAgICAgICAgICAgZW5kOiBlbGVtZW50b1NpZ3VpZW50ZS5mcm9tLFxuICAgICAgICAgICAgICAgICAgc2l6ZTogZXNwYWNpbyxcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnRvQW50ZXM6IGVsZW1lbnRvQWN0dWFsLmlkLFxuICAgICAgICAgICAgICAgICAgZWxlbWVudG9EZXNwdWVzOiBlbGVtZW50b1NpZ3VpZW50ZS5pZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBFbmNvbnRyYWRvIGVzcGFjaW8gZGUgJHtlc3BhY2lvfW1zICgke2VzcGFjaW8vMTAwMH1zKSBlbiB0cmFjayAke3RyYWNrSWR9IGVudHJlIGVsZW1lbnRvcyAke2VsZW1lbnRvQWN0dWFsLmlkLnN1YnN0cmluZygwLDgpfS4uLiB5ICR7ZWxlbWVudG9TaWd1aWVudGUuaWQuc3Vic3RyaW5nKDAsOCl9Li4uYCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGBTZSBlbmNvbnRyYXJvbiAke2VzcGFjaW9zVmFjaW9zLmxlbmd0aH0gZXNwYWNpb3MgdmFjw61vc2ApO1xuXG4gICAgICAgIC8vIFNpIG5vIGhheSBlc3BhY2lvcywgbm8gbmVjZXNpdGFtb3MgY29tcGFjdGFyXG4gICAgICAgIGlmIChlc3BhY2lvc1ZhY2lvcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIGhheSBlc3BhY2lvcyBzaWduaWZpY2F0aXZvcyBwYXJhIGNvbXBhY3RhclwiKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gRGV2b2x2ZW1vcyB0cnVlIHBvcnF1ZSB0w6ljbmljYW1lbnRlIGVzdMOhIGNvbXBhY3RhZG9cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9yZGVuYXIgZXNwYWNpb3MgcG9yIHBvc2ljacOzbiAoZGUgaXpxdWllcmRhIGEgZGVyZWNoYSlcbiAgICAgICAgZXNwYWNpb3NWYWNpb3Muc29ydCgoYSwgYikgPT4gYS5zdGFydCAtIGIuc3RhcnQpO1xuXG4gICAgICAgIC8vIENhbGN1bGFyIGVsIGVzcGFjaW8gdG90YWwgYSBjb21wYWN0YXJcbiAgICAgICAgbGV0IGVzcGFjaW9Ub3RhbCA9IDA7XG4gICAgICAgIGVzcGFjaW9zVmFjaW9zLmZvckVhY2goZXNwYWNpbyA9PiB7XG4gICAgICAgICAgZXNwYWNpb1RvdGFsICs9IGVzcGFjaW8uc2l6ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coYEVzcGFjaW8gdG90YWwgYSBjb21wYWN0YXI6ICR7ZXNwYWNpb1RvdGFsfW1zICgke2VzcGFjaW9Ub3RhbC8xMDAwfXMpYCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBQcmVwYXJhbmRvIGFjdHVhbGl6YWNpb25lcyBwYXJhICR7dG9kb3NFbGVtZW50b3MubGVuZ3RofSBlbGVtZW50b3MuLi5gKTtcblxuICAgICAgICAvLyBQcmVwYXJhciBhY3R1YWxpemFjaW9uZXMgcGFyYSBjYWRhIGVsZW1lbnRvXG4gICAgICAgIGNvbnN0IGFjdHVhbGl6YWNpb25lcyA9IHt9O1xuICAgICAgICBsZXQgZWxlbWVudG9zQU1vdmVyID0gMDtcblxuICAgICAgICAvLyBQYXJhIGNhZGEgZWxlbWVudG8sIGNhbGN1bGFtb3MgZWwgZGVzcGxhemFtaWVudG8gYmFzYWRvIGVuIGxvcyBlc3BhY2lvcyBhbnRlcmlvcmVzXG4gICAgICAgIHRvZG9zRWxlbWVudG9zLmZvckVhY2goZWxlbWVudG8gPT4ge1xuICAgICAgICAgIGxldCBkZXNwbGF6YW1pZW50byA9IDA7XG5cbiAgICAgICAgICAvLyBDYWxjdWxhciBjdcOhbnRvIGRlYmUgbW92ZXJzZSBiYXNhZG8gZW4gbG9zIGVzcGFjaW9zIHZhY8Otb3MgYW50ZXJpb3Jlc1xuICAgICAgICAgIGZvciAoY29uc3QgZXNwYWNpbyBvZiBlc3BhY2lvc1ZhY2lvcykge1xuICAgICAgICAgICAgLy8gU2kgZWwgZWxlbWVudG8gZXN0w6EgZGVzcHXDqXMgZGVsIGVzcGFjaW8gdmFjw61vLCBkZWJlIG1vdmVyc2VcbiAgICAgICAgICAgIGlmIChlbGVtZW50by5mcm9tID4gZXNwYWNpby5lbmQpIHtcbiAgICAgICAgICAgICAgZGVzcGxhemFtaWVudG8gKz0gZXNwYWNpby5zaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFNpIGhheSBkZXNwbGF6YW1pZW50bywgYcOxYWRpciBhIGxhcyBhY3R1YWxpemFjaW9uZXNcbiAgICAgICAgICBpZiAoZGVzcGxhemFtaWVudG8gPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBudWV2b0Zyb20gPSBlbGVtZW50by5mcm9tIC0gZGVzcGxhemFtaWVudG87XG4gICAgICAgICAgICBjb25zdCBudWV2b1RvID0gZWxlbWVudG8udG8gLSBkZXNwbGF6YW1pZW50bztcblxuICAgICAgICAgICAgY29uc29sZS5sb2coYEVsZW1lbnRvICR7ZWxlbWVudG8uaWQuc3Vic3RyaW5nKDAsOCl9Li4uIHNlIG1vdmVyw6E6ICR7ZWxlbWVudG8uZnJvbX1tcyAtPiAke251ZXZvRnJvbX1tcyAoZGVzcGxhemFtaWVudG86ICR7ZGVzcGxhemFtaWVudG99bXMpYCk7XG5cbiAgICAgICAgICAgIGFjdHVhbGl6YWNpb25lc1tlbGVtZW50by5pZF0gPSB7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgICAgICAgICBmcm9tOiBudWV2b0Zyb20sXG4gICAgICAgICAgICAgICAgdG86IG51ZXZvVG9cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGVsZW1lbnRvc0FNb3ZlcisrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coYEVsZW1lbnRvcyBhIG1vdmVyOiAke2VsZW1lbnRvc0FNb3Zlcn0gZGUgJHt0b2Rvc0VsZW1lbnRvcy5sZW5ndGh9IHRvdGFsYCk7XG5cbiAgICAgICAgLy8gQXBsaWNhciBsYXMgYWN0dWFsaXphY2lvbmVzXG4gICAgICAgIGlmIChlbGVtZW50b3NBTW92ZXIgPiAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJBcGxpY2FuZG8gYWN0dWFsaXphY2lvbmVzIHBhcmEgY29tcGFjdGFyIHRpbWVsaW5lLi4uXCIpO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKEVESVRfT0JKRUNULCB7XG4gICAgICAgICAgICAgIHBheWxvYWQ6IGFjdHVhbGl6YWNpb25lc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFjdHVhbGl6YWNpb25lcyBhcGxpY2FkYXMgY29uIMOpeGl0b1wiKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIGFwbGljYXIgYWN0dWFsaXphY2lvbmVzOlwiLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gUmVmcmVzY2FyIGxhIHZpc3RhXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCB7IHNjYWxlIH0gPSBzdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgICAgaWYgKHNjYWxlKSB7XG4gICAgICAgICAgICAgICAgLy8gSGFjZXIgdW4gcGVxdWXDsW8gY2FtYmlvIGVuIGxhIGVzY2FsYSBwYXJhIGZvcnphciBsYSBhY3R1YWxpemFjacOzblxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRTY2FsZSA9IHsgLi4uc2NhbGUgfTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdXBkYXRlZFNjYWxlLnVuaXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICB1cGRhdGVkU2NhbGUudW5pdCA9ICh1cGRhdGVkU2NhbGUudW5pdCB8fCAwKSArIDE7XG5cbiAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKFRJTUVMSU5FX1NDQUxFX0NIQU5HRUQsIHtcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogeyBzY2FsZTogdXBkYXRlZFNjYWxlIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAvLyBWb2x2ZXIgYSBsYSBlc2NhbGEgb3JpZ2luYWxcbiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U2NhbGUgPSB7IC4uLnN0YXRlTWFuYWdlci5nZXRTdGF0ZSgpLnNjYWxlIH07XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTY2FsZS51bml0ID0gKGN1cnJlbnRTY2FsZS51bml0IHx8IDEpIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goVElNRUxJTkVfU0NBTEVfQ0hBTkdFRCwge1xuICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsgc2NhbGU6IGN1cnJlbnRTY2FsZSB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSwgMzAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhbCByZWZyZXNjYXIgbGEgdmlzdGE6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCA1MDApO1xuXG4gICAgICAgICAgY29uc29sZS5sb2coXCJDb21wYWN0YWNpw7NuIGNvbXBsZXRhZGEgY29uIMOpeGl0b1wiKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIGhheSBlbGVtZW50b3MgcXVlIG5lY2VzaXRlbiBtb3ZlcnNlXCIpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWwgY29tcGFjdGFyIGxhIGzDrW5lYSBkZSB0aWVtcG86XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBzbWFydFRyaW06IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiPT09IElOSUNJQU5ETyBQUk9DRVNPIERFIFJFQ09SVEUgSU5URUxJR0VOVEUgREVTREUgSUEgPT09XCIpO1xuXG4gICAgICAgIC8vIDEuIFJlYWxpemFyIGxhIGxsYW1hZGEgYWwgQVBJIHBhcmEgYW5hbGl6YXIgbGEgdHJhbnNjcmlwY2nDs25cbiAgICAgICAgY29uc29sZS5sb2coXCJTb2xpY2l0YW5kbyBhbsOhbGlzaXMgZGUgdHJhbnNjcmlwY2nDs24uLi5cIik7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc21hcnQtdHJpbScpO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGFsIGFuYWxpemFyIGxhIHRyYW5zY3JpcGNpw7NuOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQW7DoWxpc2lzIGRlIHRyYW5zY3JpcGNpw7NuIGNvbXBsZXRhZG86XCIsIGRhdGEpO1xuXG4gICAgICAgIGlmICghZGF0YS5yZW1vdmVTZWdtZW50cyB8fCAhQXJyYXkuaXNBcnJheShkYXRhLnJlbW92ZVNlZ21lbnRzKSB8fCBkYXRhLnJlbW92ZVNlZ21lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm8gc2UgZW5jb250cmFyb24gc2VnbWVudG9zIHBhcmEgZWxpbWluYXJcIik7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gMi4gQ29udmVydGlyIGxvcyBzZWdtZW50b3MgYWwgZm9ybWF0byBxdWUgZXNwZXJhIHJlbW92ZVNlZ21lbnRzXG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gZGF0YS5yZW1vdmVTZWdtZW50cy5tYXAoc2VnbWVudCA9PiAoe1xuICAgICAgICAgIHN0YXJ0VGltZTogc2VnbWVudC5zdGFydFRpbWUsIC8vIFlhIGVzdMOhIGVuIHNlZ3VuZG9zXG4gICAgICAgICAgZW5kVGltZTogc2VnbWVudC5lbmRUaW1lICAgICAgLy8gWWEgZXN0w6EgZW4gc2VndW5kb3NcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGBTZSBlbGltaW5hcsOhbiAke3NlZ21lbnRzLmxlbmd0aH0gc2VnbWVudG9zOmAsXG4gICAgICAgICAgc2VnbWVudHMubWFwKHMgPT4gYCR7cy5zdGFydFRpbWV9cy0ke3MuZW5kVGltZX1zYCkuam9pbignLCAnKSk7XG5cbiAgICAgICAgLy8gQWxtYWNlbmFyIGluZm9ybWFjacOzbiBkZWwgZXN0YWRvIHByZXZpbyBwYXJhIGlkZW50aWZpY2FyIHRyYWNrcyB5IGVsZW1lbnRvc1xuICAgICAgICBjb25zb2xlLmxvZyhcIk9idGVuaWVuZG8gaW5mb3JtYWNpw7NuIGRlbCBlc3RhZG8gYW50ZXMgZGUgZWxpbWluYXIgc2VnbWVudG9zLi4uXCIpO1xuICAgICAgICBjb25zdCBlc3RhZG9QcmV2aW8gPSBzdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgZWxlbWVudG9zUHJldmlvcyA9IGF3YWl0IGV4ZWN1dG9yLmdldEFsbFRpbWVsaW5lRWxlbWVudHMoKTtcblxuICAgICAgICAvLyBEZXRlcm1pbmFyIGVsIHRyYWNrSWQgcHJpbmNpcGFsIGJhc2FkbyBlbiBsb3MgZWxlbWVudG9zXG4gICAgICAgIGNvbnN0IGNvbnRhZG9yVHJhY2tzID0ge307XG4gICAgICAgIGVsZW1lbnRvc1ByZXZpb3MuZm9yRWFjaChlbGVtID0+IHtcbiAgICAgICAgICBpZiAoZWxlbS50cmFja0lkKSB7XG4gICAgICAgICAgICBjb250YWRvclRyYWNrc1tlbGVtLnRyYWNrSWRdID0gKGNvbnRhZG9yVHJhY2tzW2VsZW0udHJhY2tJZF0gfHwgMCkgKyAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRW5jb250cmFyIGVsIHRyYWNrIGNvbiBtw6FzIGVsZW1lbnRvc1xuICAgICAgICBsZXQgdHJhY2tJZFByaW5jaXBhbCA9IFwiXCI7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhjb250YWRvclRyYWNrcykubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IHRyYWNrc1BvclVzbyA9IE9iamVjdC5lbnRyaWVzKGNvbnRhZG9yVHJhY2tzKVxuICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGJbMV0gLSBhWzFdKTtcblxuICAgICAgICAgIGlmICh0cmFja3NQb3JVc28ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdHJhY2tJZFByaW5jaXBhbCA9IHRyYWNrc1BvclVzb1swXVswXTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBVc2FuZG8gdHJhY2tJZCBwcmluY2lwYWw6ICR7dHJhY2tJZFByaW5jaXBhbH1gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyAzLiBFbGltaW5hciBsb3Mgc2VnbWVudG9zXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRWplY3V0YW5kbyBlbGltaW5hY2nDs24gZGUgc2VnbWVudG9zLi4uXCIpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBleGVjdXRvci5yZW1vdmVTZWdtZW50cyhzZWdtZW50cyk7XG5cbiAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yIGFsIGVsaW1pbmFyIGxvcyBzZWdtZW50b3NcIik7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJTZWdtZW50b3MgZWxpbWluYWRvcyBjb3JyZWN0YW1lbnRlXCIpO1xuXG4gICAgICAgIC8vIDQuIENyZWFyIHJlZ2lzdHJvIGRlIGxvcyBzZWdtZW50b3MgZWxpbWluYWRvcyBwYXJhIGNvbXBhY3RhY2nDs25cbiAgICAgICAgY29uc3Qgc2VnbWVudG9zRWxpbWluYWRvcyA9IHNlZ21lbnRzLm1hcChzZWdtZW50ID0+ICh7XG4gICAgICAgICAgc3RhcnQ6IHNlZ21lbnQuc3RhcnRUaW1lICogMTAwMCwgIC8vIENvbnZlcnRpciBhIG1zXG4gICAgICAgICAgZW5kOiBzZWdtZW50LmVuZFRpbWUgKiAxMDAwLCAgICAgIC8vIENvbnZlcnRpciBhIG1zXG4gICAgICAgICAgdHJhY2tJZDogdHJhY2tJZFByaW5jaXBhbCxcbiAgICAgICAgICBzaXplOiAoc2VnbWVudC5lbmRUaW1lIC0gc2VnbWVudC5zdGFydFRpbWUpICogMTAwMFxuICAgICAgICB9KSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJTZWdtZW50b3MgcmVnaXN0cmFkb3MgcGFyYSBjb21wYWN0YWNpw7NuOlwiLCBzZWdtZW50b3NFbGltaW5hZG9zKTtcblxuICAgICAgICAvLyA1LiBFc3BlcmFyIHVuIG1vbWVudG8gcGFyYSBxdWUgc2UgY29tcGxldGVuIGxhcyBhY3R1YWxpemFjaW9uZXMgZGVsIERPTSB5IGVsIGVzdGFkb1xuICAgICAgICBjb25zb2xlLmxvZyhcIkVzcGVyYW5kbyA1IHNlZ3VuZG9zIHBhcmEgYXNlZ3VyYXIgcXVlIGxvcyBjYW1iaW9zIGVuIGxhIHRpbWVsaW5lIGVzdMOpbiBjb21wbGV0b3MgYW50ZXMgZGUgY29tcGFjdGFyLi4uXCIpO1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwMCkpO1xuXG4gICAgICAgIC8vIDYuIENvbXBhY3RhciBlbCB0aW1lbGluZSB1c2FuZG8gZWwgZW5mb3F1ZSBkZSBzZWdtZW50b3MgcmVnaXN0cmFkb3NcbiAgICAgICAgY29uc29sZS5sb2coXCJDb21wYWN0YW5kbyB0aW1lbGluZSBiYXNhZG8gZW4gc2VnbWVudG9zIGVsaW1pbmFkb3MuLi5cIik7XG5cbiAgICAgICAgLy8gT2J0ZW5lciBlbGVtZW50b3MgYWN0dWFsZXMgZGVzcHXDqXMgZGUgbGEgZWxpbWluYWNpw7NuXG4gICAgICAgIGNvbnN0IGVsZW1lbnRvc0FjdHVhbGVzID0gYXdhaXQgZXhlY3V0b3IuZ2V0QWxsVGltZWxpbmVFbGVtZW50cygpO1xuICAgICAgICBjb25zb2xlLmxvZyhgU2UgZW5jb250cmFyb24gJHtlbGVtZW50b3NBY3R1YWxlcy5sZW5ndGh9IGVsZW1lbnRvcyBlbiBsYSB0aW1lbGluZSBkZXNwdcOpcyBkZSBlbGltaW5hciBzZWdtZW50b3NgKTtcblxuICAgICAgICAvLyBDYWxjdWxhciBlbCBlc3BhY2lvIHRvdGFsIGEgY29tcGFjdGFyXG4gICAgICAgIGxldCBlc3BhY2lvVG90YWwgPSAwO1xuICAgICAgICBzZWdtZW50b3NFbGltaW5hZG9zLmZvckVhY2goc2VnbWVudG8gPT4ge1xuICAgICAgICAgIGVzcGFjaW9Ub3RhbCArPSBzZWdtZW50by5zaXplO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zb2xlLmxvZyhgRXNwYWNpbyB0b3RhbCBhIGNvbXBhY3RhcjogJHtlc3BhY2lvVG90YWx9bXMgKCR7ZXNwYWNpb1RvdGFsLzEwMDB9cylgKTtcblxuICAgICAgICAvLyBQcmVwYXJhciBhY3R1YWxpemFjaW9uZXMgcGFyYSBjYWRhIGVsZW1lbnRvXG4gICAgICAgIGNvbnN0IGFjdHVhbGl6YWNpb25lcyA9IHt9O1xuICAgICAgICBsZXQgZWxlbWVudG9zQU1vdmVyID0gMDtcblxuICAgICAgICAvLyBPcmRlbmFyIHNlZ21lbnRvcyBwb3IgcG9zaWNpw7NuIGRlIGluaWNpb1xuICAgICAgICBjb25zdCBzZWdtZW50b3NPcmRlbmFkb3MgPSBbLi4uc2VnbWVudG9zRWxpbWluYWRvc10uc29ydCgoYSwgYikgPT4gYS5zdGFydCAtIGIuc3RhcnQpO1xuXG4gICAgICAgIC8vIFBhcmEgY2FkYSBlbGVtZW50bywgY2FsY3VsYXIgZWwgZGVzcGxhemFtaWVudG8gYmFzYWRvIGVuIGxvcyBzZWdtZW50b3MgZWxpbWluYWRvc1xuICAgICAgICBlbGVtZW50b3NBY3R1YWxlcy5mb3JFYWNoKGVsZW1lbnRvID0+IHtcbiAgICAgICAgICBsZXQgZGVzcGxhemFtaWVudG8gPSAwO1xuXG4gICAgICAgICAgLy8gQ2FsY3VsYXIgY3XDoW50byBkZWJlIG1vdmVyc2UgYmFzYWRvIGVuIGxvcyBzZWdtZW50b3MgZWxpbWluYWRvcyBhbnRlcmlvcmVzXG4gICAgICAgICAgZm9yIChjb25zdCBzZWdtZW50byBvZiBzZWdtZW50b3NPcmRlbmFkb3MpIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50by5mcm9tID4gc2VnbWVudG8uc3RhcnQpIHtcbiAgICAgICAgICAgICAgZGVzcGxhemFtaWVudG8gKz0gc2VnbWVudG8uc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTaSBoYXkgZGVzcGxhemFtaWVudG8sIGHDsWFkaXIgYSBsYXMgYWN0dWFsaXphY2lvbmVzXG4gICAgICAgICAgaWYgKGRlc3BsYXphbWllbnRvID4gMCkge1xuICAgICAgICAgICAgY29uc3QgbnVldm9Gcm9tID0gZWxlbWVudG8uZnJvbSAtIGRlc3BsYXphbWllbnRvO1xuICAgICAgICAgICAgY29uc3QgbnVldm9UbyA9IGVsZW1lbnRvLnRvIC0gZGVzcGxhemFtaWVudG87XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBFbGVtZW50byAke2VsZW1lbnRvLmlkLnN1YnN0cmluZygwLDgpfS4uLiBzZSBtb3ZlcsOhOiAke2VsZW1lbnRvLmZyb219bXMgLT4gJHtudWV2b0Zyb219bXMgKGRlc3BsYXphbWllbnRvOiAke2Rlc3BsYXphbWllbnRvfW1zKWApO1xuXG4gICAgICAgICAgICBhY3R1YWxpemFjaW9uZXNbZWxlbWVudG8uaWRdID0ge1xuICAgICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgZnJvbTogbnVldm9Gcm9tLFxuICAgICAgICAgICAgICAgIHRvOiBudWV2b1RvXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBlbGVtZW50b3NBTW92ZXIrKztcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGBFbGVtZW50b3MgYSBtb3ZlcjogJHtlbGVtZW50b3NBTW92ZXJ9IGRlICR7ZWxlbWVudG9zQWN0dWFsZXMubGVuZ3RofSB0b3RhbGApO1xuXG4gICAgICAgIC8vIEFwbGljYXIgbGFzIGFjdHVhbGl6YWNpb25lc1xuICAgICAgICBpZiAoZWxlbWVudG9zQU1vdmVyID4gMCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXBsaWNhbmRvIGFjdHVhbGl6YWNpb25lcyBwYXJhIGNvbXBhY3RhciB0aW1lbGluZS4uLlwiKTtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkaXNwYXRjaChFRElUX09CSkVDVCwge1xuICAgICAgICAgICAgICBwYXlsb2FkOiBhY3R1YWxpemFjaW9uZXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJBY3R1YWxpemFjaW9uZXMgYXBsaWNhZGFzIGNvbiDDqXhpdG9cIik7XG5cbiAgICAgICAgICAgIC8vIFJlZnJlc2NhciBsYSB2aXN0YVxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzY2FsZSB9ID0gc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHNjYWxlKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkU2NhbGUgPSB7IC4uLnNjYWxlIH07XG4gICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHVwZGF0ZWRTY2FsZS51bml0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2NhbGUudW5pdCA9ICh1cGRhdGVkU2NhbGUudW5pdCB8fCAwKSArIDE7XG5cbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goVElNRUxJTkVfU0NBTEVfQ0hBTkdFRCwge1xuICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsgc2NhbGU6IHVwZGF0ZWRTY2FsZSB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFZvbHZlciBhIGxhIGVzY2FsYSBvcmlnaW5hbFxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U2NhbGUgPSB7IC4uLnN0YXRlTWFuYWdlci5nZXRTdGF0ZSgpLnNjYWxlIH07XG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNjYWxlLnVuaXQgPSAoY3VycmVudFNjYWxlLnVuaXQgfHwgMSkgLSAxO1xuICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKFRJTUVMSU5FX1NDQUxFX0NIQU5HRUQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsgc2NhbGU6IGN1cnJlbnRTY2FsZSB9XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhbCByZWZyZXNjYXIgbGEgdmlzdGE6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgNTAwKTtcblxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWwgYXBsaWNhciBhY3R1YWxpemFjaW9uZXM6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJObyBzZSBlbmNvbnRyYXJvbiBlbGVtZW50b3MgcXVlIG5lY2VzaXRlbiBtb3ZlcnNlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJUaW1lbGluZSBjb21wYWN0YWRvIGNvcnJlY3RhbWVudGVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIHJlYWxpemFyIGVsIHJlY29ydGUgaW50ZWxpZ2VudGU6XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gZXhlY3V0b3I7XG59XG4iXSwibmFtZXMiOlsiZGlzcGF0Y2giLCJBRERfVEVYVCIsIkFERF9WSURFTyIsIkFERF9JTUFHRSIsIkFDVElWRV9TUExJVCIsIkxBWUVSX1NFTEVDVCIsIkxBWUVSX0RFTEVURSIsIlRJTUVMSU5FX1NDQUxFX0NIQU5HRUQiLCJFRElUX09CSkVDVCIsImdlbmVyYXRlSWQiLCJjcmVhdGVWaWRlb0NvbW1hbmRFeGVjdXRvciIsInN0YXRlTWFuYWdlciIsImV4ZWN1dG9yIiwiYWRkVGV4dCIsInRleHQiLCJvcHRpb25zIiwicG9zaXRpb24iLCJ4IiwieSIsImZvbnRTaXplIiwiZm9udEZhbWlseSIsImNvbG9yIiwic3RhcnRUaW1lIiwiZW5kVGltZSIsInRleHRQYXlsb2FkIiwiaWQiLCJkaXNwbGF5IiwiZnJvbSIsInRvIiwidHlwZSIsImRldGFpbHMiLCJ3aWR0aCIsIndvcmRXcmFwIiwidGV4dEFsaWduIiwiYm9yZGVyV2lkdGgiLCJib3JkZXJDb2xvciIsImJveFNoYWRvdyIsImJsdXIiLCJwYXlsb2FkIiwiY2hhbmdlQ29sb3IiLCJlbGVtZW50SWQiLCJjb25zb2xlIiwibG9nIiwiYWRkSW1hZ2UiLCJ1cmwiLCJlcnJvciIsImluY2x1ZGVzIiwiRXJyb3IiLCJoZWlnaHQiLCJ1bmRlZmluZWQiLCJsb2dVcmwiLCJzdGFydHNXaXRoIiwic3Vic3RyaW5nIiwicHJlbG9hZEltYWdlIiwiaW1hZ2VVcmwiLCJQcm9taXNlIiwicmVzb2x2ZSIsImltZyIsIkltYWdlIiwib25sb2FkIiwib25lcnJvciIsIndhcm4iLCJzcmMiLCJjcmVhdGVBbmREaXNwYXRjaFBheWxvYWQiLCJmaW5hbFdpZHRoIiwiZmluYWxIZWlnaHQiLCJkaW1lbnNpb25zIiwiYXNwZWN0UmF0aW8iLCJNYXRoIiwibWluIiwiaW1hZ2VQYXlsb2FkIiwib3BhY2l0eSIsInNjYWxlTW9kZSIsImxlZnQiLCJ0b3AiLCJvcmlnaW5YIiwib3JpZ2luWSIsIm1lc3NhZ2UiLCJhZGRWaWRlbyIsImlzQVBORyIsInRvTG93ZXJDYXNlIiwiZW5kc1dpdGgiLCJ2aWRlb1BheWxvYWQiLCJyZXNvdXJjZUlkIiwiY2hhbmdlRHVyYXRpb24iLCJkdXJhdGlvbiIsImNoYW5nZVRyYW5zaXRpb24iLCJ0cmFuc2l0aW9uIiwiYWRkU3VidGl0bGVzIiwicGFyc2VUaW1lVG9NcyIsInRpbWVTdHJpbmciLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNvbmRzQW5kTXMiLCJzcGxpdCIsInNlY29uZHMiLCJtcyIsInBhcnNlSW50IiwicGFyc2VTUlQiLCJzcnRDb250ZW50Iiwic2VnbWVudHMiLCJibG9ja3MiLCJ0cmltIiwiZm9yRWFjaCIsImJsb2NrIiwibGluZXMiLCJsZW5ndGgiLCJ0aW1lUmFuZ2UiLCJzbGljZSIsImpvaW4iLCJwdXNoIiwic3BsaXRUZXh0SW50b0dyb3VwcyIsIndvcmRzUGVyR3JvdXAiLCJ3b3JkcyIsImdyb3VwcyIsImkiLCJncm91cCIsInByb2Nlc3NTZWdtZW50Iiwic2VnbWVudCIsInRleHRHcm91cHMiLCJ0b3RhbER1cmF0aW9uIiwiZ3JvdXBEdXJhdGlvbiIsIm1hcCIsImdyb3VwVGV4dCIsImluZGV4IiwiY3JlYXRlU3VidGl0bGVQYXlsb2FkIiwidG9VcHBlckNhc2UiLCJmb250VXJsIiwiYmFja2dyb3VuZENvbG9yIiwicGFkZGluZyIsImJvcmRlclJhZGl1cyIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsInN0YXR1cyIsImZsYXRNYXAiLCJvcmlnaW5hbExlbmd0aCIsImZpbHRlciIsInBhc3Nlc1N0YXJ0RmlsdGVyIiwicGFzc2VzRW5kRmlsdGVyIiwic2V0VGltZW91dCIsImdldEFjdGl2ZUVsZW1lbnRzIiwic3RhdGUiLCJnZXRTdGF0ZSIsImFjdGl2ZUlkcyIsInRyYWNrSXRlbXNNYXAiLCJhY3RpdmVFbGVtZW50cyIsIml0ZW0iLCJ0cmFja0lkIiwiZ2V0QWxsVGltZWxpbmVFbGVtZW50cyIsIk9iamVjdCIsImtleXMiLCJrZXkiLCJvYmpWYWx1ZSIsInNhbXBsZSIsImVudHJpZXMiLCJfIiwiYWxsRWxlbWVudHMiLCJzb3J0IiwiYSIsImIiLCJyZW1vdmVTZWdtZW50cyIsInRyYWNrSXRlbXMiLCJmaXJzdEl0ZW1JZCIsImlkcyIsImN1cnJlbnRTdGF0ZSIsIm9yaWdpbmFsSXRlbUlkIiwib3JpZ2luYWxJdGVtIiwidHJhY2tUeXBlIiwiZW5kTXMiLCJ0aW1lIiwic3RhdGVBZnRlckZpcnN0Q3V0IiwiZWxlbWVudHNBZnRlckZpcnN0Q3V0IiwiaXNOYU4iLCJkdXJhY2nDs24iLCJzdGFydE1zIiwibGVmdEVsZW1lbnQiLCJmaW5kIiwiZWxlbSIsInN0YXRlQWZ0ZXJTZWNvbmRDdXQiLCJlbGVtZW50c0FmdGVyU2Vjb25kQ3V0IiwibWlkZGxlRWxlbWVudHMiLCJhYnMiLCJtaWRkbGVFbGVtZW50IiwidmlzaWJsZSIsInNjYWxlIiwib3JpZ2luYWxVbml0IiwidW5pdCIsImNvbXBhY3RUaW1lbGluZSIsImVzdGFkbyIsInRvZG9zRWxlbWVudG9zIiwiZWxlbWVudG9zUG9yVHJhY2siLCJpZHgiLCJlc3BhY2lvc1ZhY2lvcyIsImVsZW1lbnRvcyIsImVsZW1lbnRvQWN0dWFsIiwiZWxlbWVudG9TaWd1aWVudGUiLCJlc3BhY2lvIiwic3RhcnQiLCJlbmQiLCJzaXplIiwiZWxlbWVudG9BbnRlcyIsImVsZW1lbnRvRGVzcHVlcyIsImVzcGFjaW9Ub3RhbCIsImFjdHVhbGl6YWNpb25lcyIsImVsZW1lbnRvc0FNb3ZlciIsImVsZW1lbnRvIiwiZGVzcGxhemFtaWVudG8iLCJudWV2b0Zyb20iLCJudWV2b1RvIiwidXBkYXRlZFNjYWxlIiwiY3VycmVudFNjYWxlIiwic21hcnRUcmltIiwiZGF0YSIsImpzb24iLCJBcnJheSIsImlzQXJyYXkiLCJzIiwiZXN0YWRvUHJldmlvIiwiZWxlbWVudG9zUHJldmlvcyIsImNvbnRhZG9yVHJhY2tzIiwidHJhY2tJZFByaW5jaXBhbCIsInRyYWNrc1BvclVzbyIsInJlc3VsdCIsInNlZ21lbnRvc0VsaW1pbmFkb3MiLCJlbGVtZW50b3NBY3R1YWxlcyIsInNlZ21lbnRvIiwic2VnbWVudG9zT3JkZW5hZG9zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ai-chat/ai-video-commands.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./features/editor/player/index.ts":
/*!*****************************************!*\
  !*** ./features/editor/player/index.ts ***!
  \*****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Player: function() { return /* reexport safe */ _player__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; }\n/* harmony export */ });\n/* harmony import */ var _player__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./player */ \"(app-pages-browser)/./features/editor/player/player.tsx\");\n\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2ZlYXR1cmVzL2VkaXRvci9wbGF5ZXIvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vZmVhdHVyZXMvZWRpdG9yL3BsYXllci9pbmRleC50cz8xNDFhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IGRlZmF1bHQgYXMgUGxheWVyIH0gZnJvbSBcIi4vcGxheWVyXCI7XG4iXSwibmFtZXMiOlsiZGVmYXVsdCIsIlBsYXllciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./features/editor/player/index.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./features/editor/player/sequence-item.tsx":
/*!**************************************************!*\
  !*** ./features/editor/player/sequence-item.tsx ***!
  \**************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SequenceItem: function() { return /* binding */ SequenceItem; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var remotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! remotion */ \"(app-pages-browser)/./node_modules/remotion/dist/esm/index.mjs\");\n/* harmony import */ var _editable_text__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editable-text */ \"(app-pages-browser)/./features/editor/player/editable-text.tsx\");\n/* harmony import */ var _utils_frames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/frames */ \"(app-pages-browser)/./features/editor/utils/frames.ts\");\n/* harmony import */ var _animated__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./animated */ \"(app-pages-browser)/./features/editor/player/animated/index.ts\");\n/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./styles */ \"(app-pages-browser)/./features/editor/player/styles.ts\");\n/* harmony import */ var _utils_get_animations__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/get-animations */ \"(app-pages-browser)/./features/editor/utils/get-animations.tsx\");\n\n\n\n\n\n\n\nconst SequenceItem = {\n    text: (item, options)=>{\n        const { handleTextChange, onTextBlur, fps, editableTextId, zIndex } = options;\n        const { id, details, animations } = item;\n        const { from, durationInFrames } = (0,_utils_frames__WEBPACK_IMPORTED_MODULE_3__.calculateFrames)(item.display, fps);\n        const { animationIn, animationOut } = (0,_utils_get_animations__WEBPACK_IMPORTED_MODULE_6__.getAnimations)(animations, item);\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(remotion__WEBPACK_IMPORTED_MODULE_1__.Sequence, {\n            from: from,\n            durationInFrames: durationInFrames,\n            style: {\n                pointerEvents: \"none\",\n                zIndex\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(remotion__WEBPACK_IMPORTED_MODULE_1__.AbsoluteFill, {\n                \"data-track-item\": \"transition-element\",\n                className: \"designcombo-scene-item id-\".concat(item.id, \" designcombo-scene-item-type-\").concat(item.type),\n                style: (0,_styles__WEBPACK_IMPORTED_MODULE_5__.calculateContainerStyles)(details),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_animated__WEBPACK_IMPORTED_MODULE_4__.Animated, {\n                    style: (0,_styles__WEBPACK_IMPORTED_MODULE_5__.calculateContainerStyles)(details),\n                    animationIn: editableTextId === id ? null : animationIn,\n                    animationOut: editableTextId === id ? null : animationOut,\n                    durationInFrames: durationInFrames,\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_editable_text__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                        id: id,\n                        content: details.text,\n                        editable: editableTextId === id,\n                        onChange: handleTextChange,\n                        onBlur: onTextBlur,\n                        style: (0,_styles__WEBPACK_IMPORTED_MODULE_5__.calculateTextStyles)(details)\n                    }, id, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\player\\\\sequence-item.tsx\",\n                        lineNumber: 54,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\player\\\\sequence-item.tsx\",\n                    lineNumber: 47,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\player\\\\sequence-item.tsx\",\n                lineNumber: 41,\n                columnNumber: 9\n            }, undefined)\n        }, item.id, false, {\n            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\player\\\\sequence-item.tsx\",\n            lineNumber: 34,\n            columnNumber: 7\n        }, undefined);\n    },\n    image: (item, options)=>{\n        const { fps, zIndex } = options;\n        const { details, animations } = item;\n        const { from, durationInFrames } = (0,_utils_frames__WEBPACK_IMPORTED_MODULE_3__.calculateFrames)(item.display, fps);\n        const { animationIn, animationOut } = (0,_utils_get_animations__WEBPACK_IMPORTED_MODULE_6__.getAnimations)(animations, item);\n        const crop = details.crop || {\n            x: 0,\n            y: 0,\n            width: item.details.width,\n            height: item.details.height\n        };\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(remotion__WEBPACK_IMPORTED_MODULE_1__.Sequence, {\n            from: from,\n            durationInFrames: durationInFrames,\n            style: {\n                pointerEvents: \"none\",\n                zIndex\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(remotion__WEBPACK_IMPORTED_MODULE_1__.AbsoluteFill, {\n                \"data-track-item\": \"transition-element\",\n                className: \"designcombo-scene-item id-\".concat(item.id, \" designcombo-scene-item-type-\").concat(item.type),\n                style: (0,_styles__WEBPACK_IMPORTED_MODULE_5__.calculateContainerStyles)(details, crop),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_animated__WEBPACK_IMPORTED_MODULE_4__.Animated, {\n                    style: (0,_styles__WEBPACK_IMPORTED_MODULE_5__.calculateContainerStyles)(details, crop, {\n                        overflow: \"hidden\"\n                    }),\n                    animationIn: animationIn,\n                    animationOut: animationOut,\n                    durationInFrames: durationInFrames,\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: (0,_styles__WEBPACK_IMPORTED_MODULE_5__.calculateMediaStyles)(details, crop),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(remotion__WEBPACK_IMPORTED_MODULE_1__.Img, {\n                            \"data-id\": item.id,\n                            src: details.src\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\player\\\\sequence-item.tsx\",\n                            lineNumber: 103,\n                            columnNumber: 15\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\player\\\\sequence-item.tsx\",\n                        lineNumber: 102,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\player\\\\sequence-item.tsx\",\n                    lineNumber: 94,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\player\\\\sequence-item.tsx\",\n                lineNumber: 88,\n                columnNumber: 9\n            }, undefined)\n        }, item.id, false, {\n            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\player\\\\sequence-item.tsx\",\n            lineNumber: 81,\n            columnNumber: 7\n        }, undefined);\n    },\n    video: (item, options)=>{\n        var _item_trim, _item_trim1;\n        const { fps, zIndex } = options;\n        const { details, animations } = item;\n        const { animationIn, animationOut } = (0,_utils_get_animations__WEBPACK_IMPORTED_MODULE_6__.getAnimations)(animations, item);\n        const playbackRate = item.playbackRate || 1;\n        const { from, durationInFrames } = (0,_utils_frames__WEBPACK_IMPORTED_MODULE_3__.calculateFrames)({\n            from: item.display.from / playbackRate,\n            to: item.display.to / playbackRate\n        }, fps);\n        const crop = details.crop || {\n            x: 0,\n            y: 0,\n            width: item.details.width,\n            height: item.details.height\n        };\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(remotion__WEBPACK_IMPORTED_MODULE_1__.Sequence, {\n            from: from,\n            durationInFrames: durationInFrames,\n            style: {\n                pointerEvents: \"none\",\n                zIndex\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(remotion__WEBPACK_IMPORTED_MODULE_1__.AbsoluteFill, {\n                \"data-track-item\": \"transition-element\",\n                className: \"designcombo-scene-item id-\".concat(item.id, \" designcombo-scene-item-type-\").concat(item.type),\n                style: (0,_styles__WEBPACK_IMPORTED_MODULE_5__.calculateContainerStyles)(details, crop),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_animated__WEBPACK_IMPORTED_MODULE_4__.Animated, {\n                    style: (0,_styles__WEBPACK_IMPORTED_MODULE_5__.calculateContainerStyles)(details, crop, {\n                        overflow: \"hidden\"\n                    }),\n                    animationIn: animationIn,\n                    animationOut: animationOut,\n                    durationInFrames: durationInFrames,\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: (0,_styles__WEBPACK_IMPORTED_MODULE_5__.calculateMediaStyles)(details, crop),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(remotion__WEBPACK_IMPORTED_MODULE_1__.OffthreadVideo, {\n                            startFrom: ((_item_trim = item.trim) === null || _item_trim === void 0 ? void 0 : _item_trim.from) / 1000 * fps,\n                            endAt: ((_item_trim1 = item.trim) === null || _item_trim1 === void 0 ? void 0 : _item_trim1.to) / 1000 * fps,\n                            playbackRate: playbackRate,\n                            src: details.src,\n                            volume: details.volume || 0 / 100\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\player\\\\sequence-item.tsx\",\n                            lineNumber: 151,\n                            columnNumber: 15\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\player\\\\sequence-item.tsx\",\n                        lineNumber: 150,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\player\\\\sequence-item.tsx\",\n                    lineNumber: 142,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\player\\\\sequence-item.tsx\",\n                lineNumber: 136,\n                columnNumber: 9\n            }, undefined)\n        }, item.id, false, {\n            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\player\\\\sequence-item.tsx\",\n            lineNumber: 130,\n            columnNumber: 7\n        }, undefined);\n    },\n    audio: (item, options)=>{\n        var _item_trim, _item_trim1;\n        const { fps, zIndex } = options;\n        const { details } = item;\n        const playbackRate = item.playbackRate || 1;\n        const { from, durationInFrames } = (0,_utils_frames__WEBPACK_IMPORTED_MODULE_3__.calculateFrames)({\n            from: item.display.from / playbackRate,\n            to: item.display.to / playbackRate\n        }, fps);\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(remotion__WEBPACK_IMPORTED_MODULE_1__.Sequence, {\n            from: from,\n            durationInFrames: durationInFrames,\n            style: {\n                userSelect: \"none\",\n                pointerEvents: \"none\",\n                zIndex\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(remotion__WEBPACK_IMPORTED_MODULE_1__.AbsoluteFill, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(remotion__WEBPACK_IMPORTED_MODULE_1__.Audio, {\n                    startFrom: ((_item_trim = item.trim) === null || _item_trim === void 0 ? void 0 : _item_trim.from) / 1000 * fps,\n                    endAt: ((_item_trim1 = item.trim) === null || _item_trim1 === void 0 ? void 0 : _item_trim1.to) / 1000 * fps,\n                    playbackRate: playbackRate,\n                    src: details.src,\n                    volume: details.volume / 100\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\player\\\\sequence-item.tsx\",\n                    lineNumber: 187,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\player\\\\sequence-item.tsx\",\n                lineNumber: 186,\n                columnNumber: 9\n            }, undefined)\n        }, item.id, false, {\n            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\player\\\\sequence-item.tsx\",\n            lineNumber: 176,\n            columnNumber: 7\n        }, undefined);\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2ZlYXR1cmVzL2VkaXRvci9wbGF5ZXIvc2VxdWVuY2UtaXRlbS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQThFO0FBQ3RDO0FBRVU7QUFDWjtBQUtwQjtBQUNzQztBQVlqRCxNQUFNWSxlQUdUO0lBQ0ZDLE1BQU0sQ0FBQ0MsTUFBTUM7UUFDWCxNQUFNLEVBQUVDLGdCQUFnQixFQUFFQyxVQUFVLEVBQUVDLEdBQUcsRUFBRUMsY0FBYyxFQUFFQyxNQUFNLEVBQUUsR0FDakVMO1FBQ0YsTUFBTSxFQUFFTSxFQUFFLEVBQUVDLE9BQU8sRUFBRUMsVUFBVSxFQUFFLEdBQUdUO1FBQ3BDLE1BQU0sRUFBRVUsSUFBSSxFQUFFQyxnQkFBZ0IsRUFBRSxHQUFHbkIsOERBQWVBLENBQUNRLEtBQUtZLE9BQU8sRUFBRVI7UUFDakUsTUFBTSxFQUFFUyxXQUFXLEVBQUVDLFlBQVksRUFBRSxHQUFHakIsb0VBQWFBLENBQUNZLFlBQWFUO1FBQ2pFLHFCQUNFLDhEQUFDViw4Q0FBUUE7WUFFUG9CLE1BQU1BO1lBQ05DLGtCQUFrQkE7WUFDbEJJLE9BQU87Z0JBQUVDLGVBQWU7Z0JBQVFWO1lBQU87c0JBR3ZDLDRFQUFDcEIsa0RBQVlBO2dCQUNYK0IsbUJBQWdCO2dCQUNoQkMsV0FBVyw2QkFBb0VsQixPQUF2Q0EsS0FBS08sRUFBRSxFQUFDLGlDQUF5QyxPQUFWUCxLQUFLbUIsSUFBSTtnQkFDeEZKLE9BQU9yQixpRUFBd0JBLENBQUNjOzBCQUdoQyw0RUFBQ2YsK0NBQVFBO29CQUNQc0IsT0FBT3JCLGlFQUF3QkEsQ0FBQ2M7b0JBQ2hDSyxhQUFhUixtQkFBbUJFLEtBQUssT0FBT007b0JBQzVDQyxjQUFjVCxtQkFBbUJFLEtBQUssT0FBT087b0JBQzdDSCxrQkFBa0JBOzhCQUdsQiw0RUFBQ3BCLHNEQUFTQTt3QkFFUmdCLElBQUlBO3dCQUNKYSxTQUFTWixRQUFRVCxJQUFJO3dCQUNyQnNCLFVBQVVoQixtQkFBbUJFO3dC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OzBCQUNYLDRFQUFDQywyQ0FBS0E7b0JBQ0prRCxXQUFXLEVBQUNyQyxhQUFBQSxLQUFLc0MsSUFBSSxjQUFUdEMsaUNBQUFBLFdBQVdVLElBQUksSUFBSSxPQUFRTjtvQkFDdkNtQyxPQUFPLEVBQUN2QyxjQUFBQSxLQUFLc0MsSUFBSSxjQUFUdEMsa0NBQUFBLFlBQVdvQyxFQUFFLElBQUksT0FBUWhDO29CQUNqQytCLGNBQWNBO29CQUNkRixLQUFLekIsUUFBUXlCLEdBQUc7b0JBQ2hCTyxRQUFRaEMsUUFBUWdDLE1BQU0sR0FBSTs7Ozs7Ozs7Ozs7V0FmekJ4QyxLQUFLTyxFQUFFOzs7OztJQW9CbEI7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2ZlYXR1cmVzL2VkaXRvci9wbGF5ZXIvc2VxdWVuY2UtaXRlbS50c3g/ZDMzZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBYnNvbHV0ZUZpbGwsIEF1ZGlvLCBJbWcsIE9mZnRocmVhZFZpZGVvLCBTZXF1ZW5jZSB9IGZyb20gXCJyZW1vdGlvblwiO1xuaW1wb3J0IFRleHRMYXllciBmcm9tIFwiLi9lZGl0YWJsZS10ZXh0XCI7XG5pbXBvcnQgeyBJQXVkaW8sIElJbWFnZSwgSUl0ZW0sIElUZXh0LCBJVmlkZW8gfSBmcm9tIFwiQGRlc2lnbmNvbWJvL3R5cGVzXCI7XG5pbXBvcnQgeyBjYWxjdWxhdGVGcmFtZXMgfSBmcm9tIFwiLi4vdXRpbHMvZnJhbWVzXCI7XG5pbXBvcnQgeyBBbmltYXRlZCB9IGZyb20gXCIuL2FuaW1hdGVkXCI7XG5pbXBvcnQge1xuICBjYWxjdWxhdGVDb250YWluZXJTdHlsZXMsXG4gIGNhbGN1bGF0ZU1lZGlhU3R5bGVzLFxuICBjYWxjdWxhdGVUZXh0U3R5bGVzLFxufSBmcm9tIFwiLi9zdHlsZXNcIjtcbmltcG9ydCB7IGdldEFuaW1hdGlvbnMgfSBmcm9tIFwiLi4vdXRpbHMvZ2V0LWFuaW1hdGlvbnNcIjtcblxuaW50ZXJmYWNlIFNlcXVlbmNlSXRlbU9wdGlvbnMge1xuICBoYW5kbGVUZXh0Q2hhbmdlPzogKGlkOiBzdHJpbmcsIHRleHQ6IHN0cmluZykgPT4gdm9pZDtcbiAgZnBzOiBudW1iZXI7XG4gIGVkaXRhYmxlVGV4dElkPzogc3RyaW5nIHwgbnVsbDtcbiAgY3VycmVudFRpbWU/OiBudW1iZXI7XG4gIHpJbmRleD86IG51bWJlcjtcbiAgYWN0aXZlPzogYm9vbGVhbjtcbiAgb25UZXh0Qmx1cj86IChpZDogc3RyaW5nLCB0ZXh0OiBzdHJpbmcpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBjb25zdCBTZXF1ZW5jZUl0ZW06IFJlY29yZDxcbiAgc3RyaW5nLFxuICAoaXRlbTogSUl0ZW0sIG9wdGlvbnM6IFNlcXVlbmNlSXRlbU9wdGlvbnMpID0+IEpTWC5FbGVtZW50XG4+ID0ge1xuICB0ZXh0OiAoaXRlbSwgb3B0aW9uczogU2VxdWVuY2VJdGVtT3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHsgaGFuZGxlVGV4dENoYW5nZSwgb25UZXh0Qmx1ciwgZnBzLCBlZGl0YWJsZVRleHRJZCwgekluZGV4IH0gPVxuICAgICAgb3B0aW9ucztcbiAgICBjb25zdCB7IGlkLCBkZXRhaWxzLCBhbmltYXRpb25zIH0gPSBpdGVtIGFzIElUZXh0O1xuICAgIGNvbnN0IHsgZnJvbSwgZHVyYXRpb25JbkZyYW1lcyB9ID0gY2FsY3VsYXRlRnJhbWVzKGl0ZW0uZGlzcGxheSwgZnBzKTtcbiAgICBjb25zdCB7IGFuaW1hdGlvbkluLCBhbmltYXRpb25PdXQgfSA9IGdldEFuaW1hdGlvbnMoYW5pbWF0aW9ucyEsIGl0ZW0pO1xuICAgIHJldHVybiAoXG4gICAgICA8U2VxdWVuY2VcbiAgICAgICAga2V5PXtpdGVtLmlkfVxuICAgICAgICBmcm9tPXtmcm9tfVxuICAgICAgICBkdXJhdGlvbkluRnJhbWVzPXtkdXJhdGlvbkluRnJhbWVzfVxuICAgICAgICBzdHlsZT17eyBwb2ludGVyRXZlbnRzOiBcIm5vbmVcIiwgekluZGV4IH19XG4gICAgICA+XG4gICAgICAgIHsvKiBwb3NpdGlvbmluZyBsYXllciAqL31cbiAgICAgICAgPEFic29sdXRlRmlsbFxuICAgICAgICAgIGRhdGEtdHJhY2staXRlbT1cInRyYW5zaXRpb24tZWxlbWVudFwiXG4gICAgICAgICAgY2xhc3NOYW1lPXtgZGVzaWduY29tYm8tc2NlbmUtaXRlbSBpZC0ke2l0ZW0uaWR9IGRlc2lnbmNvbWJvLXNjZW5lLWl0ZW0tdHlwZS0ke2l0ZW0udHlwZX1gfVxuICAgICAgICAgIHN0eWxlPXtjYWxjdWxhdGVDb250YWluZXJTdHlsZXMoZGV0YWlscyl9XG4gICAgICAgID5cbiAgICAgICAgICB7LyogYW5pbWF0aW9uIGxheWVyICovfVxuICAgICAgICAgIDxBbmltYXRlZFxuICAgICAgICAgICAgc3R5bGU9e2NhbGN1bGF0ZUNvbnRhaW5lclN0eWxlcyhkZXRhaWxzKX1cbiAgICAgICAgICAgIGFuaW1hdGlvbkluPXtlZGl0YWJsZVRleHRJZCA9PT0gaWQgPyBudWxsIDogYW5pbWF0aW9uSW59XG4gICAgICAgICAgICBhbmltYXRpb25PdXQ9e2VkaXRhYmxlVGV4dElkID09PSBpZCA/IG51bGwgOiBhbmltYXRpb25PdXR9XG4gICAgICAgICAgICBkdXJhdGlvbkluRnJhbWVzPXtkdXJhdGlvbkluRnJhbWVzfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHsvKiB0ZXh0IGxheWVyICovfVxuICAgICAgICAgICAgPFRleHRMYXllclxuICAgICAgICAgICAgICBrZXk9e2lkfVxuICAgICAgICAgICAgICBpZD17aWR9XG4gICAgICAgICAgICAgIGNvbnRlbnQ9e2RldGFpbHMudGV4dH1cbiAgICAgICAgICAgICAgZWRpdGFibGU9e2VkaXRhYmxlVGV4dElkID09PSBpZH1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZVRleHRDaGFuZ2V9XG4gICAgICAgICAgICAgIG9uQmx1cj17b25UZXh0Qmx1cn1cbiAgICAgICAgICAgICAgc3R5bGU9e2NhbGN1bGF0ZVRleHRTdHlsZXMoZGV0YWlscyl9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvQW5pbWF0ZWQ+XG4gICAgICAgIDwvQWJzb2x1dGVGaWxsPlxuICAgICAgPC9TZXF1ZW5jZT5cbiAgICApO1xuICB9LFxuXG4gIGltYWdlOiAoaXRlbSwgb3B0aW9uczogU2VxdWVuY2VJdGVtT3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHsgZnBzLCB6SW5kZXggfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgeyBkZXRhaWxzLCBhbmltYXRpb25zIH0gPSBpdGVtIGFzIElJbWFnZTtcbiAgICBjb25zdCB7IGZyb20sIGR1cmF0aW9uSW5GcmFtZXMgfSA9IGNhbGN1bGF0ZUZyYW1lcyhpdGVtLmRpc3BsYXksIGZwcyk7XG4gICAgY29uc3QgeyBhbmltYXRpb25JbiwgYW5pbWF0aW9uT3V0IH0gPSBnZXRBbmltYXRpb25zKGFuaW1hdGlvbnMhLCBpdGVtKTtcbiAgICBjb25zdCBjcm9wID0gZGV0YWlscy5jcm9wIHx8IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgICAgd2lkdGg6IGl0ZW0uZGV0YWlscy53aWR0aCxcbiAgICAgIGhlaWdodDogaXRlbS5kZXRhaWxzLmhlaWdodCxcbiAgICB9O1xuICAgIHJldHVybiAoXG4gICAgICA8U2VxdWVuY2VcbiAgICAgICAga2V5PXtpdGVtLmlkfVxuICAgICAgICBmcm9tPXtmcm9tfVxuICAgICAgICBkdXJhdGlvbkluRnJhbWVzPXtkdXJhdGlvbkluRnJhbWVzfVxuICAgICAgICBzdHlsZT17eyBwb2ludGVyRXZlbnRzOiBcIm5vbmVcIiwgekluZGV4IH19XG4gICAgICA+XG4gICAgICAgIHsvKiBwb3NpdGlvbiBsYXllciAqL31cbiAgICAgICAgPEFic29sdXRlRmlsbFxuICAgICAgICAgIGRhdGEtdHJhY2staXRlbT1cInRyYW5zaXRpb24tZWxlbWVudFwiXG4gICAgICAgICAgY2xhc3NOYW1lPXtgZGVzaWduY29tYm8tc2NlbmUtaXRlbSBpZC0ke2l0ZW0uaWR9IGRlc2lnbmNvbWJvLXNjZW5lLWl0ZW0tdHlwZS0ke2l0ZW0udHlwZX1gfVxuICAgICAgICAgIHN0eWxlPXtjYWxjdWxhdGVDb250YWluZXJTdHlsZXMoZGV0YWlscywgY3JvcCl9XG4gICAgICAgID5cbiAgICAgICAgICB7LyogYW5pbWF0aW9uIGxheWVyICovfVxuICAgICAgICAgIDxBbmltYXRlZFxuICAgICAgICAgICAgc3R5bGU9e2NhbGN1bGF0ZUNvbnRhaW5lclN0eWxlcyhkZXRhaWxzLCBjcm9wLCB7XG4gICAgICAgICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICBhbmltYXRpb25Jbj17YW5pbWF0aW9uSW4hfVxuICAgICAgICAgICAgYW5pbWF0aW9uT3V0PXthbmltYXRpb25PdXQhfVxuICAgICAgICAgICAgZHVyYXRpb25JbkZyYW1lcz17ZHVyYXRpb25JbkZyYW1lc31cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXtjYWxjdWxhdGVNZWRpYVN0eWxlcyhkZXRhaWxzLCBjcm9wKX0+XG4gICAgICAgICAgICAgIDxJbWcgZGF0YS1pZD17aXRlbS5pZH0gc3JjPXtkZXRhaWxzLnNyY30gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvQW5pbWF0ZWQ+XG4gICAgICAgIDwvQWJzb2x1dGVGaWxsPlxuICAgICAgPC9TZXF1ZW5jZT5cbiAgICApO1xuICB9LFxuICB2aWRlbzogKGl0ZW0sIG9wdGlvbnM6IFNlcXVlbmNlSXRlbU9wdGlvbnMpID0+IHtcbiAgICBjb25zdCB7IGZwcywgekluZGV4IH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IHsgZGV0YWlscywgYW5pbWF0aW9ucyB9ID0gaXRlbSBhcyBJVmlkZW87XG4gICAgY29uc3QgeyBhbmltYXRpb25JbiwgYW5pbWF0aW9uT3V0IH0gPSBnZXRBbmltYXRpb25zKGFuaW1hdGlvbnMhLCBpdGVtKTtcbiAgICBjb25zdCBwbGF5YmFja1JhdGUgPSBpdGVtLnBsYXliYWNrUmF0ZSB8fCAxO1xuICAgIGNvbnN0IHsgZnJvbSwgZHVyYXRpb25JbkZyYW1lcyB9ID0gY2FsY3VsYXRlRnJhbWVzKFxuICAgICAge1xuICAgICAgICBmcm9tOiBpdGVtLmRpc3BsYXkuZnJvbSAvIHBsYXliYWNrUmF0ZSxcbiAgICAgICAgdG86IGl0ZW0uZGlzcGxheS50byAvIHBsYXliYWNrUmF0ZSxcbiAgICAgIH0sXG4gICAgICBmcHMsXG4gICAgKTtcbiAgICBjb25zdCBjcm9wID0gZGV0YWlscy5jcm9wIHx8IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgICAgd2lkdGg6IGl0ZW0uZGV0YWlscy53aWR0aCxcbiAgICAgIGhlaWdodDogaXRlbS5kZXRhaWxzLmhlaWdodCxcbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxTZXF1ZW5jZVxuICAgICAgICBrZXk9e2l0ZW0uaWR9XG4gICAgICAgIGZyb209e2Zyb219XG4gICAgICAgIGR1cmF0aW9uSW5GcmFtZXM9e2R1cmF0aW9uSW5GcmFtZXN9XG4gICAgICAgIHN0eWxlPXt7IHBvaW50ZXJFdmVudHM6IFwibm9uZVwiLCB6SW5kZXggfX1cbiAgICAgID5cbiAgICAgICAgPEFic29sdXRlRmlsbFxuICAgICAgICAgIGRhdGEtdHJhY2staXRlbT1cInRyYW5zaXRpb24tZWxlbWVudFwiXG4gICAgICAgICAgY2xhc3NOYW1lPXtgZGVzaWduY29tYm8tc2NlbmUtaXRlbSBpZC0ke2l0ZW0uaWR9IGRlc2lnbmNvbWJvLXNjZW5lLWl0ZW0tdHlwZS0ke2l0ZW0udHlwZX1gfVxuICAgICAgICAgIHN0eWxlPXtjYWxjdWxhdGVDb250YWluZXJTdHlsZXMoZGV0YWlscywgY3JvcCl9XG4gICAgICAgID5cbiAgICAgICAgICB7LyogYW5pbWF0aW9uIGxheWVyICovfVxuICAgICAgICAgIDxBbmltYXRlZFxuICAgICAgICAgICAgc3R5bGU9e2NhbGN1bGF0ZUNvbnRhaW5lclN0eWxlcyhkZXRhaWxzLCBjcm9wLCB7XG4gICAgICAgICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICBhbmltYXRpb25Jbj17YW5pbWF0aW9uSW59XG4gICAgICAgICAgICBhbmltYXRpb25PdXQ9e2FuaW1hdGlvbk91dH1cbiAgICAgICAgICAgIGR1cmF0aW9uSW5GcmFtZXM9e2R1cmF0aW9uSW5GcmFtZXN9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBzdHlsZT17Y2FsY3VsYXRlTWVkaWFTdHlsZXMoZGV0YWlscywgY3JvcCl9PlxuICAgICAgICAgICAgICA8T2ZmdGhyZWFkVmlkZW9cbiAgICAgICAgICAgICAgICBzdGFydEZyb209eyhpdGVtLnRyaW0/LmZyb20hIC8gMTAwMCkgKiBmcHN9XG4gICAgICAgICAgICAgICAgZW5kQXQ9eyhpdGVtLnRyaW0/LnRvISAvIDEwMDApICogZnBzfVxuICAgICAgICAgICAgICAgIHBsYXliYWNrUmF0ZT17cGxheWJhY2tSYXRlfVxuICAgICAgICAgICAgICAgIHNyYz17ZGV0YWlscy5zcmN9XG4gICAgICAgICAgICAgICAgdm9sdW1lPXtkZXRhaWxzLnZvbHVtZSB8fCAwIC8gMTAwfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9BbmltYXRlZD5cbiAgICAgICAgPC9BYnNvbHV0ZUZpbGw+XG4gICAgICA8L1NlcXVlbmNlPlxuICAgICk7XG4gIH0sXG4gIGF1ZGlvOiAoaXRlbSwgb3B0aW9uczogU2VxdWVuY2VJdGVtT3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHsgZnBzLCB6SW5kZXggfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgeyBkZXRhaWxzIH0gPSBpdGVtIGFzIElBdWRpbztcbiAgICBjb25zdCBwbGF5YmFja1JhdGUgPSBpdGVtLnBsYXliYWNrUmF0ZSB8fCAxO1xuICAgIGNvbnN0IHsgZnJvbSwgZHVyYXRpb25JbkZyYW1lcyB9ID0gY2FsY3VsYXRlRnJhbWVzKFxuICAgICAge1xuICAgICAgICBmcm9tOiBpdGVtLmRpc3BsYXkuZnJvbSAvIHBsYXliYWNrUmF0ZSxcbiAgICAgICAgdG86IGl0ZW0uZGlzcGxheS50byAvIHBsYXliYWNrUmF0ZSxcbiAgICAgIH0sXG4gICAgICBmcHMsXG4gICAgKTtcbiAgICByZXR1cm4gKFxuICAgICAgPFNlcXVlbmNlXG4gICAgICAgIGtleT17aXRlbS5pZH1cbiAgICAgICAgZnJvbT17ZnJvbX1cbiAgICAgICAgZHVyYXRpb25JbkZyYW1lcz17ZHVyYXRpb25JbkZyYW1lc31cbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICB1c2VyU2VsZWN0OiBcIm5vbmVcIixcbiAgICAgICAgICBwb2ludGVyRXZlbnRzOiBcIm5vbmVcIixcbiAgICAgICAgICB6SW5kZXgsXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxBYnNvbHV0ZUZpbGw+XG4gICAgICAgICAgPEF1ZGlvXG4gICAgICAgICAgICBzdGFydEZyb209eyhpdGVtLnRyaW0/LmZyb20hIC8gMTAwMCkgKiBmcHN9XG4gICAgICAgICAgICBlbmRBdD17KGl0ZW0udHJpbT8udG8hIC8gMTAwMCkgKiBmcHN9XG4gICAgICAgICAgICBwbGF5YmFja1JhdGU9e3BsYXliYWNrUmF0ZX1cbiAgICAgICAgICAgIHNyYz17ZGV0YWlscy5zcmN9XG4gICAgICAgICAgICB2b2x1bWU9e2RldGFpbHMudm9sdW1lISAvIDEwMH1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0Fic29sdXRlRmlsbD5cbiAgICAgIDwvU2VxdWVuY2U+XG4gICAgKTtcbiAgfSxcbn07XG4iXSwibmFtZXMiOlsiQWJzb2x1dGVGaWxsIiwiQXVkaW8iLCJJbWciLCJPZmZ0aHJlYWRWaWRlbyIsIlNlcXVlbmNlIiwiVGV4dExheWVyIiwiY2FsY3VsYXRlRnJhbWVzIiwiQW5pbWF0ZWQiLCJjYWxjdWxhdGVDb250YWluZXJTdHlsZXMiLCJjYWxjdWxhdGVNZWRpYVN0eWxlcyIsImNhbGN1bGF0ZVRleHRTdHlsZXMiLCJnZXRBbmltYXRpb25zIiwiU2VxdWVuY2VJdGVtIiwidGV4dCIsIml0ZW0iLCJvcHRpb25zIiwiaGFuZGxlVGV4dENoYW5nZSIsIm9uVGV4dEJsdXIiLCJmcHMiLCJlZGl0YWJsZVRleHRJZCIsInpJbmRleCIsImlkIiwiZGV0YWlscyIsImFuaW1hdGlvbnMiLCJmcm9tIiwiZHVyYXRpb25JbkZyYW1lcyIsImRpc3BsYXkiLCJhbmltYXRpb25JbiIsImFuaW1hdGlvbk91dCIsInN0eWxlIiwicG9pbnRlckV2ZW50cyIsImRhdGEtdHJhY2staXRlbSIsImNsYXNzTmFtZSIsInR5cGUiLCJjb250ZW50IiwiZWRpdGFibGUiLCJvbkNoYW5nZSIsIm9uQmx1ciIsImltYWdlIiwiY3JvcCIsIngiLCJ5Iiwid2lkdGgiLCJoZWlnaHQiLCJvdmVyZmxvdyIsImRpdiIsImRhdGEtaWQiLCJzcmMiLCJ2aWRlbyIsInBsYXliYWNrUmF0ZSIsInRvIiwic3RhcnRGcm9tIiwidHJpbSIsImVuZEF0Iiwidm9sdW1lIiwiYXVkaW8iLCJ1c2VyU2VsZWN0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./features/editor/player/sequence-item.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./features/editor/services/ai-service.ts":
/*!************************************************!*\
  !*** ./features/editor/services/ai-service.ts ***!
  \************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AIService: function() { return /* binding */ AIService; }\n/* harmony export */ });\n/**\n * Servicio para manejar la comunicación con la IA.\n * Esta es una implementación base que simula respuestas.\n * En el futuro, se conectará con una API real.\n */ class AIService {\n    /**\n   * Analiza los elementos seleccionados para buscar URLs\n   */ static async analyzeItems(request) {\n        try {\n            // Simulamos un tiempo de respuesta de la API\n            await new Promise((resolve)=>setTimeout(resolve, 1000));\n            console.log(\"AI Service - Request:\", request);\n            // Extraer el texto relevante de los elementos seleccionados\n            const elementsText = this.extractTextFromElements(request.items);\n            // Mensaje explícito o texto extraído de los elementos\n            const textToAnalyze = request.message || elementsText;\n            // Analizar si el texto contiene URLs\n            const urlAnalysis = this.detectURLs(textToAnalyze);\n            // Si hay URLs, generar información de screenshots\n            if (urlAnalysis.containsURLs) {\n                urlAnalysis.screenshots = this.getScreenshotsForUrls(urlAnalysis.urls);\n            }\n            // Simulación de respuesta de la IA\n            // En un entorno real, esto enviaría la solicitud a un endpoint de API\n            return {\n                success: true,\n                message: \"An\\xe1lisis completado con \\xe9xito\",\n                analysis: {\n                    summary: this.generateURLAnalysisSummary(urlAnalysis, request.items.length),\n                    urlAnalysis: urlAnalysis,\n                    itemsAnalyzed: request.items.length,\n                    analyzedText: textToAnalyze,\n                    recommendations: this.generateRecommendations(urlAnalysis),\n                    confidence: 0.95\n                }\n            };\n        } catch (error) {\n            console.error(\"Error in AI service:\", error);\n            return {\n                success: false,\n                message: \"Error al procesar la solicitud\",\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    }\n    /**\n   * Obtiene las capturas de pantalla para las URLs detectadas\n   * (Como es un demo, utilizamos la misma imagen para todas las URLs)\n   */ static getScreenshotsForUrls(urls) {\n        // En un entorno real, esta función realizaría una llamada a un servicio\n        // que generaría capturas de pantalla para cada URL\n        // Por ahora, usamos una imagen de demostración para todas las URLs\n        return urls.map((url)=>({\n                url,\n                screenshotPath: \"/screenshots/screenshot1.png\"\n            }));\n    }\n    /**\n   * Extrae texto de los elementos seleccionados\n   */ static extractTextFromElements(items) {\n        // Aquí extraemos el texto de los elementos seleccionados\n        // En un caso real, esto dependería de la estructura de tus elementos\n        let extractedText = \"\";\n        for (const item of items){\n            var _item_details, _item_details1, _item_details2;\n            // Intentar extraer texto de diferentes propiedades comunes\n            // Esto es un ejemplo y debería adaptarse a tu estructura de datos real\n            if (item.text) {\n                extractedText += \" \" + item.text;\n            } else if ((_item_details = item.details) === null || _item_details === void 0 ? void 0 : _item_details.text) {\n                extractedText += \" \" + item.details.text;\n            } else if (item.name) {\n                extractedText += \" \" + item.name;\n            } else if (item.title) {\n                extractedText += \" \" + item.title;\n            } else if (item.description) {\n                extractedText += \" \" + item.description;\n            } else if ((_item_details1 = item.details) === null || _item_details1 === void 0 ? void 0 : _item_details1.description) {\n                extractedText += \" \" + item.details.description;\n            } else if ((_item_details2 = item.details) === null || _item_details2 === void 0 ? void 0 : _item_details2.src) {\n                extractedText += \" \" + item.details.src;\n            } else if (item.src) {\n                extractedText += \" \" + item.src;\n            } else if (item.content) {\n                extractedText += \" \" + item.content;\n            } else if (item.label) {\n                extractedText += \" \" + item.label;\n            } else if (item.value) {\n                extractedText += \" \" + item.value;\n            } else if (typeof item === \"string\") {\n                extractedText += \" \" + item;\n            }\n            // También podemos buscar en atributos anidados\n            if (item.props && typeof item.props === \"object\") {\n                for(const key in item.props){\n                    if (typeof item.props[key] === \"string\") {\n                        extractedText += \" \" + item.props[key];\n                    }\n                }\n            }\n            // Si todavía no hemos encontrado texto, intentamos convertir el objeto a string\n            if (extractedText.trim() === \"\" && item.toString) {\n                const str = item.toString();\n                if (str !== \"[object Object]\") {\n                    extractedText += \" \" + str;\n                }\n            }\n        }\n        return extractedText.trim();\n    }\n    /**\n   * Detecta URLs en un texto\n   */ static detectURLs(text) {\n        // Expresión regular mejorada para capturar una variedad más amplia de URLs\n        // Esta regex busca URLs con diversos dominios de nivel superior (.com, .org, .ai, etc.)\n        const urlRegex = /(?:https?:\\/\\/)?(?:www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b(?:[-a-zA-Z0-9()@:%_\\+.~#?&//=]*)/gi;\n        const matches = text.match(urlRegex) || [];\n        // Filtrar posibles falsos positivos (como números de versión: 1.0, etc.)\n        const validUrls = matches.filter((url)=>{\n            // Verificar que el dominio tenga al menos un punto y caracteres alfanuméricos\n            const domainParts = url.split(\".\");\n            // Debe tener al menos un punto y el TLD debe tener al menos 2 caracteres\n            return domainParts.length >= 2 && domainParts[domainParts.length - 1].length >= 2;\n        });\n        return {\n            containsURLs: validUrls.length > 0,\n            urls: validUrls\n        };\n    }\n    /**\n   * Genera un resumen basado en el análisis de URLs\n   */ static generateURLAnalysisSummary(analysis, itemCount) {\n        if (analysis.containsURLs) {\n            const urlCount = analysis.urls.length;\n            return \"He analizado el contenido de \".concat(itemCount, \" elemento\").concat(itemCount !== 1 ? \"s\" : \"\", \" y encontrado \").concat(urlCount, \" URL\").concat(urlCount !== 1 ? \"s\" : \"\", \".\");\n        } else {\n            return \"He analizado el contenido de \".concat(itemCount, \" elemento\").concat(itemCount !== 1 ? \"s\" : \"\", \" y no he encontrado ninguna URL.\");\n        }\n    }\n    /**\n   * Genera recomendaciones basadas en el análisis de URLs\n   */ static generateRecommendations(analysis) {\n        if (analysis.containsURLs) {\n            return [\n                \"Considere verificar si las URLs son seguras antes de utilizarlas.\",\n                \"Aseg\\xfarese de que las URLs est\\xe9n activas y funcionen correctamente.\",\n                \"Considere revisar si los enlaces apuntan a los recursos deseados.\"\n            ];\n        } else {\n            return [\n                \"El contenido no contiene URLs. Si necesita incluir referencias web, considere a\\xf1adirlas.\",\n                \"Puede a\\xf1adir enlaces a recursos adicionales para enriquecer el contenido.\"\n            ];\n        }\n    }\n    /**\n   * Detecta si el mensaje del usuario tiene intención de aplicar una transición\n   * @returns Objeto con la detección, nivel de confianza y el motivo\n   */ static detectApplyTransitionIntention(message) {\n        if (!message) {\n            return {\n                detected: false,\n                confidence: 0,\n                reason: \"Mensaje vac\\xedo\"\n            };\n        }\n        // Si hay mención explícita a capturas, evitar detección de transición\n        // para evitar falsos positivos cuando se combinen ambos términos\n        if (/(?:captura|screenshot|imagen)\\s+(?:de)?\\s+pantalla/i.test(message) || /mostrar\\s+(?:captura|screenshot|imagen)/i.test(message)) {\n            return {\n                detected: false,\n                confidence: 0,\n                reason: \"Se detect\\xf3 intenci\\xf3n de captura de pantalla en su lugar\"\n            };\n        }\n        // Patrones para detectar solicitudes de aplicar transiciones\n        const transitionPatterns = [\n            // Patrones de alta confianza - solicitudes muy específicas\n            {\n                pattern: /(?:aplica|agrega|añade|pon|coloca|mete|inserta)(?:r)?\\s+(?:una|la)?\\s+transici[óo]n(?:\\s+(?:smooth|suave|elegante|de video|entre|visual))?/i,\n                confidence: 0.98,\n                description: \"Solicitud directa de aplicar transici\\xf3n\"\n            },\n            {\n                pattern: /transici[óo]n(?:\\s+(?:smooth|suave|elegante))?(?:\\s+(?:entre|para|en(?:tre)?)\\s+(?:el|los)\\s+(?:video|clip|elemento|segmento))?/i,\n                confidence: 0.95,\n                description: \"Menci\\xf3n a transici\\xf3n con calificadores\"\n            },\n            {\n                pattern: /efecto\\s+(?:de)?\\s+transici[óo]n/i,\n                confidence: 0.90,\n                description: \"Menci\\xf3n a efecto de transici\\xf3n\"\n            },\n            // Patrones de media confianza\n            {\n                pattern: /a[ñn]adir\\s+(?:una|la)?\\s+transici[óo]n/i,\n                confidence: 0.88,\n                description: \"Solicitud de a\\xf1adir transici\\xf3n\"\n            },\n            {\n                pattern: /a[ñn]adir\\s+efecto\\s+(?:de)?\\s+transici[óo]n/i,\n                confidence: 0.85,\n                description: \"Solicitud de a\\xf1adir efecto de transici\\xf3n\"\n            },\n            {\n                pattern: /efecto\\s+visual\\s+(?:de)?\\s+transici[óo]n/i,\n                confidence: 0.83,\n                description: \"Menci\\xf3n a efecto visual de transici\\xf3n\"\n            },\n            // Patrones de baja confianza\n            {\n                pattern: /transici[óo]n\\s+de\\s+video/i,\n                confidence: 0.80,\n                description: \"Menci\\xf3n a transici\\xf3n de video\"\n            },\n            {\n                pattern: /transici[óo]n\\s+smooth/i,\n                confidence: 0.80,\n                description: \"Menci\\xf3n a transici\\xf3n smooth\"\n            },\n            {\n                pattern: /transici[óo]n\\s+suave/i,\n                confidence: 0.80,\n                description: \"Menci\\xf3n a transici\\xf3n suave\"\n            },\n            {\n                pattern: /implementa\\s+transici[óo]n/i,\n                confidence: 0.78,\n                description: \"Instrucci\\xf3n de implementar transici\\xf3n\"\n            },\n            {\n                pattern: /smooth\\s+transition/i,\n                confidence: 0.78,\n                description: \"Menci\\xf3n a smooth transition (ingl\\xe9s)\"\n            },\n            {\n                pattern: /transici[óo]n/i,\n                confidence: 0.75,\n                description: \"Menci\\xf3n general a transici\\xf3n\"\n            }\n        ];\n        // Buscar el patrón con mayor confianza que coincida\n        for (const item of transitionPatterns){\n            if (item.pattern.test(message)) {\n                return {\n                    detected: true,\n                    confidence: item.confidence,\n                    reason: item.description,\n                    transitionPath: \"/transitions/transition1.apng\" // Path predeterminado para la transición\n                };\n            }\n        }\n        // No se detectó ninguna intención de aplicar transición\n        return {\n            detected: false,\n            confidence: 0,\n            reason: \"No se detect\\xf3 intenci\\xf3n de aplicar transici\\xf3n\"\n        };\n    }\n    /**\n   * Detecta si el mensaje del usuario tiene intención de mostrar capturas de pantalla\n   * @returns Objeto con la detección, nivel de confianza y el motivo\n   */ static detectShowScreenshotIntention(message) {\n        if (!message) {\n            return {\n                detected: false,\n                confidence: 0,\n                reason: \"Mensaje vac\\xedo\"\n            };\n        }\n        // Si hay mención explícita a transiciones, evitar detección de capturas\n        if (/transici[óo]n/i.test(message) || /smooth\\s+transition/i.test(message)) {\n            // Verificar si hay mención explícita y fuerte a capturas que supere la mención a transiciones\n            const hasExplicitScreenshotMention = /(?:aplica|agrega|añade|pon|coloca|inserta|incorpora)(?:la|lo|r)?\\s+(?:captura|screenshot|imagen)/i.test(message);\n            if (!hasExplicitScreenshotMention) {\n                return {\n                    detected: false,\n                    confidence: 0,\n                    reason: \"Se detect\\xf3 intenci\\xf3n de transici\\xf3n en su lugar\"\n                };\n            }\n        }\n        // Patrones específicos para aplicar a la timeline\n        const timelinePatterns = [\n            {\n                pattern: /(?:aplica|agrega|añade|pon|coloca|inserta|incorpora)(?:la|lo|r)?\\s+(?:captura|screenshot|imagen|vista|preview)/i,\n                confidence: 0.98,\n                description: \"Solicitud directa de aplicar captura a la timeline\"\n            },\n            {\n                pattern: /(?:aplica|agrega|añade|pon|coloca|inserta|incorpora)(?:la|lo)?\\s+(?:a la|al|en la|en el)?\\s+(?:timeline|línea de tiempo)/i,\n                confidence: 0.95,\n                description: \"Solicitud directa de a\\xf1adir a la timeline\"\n            },\n            {\n                pattern: /(?:usa|usar|utiliza|utilizar)(?:la|lo)?\\s+(?:captura|screenshot|imagen|vista|preview)/i,\n                confidence: 0.93,\n                description: \"Solicitud de usar captura\"\n            }\n        ];\n        // Patrones muy específicos con alta confianza\n        const highConfidencePatterns = [\n            {\n                pattern: /muestra(?:me)?\\s+(?:la|el|una|un)?\\s+(?:captura|screenshot|imagen|vista|preview)/i,\n                confidence: 0.95,\n                description: \"Solicitud directa de mostrar captura\"\n            },\n            {\n                pattern: /ver\\s+(?:la|el|una|un)?\\s+(?:captura|screenshot|imagen|vista|preview)/i,\n                confidence: 0.95,\n                description: \"Solicitud de ver captura\"\n            },\n            {\n                pattern: /enseña(?:me)?\\s+(?:la|el|una|un)?\\s+(?:captura|screenshot|imagen|vista|preview)/i,\n                confidence: 0.95,\n                description: \"Solicitud de ense\\xf1ar captura\"\n            }\n        ];\n        // Patrones menos específicos pero igualmente válidos\n        const mediumConfidencePatterns = [\n            {\n                pattern: /(?:quiero|necesito|me gustaría)\\s+ver\\s+(?:la|el|una|un)?\\s+(?:captura|screenshot|imagen)/i,\n                confidence: 0.88,\n                description: \"Expresi\\xf3n de deseo de ver captura espec\\xedfica\"\n            },\n            {\n                pattern: /(?:puedes|podrías|puedo)\\s+ver\\s+(?:la|el|una|un)?\\s+(?:captura|screenshot|imagen)/i,\n                confidence: 0.88,\n                description: \"Pregunta sobre posibilidad de ver captura espec\\xedfica\"\n            },\n            {\n                pattern: /mostrar\\s+(?:captura|screenshot|imagen)/i,\n                confidence: 0.85,\n                description: \"Menci\\xf3n a mostrar captura espec\\xedfica\"\n            },\n            {\n                pattern: /visualizar\\s+(?:captura|screenshot|imagen)/i,\n                confidence: 0.85,\n                description: \"Menci\\xf3n a visualizar captura espec\\xedfica\"\n            },\n            {\n                pattern: /(?:quiero|necesito|me gustaría)\\s+ver/i,\n                confidence: 0.70,\n                description: \"Expresi\\xf3n de deseo de ver\"\n            },\n            {\n                pattern: /(?:puedes|podrías|puedo)\\s+ver/i,\n                confidence: 0.70,\n                description: \"Pregunta sobre posibilidad de ver\"\n            }\n        ];\n        // Patrones muy generales pero que podrían indicar intención\n        const lowConfidencePatterns = [\n            {\n                pattern: /captura\\s+(?:de)?\\s+pantalla/i,\n                confidence: 0.80,\n                description: \"Menci\\xf3n espec\\xedfica a captura de pantalla\"\n            },\n            {\n                pattern: /screenshot/i,\n                confidence: 0.75,\n                description: \"Menci\\xf3n a screenshot\"\n            },\n            {\n                pattern: /ver\\s+imagen/i,\n                confidence: 0.75,\n                description: \"Menci\\xf3n a ver imagen\"\n            },\n            {\n                pattern: /captura/i,\n                confidence: 0.65,\n                description: \"Menci\\xf3n a captura\"\n            },\n            {\n                pattern: /imagen/i,\n                confidence: 0.60,\n                description: \"Menci\\xf3n a imagen\"\n            },\n            {\n                pattern: /ver/i,\n                confidence: 0.40,\n                description: \"Menci\\xf3n a ver\"\n            },\n            {\n                pattern: /pantalla/i,\n                confidence: 0.40,\n                description: \"Menci\\xf3n a pantalla\"\n            },\n            {\n                pattern: /url/i,\n                confidence: 0.40,\n                description: \"Menci\\xf3n a URL\"\n            },\n            {\n                pattern: /link/i,\n                confidence: 0.40,\n                description: \"Menci\\xf3n a link\"\n            },\n            {\n                pattern: /enlace/i,\n                confidence: 0.40,\n                description: \"Menci\\xf3n a enlace\"\n            }\n        ];\n        // Primero comprobar patrones específicos de timeline\n        for (const item of timelinePatterns){\n            if (item.pattern.test(message)) {\n                return {\n                    detected: true,\n                    confidence: item.confidence,\n                    reason: item.description\n                };\n            }\n        }\n        // Luego buscar en el resto de patrones\n        // Combinar todos los patrones\n        const allPatterns = [\n            ...highConfidencePatterns,\n            ...mediumConfidencePatterns,\n            ...lowConfidencePatterns\n        ];\n        // Buscar el patrón con mayor confianza que coincida\n        for (const item of allPatterns){\n            if (item.pattern.test(message)) {\n                return {\n                    detected: true,\n                    confidence: item.confidence,\n                    reason: item.description\n                };\n            }\n        }\n        // Si hay alguna referencia a URLs en general - REDUCIR CONFIANZA\n        if (message.toLowerCase().includes(\"url\") || message.toLowerCase().includes(\"web\") || message.toLowerCase().includes(\"link\") || message.toLowerCase().includes(\"enlace\")) {\n            return {\n                detected: true,\n                confidence: 0.5,\n                reason: \"Posible inter\\xe9s en contenido web\"\n            };\n        }\n        // Detectar preguntas generales - REDUCIR CONFIANZA\n        if (message.toLowerCase().includes(\"?\") || message.toLowerCase().includes(\"\\xbf\") || /(?:puedes|podrías|me puedes)/i.test(message)) {\n            return {\n                detected: true,\n                confidence: 0.3,\n                reason: \"Pregunta que podr\\xeda implicar intenci\\xf3n visual\"\n            };\n        }\n        // Detección por defecto - REDUCIR CONFIANZA AÚN MÁS\n        if (message.length >= 5) {\n            return {\n                detected: true,\n                confidence: 0.2,\n                reason: \"Detecci\\xf3n por defecto\"\n            };\n        }\n        // Si no coincide ningún patrón y es muy corto\n        return {\n            detected: false,\n            confidence: 0,\n            reason: \"No se detect\\xf3 intenci\\xf3n de mostrar captura\"\n        };\n    }\n    /**\n   * Envía un mensaje al chat de la IA y devuelve la respuesta\n   */ static async sendChatMessage(request) {\n        try {\n            // Primero, analizar el texto del mensaje para detectar URLs\n            const selectedText = this.extractTextFromElements(request.selectedItems);\n            const urlAnalysis = this.detectURLs(selectedText);\n            // Si hay URLs, generar capturas de pantalla\n            if (urlAnalysis.containsURLs) {\n                urlAnalysis.screenshots = this.getScreenshotsForUrls(urlAnalysis.urls);\n            }\n            // Determinar si debemos mostrar la captura de pantalla\n            const showScreenshotDetection = this.detectShowScreenshotIntention(request.message);\n            // Determinar si debemos aplicar una transición\n            const applyTransitionDetection = this.detectApplyTransitionIntention(request.message);\n            // Asegurarse de que solo una de las detecciones sea positiva con alta confianza\n            let finalShowScreenshot = {\n                ...showScreenshotDetection\n            };\n            let finalApplyTransition = {\n                ...applyTransitionDetection\n            };\n            // Si ambas son detectadas, priorizar la que tenga mayor confianza\n            if (showScreenshotDetection.detected && applyTransitionDetection.detected) {\n                // Añadir un margen de seguridad para la transición (priorizar la transición ligeramente)\n                const transitionConfidence = applyTransitionDetection.confidence;\n                const screenshotConfidence = showScreenshotDetection.confidence * 0.95; // 5% de penalización\n                console.log(\"Detecci\\xf3n doble: Transici\\xf3n (\".concat(transitionConfidence, \") vs Screenshot (\").concat(screenshotConfidence, \")\"));\n                if (screenshotConfidence > transitionConfidence) {\n                    // Priorizar screenshot, desactivar transición\n                    finalApplyTransition.detected = false;\n                    finalApplyTransition.confidence = 0;\n                    finalApplyTransition.reason = \"Priorizada la detecci\\xf3n de captura de pantalla\";\n                    console.log(\"Priorizada captura de pantalla sobre transici\\xf3n\");\n                } else {\n                    // Priorizar transición, desactivar screenshot\n                    finalShowScreenshot.detected = false;\n                    finalShowScreenshot.confidence = 0;\n                    finalShowScreenshot.reason = \"Priorizada la detecci\\xf3n de transici\\xf3n\";\n                    console.log(\"Priorizada transici\\xf3n sobre captura de pantalla\");\n                }\n            }\n            // Enviar todo a la API junto con el mensaje del usuario\n            const response = await fetch(\"/api/ai\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    type: \"timeline_chat\",\n                    message: request.message,\n                    selectedItems: request.selectedItems,\n                    selectedText: selectedText,\n                    urlAnalysis: urlAnalysis,\n                    showScreenshotDetection: finalShowScreenshot,\n                    applyTransitionDetection: finalApplyTransition\n                })\n            });\n            const data = await response.json();\n            if (data.success) {\n                return {\n                    success: true,\n                    response: data.response,\n                    urlAnalysis: urlAnalysis,\n                    showScreenshotDetection: finalShowScreenshot,\n                    applyTransitionDetection: finalApplyTransition\n                };\n            } else {\n                return {\n                    success: false,\n                    error: data.error || \"Error desconocido al procesar la solicitud\"\n                };\n            }\n        } catch (error) {\n            console.error(\"Error en chat de timeline:\", error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : String(error)\n            };\n        }\n    }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (AIService);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2ZlYXR1cmVzL2VkaXRvci9zZXJ2aWNlcy9haS1zZXJ2aWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7OztDQUlDLEdBMERNLE1BQU1BO0lBQ1g7O0dBRUMsR0FDRCxhQUFvQkMsYUFBYUMsT0FBMEIsRUFBK0I7UUFDeEYsSUFBSTtZQUNGLDZDQUE2QztZQUM3QyxNQUFNLElBQUlDLFFBQVFDLENBQUFBLFVBQVdDLFdBQVdELFNBQVM7WUFFakRFLFFBQVFDLEdBQUcsQ0FBQyx5QkFBeUJMO1lBRXJDLDREQUE0RDtZQUM1RCxNQUFNTSxlQUFlLElBQUksQ0FBQ0MsdUJBQXVCLENBQUNQLFFBQVFRLEtBQUs7WUFFL0Qsc0RBQXNEO1lBQ3RELE1BQU1DLGdCQUFnQlQsUUFBUVUsT0FBTyxJQUFJSjtZQUV6QyxxQ0FBcUM7WUFDckMsTUFBTUssY0FBYyxJQUFJLENBQUNDLFVBQVUsQ0FBQ0g7WUFFcEMsa0RBQWtEO1lBQ2xELElBQUlFLFlBQVlFLFlBQVksRUFBRTtnQkFDNUJGLFlBQVlHLFdBQVcsR0FBRyxJQUFJLENBQUNDLHFCQUFxQixDQUFDSixZQUFZSyxJQUFJO1lBQ3ZFO1lBRUEsbUNBQW1DO1lBQ25DLHNFQUFzRTtZQUN0RSxPQUFPO2dCQUNMQyxTQUFTO2dCQUNUUCxTQUFTO2dCQUNUUSxVQUFVO29CQUNSQyxTQUFTLElBQUksQ0FBQ0MsMEJBQTBCLENBQUNULGFBQWFYLFFBQVFRLEtBQUssQ0FBQ2EsTUFBTTtvQkFDMUVWLGFBQWFBO29CQUNiVyxlQUFldEIsUUFBUVEsS0FBSyxDQUFDYSxNQUFNO29CQUNuQ0UsY0FBY2Q7b0JBQ2RlLGlCQUFpQixJQUFJLENBQUNDLHVCQUF1QixDQUFDZDtvQkFDOUNlLFlBQVk7Z0JBQ2Q7WUFDRjtRQUNGLEVBQUUsT0FBT0MsT0FBTztZQUNkdkIsUUFBUXVCLEtBQUssQ0FBQyx3QkFBd0JBO1lBQ3RDLE9BQU87Z0JBQ0xWLFNBQVM7Z0JBQ1RQLFNBQVM7Z0JBQ1RpQixPQUFP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PzBhZTIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTZXJ2aWNpbyBwYXJhIG1hbmVqYXIgbGEgY29tdW5pY2FjacOzbiBjb24gbGEgSUEuXG4gKiBFc3RhIGVzIHVuYSBpbXBsZW1lbnRhY2nDs24gYmFzZSBxdWUgc2ltdWxhIHJlc3B1ZXN0YXMuXG4gKiBFbiBlbCBmdXR1cm8sIHNlIGNvbmVjdGFyw6EgY29uIHVuYSBBUEkgcmVhbC5cbiAqL1xuXG5pbnRlcmZhY2UgQUlBbmFseXNpc1JlcXVlc3Qge1xuICBtZXNzYWdlPzogc3RyaW5nO1xuICBpdGVtczogYW55W107IC8vIExvcyBlbGVtZW50b3Mgc2VsZWNjaW9uYWRvcyBlbiBsYSB0aW1lbGluZVxuICBjb250ZXh0PzogYW55OyAvLyBJbmZvcm1hY2nDs24gZGUgY29udGV4dG8gYWRpY2lvbmFsXG59XG5cbmludGVyZmFjZSBBSUFuYWx5c2lzUmVzcG9uc2Uge1xuICBzdWNjZXNzOiBib29sZWFuO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIGFuYWx5c2lzPzogYW55OyAvLyBBbsOhbGlzaXMgZGV0YWxsYWRvIGRlIGxhIElBXG4gIGVycm9yPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgVVJMQW5hbHlzaXNSZXN1bHQge1xuICBjb250YWluc1VSTHM6IGJvb2xlYW47XG4gIHVybHM6IHN0cmluZ1tdO1xuICBzY3JlZW5zaG90cz86IFVSTFNjcmVlbnNob3RJbmZvW107IC8vIEluZm9ybWFjacOzbiBkZSBzY3JlZW5zaG90cyBwYXJhIGxhcyBVUkxzXG59XG5cbmludGVyZmFjZSBVUkxTY3JlZW5zaG90SW5mbyB7XG4gIHVybDogc3RyaW5nO1xuICBzY3JlZW5zaG90UGF0aDogc3RyaW5nO1xufVxuXG4vLyBOdWV2YSBpbnRlcmZheiBwYXJhIGxhIGRldGVjY2nDs24gZGUgYXBsaWNhciB0cmFuc2ljaW9uZXNcbmludGVyZmFjZSBUcmFuc2l0aW9uRGV0ZWN0aW9uUmVzdWx0IHtcbiAgZGV0ZWN0ZWQ6IGJvb2xlYW47XG4gIGNvbmZpZGVuY2U6IG51bWJlcjtcbiAgcmVhc29uOiBzdHJpbmc7XG4gIHRyYW5zaXRpb25QYXRoPzogc3RyaW5nO1xufVxuXG4vLyBOdWV2YSBpbnRlcmZheiBwYXJhIHNvbGljaXR1ZGVzIGRlIGNoYXRcbmludGVyZmFjZSBDaGF0UmVxdWVzdCB7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgc2VsZWN0ZWRJdGVtczogYW55W107XG59XG5cbi8vIE51ZXZhIGludGVyZmF6IHBhcmEgcmVzcHVlc3RhcyBkZSBjaGF0XG5pbnRlcmZhY2UgQ2hhdFJlc3BvbnNlIHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgcmVzcG9uc2U/OiBzdHJpbmc7XG4gIGVycm9yPzogc3RyaW5nO1xuICB1cmxBbmFseXNpcz86IHtcbiAgICBjb250YWluc1VSTHM6IGJvb2xlYW47XG4gICAgdXJsczogc3RyaW5nW107XG4gICAgc2NyZWVuc2hvdHM/OiBVUkxTY3JlZW5zaG90SW5mb1tdO1xuICB9O1xuICBzaG93U2NyZWVuc2hvdERldGVjdGlvbj86IHtcbiAgICBkZXRlY3RlZDogYm9vbGVhbjtcbiAgICBjb25maWRlbmNlOiBudW1iZXI7XG4gICAgcmVhc29uOiBzdHJpbmc7XG4gIH07XG4gIGFwcGx5VHJhbnNpdGlvbkRldGVjdGlvbj86IFRyYW5zaXRpb25EZXRlY3Rpb25SZXN1bHQ7XG59XG5cbmV4cG9ydCBjbGFzcyBBSVNlcnZpY2Uge1xuICAvKipcbiAgICogQW5hbGl6YSBsb3MgZWxlbWVudG9zIHNlbGVjY2lvbmFkb3MgcGFyYSBidXNjYXIgVVJMc1xuICAgKi9cbiAgcHVibGljIHN0YXRpYyBhc3luYyBhbmFseXplSXRlbXMocmVxdWVzdDogQUlBbmFseXNpc1JlcXVlc3QpOiBQcm9taXNlPEFJQW5hbHlzaXNSZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBTaW11bGFtb3MgdW4gdGllbXBvIGRlIHJlc3B1ZXN0YSBkZSBsYSBBUElcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdBSSBTZXJ2aWNlIC0gUmVxdWVzdDonLCByZXF1ZXN0KTtcblxuICAgICAgLy8gRXh0cmFlciBlbCB0ZXh0byByZWxldmFudGUgZGUgbG9zIGVsZW1lbnRvcyBzZWxlY2Npb25hZG9zXG4gICAgICBjb25zdCBlbGVtZW50c1RleHQgPSB0aGlzLmV4dHJhY3RUZXh0RnJvbUVsZW1lbnRzKHJlcXVlc3QuaXRlbXMpO1xuXG4gICAgICAvLyBNZW5zYWplIGV4cGzDrWNpdG8gbyB0ZXh0byBleHRyYcOtZG8gZGUgbG9zIGVsZW1lbnRvc1xuICAgICAgY29uc3QgdGV4dFRvQW5hbHl6ZSA9IHJlcXVlc3QubWVzc2FnZSB8fCBlbGVtZW50c1RleHQ7XG5cbiAgICAgIC8vIEFuYWxpemFyIHNpIGVsIHRleHRvIGNvbnRpZW5lIFVSTHNcbiAgICAgIGNvbnN0IHVybEFuYWx5c2lzID0gdGhpcy5kZXRlY3RVUkxzKHRleHRUb0FuYWx5emUpO1xuXG4gICAgICAvLyBTaSBoYXkgVVJMcywgZ2VuZXJhciBpbmZvcm1hY2nDs24gZGUgc2NyZWVuc2hvdHNcbiAgICAgIGlmICh1cmxBbmFseXNpcy5jb250YWluc1VSTHMpIHtcbiAgICAgICAgdXJsQW5hbHlzaXMuc2NyZWVuc2hvdHMgPSB0aGlzLmdldFNjcmVlbnNob3RzRm9yVXJscyh1cmxBbmFseXNpcy51cmxzKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2ltdWxhY2nDs24gZGUgcmVzcHVlc3RhIGRlIGxhIElBXG4gICAgICAvLyBFbiB1biBlbnRvcm5vIHJlYWwsIGVzdG8gZW52aWFyw61hIGxhIHNvbGljaXR1ZCBhIHVuIGVuZHBvaW50IGRlIEFQSVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgbWVzc2FnZTogXCJBbsOhbGlzaXMgY29tcGxldGFkbyBjb24gw6l4aXRvXCIsXG4gICAgICAgIGFuYWx5c2lzOiB7XG4gICAgICAgICAgc3VtbWFyeTogdGhpcy5nZW5lcmF0ZVVSTEFuYWx5c2lzU3VtbWFyeSh1cmxBbmFseXNpcywgcmVxdWVzdC5pdGVtcy5sZW5ndGgpLFxuICAgICAgICAgIHVybEFuYWx5c2lzOiB1cmxBbmFseXNpcyxcbiAgICAgICAgICBpdGVtc0FuYWx5emVkOiByZXF1ZXN0Lml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICBhbmFseXplZFRleHQ6IHRleHRUb0FuYWx5emUsXG4gICAgICAgICAgcmVjb21tZW5kYXRpb25zOiB0aGlzLmdlbmVyYXRlUmVjb21tZW5kYXRpb25zKHVybEFuYWx5c2lzKSxcbiAgICAgICAgICBjb25maWRlbmNlOiAwLjk1XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIEFJIHNlcnZpY2U6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2U6IFwiRXJyb3IgYWwgcHJvY2VzYXIgbGEgc29saWNpdHVkXCIsXG4gICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcilcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE9idGllbmUgbGFzIGNhcHR1cmFzIGRlIHBhbnRhbGxhIHBhcmEgbGFzIFVSTHMgZGV0ZWN0YWRhc1xuICAgKiAoQ29tbyBlcyB1biBkZW1vLCB1dGlsaXphbW9zIGxhIG1pc21hIGltYWdlbiBwYXJhIHRvZGFzIGxhcyBVUkxzKVxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgZ2V0U2NyZWVuc2hvdHNGb3JVcmxzKHVybHM6IHN0cmluZ1tdKTogVVJMU2NyZWVuc2hvdEluZm9bXSB7XG4gICAgLy8gRW4gdW4gZW50b3JubyByZWFsLCBlc3RhIGZ1bmNpw7NuIHJlYWxpemFyw61hIHVuYSBsbGFtYWRhIGEgdW4gc2VydmljaW9cbiAgICAvLyBxdWUgZ2VuZXJhcsOtYSBjYXB0dXJhcyBkZSBwYW50YWxsYSBwYXJhIGNhZGEgVVJMXG4gICAgLy8gUG9yIGFob3JhLCB1c2Ftb3MgdW5hIGltYWdlbiBkZSBkZW1vc3RyYWNpw7NuIHBhcmEgdG9kYXMgbGFzIFVSTHNcbiAgICByZXR1cm4gdXJscy5tYXAodXJsID0+ICh7XG4gICAgICB1cmwsXG4gICAgICBzY3JlZW5zaG90UGF0aDogJy9zY3JlZW5zaG90cy9zY3JlZW5zaG90MS5wbmcnXG4gICAgfSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4dHJhZSB0ZXh0byBkZSBsb3MgZWxlbWVudG9zIHNlbGVjY2lvbmFkb3NcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIGV4dHJhY3RUZXh0RnJvbUVsZW1lbnRzKGl0ZW1zOiBhbnlbXSk6IHN0cmluZyB7XG4gICAgLy8gQXF1w60gZXh0cmFlbW9zIGVsIHRleHRvIGRlIGxvcyBlbGVtZW50b3Mgc2VsZWNjaW9uYWRvc1xuICAgIC8vIEVuIHVuIGNhc28gcmVhbCwgZXN0byBkZXBlbmRlcsOtYSBkZSBsYSBlc3RydWN0dXJhIGRlIHR1cyBlbGVtZW50b3NcbiAgICBsZXQgZXh0cmFjdGVkVGV4dCA9IFwiXCI7XG5cbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgIC8vIEludGVudGFyIGV4dHJhZXIgdGV4dG8gZGUgZGlmZXJlbnRlcyBwcm9waWVkYWRlcyBjb211bmVzXG4gICAgICAvLyBFc3RvIGVzIHVuIGVqZW1wbG8geSBkZWJlcsOtYSBhZGFwdGFyc2UgYSB0dSBlc3RydWN0dXJhIGRlIGRhdG9zIHJlYWxcbiAgICAgIGlmIChpdGVtLnRleHQpIHtcbiAgICAgICAgZXh0cmFjdGVkVGV4dCArPSBcIiBcIiArIGl0ZW0udGV4dDtcbiAgICAgIH0gZWxzZSBpZiAoaXRlbS5kZXRhaWxzPy50ZXh0KSB7XG4gICAgICAgIGV4dHJhY3RlZFRleHQgKz0gXCIgXCIgKyBpdGVtLmRldGFpbHMudGV4dDtcbiAgICAgIH0gZWxzZSBpZiAoaXRlbS5uYW1lKSB7XG4gICAgICAgIGV4dHJhY3RlZFRleHQgKz0gXCIgXCIgKyBpdGVtLm5hbWU7XG4gICAgICB9IGVsc2UgaWYgKGl0ZW0udGl0bGUpIHtcbiAgICAgICAgZXh0cmFjdGVkVGV4dCArPSBcIiBcIiArIGl0ZW0udGl0bGU7XG4gICAgICB9IGVsc2UgaWYgKGl0ZW0uZGVzY3JpcHRpb24pIHtcbiAgICAgICAgZXh0cmFjdGVkVGV4dCArPSBcIiBcIiArIGl0ZW0uZGVzY3JpcHRpb247XG4gICAgICB9IGVsc2UgaWYgKGl0ZW0uZGV0YWlscz8uZGVzY3JpcHRpb24pIHtcbiAgICAgICAgZXh0cmFjdGVkVGV4dCArPSBcIiBcIiArIGl0ZW0uZGV0YWlscy5kZXNjcmlwdGlvbjtcbiAgICAgIH0gZWxzZSBpZiAoaXRlbS5kZXRhaWxzPy5zcmMpIHtcbiAgICAgICAgZXh0cmFjdGVkVGV4dCArPSBcIiBcIiArIGl0ZW0uZGV0YWlscy5zcmM7XG4gICAgICB9IGVsc2UgaWYgKGl0ZW0uc3JjKSB7XG4gICAgICAgIGV4dHJhY3RlZFRleHQgKz0gXCIgXCIgKyBpdGVtLnNyYztcbiAgICAgIH0gZWxzZSBpZiAoaXRlbS5jb250ZW50KSB7XG4gICAgICAgIGV4dHJhY3RlZFRleHQgKz0gXCIgXCIgKyBpdGVtLmNvbnRlbnQ7XG4gICAgICB9IGVsc2UgaWYgKGl0ZW0ubGFiZWwpIHtcbiAgICAgICAgZXh0cmFjdGVkVGV4dCArPSBcIiBcIiArIGl0ZW0ubGFiZWw7XG4gICAgICB9IGVsc2UgaWYgKGl0ZW0udmFsdWUpIHtcbiAgICAgICAgZXh0cmFjdGVkVGV4dCArPSBcIiBcIiArIGl0ZW0udmFsdWU7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJykge1xuICAgICAgICBleHRyYWN0ZWRUZXh0ICs9IFwiIFwiICsgaXRlbTtcbiAgICAgIH1cblxuICAgICAgLy8gVGFtYmnDqW4gcG9kZW1vcyBidXNjYXIgZW4gYXRyaWJ1dG9zIGFuaWRhZG9zXG4gICAgICBpZiAoaXRlbS5wcm9wcyAmJiB0eXBlb2YgaXRlbS5wcm9wcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gaXRlbS5wcm9wcykge1xuICAgICAgICAgIGlmICh0eXBlb2YgaXRlbS5wcm9wc1trZXldID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgZXh0cmFjdGVkVGV4dCArPSBcIiBcIiArIGl0ZW0ucHJvcHNba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gU2kgdG9kYXbDrWEgbm8gaGVtb3MgZW5jb250cmFkbyB0ZXh0bywgaW50ZW50YW1vcyBjb252ZXJ0aXIgZWwgb2JqZXRvIGEgc3RyaW5nXG4gICAgICBpZiAoZXh0cmFjdGVkVGV4dC50cmltKCkgPT09IFwiXCIgJiYgaXRlbS50b1N0cmluZykge1xuICAgICAgICBjb25zdCBzdHIgPSBpdGVtLnRvU3RyaW5nKCk7XG4gICAgICAgIGlmIChzdHIgIT09IFwiW29iamVjdCBPYmplY3RdXCIpIHtcbiAgICAgICAgICBleHRyYWN0ZWRUZXh0ICs9IFwiIFwiICsgc3RyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4dHJhY3RlZFRleHQudHJpbSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVjdGEgVVJMcyBlbiB1biB0ZXh0b1xuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgZGV0ZWN0VVJMcyh0ZXh0OiBzdHJpbmcpOiBVUkxBbmFseXNpc1Jlc3VsdCB7XG4gICAgLy8gRXhwcmVzacOzbiByZWd1bGFyIG1lam9yYWRhIHBhcmEgY2FwdHVyYXIgdW5hIHZhcmllZGFkIG3DoXMgYW1wbGlhIGRlIFVSTHNcbiAgICAvLyBFc3RhIHJlZ2V4IGJ1c2NhIFVSTHMgY29uIGRpdmVyc29zIGRvbWluaW9zIGRlIG5pdmVsIHN1cGVyaW9yICguY29tLCAub3JnLCAuYWksIGV0Yy4pXG4gICAgY29uc3QgdXJsUmVnZXggPSAvKD86aHR0cHM/OlxcL1xcLyk/KD86d3d3XFwuKT9bLWEtekEtWjAtOUA6JS5fXFwrfiM9XXsxLDI1Nn1cXC5bYS16QS1aMC05KCldezEsNn1cXGIoPzpbLWEtekEtWjAtOSgpQDolX1xcKy5+Iz8mLy89XSopL2dpO1xuXG4gICAgY29uc3QgbWF0Y2hlcyA9IHRleHQubWF0Y2godXJsUmVnZXgpIHx8IFtdO1xuXG4gICAgLy8gRmlsdHJhciBwb3NpYmxlcyBmYWxzb3MgcG9zaXRpdm9zIChjb21vIG7Dum1lcm9zIGRlIHZlcnNpw7NuOiAxLjAsIGV0Yy4pXG4gICAgY29uc3QgdmFsaWRVcmxzID0gbWF0Y2hlcy5maWx0ZXIodXJsID0+IHtcbiAgICAgIC8vIFZlcmlmaWNhciBxdWUgZWwgZG9taW5pbyB0ZW5nYSBhbCBtZW5vcyB1biBwdW50byB5IGNhcmFjdGVyZXMgYWxmYW51bcOpcmljb3NcbiAgICAgIGNvbnN0IGRvbWFpblBhcnRzID0gdXJsLnNwbGl0KCcuJyk7XG4gICAgICAvLyBEZWJlIHRlbmVyIGFsIG1lbm9zIHVuIHB1bnRvIHkgZWwgVExEIGRlYmUgdGVuZXIgYWwgbWVub3MgMiBjYXJhY3RlcmVzXG4gICAgICByZXR1cm4gZG9tYWluUGFydHMubGVuZ3RoID49IDIgJiYgZG9tYWluUGFydHNbZG9tYWluUGFydHMubGVuZ3RoIC0gMV0ubGVuZ3RoID49IDI7XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgY29udGFpbnNVUkxzOiB2YWxpZFVybHMubGVuZ3RoID4gMCxcbiAgICAgIHVybHM6IHZhbGlkVXJsc1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhIHVuIHJlc3VtZW4gYmFzYWRvIGVuIGVsIGFuw6FsaXNpcyBkZSBVUkxzXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBnZW5lcmF0ZVVSTEFuYWx5c2lzU3VtbWFyeShhbmFseXNpczogVVJMQW5hbHlzaXNSZXN1bHQsIGl0ZW1Db3VudDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBpZiAoYW5hbHlzaXMuY29udGFpbnNVUkxzKSB7XG4gICAgICBjb25zdCB1cmxDb3VudCA9IGFuYWx5c2lzLnVybHMubGVuZ3RoO1xuICAgICAgcmV0dXJuIGBIZSBhbmFsaXphZG8gZWwgY29udGVuaWRvIGRlICR7aXRlbUNvdW50fSBlbGVtZW50byR7aXRlbUNvdW50ICE9PSAxID8gJ3MnIDogJyd9IHkgZW5jb250cmFkbyAke3VybENvdW50fSBVUkwke3VybENvdW50ICE9PSAxID8gJ3MnIDogJyd9LmA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBgSGUgYW5hbGl6YWRvIGVsIGNvbnRlbmlkbyBkZSAke2l0ZW1Db3VudH0gZWxlbWVudG8ke2l0ZW1Db3VudCAhPT0gMSA/ICdzJyA6ICcnfSB5IG5vIGhlIGVuY29udHJhZG8gbmluZ3VuYSBVUkwuYDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhIHJlY29tZW5kYWNpb25lcyBiYXNhZGFzIGVuIGVsIGFuw6FsaXNpcyBkZSBVUkxzXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBnZW5lcmF0ZVJlY29tbWVuZGF0aW9ucyhhbmFseXNpczogVVJMQW5hbHlzaXNSZXN1bHQpOiBzdHJpbmdbXSB7XG4gICAgaWYgKGFuYWx5c2lzLmNvbnRhaW5zVVJMcykge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgXCJDb25zaWRlcmUgdmVyaWZpY2FyIHNpIGxhcyBVUkxzIHNvbiBzZWd1cmFzIGFudGVzIGRlIHV0aWxpemFybGFzLlwiLFxuICAgICAgICBcIkFzZWfDunJlc2UgZGUgcXVlIGxhcyBVUkxzIGVzdMOpbiBhY3RpdmFzIHkgZnVuY2lvbmVuIGNvcnJlY3RhbWVudGUuXCIsXG4gICAgICAgIFwiQ29uc2lkZXJlIHJldmlzYXIgc2kgbG9zIGVubGFjZXMgYXB1bnRhbiBhIGxvcyByZWN1cnNvcyBkZXNlYWRvcy5cIlxuICAgICAgXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgXCJFbCBjb250ZW5pZG8gbm8gY29udGllbmUgVVJMcy4gU2kgbmVjZXNpdGEgaW5jbHVpciByZWZlcmVuY2lhcyB3ZWIsIGNvbnNpZGVyZSBhw7FhZGlybGFzLlwiLFxuICAgICAgICBcIlB1ZWRlIGHDsWFkaXIgZW5sYWNlcyBhIHJlY3Vyc29zIGFkaWNpb25hbGVzIHBhcmEgZW5yaXF1ZWNlciBlbCBjb250ZW5pZG8uXCJcbiAgICAgIF07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERldGVjdGEgc2kgZWwgbWVuc2FqZSBkZWwgdXN1YXJpbyB0aWVuZSBpbnRlbmNpw7NuIGRlIGFwbGljYXIgdW5hIHRyYW5zaWNpw7NuXG4gICAqIEByZXR1cm5zIE9iamV0byBjb24gbGEgZGV0ZWNjacOzbiwgbml2ZWwgZGUgY29uZmlhbnphIHkgZWwgbW90aXZvXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBkZXRlY3RBcHBseVRyYW5zaXRpb25JbnRlbnRpb24obWVzc2FnZTogc3RyaW5nKTogVHJhbnNpdGlvbkRldGVjdGlvblJlc3VsdCB7XG4gICAgaWYgKCFtZXNzYWdlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkZXRlY3RlZDogZmFsc2UsXG4gICAgICAgIGNvbmZpZGVuY2U6IDAsXG4gICAgICAgIHJlYXNvbjogXCJNZW5zYWplIHZhY8Otb1wiXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIFNpIGhheSBtZW5jacOzbiBleHBsw61jaXRhIGEgY2FwdHVyYXMsIGV2aXRhciBkZXRlY2Npw7NuIGRlIHRyYW5zaWNpw7NuXG4gICAgLy8gcGFyYSBldml0YXIgZmFsc29zIHBvc2l0aXZvcyBjdWFuZG8gc2UgY29tYmluZW4gYW1ib3MgdMOpcm1pbm9zXG4gICAgaWYgKC8oPzpjYXB0dXJhfHNjcmVlbnNob3R8aW1hZ2VuKVxccysoPzpkZSk/XFxzK3BhbnRhbGxhL2kudGVzdChtZXNzYWdlKSB8fFxuICAgICAgICAvbW9zdHJhclxccysoPzpjYXB0dXJhfHNjcmVlbnNob3R8aW1hZ2VuKS9pLnRlc3QobWVzc2FnZSkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRldGVjdGVkOiBmYWxzZSxcbiAgICAgICAgY29uZmlkZW5jZTogMCxcbiAgICAgICAgcmVhc29uOiBcIlNlIGRldGVjdMOzIGludGVuY2nDs24gZGUgY2FwdHVyYSBkZSBwYW50YWxsYSBlbiBzdSBsdWdhclwiXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIFBhdHJvbmVzIHBhcmEgZGV0ZWN0YXIgc29saWNpdHVkZXMgZGUgYXBsaWNhciB0cmFuc2ljaW9uZXNcbiAgICBjb25zdCB0cmFuc2l0aW9uUGF0dGVybnMgPSBbXG4gICAgICAvLyBQYXRyb25lcyBkZSBhbHRhIGNvbmZpYW56YSAtIHNvbGljaXR1ZGVzIG11eSBlc3BlY8OtZmljYXNcbiAgICAgIHtcbiAgICAgICAgcGF0dGVybjogLyg/OmFwbGljYXxhZ3JlZ2F8YcOxYWRlfHBvbnxjb2xvY2F8bWV0ZXxpbnNlcnRhKSg/OnIpP1xccysoPzp1bmF8bGEpP1xccyt0cmFuc2ljaVvDs29dbig/OlxccysoPzpzbW9vdGh8c3VhdmV8ZWxlZ2FudGV8ZGUgdmlkZW98ZW50cmV8dmlzdWFsKSk/L2ksXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuOTgsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlNvbGljaXR1ZCBkaXJlY3RhIGRlIGFwbGljYXIgdHJhbnNpY2nDs25cIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcGF0dGVybjogL3RyYW5zaWNpW8Ozb11uKD86XFxzKyg/OnNtb290aHxzdWF2ZXxlbGVnYW50ZSkpPyg/OlxccysoPzplbnRyZXxwYXJhfGVuKD86dHJlKT8pXFxzKyg/OmVsfGxvcylcXHMrKD86dmlkZW98Y2xpcHxlbGVtZW50b3xzZWdtZW50bykpPy9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjk1LFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJNZW5jacOzbiBhIHRyYW5zaWNpw7NuIGNvbiBjYWxpZmljYWRvcmVzXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHBhdHRlcm46IC9lZmVjdG9cXHMrKD86ZGUpP1xccyt0cmFuc2ljaVvDs29dbi9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjkwLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJNZW5jacOzbiBhIGVmZWN0byBkZSB0cmFuc2ljacOzblwiXG4gICAgICB9LFxuICAgICAgLy8gUGF0cm9uZXMgZGUgbWVkaWEgY29uZmlhbnphXG4gICAgICB7XG4gICAgICAgIHBhdHRlcm46IC9hW8Oxbl1hZGlyXFxzKyg/OnVuYXxsYSk/XFxzK3RyYW5zaWNpW8Ozb11uL2ksXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuODgsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlNvbGljaXR1ZCBkZSBhw7FhZGlyIHRyYW5zaWNpw7NuXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHBhdHRlcm46IC9hW8Oxbl1hZGlyXFxzK2VmZWN0b1xccysoPzpkZSk/XFxzK3RyYW5zaWNpW8Ozb11uL2ksXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuODUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlNvbGljaXR1ZCBkZSBhw7FhZGlyIGVmZWN0byBkZSB0cmFuc2ljacOzblwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBwYXR0ZXJuOiAvZWZlY3RvXFxzK3Zpc3VhbFxccysoPzpkZSk/XFxzK3RyYW5zaWNpW8Ozb11uL2ksXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuODMsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIk1lbmNpw7NuIGEgZWZlY3RvIHZpc3VhbCBkZSB0cmFuc2ljacOzblwiXG4gICAgICB9LFxuICAgICAgLy8gUGF0cm9uZXMgZGUgYmFqYSBjb25maWFuemFcbiAgICAgIHtcbiAgICAgICAgcGF0dGVybjogL3RyYW5zaWNpW8Ozb11uXFxzK2RlXFxzK3ZpZGVvL2ksXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuODAsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIk1lbmNpw7NuIGEgdHJhbnNpY2nDs24gZGUgdmlkZW9cIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcGF0dGVybjogL3RyYW5zaWNpW8Ozb11uXFxzK3Ntb290aC9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjgwLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJNZW5jacOzbiBhIHRyYW5zaWNpw7NuIHNtb290aFwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBwYXR0ZXJuOiAvdHJhbnNpY2lbw7NvXW5cXHMrc3VhdmUvaSxcbiAgICAgICAgY29uZmlkZW5jZTogMC44MCxcbiAgICAgICAgZGVzY3JpcHRpb246IFwiTWVuY2nDs24gYSB0cmFuc2ljacOzbiBzdWF2ZVwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBwYXR0ZXJuOiAvaW1wbGVtZW50YVxccyt0cmFuc2ljaVvDs29dbi9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjc4LFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJJbnN0cnVjY2nDs24gZGUgaW1wbGVtZW50YXIgdHJhbnNpY2nDs25cIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcGF0dGVybjogL3Ntb290aFxccyt0cmFuc2l0aW9uL2ksXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuNzgsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIk1lbmNpw7NuIGEgc21vb3RoIHRyYW5zaXRpb24gKGluZ2zDqXMpXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHBhdHRlcm46IC90cmFuc2ljaVvDs29dbi9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjc1LFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJNZW5jacOzbiBnZW5lcmFsIGEgdHJhbnNpY2nDs25cIlxuICAgICAgfVxuICAgIF07XG5cbiAgICAvLyBCdXNjYXIgZWwgcGF0csOzbiBjb24gbWF5b3IgY29uZmlhbnphIHF1ZSBjb2luY2lkYVxuICAgIGZvciAoY29uc3QgaXRlbSBvZiB0cmFuc2l0aW9uUGF0dGVybnMpIHtcbiAgICAgIGlmIChpdGVtLnBhdHRlcm4udGVzdChtZXNzYWdlKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRldGVjdGVkOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZGVuY2U6IGl0ZW0uY29uZmlkZW5jZSxcbiAgICAgICAgICByZWFzb246IGl0ZW0uZGVzY3JpcHRpb24sXG4gICAgICAgICAgdHJhbnNpdGlvblBhdGg6ICcvdHJhbnNpdGlvbnMvdHJhbnNpdGlvbjEuYXBuZycgLy8gUGF0aCBwcmVkZXRlcm1pbmFkbyBwYXJhIGxhIHRyYW5zaWNpw7NuXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTm8gc2UgZGV0ZWN0w7MgbmluZ3VuYSBpbnRlbmNpw7NuIGRlIGFwbGljYXIgdHJhbnNpY2nDs25cbiAgICByZXR1cm4ge1xuICAgICAgZGV0ZWN0ZWQ6IGZhbHNlLFxuICAgICAgY29uZmlkZW5jZTogMCxcbiAgICAgIHJlYXNvbjogXCJObyBzZSBkZXRlY3TDsyBpbnRlbmNpw7NuIGRlIGFwbGljYXIgdHJhbnNpY2nDs25cIlxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogRGV0ZWN0YSBzaSBlbCBtZW5zYWplIGRlbCB1c3VhcmlvIHRpZW5lIGludGVuY2nDs24gZGUgbW9zdHJhciBjYXB0dXJhcyBkZSBwYW50YWxsYVxuICAgKiBAcmV0dXJucyBPYmpldG8gY29uIGxhIGRldGVjY2nDs24sIG5pdmVsIGRlIGNvbmZpYW56YSB5IGVsIG1vdGl2b1xuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgZGV0ZWN0U2hvd1NjcmVlbnNob3RJbnRlbnRpb24obWVzc2FnZTogc3RyaW5nKToge1xuICAgIGRldGVjdGVkOiBib29sZWFuO1xuICAgIGNvbmZpZGVuY2U6IG51bWJlcjtcbiAgICByZWFzb246IHN0cmluZztcbiAgfSB7XG4gICAgaWYgKCFtZXNzYWdlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkZXRlY3RlZDogZmFsc2UsXG4gICAgICAgIGNvbmZpZGVuY2U6IDAsXG4gICAgICAgIHJlYXNvbjogXCJNZW5zYWplIHZhY8Otb1wiXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIFNpIGhheSBtZW5jacOzbiBleHBsw61jaXRhIGEgdHJhbnNpY2lvbmVzLCBldml0YXIgZGV0ZWNjacOzbiBkZSBjYXB0dXJhc1xuICAgIGlmICgvdHJhbnNpY2lbw7NvXW4vaS50ZXN0KG1lc3NhZ2UpIHx8IC9zbW9vdGhcXHMrdHJhbnNpdGlvbi9pLnRlc3QobWVzc2FnZSkpIHtcbiAgICAgIC8vIFZlcmlmaWNhciBzaSBoYXkgbWVuY2nDs24gZXhwbMOtY2l0YSB5IGZ1ZXJ0ZSBhIGNhcHR1cmFzIHF1ZSBzdXBlcmUgbGEgbWVuY2nDs24gYSB0cmFuc2ljaW9uZXNcbiAgICAgIGNvbnN0IGhhc0V4cGxpY2l0U2NyZWVuc2hvdE1lbnRpb24gPSAvKD86YXBsaWNhfGFncmVnYXxhw7FhZGV8cG9ufGNvbG9jYXxpbnNlcnRhfGluY29ycG9yYSkoPzpsYXxsb3xyKT9cXHMrKD86Y2FwdHVyYXxzY3JlZW5zaG90fGltYWdlbikvaS50ZXN0KG1lc3NhZ2UpO1xuXG4gICAgICBpZiAoIWhhc0V4cGxpY2l0U2NyZWVuc2hvdE1lbnRpb24pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkZXRlY3RlZDogZmFsc2UsXG4gICAgICAgICAgY29uZmlkZW5jZTogMCxcbiAgICAgICAgICByZWFzb246IFwiU2UgZGV0ZWN0w7MgaW50ZW5jacOzbiBkZSB0cmFuc2ljacOzbiBlbiBzdSBsdWdhclwiXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUGF0cm9uZXMgZXNwZWPDrWZpY29zIHBhcmEgYXBsaWNhciBhIGxhIHRpbWVsaW5lXG4gICAgY29uc3QgdGltZWxpbmVQYXR0ZXJucyA9IFtcbiAgICAgIHtcbiAgICAgICAgcGF0dGVybjogLyg/OmFwbGljYXxhZ3JlZ2F8YcOxYWRlfHBvbnxjb2xvY2F8aW5zZXJ0YXxpbmNvcnBvcmEpKD86bGF8bG98cik/XFxzKyg/OmNhcHR1cmF8c2NyZWVuc2hvdHxpbWFnZW58dmlzdGF8cHJldmlldykvaSxcbiAgICAgICAgY29uZmlkZW5jZTogMC45OCxcbiAgICAgICAgZGVzY3JpcHRpb246IFwiU29saWNpdHVkIGRpcmVjdGEgZGUgYXBsaWNhciBjYXB0dXJhIGEgbGEgdGltZWxpbmVcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcGF0dGVybjogLyg/OmFwbGljYXxhZ3JlZ2F8YcOxYWRlfHBvbnxjb2xvY2F8aW5zZXJ0YXxpbmNvcnBvcmEpKD86bGF8bG8pP1xccysoPzphIGxhfGFsfGVuIGxhfGVuIGVsKT9cXHMrKD86dGltZWxpbmV8bMOtbmVhIGRlIHRpZW1wbykvaSxcbiAgICAgICAgY29uZmlkZW5jZTogMC45NSxcbiAgICAgICAgZGVzY3JpcHRpb246IFwiU29saWNpdHVkIGRpcmVjdGEgZGUgYcOxYWRpciBhIGxhIHRpbWVsaW5lXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHBhdHRlcm46IC8oPzp1c2F8dXNhcnx1dGlsaXphfHV0aWxpemFyKSg/OmxhfGxvKT9cXHMrKD86Y2FwdHVyYXxzY3JlZW5zaG90fGltYWdlbnx2aXN0YXxwcmV2aWV3KS9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjkzLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJTb2xpY2l0dWQgZGUgdXNhciBjYXB0dXJhXCJcbiAgICAgIH1cbiAgICBdO1xuXG4gICAgLy8gUGF0cm9uZXMgbXV5IGVzcGVjw61maWNvcyBjb24gYWx0YSBjb25maWFuemFcbiAgICBjb25zdCBoaWdoQ29uZmlkZW5jZVBhdHRlcm5zID0gW1xuICAgICAge1xuICAgICAgICBwYXR0ZXJuOiAvbXVlc3RyYSg/Om1lKT9cXHMrKD86bGF8ZWx8dW5hfHVuKT9cXHMrKD86Y2FwdHVyYXxzY3JlZW5zaG90fGltYWdlbnx2aXN0YXxwcmV2aWV3KS9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjk1LFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJTb2xpY2l0dWQgZGlyZWN0YSBkZSBtb3N0cmFyIGNhcHR1cmFcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcGF0dGVybjogL3ZlclxccysoPzpsYXxlbHx1bmF8dW4pP1xccysoPzpjYXB0dXJhfHNjcmVlbnNob3R8aW1hZ2VufHZpc3RhfHByZXZpZXcpL2ksXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuOTUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlNvbGljaXR1ZCBkZSB2ZXIgY2FwdHVyYVwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBwYXR0ZXJuOiAvZW5zZcOxYSg/Om1lKT9cXHMrKD86bGF8ZWx8dW5hfHVuKT9cXHMrKD86Y2FwdHVyYXxzY3JlZW5zaG90fGltYWdlbnx2aXN0YXxwcmV2aWV3KS9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjk1LFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJTb2xpY2l0dWQgZGUgZW5zZcOxYXIgY2FwdHVyYVwiXG4gICAgICB9XG4gICAgXTtcblxuICAgIC8vIFBhdHJvbmVzIG1lbm9zIGVzcGVjw61maWNvcyBwZXJvIGlndWFsbWVudGUgdsOhbGlkb3NcbiAgICBjb25zdCBtZWRpdW1Db25maWRlbmNlUGF0dGVybnMgPSBbXG4gICAgICB7XG4gICAgICAgIHBhdHRlcm46IC8oPzpxdWllcm98bmVjZXNpdG98bWUgZ3VzdGFyw61hKVxccyt2ZXJcXHMrKD86bGF8ZWx8dW5hfHVuKT9cXHMrKD86Y2FwdHVyYXxzY3JlZW5zaG90fGltYWdlbikvaSxcbiAgICAgICAgY29uZmlkZW5jZTogMC44OCxcbiAgICAgICAgZGVzY3JpcHRpb246IFwiRXhwcmVzacOzbiBkZSBkZXNlbyBkZSB2ZXIgY2FwdHVyYSBlc3BlY8OtZmljYVwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBwYXR0ZXJuOiAvKD86cHVlZGVzfHBvZHLDrWFzfHB1ZWRvKVxccyt2ZXJcXHMrKD86bGF8ZWx8dW5hfHVuKT9cXHMrKD86Y2FwdHVyYXxzY3JlZW5zaG90fGltYWdlbikvaSxcbiAgICAgICAgY29uZmlkZW5jZTogMC44OCxcbiAgICAgICAgZGVzY3JpcHRpb246IFwiUHJlZ3VudGEgc29icmUgcG9zaWJpbGlkYWQgZGUgdmVyIGNhcHR1cmEgZXNwZWPDrWZpY2FcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcGF0dGVybjogL21vc3RyYXJcXHMrKD86Y2FwdHVyYXxzY3JlZW5zaG90fGltYWdlbikvaSxcbiAgICAgICAgY29uZmlkZW5jZTogMC44NSxcbiAgICAgICAgZGVzY3JpcHRpb246IFwiTWVuY2nDs24gYSBtb3N0cmFyIGNhcHR1cmEgZXNwZWPDrWZpY2FcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcGF0dGVybjogL3Zpc3VhbGl6YXJcXHMrKD86Y2FwdHVyYXxzY3JlZW5zaG90fGltYWdlbikvaSxcbiAgICAgICAgY29uZmlkZW5jZTogMC44NSxcbiAgICAgICAgZGVzY3JpcHRpb246IFwiTWVuY2nDs24gYSB2aXN1YWxpemFyIGNhcHR1cmEgZXNwZWPDrWZpY2FcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcGF0dGVybjogLyg/OnF1aWVyb3xuZWNlc2l0b3xtZSBndXN0YXLDrWEpXFxzK3Zlci9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjcwLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJFeHByZXNpw7NuIGRlIGRlc2VvIGRlIHZlclwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBwYXR0ZXJuOiAvKD86cHVlZGVzfHBvZHLDrWFzfHB1ZWRvKVxccyt2ZXIvaSxcbiAgICAgICAgY29uZmlkZW5jZTogMC43MCxcbiAgICAgICAgZGVzY3JpcHRpb246IFwiUHJlZ3VudGEgc29icmUgcG9zaWJpbGlkYWQgZGUgdmVyXCJcbiAgICAgIH1cbiAgICBdO1xuXG4gICAgLy8gUGF0cm9uZXMgbXV5IGdlbmVyYWxlcyBwZXJvIHF1ZSBwb2Ryw61hbiBpbmRpY2FyIGludGVuY2nDs25cbiAgICBjb25zdCBsb3dDb25maWRlbmNlUGF0dGVybnMgPSBbXG4gICAgICB7XG4gICAgICAgIHBhdHRlcm46IC9jYXB0dXJhXFxzKyg/OmRlKT9cXHMrcGFudGFsbGEvaSxcbiAgICAgICAgY29uZmlkZW5jZTogMC44MCxcbiAgICAgICAgZGVzY3JpcHRpb246IFwiTWVuY2nDs24gZXNwZWPDrWZpY2EgYSBjYXB0dXJhIGRlIHBhbnRhbGxhXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHBhdHRlcm46IC9zY3JlZW5zaG90L2ksXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuNzUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIk1lbmNpw7NuIGEgc2NyZWVuc2hvdFwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBwYXR0ZXJuOiAvdmVyXFxzK2ltYWdlbi9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjc1LFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJNZW5jacOzbiBhIHZlciBpbWFnZW5cIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcGF0dGVybjogL2NhcHR1cmEvaSxcbiAgICAgICAgY29uZmlkZW5jZTogMC42NSxcbiAgICAgICAgZGVzY3JpcHRpb246IFwiTWVuY2nDs24gYSBjYXB0dXJhXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHBhdHRlcm46IC9pbWFnZW4vaSxcbiAgICAgICAgY29uZmlkZW5jZTogMC42MCxcbiAgICAgICAgZGVzY3JpcHRpb246IFwiTWVuY2nDs24gYSBpbWFnZW5cIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcGF0dGVybjogL3Zlci9pLFxuICAgICAgICBjb25maWRlbmNlOiAwLjQwLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJNZW5jacOzbiBhIHZlclwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBwYXR0ZXJuOiAvcGFudGFsbGEvaSxcbiAgICAgICAgY29uZmlkZW5jZTogMC40MCxcbiAgICAgICAgZGVzY3JpcHRpb246IFwiTWVuY2nDs24gYSBwYW50YWxsYVwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBwYXR0ZXJuOiAvdXJsL2ksXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuNDAsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIk1lbmNpw7NuIGEgVVJMXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHBhdHRlcm46IC9saW5rL2ksXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuNDAsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIk1lbmNpw7NuIGEgbGlua1wiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBwYXR0ZXJuOiAvZW5sYWNlL2ksXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuNDAsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIk1lbmNpw7NuIGEgZW5sYWNlXCJcbiAgICAgIH1cbiAgICBdO1xuXG4gICAgLy8gUHJpbWVybyBjb21wcm9iYXIgcGF0cm9uZXMgZXNwZWPDrWZpY29zIGRlIHRpbWVsaW5lXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHRpbWVsaW5lUGF0dGVybnMpIHtcbiAgICAgIGlmIChpdGVtLnBhdHRlcm4udGVzdChtZXNzYWdlKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRldGVjdGVkOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZGVuY2U6IGl0ZW0uY29uZmlkZW5jZSxcbiAgICAgICAgICByZWFzb246IGl0ZW0uZGVzY3JpcHRpb25cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBMdWVnbyBidXNjYXIgZW4gZWwgcmVzdG8gZGUgcGF0cm9uZXNcbiAgICAvLyBDb21iaW5hciB0b2RvcyBsb3MgcGF0cm9uZXNcbiAgICBjb25zdCBhbGxQYXR0ZXJucyA9IFsuLi5oaWdoQ29uZmlkZW5jZVBhdHRlcm5zLCAuLi5tZWRpdW1Db25maWRlbmNlUGF0dGVybnMsIC4uLmxvd0NvbmZpZGVuY2VQYXR0ZXJuc107XG5cbiAgICAvLyBCdXNjYXIgZWwgcGF0csOzbiBjb24gbWF5b3IgY29uZmlhbnphIHF1ZSBjb2luY2lkYVxuICAgIGZvciAoY29uc3QgaXRlbSBvZiBhbGxQYXR0ZXJucykge1xuICAgICAgaWYgKGl0ZW0ucGF0dGVybi50ZXN0KG1lc3NhZ2UpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZGV0ZWN0ZWQ6IHRydWUsXG4gICAgICAgICAgY29uZmlkZW5jZTogaXRlbS5jb25maWRlbmNlLFxuICAgICAgICAgIHJlYXNvbjogaXRlbS5kZXNjcmlwdGlvblxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNpIGhheSBhbGd1bmEgcmVmZXJlbmNpYSBhIFVSTHMgZW4gZ2VuZXJhbCAtIFJFRFVDSVIgQ09ORklBTlpBXG4gICAgaWYgKG1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygndXJsJykgfHxcbiAgICAgICAgbWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCd3ZWInKSB8fFxuICAgICAgICBtZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2xpbmsnKSB8fFxuICAgICAgICBtZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2VubGFjZScpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkZXRlY3RlZDogdHJ1ZSxcbiAgICAgICAgY29uZmlkZW5jZTogMC41LFxuICAgICAgICByZWFzb246IFwiUG9zaWJsZSBpbnRlcsOpcyBlbiBjb250ZW5pZG8gd2ViXCJcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gRGV0ZWN0YXIgcHJlZ3VudGFzIGdlbmVyYWxlcyAtIFJFRFVDSVIgQ09ORklBTlpBXG4gICAgaWYgKG1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnPycpIHx8XG4gICAgICAgIG1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnwr8nKSB8fFxuICAgICAgICAvKD86cHVlZGVzfHBvZHLDrWFzfG1lIHB1ZWRlcykvaS50ZXN0KG1lc3NhZ2UpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkZXRlY3RlZDogdHJ1ZSxcbiAgICAgICAgY29uZmlkZW5jZTogMC4zLFxuICAgICAgICByZWFzb246IFwiUHJlZ3VudGEgcXVlIHBvZHLDrWEgaW1wbGljYXIgaW50ZW5jacOzbiB2aXN1YWxcIlxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBEZXRlY2Npw7NuIHBvciBkZWZlY3RvIC0gUkVEVUNJUiBDT05GSUFOWkEgQcOaTiBNw4FTXG4gICAgaWYgKG1lc3NhZ2UubGVuZ3RoID49IDUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRldGVjdGVkOiB0cnVlLFxuICAgICAgICBjb25maWRlbmNlOiAwLjIsXG4gICAgICAgIHJlYXNvbjogXCJEZXRlY2Npw7NuIHBvciBkZWZlY3RvXCJcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gU2kgbm8gY29pbmNpZGUgbmluZ8O6biBwYXRyw7NuIHkgZXMgbXV5IGNvcnRvXG4gICAgcmV0dXJuIHtcbiAgICAgIGRldGVjdGVkOiBmYWxzZSxcbiAgICAgIGNvbmZpZGVuY2U6IDAsXG4gICAgICByZWFzb246IFwiTm8gc2UgZGV0ZWN0w7MgaW50ZW5jacOzbiBkZSBtb3N0cmFyIGNhcHR1cmFcIlxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogRW52w61hIHVuIG1lbnNhamUgYWwgY2hhdCBkZSBsYSBJQSB5IGRldnVlbHZlIGxhIHJlc3B1ZXN0YVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBhc3luYyBzZW5kQ2hhdE1lc3NhZ2UocmVxdWVzdDogQ2hhdFJlcXVlc3QpOiBQcm9taXNlPENoYXRSZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBQcmltZXJvLCBhbmFsaXphciBlbCB0ZXh0byBkZWwgbWVuc2FqZSBwYXJhIGRldGVjdGFyIFVSTHNcbiAgICAgIGNvbnN0IHNlbGVjdGVkVGV4dCA9IHRoaXMuZXh0cmFjdFRleHRGcm9tRWxlbWVudHMocmVxdWVzdC5zZWxlY3RlZEl0ZW1zKTtcbiAgICAgIGNvbnN0IHVybEFuYWx5c2lzID0gdGhpcy5kZXRlY3RVUkxzKHNlbGVjdGVkVGV4dCk7XG5cbiAgICAgIC8vIFNpIGhheSBVUkxzLCBnZW5lcmFyIGNhcHR1cmFzIGRlIHBhbnRhbGxhXG4gICAgICBpZiAodXJsQW5hbHlzaXMuY29udGFpbnNVUkxzKSB7XG4gICAgICAgIHVybEFuYWx5c2lzLnNjcmVlbnNob3RzID0gdGhpcy5nZXRTY3JlZW5zaG90c0ZvclVybHModXJsQW5hbHlzaXMudXJscyk7XG4gICAgICB9XG5cbiAgICAgIC8vIERldGVybWluYXIgc2kgZGViZW1vcyBtb3N0cmFyIGxhIGNhcHR1cmEgZGUgcGFudGFsbGFcbiAgICAgIGNvbnN0IHNob3dTY3JlZW5zaG90RGV0ZWN0aW9uID0gdGhpcy5kZXRlY3RTaG93U2NyZWVuc2hvdEludGVudGlvbihyZXF1ZXN0Lm1lc3NhZ2UpO1xuXG4gICAgICAvLyBEZXRlcm1pbmFyIHNpIGRlYmVtb3MgYXBsaWNhciB1bmEgdHJhbnNpY2nDs25cbiAgICAgIGNvbnN0IGFwcGx5VHJhbnNpdGlvbkRldGVjdGlvbiA9IHRoaXMuZGV0ZWN0QXBwbHlUcmFuc2l0aW9uSW50ZW50aW9uKHJlcXVlc3QubWVzc2FnZSk7XG5cbiAgICAgIC8vIEFzZWd1cmFyc2UgZGUgcXVlIHNvbG8gdW5hIGRlIGxhcyBkZXRlY2Npb25lcyBzZWEgcG9zaXRpdmEgY29uIGFsdGEgY29uZmlhbnphXG4gICAgICBsZXQgZmluYWxTaG93U2NyZWVuc2hvdCA9IHsgLi4uc2hvd1NjcmVlbnNob3REZXRlY3Rpb24gfTtcbiAgICAgIGxldCBmaW5hbEFwcGx5VHJhbnNpdGlvbiA9IHsgLi4uYXBwbHlUcmFuc2l0aW9uRGV0ZWN0aW9uIH07XG5cbiAgICAgIC8vIFNpIGFtYmFzIHNvbiBkZXRlY3RhZGFzLCBwcmlvcml6YXIgbGEgcXVlIHRlbmdhIG1heW9yIGNvbmZpYW56YVxuICAgICAgaWYgKHNob3dTY3JlZW5zaG90RGV0ZWN0aW9uLmRldGVjdGVkICYmIGFwcGx5VHJhbnNpdGlvbkRldGVjdGlvbi5kZXRlY3RlZCkge1xuICAgICAgICAvLyBBw7FhZGlyIHVuIG1hcmdlbiBkZSBzZWd1cmlkYWQgcGFyYSBsYSB0cmFuc2ljacOzbiAocHJpb3JpemFyIGxhIHRyYW5zaWNpw7NuIGxpZ2VyYW1lbnRlKVxuICAgICAgICBjb25zdCB0cmFuc2l0aW9uQ29uZmlkZW5jZSA9IGFwcGx5VHJhbnNpdGlvbkRldGVjdGlvbi5jb25maWRlbmNlO1xuICAgICAgICBjb25zdCBzY3JlZW5zaG90Q29uZmlkZW5jZSA9IHNob3dTY3JlZW5zaG90RGV0ZWN0aW9uLmNvbmZpZGVuY2UgKiAwLjk1OyAvLyA1JSBkZSBwZW5hbGl6YWNpw7NuXG5cbiAgICAgICAgY29uc29sZS5sb2coYERldGVjY2nDs24gZG9ibGU6IFRyYW5zaWNpw7NuICgke3RyYW5zaXRpb25Db25maWRlbmNlfSkgdnMgU2NyZWVuc2hvdCAoJHtzY3JlZW5zaG90Q29uZmlkZW5jZX0pYCk7XG5cbiAgICAgICAgaWYgKHNjcmVlbnNob3RDb25maWRlbmNlID4gdHJhbnNpdGlvbkNvbmZpZGVuY2UpIHtcbiAgICAgICAgICAvLyBQcmlvcml6YXIgc2NyZWVuc2hvdCwgZGVzYWN0aXZhciB0cmFuc2ljacOzblxuICAgICAgICAgIGZpbmFsQXBwbHlUcmFuc2l0aW9uLmRldGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgZmluYWxBcHBseVRyYW5zaXRpb24uY29uZmlkZW5jZSA9IDA7XG4gICAgICAgICAgZmluYWxBcHBseVRyYW5zaXRpb24ucmVhc29uID0gXCJQcmlvcml6YWRhIGxhIGRldGVjY2nDs24gZGUgY2FwdHVyYSBkZSBwYW50YWxsYVwiO1xuXG4gICAgICAgICAgY29uc29sZS5sb2coXCJQcmlvcml6YWRhIGNhcHR1cmEgZGUgcGFudGFsbGEgc29icmUgdHJhbnNpY2nDs25cIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUHJpb3JpemFyIHRyYW5zaWNpw7NuLCBkZXNhY3RpdmFyIHNjcmVlbnNob3RcbiAgICAgICAgICBmaW5hbFNob3dTY3JlZW5zaG90LmRldGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgZmluYWxTaG93U2NyZWVuc2hvdC5jb25maWRlbmNlID0gMDtcbiAgICAgICAgICBmaW5hbFNob3dTY3JlZW5zaG90LnJlYXNvbiA9IFwiUHJpb3JpemFkYSBsYSBkZXRlY2Npw7NuIGRlIHRyYW5zaWNpw7NuXCI7XG5cbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlByaW9yaXphZGEgdHJhbnNpY2nDs24gc29icmUgY2FwdHVyYSBkZSBwYW50YWxsYVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBFbnZpYXIgdG9kbyBhIGxhIEFQSSBqdW50byBjb24gZWwgbWVuc2FqZSBkZWwgdXN1YXJpb1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9haScsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgdHlwZTogJ3RpbWVsaW5lX2NoYXQnLFxuICAgICAgICAgIG1lc3NhZ2U6IHJlcXVlc3QubWVzc2FnZSxcbiAgICAgICAgICBzZWxlY3RlZEl0ZW1zOiByZXF1ZXN0LnNlbGVjdGVkSXRlbXMsXG4gICAgICAgICAgc2VsZWN0ZWRUZXh0OiBzZWxlY3RlZFRleHQsXG4gICAgICAgICAgdXJsQW5hbHlzaXM6IHVybEFuYWx5c2lzLFxuICAgICAgICAgIHNob3dTY3JlZW5zaG90RGV0ZWN0aW9uOiBmaW5hbFNob3dTY3JlZW5zaG90LFxuICAgICAgICAgIGFwcGx5VHJhbnNpdGlvbkRldGVjdGlvbjogZmluYWxBcHBseVRyYW5zaXRpb25cbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgcmVzcG9uc2U6IGRhdGEucmVzcG9uc2UsXG4gICAgICAgICAgdXJsQW5hbHlzaXM6IHVybEFuYWx5c2lzLFxuICAgICAgICAgIHNob3dTY3JlZW5zaG90RGV0ZWN0aW9uOiBmaW5hbFNob3dTY3JlZW5zaG90LFxuICAgICAgICAgIGFwcGx5VHJhbnNpdGlvbkRldGVjdGlvbjogZmluYWxBcHBseVRyYW5zaXRpb25cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IGRhdGEuZXJyb3IgfHwgJ0Vycm9yIGRlc2Nvbm9jaWRvIGFsIHByb2Nlc2FyIGxhIHNvbGljaXR1ZCdcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZW4gY2hhdCBkZSB0aW1lbGluZTonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKVxuICAgICAgfTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQUlTZXJ2aWNlO1xuIl0sIm5hbWVzIjpbIkFJU2VydmljZSIsImFuYWx5emVJdGVtcyIsInJlcXVlc3QiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJjb25zb2xlIiwibG9nIiwiZWxlbWVudHNUZXh0IiwiZXh0cmFjdFRleHRGcm9tRWxlbWVudHMiLCJpdGVtcyIsInRleHRUb0FuYWx5emUiLCJtZXNzYWdlIiwidXJsQW5hbHlzaXMiLCJkZXRlY3RVUkxzIiwiY29udGFpbnNVUkxzIiwic2NyZWVuc2hvdHMiLCJnZXRTY3JlZW5zaG90c0ZvclVybHMiLCJ1cmxzIiwic3VjY2VzcyIsImFuYWx5c2lzIiwic3VtbWFyeSIsImdlbmVyYXRlVVJMQW5hbHlzaXNTdW1tYXJ5IiwibGVuZ3RoIiwiaXRlbXNBbmFseXplZCIsImFuYWx5emVkVGV4dCIsInJlY29tbWVuZGF0aW9ucyIsImdlbmVyYXRlUmVjb21tZW5kYXRpb25zIiwiY29uZmlkZW5jZSIsImVycm9yIiwiRXJyb3IiLCJTdHJpbmciLCJtYXAiLCJ1cmwiLCJzY3JlZW5zaG90UGF0aCIsImV4dHJhY3RlZFRleHQiLCJpdGVtIiwidGV4dCIsImRldGFpbHMiLCJuYW1lIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInNyYyIsImNvbnRlbnQiLCJsYWJlbCIsInZhbHVlIiwicHJvcHMiLCJrZXkiLCJ0cmltIiwidG9TdHJpbmciLCJzdHIiLCJ1cmxSZWdleCIsIm1hdGNoZXMiLCJtYXRjaCIsInZhbGlkVXJscyIsImZpbHRlciIsImRvbWFpblBhcnRzIiwic3BsaXQiLCJpdGVtQ291bnQiLCJ1cmxDb3VudCIsImRldGVjdEFwcGx5VHJhbnNpdGlvbkludGVudGlvbiIsImRldGVjdGVkIiwicmVhc29uIiwidGVzdCIsInRyYW5zaXRpb25QYXR0ZXJucyIsInBhdHRlcm4iLCJ0cmFuc2l0aW9uUGF0aCIsImRldGVjdFNob3dTY3JlZW5zaG90SW50ZW50aW9uIiwiaGFzRXhwbGljaXRTY3JlZW5zaG90TWVudGlvbiIsInRpbWVsaW5lUGF0dGVybnMiLCJoaWdoQ29uZmlkZW5jZVBhdHRlcm5zIiwibWVkaXVtQ29uZmlkZW5jZVBhdHRlcm5zIiwibG93Q29uZmlkZW5jZVBhdHRlcm5zIiwiYWxsUGF0dGVybnMiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwic2VuZENoYXRNZXNzYWdlIiwic2VsZWN0ZWRUZXh0Iiwic2VsZWN0ZWRJdGVtcyIsInNob3dTY3JlZW5zaG90RGV0ZWN0aW9uIiwiYXBwbHlUcmFuc2l0aW9uRGV0ZWN0aW9uIiwiZmluYWxTaG93U2NyZWVuc2hvdCIsImZpbmFsQXBwbHlUcmFuc2l0aW9uIiwidHJhbnNpdGlvbkNvbmZpZGVuY2UiLCJzY3JlZW5zaG90Q29uZmlkZW5jZSIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0eXBlIiwiZGF0YSIsImpzb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./features/editor/services/ai-service.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./features/editor/timeline/selection-modal.tsx":
/*!******************************************************!*\
  !*** ./features/editor/timeline/selection-modal.tsx ***!
  \******************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _designcombo_events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @designcombo/events */ \"(app-pages-browser)/./node_modules/@designcombo/events/dist/index.es.js\");\n/* harmony import */ var _items_timeline__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./items/timeline */ \"(app-pages-browser)/./features/editor/timeline/items/timeline.ts\");\n/* harmony import */ var _services_ai_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/ai-service */ \"(app-pages-browser)/./features/editor/services/ai-service.ts\");\n/* harmony import */ var _services_command_executor_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../services/command-executor-service */ \"(app-pages-browser)/./features/editor/services/command-executor-service.ts\");\n/* harmony import */ var _designcombo_timeline__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @designcombo/timeline */ \"(app-pages-browser)/./node_modules/@designcombo/timeline/dist/index.es.js\");\n/* harmony import */ var _designcombo_state__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @designcombo/state */ \"(app-pages-browser)/./node_modules/@designcombo/state/dist/index.es.js\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n/**\n * Modal que se muestra cuando se seleccionan elementos por arrastre en la timeline\n * Proporciona una interfaz simple para enviar comandos mediante texto\n */ const SelectionModal = ()=>{\n    _s();\n    const [visible, setVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [position, setPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        x: 0,\n        y: 0\n    });\n    const [selectedItems, setSelectedItems] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isSending, setIsSending] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [lastActionInfo, setLastActionInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showActionInfo, setShowActionInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [actionSuccess, setActionSuccess] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const modalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const textareaRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Estado para el chat\n    const [chatMessages, setChatMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [chatInput, setChatInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Estado para rastrear imágenes añadidas a la timeline\n    const [addedScreenshots, setAddedScreenshots] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // Estado para rastrear transiciones añadidas a la timeline\n    const [addedTransitions, setAddedTransitions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Suscribirse al evento de selección por arrastre\n        const selectionEvents = _designcombo_events__WEBPACK_IMPORTED_MODULE_2__.subject.pipe((0,_designcombo_events__WEBPACK_IMPORTED_MODULE_2__.filter)((param)=>{\n            let { key } = param;\n            return key === _items_timeline__WEBPACK_IMPORTED_MODULE_3__.TIMELINE_SELECTION_MODAL;\n        }));\n        const subscription = selectionEvents.subscribe((event)=>{\n            var _event_value;\n            const payload = (_event_value = event.value) === null || _event_value === void 0 ? void 0 : _event_value.payload;\n            console.log(\"Selection modal event received:\", payload);\n            if (payload && payload.selectedItems && payload.selectedItems.length > 0) {\n                setSelectedItems(payload.selectedItems);\n                // Ajustar la posición para que el modal sea visible\n                setPosition({\n                    x: Math.min(payload.position.x, window.innerWidth - 350),\n                    y: Math.min(payload.position.y, window.innerHeight - 350)\n                });\n                // Resetear estados\n                setChatMessages([]);\n                setChatInput(\"\");\n                setLastActionInfo(null);\n                setActionSuccess(null);\n                setVisible(true);\n                // Enfocar el textarea cuando el modal se abre\n                setTimeout(()=>{\n                    if (textareaRef.current) {\n                        textareaRef.current.focus();\n                    }\n                }, 100);\n            }\n        });\n        // Manejar clic fuera del modal para cerrarlo\n        const handleClickOutside = (event)=>{\n            if (modalRef.current && !modalRef.current.contains(event.target)) {\n                setVisible(false);\n            }\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>{\n            subscription.unsubscribe();\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        };\n    }, []);\n    const handleClose = ()=>{\n        setVisible(false);\n    };\n    // Función para agregar una transición al video\n    const applyTransition = async (transitionPath)=>{\n        try {\n            // Calcular tiempos para la transición\n            // Por defecto, usar la duración del elemento seleccionado\n            let startTime = 0;\n            let endTime = 5;\n            // Obtener el CommandExecutor\n            const commandExecutor = _services_command_executor_service__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getExecutor();\n            if (!commandExecutor) {\n                console.error(\"CommandExecutor no disponible\");\n                return {\n                    success: false,\n                    details: \"CommandExecutor no disponible\"\n                };\n            }\n            // Si hay elementos seleccionados, usar sus tiempos\n            if (selectedItems && selectedItems.length > 0) {\n                // Obtener el primer elemento seleccionado\n                const firstItem = selectedItems[0];\n                // Intentar obtener los tiempos del elemento\n                if (firstItem.display) {\n                    startTime = (firstItem.display.from || 0) / 1000; // convertir de ms a segundos\n                    endTime = (firstItem.display.to || startTime * 1000 + 5000) / 1000; // convertir de ms a segundos\n                }\n            }\n            // Para los archivos APNG, tratarlos como videos en vez de imágenes animadas\n            const isAPNG = transitionPath.toLowerCase().endsWith(\".apng\");\n            const isGIF = transitionPath.toLowerCase().endsWith(\".gif\");\n            if (isAPNG) {\n                // Tratar APNG como video para mantener su duración y comportamiento\n                await commandExecutor.addVideo(transitionPath, {\n                    startTime,\n                    endTime,\n                    width: 1920,\n                    height: 1080,\n                    position: {\n                        x: 0.5,\n                        y: 0.5\n                    } // Centrado en pantalla\n                });\n                console.log(\"Transici\\xf3n APNG a\\xf1adida como video a pantalla completa desde \".concat(startTime, \"s hasta \").concat(endTime, \"s\"));\n            } else if (isGIF) {\n                try {\n                    // Necesitamos personalizar la implementación para asegurar que la imagen animada cubra todo el canvas\n                    // Usando una forma alternativa para añadir la imagen que especifica directamente el modo \"cover\"\n                    // Crear payload para la imagen de transición\n                    const transitionPayload = {\n                        id: (0,_designcombo_timeline__WEBPACK_IMPORTED_MODULE_6__.generateId)(),\n                        display: {\n                            from: startTime * 1000,\n                            to: endTime * 1000 // Convertir a milisegundos\n                        },\n                        type: \"image\",\n                        details: {\n                            src: transitionPath,\n                            width: 1920,\n                            height: 1080,\n                            opacity: 100,\n                            scaleMode: \"cover\",\n                            left: 0.5,\n                            top: 0.5,\n                            originX: \"center\",\n                            originY: \"center\"\n                        }\n                    };\n                    // Usar dispatch directamente para tener más control sobre las opciones\n                    (0,_designcombo_events__WEBPACK_IMPORTED_MODULE_2__.dispatch)(_designcombo_state__WEBPACK_IMPORTED_MODULE_7__.ADD_IMAGE, {\n                        payload: transitionPayload,\n                        options: {\n                            scaleMode: \"cover\",\n                            position: {\n                                x: 0.5,\n                                y: 0.5\n                            }\n                        }\n                    });\n                    console.log(\"Transici\\xf3n GIF a\\xf1adida a pantalla completa con modo 'cover' desde \".concat(startTime, \"s hasta \").concat(endTime, \"s\"));\n                } catch (error) {\n                    console.error(\"Error al aplicar transici\\xf3n animada:\", error);\n                    throw error;\n                }\n            } else {\n                // Para videos (MP4, etc.), seguimos usando addVideo\n                await commandExecutor.addVideo(transitionPath, {\n                    startTime,\n                    endTime\n                });\n                console.log(\"Transici\\xf3n de video a\\xf1adida desde \".concat(startTime, \"s hasta \").concat(endTime, \"s\"));\n            }\n            // Registrar la transición añadida\n            setAddedTransitions((prev)=>[\n                    ...prev,\n                    transitionPath\n                ]);\n            return {\n                success: true,\n                details: \"Transici\\xf3n aplicada desde \".concat(startTime.toFixed(1), \"s hasta \").concat(endTime.toFixed(1), \"s\")\n            };\n        } catch (error) {\n            console.error(\"Error al a\\xf1adir transici\\xf3n:\", error);\n            return {\n                success: false,\n                details: \"Error al a\\xf1adir transici\\xf3n: \".concat(error instanceof Error ? error.message : String(error))\n            };\n        }\n    };\n    // Función para enviar un mensaje y procesarlo sin mostrar chat\n    const sendCommand = async ()=>{\n        if (!chatInput.trim()) return;\n        const userMessage = {\n            role: \"user\",\n            content: chatInput,\n            timestamp: new Date()\n        };\n        // Añadir el mensaje del usuario al chat interno (para lógica, no se muestra)\n        setChatMessages([\n            ...chatMessages,\n            userMessage\n        ]);\n        setChatInput(\"\");\n        setIsSending(true);\n        setLastActionInfo(null);\n        setShowActionInfo(false);\n        setActionSuccess(null);\n        try {\n            // Enviar el mensaje a la API\n            const response = await _services_ai_service__WEBPACK_IMPORTED_MODULE_4__[\"default\"].sendChatMessage({\n                message: chatInput,\n                selectedItems: selectedItems\n            });\n            if (response.success && response.response) {\n                var _response_applyTransitionDetection, _response_urlAnalysis;\n                let actionSuccessful = true; // Por defecto asumimos éxito\n                let operationDetails = \"\";\n                let screenshotToAdd = null;\n                let detectionInfo = null;\n                let startTime = 0;\n                let endTime = 5;\n                let actionDetected = false;\n                // Verificar si debemos aplicar una transición\n                if (((_response_applyTransitionDetection = response.applyTransitionDetection) === null || _response_applyTransitionDetection === void 0 ? void 0 : _response_applyTransitionDetection.detected) && response.applyTransitionDetection.confidence > 0.2 && response.applyTransitionDetection.transitionPath) {\n                    actionDetected = true;\n                    // Aplicar la transición\n                    const transitionResult = await applyTransition(response.applyTransitionDetection.transitionPath);\n                    actionSuccessful = transitionResult.success;\n                    operationDetails = transitionResult.details;\n                    // Detalles de la detección para referenciar\n                    detectionInfo = {\n                        detected: response.applyTransitionDetection.detected,\n                        confidence: response.applyTransitionDetection.confidence,\n                        reason: response.applyTransitionDetection.reason\n                    };\n                } else if (response.showScreenshotDetection && ((_response_urlAnalysis = response.urlAnalysis) === null || _response_urlAnalysis === void 0 ? void 0 : _response_urlAnalysis.containsURLs) && response.urlAnalysis.screenshots && response.urlAnalysis.screenshots.length > 0) {\n                    // Comprobar si la detección es positiva con confianza suficiente\n                    if (response.showScreenshotDetection.detected && response.showScreenshotDetection.confidence > 0.2) {\n                        actionDetected = true;\n                        // Seleccionar la primera captura disponible\n                        const firstScreenshot = response.urlAnalysis.screenshots[0];\n                        screenshotToAdd = firstScreenshot;\n                        // Guardar información de detección\n                        detectionInfo = {\n                            detected: response.showScreenshotDetection.detected,\n                            confidence: response.showScreenshotDetection.confidence,\n                            reason: response.showScreenshotDetection.reason\n                        };\n                        // Calcular tiempos para la imagen\n                        // Por defecto, usar la duración del elemento seleccionado\n                        startTime = 0;\n                        endTime = 5;\n                        // Añadir la captura a la timeline utilizando el CommandExecutorService\n                        const commandExecutor = _services_command_executor_service__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getExecutor();\n                        if (commandExecutor) {\n                            try {\n                                // Si hay elementos seleccionados, usar sus tiempos\n                                if (selectedItems && selectedItems.length > 0) {\n                                    // Obtener el primer elemento seleccionado\n                                    const firstItem = selectedItems[0];\n                                    // Intentar obtener los tiempos del elemento\n                                    if (firstItem.display) {\n                                        startTime = (firstItem.display.from || 0) / 1000; // convertir de ms a segundos\n                                        endTime = (firstItem.display.to || startTime * 1000 + 5000) / 1000; // convertir de ms a segundos\n                                    }\n                                }\n                                // Añadir la imagen a la timeline\n                                await commandExecutor.addImage(firstScreenshot.screenshotPath, {\n                                    startTime,\n                                    endTime\n                                });\n                                // Registrar la captura añadida\n                                setAddedScreenshots((prev)=>[\n                                        ...prev,\n                                        firstScreenshot\n                                    ]);\n                                // Detalles de la operación\n                                operationDetails = \"Captura aplicada a la timeline desde \".concat(startTime.toFixed(1), \"s hasta \").concat(endTime.toFixed(1), \"s\");\n                                console.log(\"Imagen a\\xf1adida a la timeline desde \".concat(startTime, \"s hasta \").concat(endTime, \"s: \").concat(firstScreenshot.screenshotPath));\n                            } catch (error) {\n                                console.error(\"Error al a\\xf1adir imagen a la timeline:\", error);\n                                actionSuccessful = false;\n                                operationDetails = \"Error al a\\xf1adir imagen: \".concat(error instanceof Error ? error.message : String(error));\n                            }\n                        } else {\n                            console.error(\"CommandExecutor no disponible\");\n                            actionSuccessful = false;\n                            operationDetails = \"CommandExecutor no disponible\";\n                        }\n                    }\n                }\n                // Establecer estado final según el resultado\n                setActionSuccess(actionSuccessful);\n                // Componer el mensaje informativo\n                let actionMessage;\n                if (actionDetected) {\n                    // Si se detectó una acción específica (como agregar captura o transición)\n                    actionMessage = actionSuccessful ? screenshotToAdd ? \"✨ \".concat(operationDetails || \"Captura aplicada correctamente\") : \"✨ \".concat(operationDetails || \"Transici\\xf3n aplicada correctamente\") : \"❌ Error: \".concat(operationDetails || \"No se pudo completar la operaci\\xf3n.\");\n                } else {\n                    // Si no se detectó ninguna acción específica, mostrar un mensaje predeterminado\n                    actionMessage = \"ℹ️ Esta \\xe1rea es para ejecutar acciones espec\\xedficas en la timeline. Si deseas conversar, por favor utiliza el chat.\";\n                    setActionSuccess(null); // Neutro, ni éxito ni error\n                }\n                setLastActionInfo(actionMessage);\n                setShowActionInfo(true);\n                // Añadir la respuesta del asistente al chat interno (no se muestra)\n                const assistantMessage = {\n                    role: \"assistant\",\n                    content: response.response + (actionDetected && actionSuccessful ? screenshotToAdd ? \"\\n\\n✅ **Captura de pantalla aplicada a la timeline**\\n- URL: \".concat(screenshotToAdd.url, \"\\n- Tiempo: desde \").concat(startTime, \"s hasta \").concat(endTime, \"s\\n- Confianza: \").concat(Math.round((detectionInfo === null || detectionInfo === void 0 ? void 0 : detectionInfo.confidence) * 100), \"%\") : \"\\n\\n✅ **Transici\\xf3n aplicada a la timeline**\\n- Tiempo: desde \".concat(startTime, \"s hasta \").concat(endTime, \"s\\n- Confianza: \").concat(Math.round((detectionInfo === null || detectionInfo === void 0 ? void 0 : detectionInfo.confidence) * 100), \"%\") : \"\"),\n                    timestamp: new Date(),\n                    detectionInfo: detectionInfo\n                };\n                setChatMessages((prevMessages)=>[\n                        ...prevMessages,\n                        assistantMessage\n                    ]);\n                // Ocultar la información de acción después de 4 segundos\n                setTimeout(()=>{\n                    setShowActionInfo(false);\n                }, 4000);\n            } else {\n                // Mostrar mensaje de error brevemente\n                setActionSuccess(false);\n                setLastActionInfo(\"❌ Error: \".concat(response.error || \"No se pudo procesar tu mensaje.\"));\n                setShowActionInfo(true);\n                setTimeout(()=>{\n                    setShowActionInfo(false);\n                }, 3000);\n            }\n        } catch (error) {\n            console.error(\"Error al enviar mensaje:\", error);\n            // Mostrar mensaje de error brevemente\n            setActionSuccess(false);\n            setLastActionInfo(\"❌ Error: \".concat(error instanceof Error ? error.message : \"Error de comunicaci\\xf3n con el servicio de IA.\"));\n            setShowActionInfo(true);\n            setTimeout(()=>{\n                setShowActionInfo(false);\n            }, 3000);\n        } finally{\n            setIsSending(false);\n        }\n    };\n    // Función para manejar el envío del mensaje con Enter\n    const handleKeyPress = (e)=>{\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            sendCommand();\n        }\n    };\n    if (!visible) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: modalRef,\n        style: {\n            position: \"fixed\",\n            left: position.x,\n            top: position.y,\n            zIndex: 9999,\n            background: \"linear-gradient(135deg, rgba(35, 20, 60, 0.95) 0%, rgba(45, 25, 85, 0.95) 100%)\",\n            borderRadius: \"12px\",\n            boxShadow: \"0 8px 32px rgba(0, 0, 0, 0.6), 0 0 0 1px rgba(156, 90, 250, 0.3)\",\n            padding: \"20px\",\n            width: \"380px\",\n            color: \"white\",\n            fontFamily: \"Inter, system-ui, sans-serif\",\n            border: \"1px solid rgba(156, 90, 250, 0.6)\",\n            backdropFilter: \"blur(10px)\",\n            animation: \"fadeIn 0.3s ease\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"style\", {\n                children: \"\\n          @keyframes fadeIn {\\n            from { opacity: 0; transform: scale(0.95); }\\n            to { opacity: 1; transform: scale(1); }\\n          }\\n          @keyframes pulse {\\n            0% { box-shadow: 0 0 0 0 rgba(156, 90, 250, 0.5); }\\n            70% { box-shadow: 0 0 0 10px rgba(156, 90, 250, 0); }\\n            100% { box-shadow: 0 0 0 0 rgba(156, 90, 250, 0); }\\n          }\\n          @keyframes glow {\\n            0% { border-color: rgba(156, 90, 250, 0.6); }\\n            50% { border-color: rgba(156, 90, 250, 0.9); }\\n            100% { border-color: rgba(156, 90, 250, 0.6); }\\n          }\\n          @keyframes spin {\\n            0% { transform: rotate(0deg); }\\n            100% { transform: rotate(360deg); }\\n          }\\n        \"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                lineNumber: 458,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    justifyContent: \"space-between\",\n                    alignItems: \"center\",\n                    marginBottom: \"16px\",\n                    borderBottom: \"1px solid rgba(156, 90, 250, 0.4)\",\n                    paddingBottom: \"12px\",\n                    position: \"relative\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            position: \"absolute\",\n                            bottom: \"-1px\",\n                            left: \"0\",\n                            width: \"60%\",\n                            height: \"1px\",\n                            background: \"linear-gradient(90deg, rgba(156, 90, 250, 0.8) 0%, rgba(156, 90, 250, 0) 100%)\",\n                            animation: \"glow 1.5s infinite alternate\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                        lineNumber: 490,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        style: {\n                            margin: 0,\n                            fontSize: \"18px\",\n                            fontWeight: \"600\",\n                            color: \"rgba(156, 90, 250, 1.0)\",\n                            textShadow: \"0 2px 4px rgba(0,0,0,0.3)\"\n                        },\n                        children: selectedItems.length > 1 ? \"\".concat(selectedItems.length, \" elementos seleccionados\") : \"Elemento seleccionado\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                        lineNumber: 500,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            gap: \"8px\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleClose,\n                            style: {\n                                background: \"rgba(156, 90, 250, 0.2)\",\n                                border: \"none\",\n                                borderRadius: \"50%\",\n                                color: \"rgba(255, 255, 255, 0.9)\",\n                                cursor: \"pointer\",\n                                fontSize: \"16px\",\n                                padding: \"5px\",\n                                width: \"24px\",\n                                height: \"24px\",\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                justifyContent: \"center\",\n                                lineHeight: \"1\",\n                                transition: \"all 0.2s ease\"\n                            },\n                            onMouseOver: (e)=>{\n                                e.currentTarget.style.background = \"rgba(156, 90, 250, 0.4)\";\n                                e.currentTarget.style.transform = \"scale(1.1)\";\n                            },\n                            onMouseOut: (e)=>{\n                                e.currentTarget.style.background = \"rgba(156, 90, 250, 0.2)\";\n                                e.currentTarget.style.transform = \"scale(1)\";\n                            },\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                            lineNumber: 510,\n                            columnNumber: 9\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                        lineNumber: 509,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                lineNumber: 481,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    marginTop: \"12px\",\n                    marginBottom: \"16px\"\n                },\n                children: [\n                    showActionInfo && lastActionInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            padding: \"12px\",\n                            marginBottom: \"16px\",\n                            background: actionSuccess === false ? \"linear-gradient(to right, rgba(220, 50, 50, 0.15), rgba(220, 50, 50, 0.05))\" : actionSuccess === true ? \"linear-gradient(to right, rgba(70, 200, 120, 0.15), rgba(70, 200, 120, 0.05))\" : \"linear-gradient(to right, rgba(156, 90, 250, 0.15), rgba(156, 90, 250, 0.05))\",\n                            borderRadius: \"8px\",\n                            fontSize: \"14px\",\n                            border: \"1px solid \".concat(actionSuccess === false ? \"rgba(220, 50, 50, 0.3)\" : actionSuccess === true ? \"rgba(70, 200, 120, 0.3)\" : \"rgba(156, 90, 250, 0.3)\"),\n                            boxShadow: \"0 2px 10px rgba(0, 0, 0, 0.1)\",\n                            transition: \"all 0.3s ease\",\n                            animation: actionSuccess ? \"pulse 2s infinite\" : \"\",\n                            color: actionSuccess === false ? \"rgba(255, 220, 220, 0.9)\" : actionSuccess === true ? \"rgba(220, 255, 230, 0.9)\" : \"rgba(240, 230, 255, 0.9)\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                display: \"flex\",\n                                alignItems: \"flex-start\",\n                                gap: \"8px\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        flexShrink: 0,\n                                        marginTop: \"2px\"\n                                    },\n                                    children: actionSuccess === false ? \"❌\" : actionSuccess === true ? \"✨\" : \"ℹ️\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                    lineNumber: 574,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: lastActionInfo\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                    lineNumber: 584,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                            lineNumber: 569,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                        lineNumber: 545,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            flexDirection: \"column\",\n                            gap: \"12px\",\n                            borderTop: \"1px solid rgba(156, 90, 250, 0.2)\",\n                            paddingTop: \"16px\",\n                            position: \"relative\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                ref: textareaRef,\n                                value: chatInput,\n                                onChange: (e)=>setChatInput(e.target.value),\n                                onKeyDown: handleKeyPress,\n                                disabled: isSending,\n                                placeholder: \"Escribe un comando... (ej: 'aplica captura a la timeline' o 'a\\xf1ade transici\\xf3n')\",\n                                style: {\n                                    width: \"100%\",\n                                    height: \"80px\",\n                                    background: \"rgba(30, 15, 50, 0.5)\",\n                                    border: \"1px solid rgba(156, 90, 250, 0.4)\",\n                                    borderRadius: \"8px\",\n                                    padding: \"12px 14px\",\n                                    color: \"white\",\n                                    fontSize: \"14px\",\n                                    outline: \"none\",\n                                    resize: \"none\",\n                                    transition: \"border-color 0.3s ease, box-shadow 0.3s ease\",\n                                    boxShadow: \"0 2px 8px rgba(0, 0, 0, 0.2) inset\",\n                                    fontFamily: \"Inter, system-ui, sans-serif\",\n                                    lineHeight: \"1.5\"\n                                },\n                                onFocus: (e)=>{\n                                    e.target.style.borderColor = \"rgba(156, 90, 250, 0.8)\";\n                                    e.target.style.boxShadow = \"0 2px 8px rgba(0, 0, 0, 0.2) inset, 0 0 0 2px rgba(156, 90, 250, 0.1)\";\n                                },\n                                onBlur: (e)=>{\n                                    e.target.style.borderColor = \"rgba(156, 90, 250, 0.4)\";\n                                    e.target.style.boxShadow = \"0 2px 8px rgba(0, 0, 0, 0.2) inset\";\n                                }\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                lineNumber: 597,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: sendCommand,\n                                disabled: isSending || !chatInput.trim(),\n                                style: {\n                                    background: isSending || !chatInput.trim() ? \"rgba(156, 90, 250, 0.3)\" : \"linear-gradient(135deg, rgba(156, 90, 250, 0.8) 0%, rgba(120, 60, 220, 0.9) 100%)\",\n                                    border: \"none\",\n                                    borderRadius: \"8px\",\n                                    color: \"white\",\n                                    cursor: isSending || !chatInput.trim() ? \"not-allowed\" : \"pointer\",\n                                    padding: \"12px 16px\",\n                                    fontSize: \"14px\",\n                                    fontWeight: \"500\",\n                                    transition: \"all 0.2s ease\",\n                                    boxShadow: isSending || !chatInput.trim() ? \"none\" : \"0 4px 12px rgba(156, 90, 250, 0.3)\",\n                                    textShadow: \"0 1px 2px rgba(0,0,0,0.2)\"\n                                },\n                                onMouseOver: (e)=>{\n                                    if (!isSending && chatInput.trim()) {\n                                        e.currentTarget.style.transform = \"translateY(-2px)\";\n                                        e.currentTarget.style.boxShadow = \"0 6px 16px rgba(156, 90, 250, 0.4)\";\n                                    }\n                                },\n                                onMouseOut: (e)=>{\n                                    if (!isSending && chatInput.trim()) {\n                                        e.currentTarget.style.transform = \"translateY(0)\";\n                                        e.currentTarget.style.boxShadow = \"0 4px 12px rgba(156, 90, 250, 0.3)\";\n                                    }\n                                },\n                                children: isSending ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"flex\",\n                                        alignItems: \"center\",\n                                        justifyContent: \"center\",\n                                        gap: \"8px\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                width: \"14px\",\n                                                height: \"14px\",\n                                                borderRadius: \"50%\",\n                                                border: \"2px solid rgba(255,255,255,0.3)\",\n                                                borderTopColor: \"white\",\n                                                animation: \"spin 1s linear infinite\"\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                            lineNumber: 664,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: \"Procesando...\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                            lineNumber: 672,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                    lineNumber: 663,\n                                    columnNumber: 15\n                                }, undefined) : \"Ejecutar\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                                lineNumber: 629,\n                                columnNumber: 9\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                        lineNumber: 589,\n                        columnNumber: 19\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n                lineNumber: 543,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\features\\\\editor\\\\timeline\\\\selection-modal.tsx\",\n        lineNumber: 439,\n        columnNumber: 5\n    }, undefined);\n};\n_s(SelectionModal, \"oQ1cOUXGdA9wm6cej/uyO/5xVYM=\");\n_c = SelectionModal;\n/* harmony default export */ __webpack_exports__[\"default\"] = (SelectionModal);\nvar _c;\n$RefreshReg$(_c, \"SelectionModal\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2ZlYXR1cmVzL2VkaXRvci90aW1lbGluZS9zZWxlY3Rpb24tbW9kYWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUEyRDtBQUNLO0FBQ0o7QUFDYjtBQUMyQjtBQUN2QjtBQUNPO0FBK0MxRDs7O0NBR0MsR0FDRCxNQUFNWSxpQkFBMkI7O0lBQy9CLE1BQU0sQ0FBQ0MsU0FBU0MsV0FBVyxHQUFHWiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNhLFVBQVVDLFlBQVksR0FBR2QsK0NBQVFBLENBQVc7UUFBRWUsR0FBRztRQUFHQyxHQUFHO0lBQUU7SUFDaEUsTUFBTSxDQUFDQyxlQUFlQyxpQkFBaUIsR0FBR2xCLCtDQUFRQSxDQUFRLEVBQUU7SUFDNUQsTUFBTSxDQUFDbUIsV0FBV0MsYUFBYSxHQUFHcEIsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDcUIsZ0JBQWdCQyxrQkFBa0IsR0FBR3RCLCtDQUFRQSxDQUFnQjtJQUNwRSxNQUFNLENBQUN1QixnQkFBZ0JDLGtCQUFrQixHQUFHeEIsK0NBQVFBLENBQUM7SUFDckQsTUFBTSxDQUFDeUIsZUFBZUMsaUJBQWlCLEdBQUcxQiwrQ0FBUUEsQ0FBaUI7SUFDbkUsTUFBTTJCLFdBQVcxQiw2Q0FBTUEsQ0FBaUI7SUFDeEMsTUFBTTJCLGNBQWMzQiw2Q0FBTUEsQ0FBc0I7SUFFaEQsc0JBQXNCO0lBQ3RCLE1BQU0sQ0FBQzRCLGNBQWNDLGdCQUFnQixHQUFHOUIsK0NBQVFBLENBQWdCLEVBQUU7SUFDbEUsTUFBTSxDQUFDK0IsV0FBV0MsYUFBYSxHQUFHaEMsK0NBQVFBLENBQUM7SUFFM0MsdURBQXVEO0lBQ3ZELE1BQU0sQ0FBQ2lDLGtCQUFrQkMsb0JBQW9CLEdBQUdsQywrQ0FBUUEsQ0FBMEMsRUFBRTtJQUVwRywyREFBMkQ7SUFDM0QsTUFBTSxDQUFDbUMsa0JBQWtCQyxvQkFBb0IsR0FBR3BDLCtDQUFRQSxDQUFXLEVBQUU7SUFFckVELGdEQUFTQSxD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RWtDLGFBQWEsQ0FBQzdCLEtBQUssQ0FBQzhCLFNBQVMsR0FBRzt3Q0FDbENuQyxFQUFFa0MsYUFBYSxDQUFDN0IsS0FBSyxDQUFDSSxTQUFTLEdBQUc7b0NBQ3BDO2dDQUNGO2dDQUNBMkIsWUFBWSxDQUFDcEM7b0NBQ1gsSUFBSSxDQUFDakgsYUFBYVksVUFBVXNFLElBQUksSUFBSTt3Q0FDbEMrQixFQUFFa0MsYUFBYSxDQUFDN0IsS0FBSyxDQUFDOEIsU0FBUyxHQUFHO3dDQUNsQ25DLEVBQUVrQyxhQUFhLENBQUM3QixLQUFLLENBQUNJLFNBQVMsR0FBRztvQ0FDcEM7Z0NBQ0Y7MENBRUMxSCwwQkFDQyw4REFBQ29IO29DQUFJRSxPQUFPO3dDQUFFL0QsU0FBUzt3Q0FBUTJFLFlBQVk7d0NBQVVELGdCQUFnQjt3Q0FBVVcsS0FBSztvQ0FBTTs7c0RBQ3hGLDhEQUFDeEI7NENBQUlFLE9BQU87Z0RBQ1Z2RCxPQUFPO2dEQUNQQyxRQUFRO2dEQUNSeUQsY0FBYztnREFDZEssUUFBUTtnREFDUnVDLGdCQUFnQjtnREFDaEJyQyxXQUFXOzRDQUNiOzs7Ozs7c0RBQ0EsOERBQUNzQztzREFBSzs7Ozs7Ozs7Ozs7Z0RBRU47Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1oQjtHQTltQk0vSztLQUFBQTtBQWduQk4sK0RBQWVBLGNBQWNBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vZmVhdHVyZXMvZWRpdG9yL3RpbWVsaW5lL3NlbGVjdGlvbi1tb2RhbC50c3g/ODA0MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZmlsdGVyLCBzdWJqZWN0LCBkaXNwYXRjaCB9IGZyb20gXCJAZGVzaWduY29tYm8vZXZlbnRzXCI7XG5pbXBvcnQgeyBUSU1FTElORV9TRUxFQ1RJT05fTU9EQUwgfSBmcm9tICcuL2l0ZW1zL3RpbWVsaW5lJztcbmltcG9ydCBBSVNlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvYWktc2VydmljZSc7XG5pbXBvcnQgQ29tbWFuZEV4ZWN1dG9yU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy9jb21tYW5kLWV4ZWN1dG9yLXNlcnZpY2UnO1xuaW1wb3J0IHsgZ2VuZXJhdGVJZCB9IGZyb20gXCJAZGVzaWduY29tYm8vdGltZWxpbmVcIjtcbmltcG9ydCB7IEFERF9JTUFHRSwgQUREX1ZJREVPIH0gZnJvbSBcIkBkZXNpZ25jb21iby9zdGF0ZVwiO1xuXG5pbnRlcmZhY2UgUG9zaXRpb24ge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIFNlbGVjdGVkSXRlbXMge1xuICBzZWxlY3RlZEl0ZW1zOiBhbnlbXTtcbiAgcG9zaXRpb246IFBvc2l0aW9uO1xuICBzb3VyY2U6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFVSTEFuYWx5c2lzUmVzdWx0IHtcbiAgY29udGFpbnNVUkxzOiBib29sZWFuO1xuICB1cmxzOiBzdHJpbmdbXTtcbiAgc2NyZWVuc2hvdHM/OiBVUkxTY3JlZW5zaG90SW5mb1tdO1xufVxuXG5pbnRlcmZhY2UgVVJMU2NyZWVuc2hvdEluZm8ge1xuICB1cmw6IHN0cmluZztcbiAgc2NyZWVuc2hvdFBhdGg6IHN0cmluZztcbn1cblxuLy8gSW50ZXJmYXogcGFyYSBkZXRlY2Npw7NuIGRlIHRyYW5zaWNpb25lc1xuaW50ZXJmYWNlIFRyYW5zaXRpb25EZXRlY3Rpb25SZXN1bHQge1xuICBkZXRlY3RlZDogYm9vbGVhbjtcbiAgY29uZmlkZW5jZTogbnVtYmVyO1xuICByZWFzb246IHN0cmluZztcbiAgdHJhbnNpdGlvblBhdGg/OiBzdHJpbmc7XG59XG5cbi8vIEludGVyZmF6IHBhcmEgbWVuc2FqZXMgZGUgY2hhdFxuaW50ZXJmYWNlIENoYXRNZXNzYWdlIHtcbiAgcm9sZTogJ3VzZXInIHwgJ2Fzc2lzdGFudCc7XG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgdGltZXN0YW1wOiBEYXRlO1xuICAvLyBTaSBlbCBtZW5zYWplIG1vc3Ryw7MgY2FwdHVyYSBkZSBwYW50YWxsYSwgZ3VhcmRhciBpbmZvcm1hY2nDs25cbiAgc2hvd1NjcmVlbnNob3Q/OiBib29sZWFuO1xuICBzY3JlZW5zaG90VXJsPzogc3RyaW5nO1xuICBkZXRlY3Rpb25JbmZvPzoge1xuICAgIGRldGVjdGVkOiBib29sZWFuO1xuICAgIGNvbmZpZGVuY2U6IG51bWJlcjtcbiAgICByZWFzb246IHN0cmluZztcbiAgfTtcbn1cblxuLyoqXG4gKiBNb2RhbCBxdWUgc2UgbXVlc3RyYSBjdWFuZG8gc2Ugc2VsZWNjaW9uYW4gZWxlbWVudG9zIHBvciBhcnJhc3RyZSBlbiBsYSB0aW1lbGluZVxuICogUHJvcG9yY2lvbmEgdW5hIGludGVyZmF6IHNpbXBsZSBwYXJhIGVudmlhciBjb21hbmRvcyBtZWRpYW50ZSB0ZXh0b1xuICovXG5jb25zdCBTZWxlY3Rpb25Nb2RhbDogUmVhY3QuRkMgPSAoKSA9PiB7XG4gIGNvbnN0IFt2aXNpYmxlLCBzZXRWaXNpYmxlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Bvc2l0aW9uLCBzZXRQb3NpdGlvbl0gPSB1c2VTdGF0ZTxQb3NpdGlvbj4oeyB4OiAwLCB5OiAwIH0pO1xuICBjb25zdCBbc2VsZWN0ZWRJdGVtcywgc2V0U2VsZWN0ZWRJdGVtc10gPSB1c2VTdGF0ZTxhbnlbXT4oW10pO1xuICBjb25zdCBbaXNTZW5kaW5nLCBzZXRJc1NlbmRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbGFzdEFjdGlvbkluZm8sIHNldExhc3RBY3Rpb25JbmZvXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2hvd0FjdGlvbkluZm8sIHNldFNob3dBY3Rpb25JbmZvXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FjdGlvblN1Y2Nlc3MsIHNldEFjdGlvblN1Y2Nlc3NdID0gdXNlU3RhdGU8Ym9vbGVhbiB8IG51bGw+KG51bGwpO1xuICBjb25zdCBtb2RhbFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IHRleHRhcmVhUmVmID0gdXNlUmVmPEhUTUxUZXh0QXJlYUVsZW1lbnQ+KG51bGwpO1xuXG4gIC8vIEVzdGFkbyBwYXJhIGVsIGNoYXRcbiAgY29uc3QgW2NoYXRNZXNzYWdlcywgc2V0Q2hhdE1lc3NhZ2VzXSA9IHVzZVN0YXRlPENoYXRNZXNzYWdlW10+KFtdKTtcbiAgY29uc3QgW2NoYXRJbnB1dCwgc2V0Q2hhdElucHV0XSA9IHVzZVN0YXRlKCcnKTtcblxuICAvLyBFc3RhZG8gcGFyYSByYXN0cmVhciBpbcOhZ2VuZXMgYcOxYWRpZGFzIGEgbGEgdGltZWxpbmVcbiAgY29uc3QgW2FkZGVkU2NyZWVuc2hvdHMsIHNldEFkZGVkU2NyZWVuc2hvdHNdID0gdXNlU3RhdGU8e3VybDogc3RyaW5nLCBzY3JlZW5zaG90UGF0aDogc3RyaW5nfVtdPihbXSk7XG5cbiAgLy8gRXN0YWRvIHBhcmEgcmFzdHJlYXIgdHJhbnNpY2lvbmVzIGHDsWFkaWRhcyBhIGxhIHRpbWVsaW5lXG4gIGNvbnN0IFthZGRlZFRyYW5zaXRpb25zLCBzZXRBZGRlZFRyYW5zaXRpb25zXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBTdXNjcmliaXJzZSBhbCBldmVudG8gZGUgc2VsZWNjacOzbiBwb3IgYXJyYXN0cmVcbiAgICBjb25zdCBzZWxlY3Rpb25FdmVudHMgPSBzdWJqZWN0LnBpcGUoXG4gICAgICBmaWx0ZXIoKHsga2V5IH0pID0+IGtleSA9PT0gVElNRUxJTkVfU0VMRUNUSU9OX01PREFMKVxuICAgICk7XG5cbiAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBzZWxlY3Rpb25FdmVudHMuc3Vic2NyaWJlKChldmVudCkgPT4ge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IGV2ZW50LnZhbHVlPy5wYXlsb2FkIGFzIFNlbGVjdGVkSXRlbXM7XG4gICAgICBjb25zb2xlLmxvZygnU2VsZWN0aW9uIG1vZGFsIGV2ZW50IHJlY2VpdmVkOicsIHBheWxvYWQpO1xuXG4gICAgICBpZiAocGF5bG9hZCAmJiBwYXlsb2FkLnNlbGVjdGVkSXRlbXMgJiYgcGF5bG9hZC5zZWxlY3RlZEl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgc2V0U2VsZWN0ZWRJdGVtcyhwYXlsb2FkLnNlbGVjdGVkSXRlbXMpO1xuXG4gICAgICAgIC8vIEFqdXN0YXIgbGEgcG9zaWNpw7NuIHBhcmEgcXVlIGVsIG1vZGFsIHNlYSB2aXNpYmxlXG4gICAgICAgIHNldFBvc2l0aW9uKHtcbiAgICAgICAgICB4OiBNYXRoLm1pbihwYXlsb2FkLnBvc2l0aW9uLngsIHdpbmRvdy5pbm5lcldpZHRoIC0gMzUwKSxcbiAgICAgICAgICB5OiBNYXRoLm1pbihwYXlsb2FkLnBvc2l0aW9uLnksIHdpbmRvdy5pbm5lckhlaWdodCAtIDM1MClcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUmVzZXRlYXIgZXN0YWRvc1xuICAgICAgICBzZXRDaGF0TWVzc2FnZXMoW10pO1xuICAgICAgICBzZXRDaGF0SW5wdXQoJycpO1xuICAgICAgICBzZXRMYXN0QWN0aW9uSW5mbyhudWxsKTtcbiAgICAgICAgc2V0QWN0aW9uU3VjY2VzcyhudWxsKTtcbiAgICAgICAgc2V0VmlzaWJsZSh0cnVlKTtcblxuICAgICAgICAvLyBFbmZvY2FyIGVsIHRleHRhcmVhIGN1YW5kbyBlbCBtb2RhbCBzZSBhYnJlXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlmICh0ZXh0YXJlYVJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICB0ZXh0YXJlYVJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCAxMDApO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gTWFuZWphciBjbGljIGZ1ZXJhIGRlbCBtb2RhbCBwYXJhIGNlcnJhcmxvXG4gICAgY29uc3QgaGFuZGxlQ2xpY2tPdXRzaWRlID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICBpZiAobW9kYWxSZWYuY3VycmVudCAmJiAhbW9kYWxSZWYuY3VycmVudC5jb250YWlucyhldmVudC50YXJnZXQgYXMgTm9kZSkpIHtcbiAgICAgICAgc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVDbG9zZSA9ICgpID0+IHtcbiAgICBzZXRWaXNpYmxlKGZhbHNlKTtcbiAgfTtcblxuICAvLyBGdW5jacOzbiBwYXJhIGFncmVnYXIgdW5hIHRyYW5zaWNpw7NuIGFsIHZpZGVvXG4gIGNvbnN0IGFwcGx5VHJhbnNpdGlvbiA9IGFzeW5jICh0cmFuc2l0aW9uUGF0aDogc3RyaW5nKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGRldGFpbHM6IHN0cmluZyB9PiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIENhbGN1bGFyIHRpZW1wb3MgcGFyYSBsYSB0cmFuc2ljacOzblxuICAgICAgLy8gUG9yIGRlZmVjdG8sIHVzYXIgbGEgZHVyYWNpw7NuIGRlbCBlbGVtZW50byBzZWxlY2Npb25hZG9cbiAgICAgIGxldCBzdGFydFRpbWUgPSAwO1xuICAgICAgbGV0IGVuZFRpbWUgPSA1O1xuXG4gICAgICAvLyBPYnRlbmVyIGVsIENvbW1hbmRFeGVjdXRvclxuICAgICAgY29uc3QgY29tbWFuZEV4ZWN1dG9yID0gQ29tbWFuZEV4ZWN1dG9yU2VydmljZS5nZXRFeGVjdXRvcigpO1xuICAgICAgaWYgKCFjb21tYW5kRXhlY3V0b3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkNvbW1hbmRFeGVjdXRvciBubyBkaXNwb25pYmxlXCIpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGRldGFpbHM6IFwiQ29tbWFuZEV4ZWN1dG9yIG5vIGRpc3BvbmlibGVcIlxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvLyBTaSBoYXkgZWxlbWVudG9zIHNlbGVjY2lvbmFkb3MsIHVzYXIgc3VzIHRpZW1wb3NcbiAgICAgIGlmIChzZWxlY3RlZEl0ZW1zICYmIHNlbGVjdGVkSXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBPYnRlbmVyIGVsIHByaW1lciBlbGVtZW50byBzZWxlY2Npb25hZG9cbiAgICAgICAgY29uc3QgZmlyc3RJdGVtID0gc2VsZWN0ZWRJdGVtc1swXTtcblxuICAgICAgICAvLyBJbnRlbnRhciBvYnRlbmVyIGxvcyB0aWVtcG9zIGRlbCBlbGVtZW50b1xuICAgICAgICBpZiAoZmlyc3RJdGVtLmRpc3BsYXkpIHtcbiAgICAgICAgICBzdGFydFRpbWUgPSAoZmlyc3RJdGVtLmRpc3BsYXkuZnJvbSB8fCAwKSAvIDEwMDA7IC8vIGNvbnZlcnRpciBkZSBtcyBhIHNlZ3VuZG9zXG4gICAgICAgICAgZW5kVGltZSA9IChmaXJzdEl0ZW0uZGlzcGxheS50byB8fCAoc3RhcnRUaW1lICogMTAwMCArIDUwMDApKSAvIDEwMDA7IC8vIGNvbnZlcnRpciBkZSBtcyBhIHNlZ3VuZG9zXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUGFyYSBsb3MgYXJjaGl2b3MgQVBORywgdHJhdGFybG9zIGNvbW8gdmlkZW9zIGVuIHZleiBkZSBpbcOhZ2VuZXMgYW5pbWFkYXNcbiAgICAgIGNvbnN0IGlzQVBORyA9IHRyYW5zaXRpb25QYXRoLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoJy5hcG5nJyk7XG4gICAgICBjb25zdCBpc0dJRiA9IHRyYW5zaXRpb25QYXRoLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoJy5naWYnKTtcblxuICAgICAgaWYgKGlzQVBORykge1xuICAgICAgICAvLyBUcmF0YXIgQVBORyBjb21vIHZpZGVvIHBhcmEgbWFudGVuZXIgc3UgZHVyYWNpw7NuIHkgY29tcG9ydGFtaWVudG9cbiAgICAgICAgYXdhaXQgY29tbWFuZEV4ZWN1dG9yLmFkZFZpZGVvKHRyYW5zaXRpb25QYXRoLCB7XG4gICAgICAgICAgc3RhcnRUaW1lLFxuICAgICAgICAgIGVuZFRpbWUsXG4gICAgICAgICAgd2lkdGg6IDE5MjAsICAvLyBBbmNobyBwYXJhIGN1YnJpciBlbCBjYW52YXMgY29tcGxldG9cbiAgICAgICAgICBoZWlnaHQ6IDEwODAsIC8vIEFsdG8gcGFyYSBjdWJyaXIgZWwgY2FudmFzIGNvbXBsZXRvXG4gICAgICAgICAgcG9zaXRpb246IHsgeDogMC41LCB5OiAwLjUgfSAvLyBDZW50cmFkbyBlbiBwYW50YWxsYVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zb2xlLmxvZyhgVHJhbnNpY2nDs24gQVBORyBhw7FhZGlkYSBjb21vIHZpZGVvIGEgcGFudGFsbGEgY29tcGxldGEgZGVzZGUgJHtzdGFydFRpbWV9cyBoYXN0YSAke2VuZFRpbWV9c2ApO1xuICAgICAgfSBlbHNlIGlmIChpc0dJRikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIE5lY2VzaXRhbW9zIHBlcnNvbmFsaXphciBsYSBpbXBsZW1lbnRhY2nDs24gcGFyYSBhc2VndXJhciBxdWUgbGEgaW1hZ2VuIGFuaW1hZGEgY3VicmEgdG9kbyBlbCBjYW52YXNcbiAgICAgICAgICAvLyBVc2FuZG8gdW5hIGZvcm1hIGFsdGVybmF0aXZhIHBhcmEgYcOxYWRpciBsYSBpbWFnZW4gcXVlIGVzcGVjaWZpY2EgZGlyZWN0YW1lbnRlIGVsIG1vZG8gXCJjb3ZlclwiXG5cbiAgICAgICAgICAvLyBDcmVhciBwYXlsb2FkIHBhcmEgbGEgaW1hZ2VuIGRlIHRyYW5zaWNpw7NuXG4gICAgICAgICAgY29uc3QgdHJhbnNpdGlvblBheWxvYWQgPSB7XG4gICAgICAgICAgICBpZDogZ2VuZXJhdGVJZCgpLFxuICAgICAgICAgICAgZGlzcGxheToge1xuICAgICAgICAgICAgICBmcm9tOiBzdGFydFRpbWUgKiAxMDAwLCAvLyBDb252ZXJ0aXIgYSBtaWxpc2VndW5kb3NcbiAgICAgICAgICAgICAgdG86IGVuZFRpbWUgKiAxMDAwICAgICAvLyBDb252ZXJ0aXIgYSBtaWxpc2VndW5kb3NcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0eXBlOiAnaW1hZ2UnLFxuICAgICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgICBzcmM6IHRyYW5zaXRpb25QYXRoLFxuICAgICAgICAgICAgICB3aWR0aDogMTkyMCwgLy8gVXNhciBkaW1lbnNpw7NuIGFuY2hhXG4gICAgICAgICAgICAgIGhlaWdodDogMTA4MCwgLy8gVXNhciBkaW1lbnNpw7NuIGFsdGFcbiAgICAgICAgICAgICAgb3BhY2l0eTogMTAwLFxuICAgICAgICAgICAgICBzY2FsZU1vZGU6IFwiY292ZXJcIiwgLy8gVXNhciBcImNvdmVyXCIgZW4gbHVnYXIgZGUgXCJmaXRcIiBwYXJhIGFzZWd1cmFyIHF1ZSBjdWJyYSB0b2RvXG4gICAgICAgICAgICAgIGxlZnQ6IDAuNSwgLy8gQ2VudHJhZG8gaG9yaXpvbnRhbG1lbnRlXG4gICAgICAgICAgICAgIHRvcDogMC41LCAgLy8gQ2VudHJhZG8gdmVydGljYWxtZW50ZVxuICAgICAgICAgICAgICBvcmlnaW5YOiBcImNlbnRlclwiLCAvLyBPcmlnZW4gZW4gZWwgY2VudHJvXG4gICAgICAgICAgICAgIG9yaWdpblk6IFwiY2VudGVyXCIsIC8vIE9yaWdlbiBlbiBlbCBjZW50cm9cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIFVzYXIgZGlzcGF0Y2ggZGlyZWN0YW1lbnRlIHBhcmEgdGVuZXIgbcOhcyBjb250cm9sIHNvYnJlIGxhcyBvcGNpb25lc1xuICAgICAgICAgIGRpc3BhdGNoKEFERF9JTUFHRSwge1xuICAgICAgICAgICAgcGF5bG9hZDogdHJhbnNpdGlvblBheWxvYWQsXG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgIHNjYWxlTW9kZTogXCJjb3ZlclwiLCAvLyBBc2VndXJhciBtb2RvIGNvdmVyIHRhbWJpw6luIGVuIGxhcyBvcGNpb25lc1xuICAgICAgICAgICAgICBwb3NpdGlvbjogeyB4OiAwLjUsIHk6IDAuNSB9LCAvLyBDZW50cmFyXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY29uc29sZS5sb2coYFRyYW5zaWNpw7NuIEdJRiBhw7FhZGlkYSBhIHBhbnRhbGxhIGNvbXBsZXRhIGNvbiBtb2RvICdjb3ZlcicgZGVzZGUgJHtzdGFydFRpbWV9cyBoYXN0YSAke2VuZFRpbWV9c2ApO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGFsIGFwbGljYXIgdHJhbnNpY2nDs24gYW5pbWFkYTpgLCBlcnJvcik7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFBhcmEgdmlkZW9zIChNUDQsIGV0Yy4pLCBzZWd1aW1vcyB1c2FuZG8gYWRkVmlkZW9cbiAgICAgICAgYXdhaXQgY29tbWFuZEV4ZWN1dG9yLmFkZFZpZGVvKHRyYW5zaXRpb25QYXRoLCB7XG4gICAgICAgICAgc3RhcnRUaW1lLFxuICAgICAgICAgIGVuZFRpbWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coYFRyYW5zaWNpw7NuIGRlIHZpZGVvIGHDsWFkaWRhIGRlc2RlICR7c3RhcnRUaW1lfXMgaGFzdGEgJHtlbmRUaW1lfXNgKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVnaXN0cmFyIGxhIHRyYW5zaWNpw7NuIGHDsWFkaWRhXG4gICAgICBzZXRBZGRlZFRyYW5zaXRpb25zKHByZXYgPT4gWy4uLnByZXYsIHRyYW5zaXRpb25QYXRoXSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRldGFpbHM6IGBUcmFuc2ljacOzbiBhcGxpY2FkYSBkZXNkZSAke3N0YXJ0VGltZS50b0ZpeGVkKDEpfXMgaGFzdGEgJHtlbmRUaW1lLnRvRml4ZWQoMSl9c2BcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhbCBhw7FhZGlyIHRyYW5zaWNpw7NuOlwiLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZGV0YWlsczogYEVycm9yIGFsIGHDsWFkaXIgdHJhbnNpY2nDs246ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWBcbiAgICAgIH07XG4gICAgfVxuICB9O1xuXG4gIC8vIEZ1bmNpw7NuIHBhcmEgZW52aWFyIHVuIG1lbnNhamUgeSBwcm9jZXNhcmxvIHNpbiBtb3N0cmFyIGNoYXRcbiAgY29uc3Qgc2VuZENvbW1hbmQgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFjaGF0SW5wdXQudHJpbSgpKSByZXR1cm47XG5cbiAgICBjb25zdCB1c2VyTWVzc2FnZTogQ2hhdE1lc3NhZ2UgPSB7XG4gICAgICByb2xlOiAndXNlcicsXG4gICAgICBjb250ZW50OiBjaGF0SW5wdXQsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICB9O1xuXG4gICAgLy8gQcOxYWRpciBlbCBtZW5zYWplIGRlbCB1c3VhcmlvIGFsIGNoYXQgaW50ZXJubyAocGFyYSBsw7NnaWNhLCBubyBzZSBtdWVzdHJhKVxuICAgIHNldENoYXRNZXNzYWdlcyhbLi4uY2hhdE1lc3NhZ2VzLCB1c2VyTWVzc2FnZV0pO1xuICAgIHNldENoYXRJbnB1dCgnJyk7XG4gICAgc2V0SXNTZW5kaW5nKHRydWUpO1xuICAgIHNldExhc3RBY3Rpb25JbmZvKG51bGwpO1xuICAgIHNldFNob3dBY3Rpb25JbmZvKGZhbHNlKTtcbiAgICBzZXRBY3Rpb25TdWNjZXNzKG51bGwpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIEVudmlhciBlbCBtZW5zYWplIGEgbGEgQVBJXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEFJU2VydmljZS5zZW5kQ2hhdE1lc3NhZ2Uoe1xuICAgICAgICBtZXNzYWdlOiBjaGF0SW5wdXQsXG4gICAgICAgIHNlbGVjdGVkSXRlbXM6IHNlbGVjdGVkSXRlbXNcbiAgICAgIH0pO1xuXG4gICAgICBpZiAocmVzcG9uc2Uuc3VjY2VzcyAmJiByZXNwb25zZS5yZXNwb25zZSkge1xuICAgICAgICBsZXQgYWN0aW9uU3VjY2Vzc2Z1bCA9IHRydWU7IC8vIFBvciBkZWZlY3RvIGFzdW1pbW9zIMOpeGl0b1xuICAgICAgICBsZXQgb3BlcmF0aW9uRGV0YWlscyA9ICcnO1xuICAgICAgICBsZXQgc2NyZWVuc2hvdFRvQWRkID0gbnVsbDtcbiAgICAgICAgbGV0IGRldGVjdGlvbkluZm8gPSBudWxsO1xuICAgICAgICBsZXQgc3RhcnRUaW1lID0gMDtcbiAgICAgICAgbGV0IGVuZFRpbWUgPSA1O1xuICAgICAgICBsZXQgYWN0aW9uRGV0ZWN0ZWQgPSBmYWxzZTtcblxuICAgICAgICAvLyBWZXJpZmljYXIgc2kgZGViZW1vcyBhcGxpY2FyIHVuYSB0cmFuc2ljacOzblxuICAgICAgICBpZiAocmVzcG9uc2UuYXBwbHlUcmFuc2l0aW9uRGV0ZWN0aW9uPy5kZXRlY3RlZCAmJlxuICAgICAgICAgICAgcmVzcG9uc2UuYXBwbHlUcmFuc2l0aW9uRGV0ZWN0aW9uLmNvbmZpZGVuY2UgPiAwLjIgJiZcbiAgICAgICAgICAgIHJlc3BvbnNlLmFwcGx5VHJhbnNpdGlvbkRldGVjdGlvbi50cmFuc2l0aW9uUGF0aCkge1xuXG4gICAgICAgICAgYWN0aW9uRGV0ZWN0ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgLy8gQXBsaWNhciBsYSB0cmFuc2ljacOzblxuICAgICAgICAgIGNvbnN0IHRyYW5zaXRpb25SZXN1bHQgPSBhd2FpdCBhcHBseVRyYW5zaXRpb24ocmVzcG9uc2UuYXBwbHlUcmFuc2l0aW9uRGV0ZWN0aW9uLnRyYW5zaXRpb25QYXRoKTtcblxuICAgICAgICAgIGFjdGlvblN1Y2Nlc3NmdWwgPSB0cmFuc2l0aW9uUmVzdWx0LnN1Y2Nlc3M7XG4gICAgICAgICAgb3BlcmF0aW9uRGV0YWlscyA9IHRyYW5zaXRpb25SZXN1bHQuZGV0YWlscztcblxuICAgICAgICAgIC8vIERldGFsbGVzIGRlIGxhIGRldGVjY2nDs24gcGFyYSByZWZlcmVuY2lhclxuICAgICAgICAgIGRldGVjdGlvbkluZm8gPSB7XG4gICAgICAgICAgICBkZXRlY3RlZDogcmVzcG9uc2UuYXBwbHlUcmFuc2l0aW9uRGV0ZWN0aW9uLmRldGVjdGVkLFxuICAgICAgICAgICAgY29uZmlkZW5jZTogcmVzcG9uc2UuYXBwbHlUcmFuc2l0aW9uRGV0ZWN0aW9uLmNvbmZpZGVuY2UsXG4gICAgICAgICAgICByZWFzb246IHJlc3BvbnNlLmFwcGx5VHJhbnNpdGlvbkRldGVjdGlvbi5yZWFzb25cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIFZlcmlmaWNhciBzaSBkZWJlbW9zIGFwbGljYXIgdW5hIGNhcHR1cmEgZGUgcGFudGFsbGEgYSBsYSB0aW1lbGluZVxuICAgICAgICBlbHNlIGlmIChyZXNwb25zZS5zaG93U2NyZWVuc2hvdERldGVjdGlvbiAmJlxuICAgICAgICAgICAgcmVzcG9uc2UudXJsQW5hbHlzaXM/LmNvbnRhaW5zVVJMcyAmJlxuICAgICAgICAgICAgcmVzcG9uc2UudXJsQW5hbHlzaXMuc2NyZWVuc2hvdHMgJiZcbiAgICAgICAgICAgIHJlc3BvbnNlLnVybEFuYWx5c2lzLnNjcmVlbnNob3RzLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgIC8vIENvbXByb2JhciBzaSBsYSBkZXRlY2Npw7NuIGVzIHBvc2l0aXZhIGNvbiBjb25maWFuemEgc3VmaWNpZW50ZVxuICAgICAgICAgIGlmIChyZXNwb25zZS5zaG93U2NyZWVuc2hvdERldGVjdGlvbi5kZXRlY3RlZCAmJlxuICAgICAgICAgICAgICByZXNwb25zZS5zaG93U2NyZWVuc2hvdERldGVjdGlvbi5jb25maWRlbmNlID4gMC4yKSB7XG5cbiAgICAgICAgICAgIGFjdGlvbkRldGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIFNlbGVjY2lvbmFyIGxhIHByaW1lcmEgY2FwdHVyYSBkaXNwb25pYmxlXG4gICAgICAgICAgICBjb25zdCBmaXJzdFNjcmVlbnNob3QgPSByZXNwb25zZS51cmxBbmFseXNpcy5zY3JlZW5zaG90c1swXTtcbiAgICAgICAgICAgIHNjcmVlbnNob3RUb0FkZCA9IGZpcnN0U2NyZWVuc2hvdDtcblxuICAgICAgICAgICAgLy8gR3VhcmRhciBpbmZvcm1hY2nDs24gZGUgZGV0ZWNjacOzblxuICAgICAgICAgICAgZGV0ZWN0aW9uSW5mbyA9IHtcbiAgICAgICAgICAgICAgZGV0ZWN0ZWQ6IHJlc3BvbnNlLnNob3dTY3JlZW5zaG90RGV0ZWN0aW9uLmRldGVjdGVkLFxuICAgICAgICAgICAgICBjb25maWRlbmNlOiByZXNwb25zZS5zaG93U2NyZWVuc2hvdERldGVjdGlvbi5jb25maWRlbmNlLFxuICAgICAgICAgICAgICByZWFzb246IHJlc3BvbnNlLnNob3dTY3JlZW5zaG90RGV0ZWN0aW9uLnJlYXNvblxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gQ2FsY3VsYXIgdGllbXBvcyBwYXJhIGxhIGltYWdlblxuICAgICAgICAgICAgLy8gUG9yIGRlZmVjdG8sIHVzYXIgbGEgZHVyYWNpw7NuIGRlbCBlbGVtZW50byBzZWxlY2Npb25hZG9cbiAgICAgICAgICAgIHN0YXJ0VGltZSA9IDA7XG4gICAgICAgICAgICBlbmRUaW1lID0gNTtcblxuICAgICAgICAgICAgLy8gQcOxYWRpciBsYSBjYXB0dXJhIGEgbGEgdGltZWxpbmUgdXRpbGl6YW5kbyBlbCBDb21tYW5kRXhlY3V0b3JTZXJ2aWNlXG4gICAgICAgICAgICBjb25zdCBjb21tYW5kRXhlY3V0b3IgPSBDb21tYW5kRXhlY3V0b3JTZXJ2aWNlLmdldEV4ZWN1dG9yKCk7XG4gICAgICAgICAgICBpZiAoY29tbWFuZEV4ZWN1dG9yKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gU2kgaGF5IGVsZW1lbnRvcyBzZWxlY2Npb25hZG9zLCB1c2FyIHN1cyB0aWVtcG9zXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkSXRlbXMgJiYgc2VsZWN0ZWRJdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAvLyBPYnRlbmVyIGVsIHByaW1lciBlbGVtZW50byBzZWxlY2Npb25hZG9cbiAgICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0SXRlbSA9IHNlbGVjdGVkSXRlbXNbMF07XG5cbiAgICAgICAgICAgICAgICAgIC8vIEludGVudGFyIG9idGVuZXIgbG9zIHRpZW1wb3MgZGVsIGVsZW1lbnRvXG4gICAgICAgICAgICAgICAgICBpZiAoZmlyc3RJdGVtLmRpc3BsYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lID0gKGZpcnN0SXRlbS5kaXNwbGF5LmZyb20gfHwgMCkgLyAxMDAwOyAvLyBjb252ZXJ0aXIgZGUgbXMgYSBzZWd1bmRvc1xuICAgICAgICAgICAgICAgICAgICBlbmRUaW1lID0gKGZpcnN0SXRlbS5kaXNwbGF5LnRvIHx8IChzdGFydFRpbWUgKiAxMDAwICsgNTAwMCkpIC8gMTAwMDsgLy8gY29udmVydGlyIGRlIG1zIGEgc2VndW5kb3NcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBBw7FhZGlyIGxhIGltYWdlbiBhIGxhIHRpbWVsaW5lXG4gICAgICAgICAgICAgICAgYXdhaXQgY29tbWFuZEV4ZWN1dG9yLmFkZEltYWdlKGZpcnN0U2NyZWVuc2hvdC5zY3JlZW5zaG90UGF0aCwge1xuICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgICAgZW5kVGltZVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gUmVnaXN0cmFyIGxhIGNhcHR1cmEgYcOxYWRpZGFcbiAgICAgICAgICAgICAgICBzZXRBZGRlZFNjcmVlbnNob3RzKHByZXYgPT4gWy4uLnByZXYsIGZpcnN0U2NyZWVuc2hvdF0pO1xuXG4gICAgICAgICAgICAgICAgLy8gRGV0YWxsZXMgZGUgbGEgb3BlcmFjacOzblxuICAgICAgICAgICAgICAgIG9wZXJhdGlvbkRldGFpbHMgPSBgQ2FwdHVyYSBhcGxpY2FkYSBhIGxhIHRpbWVsaW5lIGRlc2RlICR7c3RhcnRUaW1lLnRvRml4ZWQoMSl9cyBoYXN0YSAke2VuZFRpbWUudG9GaXhlZCgxKX1zYDtcblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBJbWFnZW4gYcOxYWRpZGEgYSBsYSB0aW1lbGluZSBkZXNkZSAke3N0YXJ0VGltZX1zIGhhc3RhICR7ZW5kVGltZX1zOiAke2ZpcnN0U2NyZWVuc2hvdC5zY3JlZW5zaG90UGF0aH1gKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWwgYcOxYWRpciBpbWFnZW4gYSBsYSB0aW1lbGluZTpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIGFjdGlvblN1Y2Nlc3NmdWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBvcGVyYXRpb25EZXRhaWxzID0gYEVycm9yIGFsIGHDsWFkaXIgaW1hZ2VuOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQ29tbWFuZEV4ZWN1dG9yIG5vIGRpc3BvbmlibGVcIik7XG4gICAgICAgICAgICAgIGFjdGlvblN1Y2Nlc3NmdWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgb3BlcmF0aW9uRGV0YWlscyA9IFwiQ29tbWFuZEV4ZWN1dG9yIG5vIGRpc3BvbmlibGVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFc3RhYmxlY2VyIGVzdGFkbyBmaW5hbCBzZWfDum4gZWwgcmVzdWx0YWRvXG4gICAgICAgIHNldEFjdGlvblN1Y2Nlc3MoYWN0aW9uU3VjY2Vzc2Z1bCk7XG5cbiAgICAgICAgLy8gQ29tcG9uZXIgZWwgbWVuc2FqZSBpbmZvcm1hdGl2b1xuICAgICAgICBsZXQgYWN0aW9uTWVzc2FnZTtcbiAgICAgICAgaWYgKGFjdGlvbkRldGVjdGVkKSB7XG4gICAgICAgICAgLy8gU2kgc2UgZGV0ZWN0w7MgdW5hIGFjY2nDs24gZXNwZWPDrWZpY2EgKGNvbW8gYWdyZWdhciBjYXB0dXJhIG8gdHJhbnNpY2nDs24pXG4gICAgICAgICAgYWN0aW9uTWVzc2FnZSA9IGFjdGlvblN1Y2Nlc3NmdWxcbiAgICAgICAgICAgID8gKHNjcmVlbnNob3RUb0FkZFxuICAgICAgICAgICAgICAgPyBg4pyoICR7b3BlcmF0aW9uRGV0YWlscyB8fCAnQ2FwdHVyYSBhcGxpY2FkYSBjb3JyZWN0YW1lbnRlJ31gXG4gICAgICAgICAgICAgICA6IGDinKggJHtvcGVyYXRpb25EZXRhaWxzIHx8ICdUcmFuc2ljacOzbiBhcGxpY2FkYSBjb3JyZWN0YW1lbnRlJ31gKVxuICAgICAgICAgICAgOiBg4p2MIEVycm9yOiAke29wZXJhdGlvbkRldGFpbHMgfHwgJ05vIHNlIHB1ZG8gY29tcGxldGFyIGxhIG9wZXJhY2nDs24uJ31gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFNpIG5vIHNlIGRldGVjdMOzIG5pbmd1bmEgYWNjacOzbiBlc3BlY8OtZmljYSwgbW9zdHJhciB1biBtZW5zYWplIHByZWRldGVybWluYWRvXG4gICAgICAgICAgYWN0aW9uTWVzc2FnZSA9IFwi4oS577iPIEVzdGEgw6FyZWEgZXMgcGFyYSBlamVjdXRhciBhY2Npb25lcyBlc3BlY8OtZmljYXMgZW4gbGEgdGltZWxpbmUuIFNpIGRlc2VhcyBjb252ZXJzYXIsIHBvciBmYXZvciB1dGlsaXphIGVsIGNoYXQuXCI7XG4gICAgICAgICAgc2V0QWN0aW9uU3VjY2VzcyhudWxsKTsgLy8gTmV1dHJvLCBuaSDDqXhpdG8gbmkgZXJyb3JcbiAgICAgICAgfVxuXG4gICAgICAgIHNldExhc3RBY3Rpb25JbmZvKGFjdGlvbk1lc3NhZ2UpO1xuICAgICAgICBzZXRTaG93QWN0aW9uSW5mbyh0cnVlKTtcblxuICAgICAgICAvLyBBw7FhZGlyIGxhIHJlc3B1ZXN0YSBkZWwgYXNpc3RlbnRlIGFsIGNoYXQgaW50ZXJubyAobm8gc2UgbXVlc3RyYSlcbiAgICAgICAgY29uc3QgYXNzaXN0YW50TWVzc2FnZTogQ2hhdE1lc3NhZ2UgPSB7XG4gICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgY29udGVudDogcmVzcG9uc2UucmVzcG9uc2UgKyAoYWN0aW9uRGV0ZWN0ZWQgJiYgYWN0aW9uU3VjY2Vzc2Z1bFxuICAgICAgICAgICAgPyAoc2NyZWVuc2hvdFRvQWRkXG4gICAgICAgICAgICAgID8gYFxcblxcbuKchSAqKkNhcHR1cmEgZGUgcGFudGFsbGEgYXBsaWNhZGEgYSBsYSB0aW1lbGluZSoqXFxuLSBVUkw6ICR7c2NyZWVuc2hvdFRvQWRkLnVybH1cXG4tIFRpZW1wbzogZGVzZGUgJHtzdGFydFRpbWV9cyBoYXN0YSAke2VuZFRpbWV9c1xcbi0gQ29uZmlhbnphOiAke01hdGgucm91bmQoZGV0ZWN0aW9uSW5mbz8uY29uZmlkZW5jZSAqIDEwMCl9JWBcbiAgICAgICAgICAgICAgOiBgXFxuXFxu4pyFICoqVHJhbnNpY2nDs24gYXBsaWNhZGEgYSBsYSB0aW1lbGluZSoqXFxuLSBUaWVtcG86IGRlc2RlICR7c3RhcnRUaW1lfXMgaGFzdGEgJHtlbmRUaW1lfXNcXG4tIENvbmZpYW56YTogJHtNYXRoLnJvdW5kKGRldGVjdGlvbkluZm8/LmNvbmZpZGVuY2UgKiAxMDApfSVgKVxuICAgICAgICAgICAgOiAnJyksXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIGRldGVjdGlvbkluZm86IGRldGVjdGlvbkluZm9cbiAgICAgICAgfTtcbiAgICAgICAgc2V0Q2hhdE1lc3NhZ2VzKHByZXZNZXNzYWdlcyA9PiBbLi4ucHJldk1lc3NhZ2VzLCBhc3Npc3RhbnRNZXNzYWdlXSk7XG5cbiAgICAgICAgLy8gT2N1bHRhciBsYSBpbmZvcm1hY2nDs24gZGUgYWNjacOzbiBkZXNwdcOpcyBkZSA0IHNlZ3VuZG9zXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHNldFNob3dBY3Rpb25JbmZvKGZhbHNlKTtcbiAgICAgICAgfSwgNDAwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBNb3N0cmFyIG1lbnNhamUgZGUgZXJyb3IgYnJldmVtZW50ZVxuICAgICAgICBzZXRBY3Rpb25TdWNjZXNzKGZhbHNlKTtcbiAgICAgICAgc2V0TGFzdEFjdGlvbkluZm8oYOKdjCBFcnJvcjogJHtyZXNwb25zZS5lcnJvciB8fCAnTm8gc2UgcHVkbyBwcm9jZXNhciB0dSBtZW5zYWplLid9YCk7XG4gICAgICAgIHNldFNob3dBY3Rpb25JbmZvKHRydWUpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBzZXRTaG93QWN0aW9uSW5mbyhmYWxzZSk7XG4gICAgICAgIH0sIDMwMDApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBlbnZpYXIgbWVuc2FqZTonLCBlcnJvcik7XG4gICAgICAvLyBNb3N0cmFyIG1lbnNhamUgZGUgZXJyb3IgYnJldmVtZW50ZVxuICAgICAgc2V0QWN0aW9uU3VjY2VzcyhmYWxzZSk7XG4gICAgICBzZXRMYXN0QWN0aW9uSW5mbyhg4p2MIEVycm9yOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0Vycm9yIGRlIGNvbXVuaWNhY2nDs24gY29uIGVsIHNlcnZpY2lvIGRlIElBLid9YCk7XG4gICAgICBzZXRTaG93QWN0aW9uSW5mbyh0cnVlKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzZXRTaG93QWN0aW9uSW5mbyhmYWxzZSk7XG4gICAgICB9LCAzMDAwKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNTZW5kaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRnVuY2nDs24gcGFyYSBtYW5lamFyIGVsIGVudsOtbyBkZWwgbWVuc2FqZSBjb24gRW50ZXJcbiAgY29uc3QgaGFuZGxlS2V5UHJlc3MgPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudDxIVE1MVGV4dEFyZWFFbGVtZW50PikgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgc2VuZENvbW1hbmQoKTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKCF2aXNpYmxlKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHJlZj17bW9kYWxSZWZ9XG4gICAgICBzdHlsZT17e1xuICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgICAgbGVmdDogcG9zaXRpb24ueCxcbiAgICAgICAgdG9wOiBwb3NpdGlvbi55LFxuICAgICAgICB6SW5kZXg6IDk5OTksXG4gICAgICAgIGJhY2tncm91bmQ6ICdsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2JhKDM1LCAyMCwgNjAsIDAuOTUpIDAlLCByZ2JhKDQ1LCAyNSwgODUsIDAuOTUpIDEwMCUpJyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnMTJweCcsXG4gICAgICAgIGJveFNoYWRvdzogJzAgOHB4IDMycHggcmdiYSgwLCAwLCAwLCAwLjYpLCAwIDAgMCAxcHggcmdiYSgxNTYsIDkwLCAyNTAsIDAuMyknLFxuICAgICAgICBwYWRkaW5nOiAnMjBweCcsXG4gICAgICAgIHdpZHRoOiAnMzgwcHgnLFxuICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgZm9udEZhbWlseTogJ0ludGVyLCBzeXN0ZW0tdWksIHNhbnMtc2VyaWYnLFxuICAgICAgICBib3JkZXI6ICcxcHggc29saWQgcmdiYSgxNTYsIDkwLCAyNTAsIDAuNiknLFxuICAgICAgICBiYWNrZHJvcEZpbHRlcjogJ2JsdXIoMTBweCknLFxuICAgICAgICBhbmltYXRpb246ICdmYWRlSW4gMC4zcyBlYXNlJyxcbiAgICAgIH19XG4gICAgPlxuICAgICAgPHN0eWxlPlxuICAgICAgICB7YFxuICAgICAgICAgIEBrZXlmcmFtZXMgZmFkZUluIHtcbiAgICAgICAgICAgIGZyb20geyBvcGFjaXR5OiAwOyB0cmFuc2Zvcm06IHNjYWxlKDAuOTUpOyB9XG4gICAgICAgICAgICB0byB7IG9wYWNpdHk6IDE7IHRyYW5zZm9ybTogc2NhbGUoMSk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgQGtleWZyYW1lcyBwdWxzZSB7XG4gICAgICAgICAgICAwJSB7IGJveC1zaGFkb3c6IDAgMCAwIDAgcmdiYSgxNTYsIDkwLCAyNTAsIDAuNSk7IH1cbiAgICAgICAgICAgIDcwJSB7IGJveC1zaGFkb3c6IDAgMCAwIDEwcHggcmdiYSgxNTYsIDkwLCAyNTAsIDApOyB9XG4gICAgICAgICAgICAxMDAlIHsgYm94LXNoYWRvdzogMCAwIDAgMCByZ2JhKDE1NiwgOTAsIDI1MCwgMCk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgQGtleWZyYW1lcyBnbG93IHtcbiAgICAgICAgICAgIDAlIHsgYm9yZGVyLWNvbG9yOiByZ2JhKDE1NiwgOTAsIDI1MCwgMC42KTsgfVxuICAgICAgICAgICAgNTAlIHsgYm9yZGVyLWNvbG9yOiByZ2JhKDE1NiwgOTAsIDI1MCwgMC45KTsgfVxuICAgICAgICAgICAgMTAwJSB7IGJvcmRlci1jb2xvcjogcmdiYSgxNTYsIDkwLCAyNTAsIDAuNik7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgQGtleWZyYW1lcyBzcGluIHtcbiAgICAgICAgICAgIDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH1cbiAgICAgICAgICAgIDEwMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9XG4gICAgICAgICAgfVxuICAgICAgICBgfVxuICAgICAgPC9zdHlsZT5cblxuICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICBtYXJnaW5Cb3R0b206ICcxNnB4JyxcbiAgICAgICAgYm9yZGVyQm90dG9tOiAnMXB4IHNvbGlkIHJnYmEoMTU2LCA5MCwgMjUwLCAwLjQpJyxcbiAgICAgICAgcGFkZGluZ0JvdHRvbTogJzEycHgnLFxuICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICAgICAgfX0+XG4gICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICBib3R0b206ICctMXB4JyxcbiAgICAgICAgICBsZWZ0OiAnMCcsXG4gICAgICAgICAgd2lkdGg6ICc2MCUnLFxuICAgICAgICAgIGhlaWdodDogJzFweCcsXG4gICAgICAgICAgYmFja2dyb3VuZDogJ2xpbmVhci1ncmFkaWVudCg5MGRlZywgcmdiYSgxNTYsIDkwLCAyNTAsIDAuOCkgMCUsIHJnYmEoMTU2LCA5MCwgMjUwLCAwKSAxMDAlKScsXG4gICAgICAgICAgYW5pbWF0aW9uOiAnZ2xvdyAxLjVzIGluZmluaXRlIGFsdGVybmF0ZSdcbiAgICAgICAgfX0+PC9kaXY+XG5cbiAgICAgICAgPGgzIHN0eWxlPXt7XG4gICAgICAgICAgbWFyZ2luOiAwLFxuICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXG4gICAgICAgICAgZm9udFdlaWdodDogJzYwMCcsXG4gICAgICAgICAgY29sb3I6ICdyZ2JhKDE1NiwgOTAsIDI1MCwgMS4wKScsXG4gICAgICAgICAgdGV4dFNoYWRvdzogJzAgMnB4IDRweCByZ2JhKDAsMCwwLDAuMyknXG4gICAgICAgIH19PlxuICAgICAgICAgIHtzZWxlY3RlZEl0ZW1zLmxlbmd0aCA+IDEgPyBgJHtzZWxlY3RlZEl0ZW1zLmxlbmd0aH0gZWxlbWVudG9zIHNlbGVjY2lvbmFkb3NgIDogJ0VsZW1lbnRvIHNlbGVjY2lvbmFkbyd9XG4gICAgICAgIDwvaDM+XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6ICc4cHgnIH19PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17aGFuZGxlQ2xvc2V9XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3JnYmEoMTU2LCA5MCwgMjUwLCAwLjIpJyxcbiAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc1MCUnLFxuICAgICAgICAgICAgICBjb2xvcjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC45KScsXG4gICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcbiAgICAgICAgICAgICAgcGFkZGluZzogJzVweCcsXG4gICAgICAgICAgICAgIHdpZHRoOiAnMjRweCcsXG4gICAgICAgICAgICAgIGhlaWdodDogJzI0cHgnLFxuICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgICAgICBsaW5lSGVpZ2h0OiAnMScsXG4gICAgICAgICAgICAgIHRyYW5zaXRpb246ICdhbGwgMC4ycyBlYXNlJyxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBvbk1vdXNlT3Zlcj17KGUpID0+IHtcbiAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSAncmdiYSgxNTYsIDkwLCAyNTAsIDAuNCknO1xuICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlKDEuMSknO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uTW91c2VPdXQ9eyhlKSA9PiB7XG4gICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JnYmEoMTU2LCA5MCwgMjUwLCAwLjIpJztcbiAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZSgxKSc7XG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIMOXXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7Lyogw4FyZWEgZGUgY29tYW5kby9mb3JtdWxhcmlvICovfVxuICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Ub3A6ICcxMnB4JywgbWFyZ2luQm90dG9tOiAnMTZweCcgfX0+XG4gICAgICAgIHtzaG93QWN0aW9uSW5mbyAmJiBsYXN0QWN0aW9uSW5mbyAmJiAoXG4gICAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgICAgcGFkZGluZzogJzEycHgnLFxuICAgICAgICAgICAgbWFyZ2luQm90dG9tOiAnMTZweCcsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBhY3Rpb25TdWNjZXNzID09PSBmYWxzZVxuICAgICAgICAgICAgICA/ICdsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsIHJnYmEoMjIwLCA1MCwgNTAsIDAuMTUpLCByZ2JhKDIyMCwgNTAsIDUwLCAwLjA1KSknXG4gICAgICAgICAgICAgIDogYWN0aW9uU3VjY2VzcyA9PT0gdHJ1ZVxuICAgICAgICAgICAgICAgID8gJ2xpbmVhci1ncmFkaWVudCh0byByaWdodCwgcmdiYSg3MCwgMjAwLCAxMjAsIDAuMTUpLCByZ2JhKDcwLCAyMDAsIDEyMCwgMC4wNSkpJ1xuICAgICAgICAgICAgICAgIDogJ2xpbmVhci1ncmFkaWVudCh0byByaWdodCwgcmdiYSgxNTYsIDkwLCAyNTAsIDAuMTUpLCByZ2JhKDE1NiwgOTAsIDI1MCwgMC4wNSkpJyxcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgICAgICAgICAgYm9yZGVyOiBgMXB4IHNvbGlkICR7YWN0aW9uU3VjY2VzcyA9PT0gZmFsc2VcbiAgICAgICAgICAgICAgPyAncmdiYSgyMjAsIDUwLCA1MCwgMC4zKSdcbiAgICAgICAgICAgICAgOiBhY3Rpb25TdWNjZXNzID09PSB0cnVlXG4gICAgICAgICAgICAgICAgPyAncmdiYSg3MCwgMjAwLCAxMjAsIDAuMyknXG4gICAgICAgICAgICAgICAgOiAncmdiYSgxNTYsIDkwLCAyNTAsIDAuMyknfWAsXG4gICAgICAgICAgICBib3hTaGFkb3c6ICcwIDJweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4xKScsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiAnYWxsIDAuM3MgZWFzZScsXG4gICAgICAgICAgICBhbmltYXRpb246IGFjdGlvblN1Y2Nlc3MgPyAncHVsc2UgMnMgaW5maW5pdGUnIDogJycsXG4gICAgICAgICAgICBjb2xvcjogYWN0aW9uU3VjY2VzcyA9PT0gZmFsc2VcbiAgICAgICAgICAgICAgPyAncmdiYSgyNTUsIDIyMCwgMjIwLCAwLjkpJ1xuICAgICAgICAgICAgICA6IGFjdGlvblN1Y2Nlc3MgPT09IHRydWVcbiAgICAgICAgICAgICAgICA/ICdyZ2JhKDIyMCwgMjU1LCAyMzAsIDAuOSknXG4gICAgICAgICAgICAgICAgOiAncmdiYSgyNDAsIDIzMCwgMjU1LCAwLjkpJyxcbiAgICAgICAgICB9fT5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnZmxleC1zdGFydCcsXG4gICAgICAgICAgICAgIGdhcDogJzhweCcsXG4gICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICAgICAgICAgICAgbWFyZ2luVG9wOiAnMnB4J1xuICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICB7YWN0aW9uU3VjY2VzcyA9PT0gZmFsc2VcbiAgICAgICAgICAgICAgICAgID8gJ+KdjCdcbiAgICAgICAgICAgICAgICAgIDogYWN0aW9uU3VjY2VzcyA9PT0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICA/ICfinKgnXG4gICAgICAgICAgICAgICAgICAgIDogJ+KEue+4jyd9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdj57bGFzdEFjdGlvbkluZm99PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgICBnYXA6ICcxMnB4JyxcbiAgICAgICAgICBib3JkZXJUb3A6ICcxcHggc29saWQgcmdiYSgxNTYsIDkwLCAyNTAsIDAuMiknLFxuICAgICAgICAgIHBhZGRpbmdUb3A6ICcxNnB4JyxcbiAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICAgICAgICB9fT5cbiAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgIHJlZj17dGV4dGFyZWFSZWZ9XG4gICAgICAgICAgICB2YWx1ZT17Y2hhdElucHV0fVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRDaGF0SW5wdXQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgb25LZXlEb3duPXtoYW5kbGVLZXlQcmVzc31cbiAgICAgICAgICAgIGRpc2FibGVkPXtpc1NlbmRpbmd9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVzY3JpYmUgdW4gY29tYW5kby4uLiAoZWo6ICdhcGxpY2EgY2FwdHVyYSBhIGxhIHRpbWVsaW5lJyBvICdhw7FhZGUgdHJhbnNpY2nDs24nKVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICBoZWlnaHQ6ICc4MHB4JyxcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3JnYmEoMzAsIDE1LCA1MCwgMC41KScsXG4gICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDE1NiwgOTAsIDI1MCwgMC40KScsXG4gICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgICAgICAgIHBhZGRpbmc6ICcxMnB4IDE0cHgnLFxuICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcbiAgICAgICAgICAgICAgb3V0bGluZTogJ25vbmUnLFxuICAgICAgICAgICAgICByZXNpemU6ICdub25lJyxcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ2JvcmRlci1jb2xvciAwLjNzIGVhc2UsIGJveC1zaGFkb3cgMC4zcyBlYXNlJyxcbiAgICAgICAgICAgICAgYm94U2hhZG93OiAnMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4yKSBpbnNldCcsXG4gICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdJbnRlciwgc3lzdGVtLXVpLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICAgICAgbGluZUhlaWdodDogJzEuNSdcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBvbkZvY3VzPXsoZSkgPT4ge1xuICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS5ib3JkZXJDb2xvciA9ICdyZ2JhKDE1NiwgOTAsIDI1MCwgMC44KSc7XG4gICAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLmJveFNoYWRvdyA9ICcwIDJweCA4cHggcmdiYSgwLCAwLCAwLCAwLjIpIGluc2V0LCAwIDAgMCAycHggcmdiYSgxNTYsIDkwLCAyNTAsIDAuMSknO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uQmx1cj17KGUpID0+IHtcbiAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuYm9yZGVyQ29sb3IgPSAncmdiYSgxNTYsIDkwLCAyNTAsIDAuNCknO1xuICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS5ib3hTaGFkb3cgPSAnMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4yKSBpbnNldCc7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e3NlbmRDb21tYW5kfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2lzU2VuZGluZyB8fCAhY2hhdElucHV0LnRyaW0oKX1cbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBpc1NlbmRpbmcgfHwgIWNoYXRJbnB1dC50cmltKClcbiAgICAgICAgICAgICAgICA/ICdyZ2JhKDE1NiwgOTAsIDI1MCwgMC4zKSdcbiAgICAgICAgICAgICAgICA6ICdsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2JhKDE1NiwgOTAsIDI1MCwgMC44KSAwJSwgcmdiYSgxMjAsIDYwLCAyMjAsIDAuOSkgMTAwJSknLFxuICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICBjdXJzb3I6IGlzU2VuZGluZyB8fCAhY2hhdElucHV0LnRyaW0oKSA/ICdub3QtYWxsb3dlZCcgOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgIHBhZGRpbmc6ICcxMnB4IDE2cHgnLFxuICAgICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcbiAgICAgICAgICAgICAgZm9udFdlaWdodDogJzUwMCcsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiAnYWxsIDAuMnMgZWFzZScsXG4gICAgICAgICAgICAgIGJveFNoYWRvdzogaXNTZW5kaW5nIHx8ICFjaGF0SW5wdXQudHJpbSgpXG4gICAgICAgICAgICAgICAgPyAnbm9uZSdcbiAgICAgICAgICAgICAgICA6ICcwIDRweCAxMnB4IHJnYmEoMTU2LCA5MCwgMjUwLCAwLjMpJyxcbiAgICAgICAgICAgICAgdGV4dFNoYWRvdzogJzAgMXB4IDJweCByZ2JhKDAsMCwwLDAuMiknXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25Nb3VzZU92ZXI9eyhlKSA9PiB7XG4gICAgICAgICAgICAgIGlmICghaXNTZW5kaW5nICYmIGNoYXRJbnB1dC50cmltKCkpIHtcbiAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoLTJweCknO1xuICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5ib3hTaGFkb3cgPSAnMCA2cHggMTZweCByZ2JhKDE1NiwgOTAsIDI1MCwgMC40KSc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBvbk1vdXNlT3V0PXsoZSkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIWlzU2VuZGluZyAmJiBjaGF0SW5wdXQudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDApJztcbiAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYm94U2hhZG93ID0gJzAgNHB4IDEycHggcmdiYSgxNTYsIDkwLCAyNTAsIDAuMyknO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtpc1NlbmRpbmcgPyAoXG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLCBnYXA6ICc4cHgnIH19PlxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTRweCcsXG4gICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxNHB4JyxcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzUwJScsXG4gICAgICAgICAgICAgICAgICBib3JkZXI6ICcycHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjMpJyxcbiAgICAgICAgICAgICAgICAgIGJvcmRlclRvcENvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiAnc3BpbiAxcyBsaW5lYXIgaW5maW5pdGUnXG4gICAgICAgICAgICAgICAgfX0+PC9kaXY+XG4gICAgICAgICAgICAgICAgPHNwYW4+UHJvY2VzYW5kby4uLjwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApIDogJ0VqZWN1dGFyJ31cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBTZWxlY3Rpb25Nb2RhbDtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlUmVmIiwiZmlsdGVyIiwic3ViamVjdCIsImRpc3BhdGNoIiwiVElNRUxJTkVfU0VMRUNUSU9OX01PREFMIiwiQUlTZXJ2aWNlIiwiQ29tbWFuZEV4ZWN1dG9yU2VydmljZSIsImdlbmVyYXRlSWQiLCJBRERfSU1BR0UiLCJTZWxlY3Rpb25Nb2RhbCIsInZpc2libGUiLCJzZXRWaXNpYmxlIiwicG9zaXRpb24iLCJzZXRQb3NpdGlvbiIsIngiLCJ5Iiwic2VsZWN0ZWRJdGVtcyIsInNldFNlbGVjdGVkSXRlbXMiLCJpc1NlbmRpbmciLCJzZXRJc1NlbmRpbmciLCJsYXN0QWN0aW9uSW5mbyIsInNldExhc3RBY3Rpb25JbmZvIiwic2hvd0FjdGlvbkluZm8iLCJzZXRTaG93QWN0aW9uSW5mbyIsImFjdGlvblN1Y2Nlc3MiLCJzZXRBY3Rpb25TdWNjZXNzIiwibW9kYWxSZWYiLCJ0ZXh0YXJlYVJlZiIsImNoYXRNZXNzYWdlcyIsInNldENoYXRNZXNzYWdlcyIsImNoYXRJbnB1dCIsInNldENoYXRJbnB1dCIsImFkZGVkU2NyZWVuc2hvdHMiLCJzZXRBZGRlZFNjcmVlbnNob3RzIiwiYWRkZWRUcmFuc2l0aW9ucyIsInNldEFkZGVkVHJhbnNpdGlvbnMiLCJzZWxlY3Rpb25FdmVudHMiLCJwaXBlIiwia2V5Iiwic3Vic2NyaXB0aW9uIiwic3Vic2NyaWJlIiwiZXZlbnQiLCJwYXlsb2FkIiwidmFsdWUiLCJjb25zb2xlIiwibG9nIiwibGVuZ3RoIiwiTWF0aCIsIm1pbiIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsInNldFRpbWVvdXQiLCJjdXJyZW50IiwiZm9jdXMiLCJoYW5kbGVDbGlja091dHNpZGUiLCJjb250YWlucyIsInRhcmdldCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInVuc3Vic2NyaWJlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZUNsb3NlIiwiYXBwbHlUcmFuc2l0aW9uIiwidHJhbnNpdGlvblBhdGgiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwiY29tbWFuZEV4ZWN1dG9yIiwiZ2V0RXhlY3V0b3IiLCJlcnJvciIsInN1Y2Nlc3MiLCJkZXRhaWxzIiwiZmlyc3RJdGVtIiwiZGlzcGxheSIsImZyb20iLCJ0byIsImlzQVBORyIsInRvTG93ZXJDYXNlIiwiZW5kc1dpdGgiLCJpc0dJRiIsImFkZFZpZGVvIiwid2lkdGgiLCJoZWlnaHQiLCJ0cmFuc2l0aW9uUGF5bG9hZCIsImlkIiwidHlwZSIsInNyYyIsIm9wYWNpdHkiLCJzY2FsZU1vZGUiLCJsZWZ0IiwidG9wIiwib3JpZ2luWCIsIm9yaWdpblkiLCJvcHRpb25zIiwicHJldiIsInRvRml4ZWQiLCJFcnJvciIsIm1lc3NhZ2UiLCJTdHJpbmciLCJzZW5kQ29tbWFuZCIsInRyaW0iLCJ1c2VyTWVzc2FnZSIsInJvbGUiLCJjb250ZW50IiwidGltZXN0YW1wIiwiRGF0ZSIsInJlc3BvbnNlIiwic2VuZENoYXRNZXNzYWdlIiwiYWN0aW9uU3VjY2Vzc2Z1bCIsIm9wZXJhdGlvbkRldGFpbHMiLCJzY3JlZW5zaG90VG9BZGQiLCJkZXRlY3Rpb25JbmZvIiwiYWN0aW9uRGV0ZWN0ZWQiLCJhcHBseVRyYW5zaXRpb25EZXRlY3Rpb24iLCJkZXRlY3RlZCIsImNvbmZpZGVuY2UiLCJ0cmFuc2l0aW9uUmVzdWx0IiwicmVhc29uIiwic2hvd1NjcmVlbnNob3REZXRlY3Rpb24iLCJ1cmxBbmFseXNpcyIsImNvbnRhaW5zVVJMcyIsInNjcmVlbnNob3RzIiwiZmlyc3RTY3JlZW5zaG90IiwiYWRkSW1hZ2UiLCJzY3JlZW5zaG90UGF0aCIsImFjdGlvbk1lc3NhZ2UiLCJhc3Npc3RhbnRNZXNzYWdlIiwidXJsIiwicm91bmQiLCJwcmV2TWVzc2FnZXMiLCJoYW5kbGVLZXlQcmVzcyIsImUiLCJzaGlmdEtleSIsInByZXZlbnREZWZhdWx0IiwiZGl2IiwicmVmIiwic3R5bGUiLCJ6SW5kZXgiLCJiYWNrZ3JvdW5kIiwiYm9yZGVyUmFkaXVzIiwiYm94U2hhZG93IiwicGFkZGluZyIsImNvbG9yIiwiZm9udEZhbWlseSIsImJvcmRlciIsImJhY2tkcm9wRmlsdGVyIiwiYW5pbWF0aW9uIiwianVzdGlmeUNvbnRlbnQiLCJhbGlnbkl0ZW1zIiwibWFyZ2luQm90dG9tIiwiYm9yZGVyQm90dG9tIiwicGFkZGluZ0JvdHRvbSIsImJvdHRvbSIsImgzIiwibWFyZ2luIiwiZm9udFNpemUiLCJmb250V2VpZ2h0IiwidGV4dFNoYWRvdyIsImdhcCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJjdXJzb3IiLCJsaW5lSGVpZ2h0IiwidHJhbnNpdGlvbiIsIm9uTW91c2VPdmVyIiwiY3VycmVudFRhcmdldCIsInRyYW5zZm9ybSIsIm9uTW91c2VPdXQiLCJtYXJnaW5Ub3AiLCJmbGV4U2hyaW5rIiwiZmxleERpcmVjdGlvbiIsImJvcmRlclRvcCIsInBhZGRpbmdUb3AiLCJ0ZXh0YXJlYSIsIm9uQ2hhbmdlIiwib25LZXlEb3duIiwiZGlzYWJsZWQiLCJwbGFjZWhvbGRlciIsIm91dGxpbmUiLCJyZXNpemUiLCJvbkZvY3VzIiwiYm9yZGVyQ29sb3IiLCJvbkJsdXIiLCJib3JkZXJUb3BDb2xvciIsInNwYW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./features/editor/timeline/selection-modal.tsx\n"));

/***/ })

});