"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/smart-trim/route";
exports.ids = ["app/api/smart-trim/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:stream");

/***/ }),

/***/ "node:stream/web":
/*!**********************************!*\
  !*** external "node:stream/web" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("node:stream/web");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsmart-trim%2Froute&page=%2Fapi%2Fsmart-trim%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsmart-trim%2Froute.ts&appDir=C%3A%5CUsers%5Cdavid%5CDesktop%5Cai-video-agent%5Creact-video-editor%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdavid%5CDesktop%5Cai-video-agent%5Creact-video-editor&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsmart-trim%2Froute&page=%2Fapi%2Fsmart-trim%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsmart-trim%2Froute.ts&appDir=C%3A%5CUsers%5Cdavid%5CDesktop%5Cai-video-agent%5Creact-video-editor%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdavid%5CDesktop%5Cai-video-agent%5Creact-video-editor&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_david_Desktop_ai_video_agent_react_video_editor_app_api_smart_trim_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/smart-trim/route.ts */ \"(rsc)/./app/api/smart-trim/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/smart-trim/route\",\n        pathname: \"/api/smart-trim\",\n        filename: \"route\",\n        bundlePath: \"app/api/smart-trim/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\david\\\\Desktop\\\\ai-video-agent\\\\react-video-editor\\\\app\\\\api\\\\smart-trim\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_david_Desktop_ai_video_agent_react_video_editor_app_api_smart_trim_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/smart-trim/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzbWFydC10cmltJTJGcm91dGUmcGFnZT0lMkZhcGklMkZzbWFydC10cmltJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGc21hcnQtdHJpbSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNkYXZpZCU1Q0Rlc2t0b3AlNUNhaS12aWRlby1hZ2VudCU1Q3JlYWN0LXZpZGVvLWVkaXRvciU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDZGF2aWQlNUNEZXNrdG9wJTVDYWktdmlkZW8tYWdlbnQlNUNyZWFjdC12aWRlby1lZGl0b3ImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzZDO0FBQzFIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVtb3Rpb24tY2FwdGlvbnMvPzkwZTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcZGF2aWRcXFxcRGVza3RvcFxcXFxhaS12aWRlby1hZ2VudFxcXFxyZWFjdC12aWRlby1lZGl0b3JcXFxcYXBwXFxcXGFwaVxcXFxzbWFydC10cmltXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9zbWFydC10cmltL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc21hcnQtdHJpbVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvc21hcnQtdHJpbS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXGRhdmlkXFxcXERlc2t0b3BcXFxcYWktdmlkZW8tYWdlbnRcXFxccmVhY3QtdmlkZW8tZWRpdG9yXFxcXGFwcFxcXFxhcGlcXFxcc21hcnQtdHJpbVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvc21hcnQtdHJpbS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsmart-trim%2Froute&page=%2Fapi%2Fsmart-trim%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsmart-trim%2Froute.ts&appDir=C%3A%5CUsers%5Cdavid%5CDesktop%5Cai-video-agent%5Creact-video-editor%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdavid%5CDesktop%5Cai-video-agent%5Creact-video-editor&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/smart-trim/route.ts":
/*!*************************************!*\
  !*** ./app/api/smart-trim/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! openai */ \"(rsc)/../node_modules/openai/index.mjs\");\n\n\n\n\nconst openai = new openai__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n    apiKey: process.env.OPENAI_API_KEY\n});\n// Función para parsear el tiempo de formato SRT a milisegundos\nconst parseTimeToMs = (timeString)=>{\n    const [hours, minutes, secondsAndMs] = timeString.split(\":\");\n    const [seconds, ms] = secondsAndMs.split(\",\");\n    return parseInt(hours) * 3600000 + parseInt(minutes) * 60000 + parseInt(seconds) * 1000 + parseInt(ms);\n};\n// Función para convertir milisegundos a segundos\nconst msToSeconds = (ms)=>{\n    return Math.round(ms / 1000);\n};\n// Función para parsear el archivo SRT\nconst parseSRT = (srtContent)=>{\n    const segments = [];\n    const blocks = srtContent.trim().split(\"\\n\\n\");\n    blocks.forEach((block)=>{\n        const lines = block.split(\"\\n\");\n        if (lines.length >= 3) {\n            const id = parseInt(lines[0]);\n            const timeRange = lines[1].split(\" --> \");\n            const startTime = parseTimeToMs(timeRange[0]);\n            const endTime = parseTimeToMs(timeRange[1]);\n            const text = lines.slice(2).join(\"\\n\"); // Unir todas las líneas de texto\n            segments.push({\n                id,\n                startTime,\n                endTime,\n                text\n            });\n        }\n    });\n    return segments;\n};\n// Analizar la transcripción usando IA para determinar segmentos a mantener/eliminar\nconst analyzeTranscription = async (segments)=>{\n    try {\n        // Preparar el texto para enviarlo a la IA\n        const transcriptionText = segments.map((segment)=>{\n            const startTimeInSec = msToSeconds(segment.startTime);\n            const endTimeInSec = msToSeconds(segment.endTime);\n            return `[${startTimeInSec}s-${endTimeInSec}s]: \"${segment.text}\"`;\n        }).join(\"\\n\");\n        const systemPrompt = `\r\n    Eres un editor de video profesional especializado en identificar qué partes de un video deben mantenerse y cuáles deben eliminarse.\r\n\r\n    Analiza cuidadosamente la transcripción del video y determina:\r\n    1. Qué segmentos contienen información valiosa, instrucciones importantes o el contenido principal.\r\n    2. Qué segmentos contienen errores, repeticiones, pausas largas, contenido irrelevante o frases como \"esta parte debería ser cortada\".\r\n\r\n    Identifica específicamente:\r\n    - Segmentos que mencionan explícitamente que deberían ser cortados\r\n    - Largas pausas o silencios (indicados por grandes intervalos de tiempo sin texto sustancial)\r\n    - Repeticiones de la misma información\r\n    - Errores de habla o correcciones\r\n    - Contenido irrelevante para el tema principal\r\n\r\n    IMPORTANTE: Asegúrate de mantener la coherencia narrativa. No cortes en medio de una frase importante o una explicación.\r\n    `;\n        const userPrompt = `\r\n    Aquí está la transcripción del video con marcas de tiempo (formato [segundos_inicio-segundos_fin]):\r\n\r\n    ${transcriptionText}\r\n\r\n    Basándote en esta transcripción, identifica qué segmentos deben mantenerse y cuáles deben eliminarse para crear un video conciso y profesional.\r\n\r\n    Devuelve tu respuesta en formato JSON con la siguiente estructura:\r\n    {\r\n      \"keepSegments\": [\r\n        { \"startTime\": número_segundos, \"endTime\": número_segundos, \"text\": \"texto del segmento\" }\r\n      ],\r\n      \"removeSegments\": [\r\n        { \"startTime\": número_segundos, \"endTime\": número_segundos, \"text\": \"texto del segmento\" }\r\n      ],\r\n      \"reasoning\": \"Explicación detallada de por qué tomaste estas decisiones\"\r\n    }\r\n    `;\n        const response = await openai.chat.completions.create({\n            model: \"gpt-4.1-mini\",\n            messages: [\n                {\n                    role: \"system\",\n                    content: systemPrompt\n                },\n                {\n                    role: \"user\",\n                    content: userPrompt\n                }\n            ],\n            response_format: {\n                type: \"json_object\"\n            },\n            temperature: 0.3\n        });\n        // Parsear la respuesta de la IA\n        const aiResponse = response.choices[0].message.content;\n        if (!aiResponse) {\n            throw new Error(\"La IA no proporcion\\xf3 una respuesta v\\xe1lida\");\n        }\n        const trimRecommendation = JSON.parse(aiResponse);\n        return trimRecommendation;\n    } catch (error) {\n        console.error(\"Error al analizar la transcripci\\xf3n:\", error);\n        throw error;\n    }\n};\nasync function GET(req) {\n    try {\n        // Ruta a la transcripción\n        const transcriptionPath = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), \"public\", \"transcriptions\", \"transcription1.srt\");\n        // Leer el archivo de transcripción\n        const srtContent = fs__WEBPACK_IMPORTED_MODULE_1___default().readFileSync(transcriptionPath, \"utf8\");\n        // Parsear el contenido SRT\n        const segments = parseSRT(srtContent);\n        // Analizar la transcripción para obtener recomendaciones de recorte\n        const trimRecommendation = await analyzeTranscription(segments);\n        // Devolver el resultado\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(trimRecommendation);\n    } catch (error) {\n        console.error(\"Error en API de smart trim:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Error al procesar la transcripci\\xf3n\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(req) {\n    try {\n        // Permitir pasar un archivo SRT personalizado\n        const { transcription } = await req.json();\n        // Si se proporcionó transcripción, usarla; de lo contrario, cargar la predeterminada\n        let srtContent;\n        if (transcription) {\n            srtContent = transcription;\n        } else {\n            const transcriptionPath = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), \"public\", \"transcriptions\", \"transcription1.srt\");\n            srtContent = fs__WEBPACK_IMPORTED_MODULE_1___default().readFileSync(transcriptionPath, \"utf8\");\n        }\n        // Parsear el contenido SRT\n        const segments = parseSRT(srtContent);\n        // Analizar la transcripción para obtener recomendaciones de recorte\n        const trimRecommendation = await analyzeTranscription(segments);\n        // Devolver el resultado\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(trimRecommendation);\n    } catch (error) {\n        console.error(\"Error en API de smart trim:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Error al procesar la transcripci\\xf3n\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQywrQkFBK0JBO1FBQzdDLE9BQU9oRSxxREFBWUEsQ0FBQ3VFLElBQUksQ0FDdEI7WUFBRVAsT0FBTztRQUFxQyxHQUM5QztZQUFFUSxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbW90aW9uLWNhcHRpb25zLy4vYXBwL2FwaS9zbWFydC10cmltL3JvdXRlLnRzPzIzZDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJztcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XHJcbmltcG9ydCBPcGVuQUkgZnJvbSAnb3BlbmFpJztcclxuXHJcbmNvbnN0IG9wZW5haSA9IG5ldyBPcGVuQUkoe1xyXG4gIGFwaUtleTogcHJvY2Vzcy5lbnYuT1BFTkFJX0FQSV9LRVksXHJcbn0pO1xyXG5cclxuaW50ZXJmYWNlIFN1YnRpdGxlU2VnbWVudCB7XHJcbiAgaWQ6IG51bWJlcjtcclxuICBzdGFydFRpbWU6IG51bWJlcjsgLy8gZW4gbWlsaXNlZ3VuZG9zXHJcbiAgZW5kVGltZTogbnVtYmVyOyAgIC8vIGVuIG1pbGlzZWd1bmRvc1xyXG4gIHRleHQ6IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIFRyaW1SZWNvbW1lbmRhdGlvbiB7XHJcbiAga2VlcFNlZ21lbnRzOiB7XHJcbiAgICBzdGFydFRpbWU6IG51bWJlcjsgLy8gZW4gc2VndW5kb3NcclxuICAgIGVuZFRpbWU6IG51bWJlcjsgICAvLyBlbiBzZWd1bmRvc1xyXG4gICAgdGV4dDogc3RyaW5nO1xyXG4gIH1bXTtcclxuICByZW1vdmVTZWdtZW50czoge1xyXG4gICAgc3RhcnRUaW1lOiBudW1iZXI7IC8vIGVuIHNlZ3VuZG9zXHJcbiAgICBlbmRUaW1lOiBudW1iZXI7ICAgLy8gZW4gc2VndW5kb3NcclxuICAgIHRleHQ6IHN0cmluZztcclxuICB9W107XHJcbiAgcmVhc29uaW5nOiBzdHJpbmc7XHJcbn1cclxuXHJcbi8vIEZ1bmNpw7NuIHBhcmEgcGFyc2VhciBlbCB0aWVtcG8gZGUgZm9ybWF0byBTUlQgYSBtaWxpc2VndW5kb3NcclxuY29uc3QgcGFyc2VUaW1lVG9NcyA9ICh0aW1lU3RyaW5nOiBzdHJpbmcpOiBudW1iZXIgPT4ge1xyXG4gIGNvbnN0IFtob3VycywgbWludXRlcywgc2Vjb25kc0FuZE1zXSA9IHRpbWVTdHJpbmcuc3BsaXQoJzonKTtcclxuICBjb25zdCBbc2Vjb25kcywgbXNdID0gc2Vjb25kc0FuZE1zLnNwbGl0KCcsJyk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICBwYXJzZUludChob3VycykgKiAzNjAwMDAwICtcclxuICAgIHBhcnNlSW50KG1pbnV0ZXMpICogNjAwMDAgK1xyXG4gICAgcGFyc2VJbnQoc2Vjb25kcykgKiAxMDAwICtcclxuICAgIHBhcnNlSW50KG1zKVxyXG4gICk7XHJcbn07XHJcblxyXG4vLyBGdW5jacOzbiBwYXJhIGNvbnZlcnRpciBtaWxpc2VndW5kb3MgYSBzZWd1bmRvc1xyXG5jb25zdCBtc1RvU2Vjb25kcyA9IChtczogbnVtYmVyKTogbnVtYmVyID0+IHtcclxuICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIDEwMDApO1xyXG59O1xyXG5cclxuLy8gRnVuY2nDs24gcGFyYSBwYXJzZWFyIGVsIGFyY2hpdm8gU1JUXHJcbmNvbnN0IHBhcnNlU1JUID0gKHNydENvbnRlbnQ6IHN0cmluZyk6IFN1YnRpdGxlU2VnbWVudFtdID0+IHtcclxuICBjb25zdCBzZWdtZW50czogU3VidGl0bGVTZWdtZW50W10gPSBbXTtcclxuICBjb25zdCBibG9ja3MgPSBzcnRDb250ZW50LnRyaW0oKS5zcGxpdCgnXFxuXFxuJyk7XHJcblxyXG4gIGJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgIGNvbnN0IGxpbmVzID0gYmxvY2suc3BsaXQoJ1xcbicpO1xyXG4gICAgaWYgKGxpbmVzLmxlbmd0aCA+PSAzKSB7XHJcbiAgICAgIGNvbnN0IGlkID0gcGFyc2VJbnQobGluZXNbMF0pO1xyXG4gICAgICBjb25zdCB0aW1lUmFuZ2UgPSBsaW5lc1sxXS5zcGxpdCgnIC0tPiAnKTtcclxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGFyc2VUaW1lVG9Ncyh0aW1lUmFuZ2VbMF0pO1xyXG4gICAgICBjb25zdCBlbmRUaW1lID0gcGFyc2VUaW1lVG9Ncyh0aW1lUmFuZ2VbMV0pO1xyXG4gICAgICBjb25zdCB0ZXh0ID0gbGluZXMuc2xpY2UoMikuam9pbignXFxuJyk7IC8vIFVuaXIgdG9kYXMgbGFzIGzDrW5lYXMgZGUgdGV4dG9cclxuXHJcbiAgICAgIHNlZ21lbnRzLnB1c2goe1xyXG4gICAgICAgIGlkLFxyXG4gICAgICAgIHN0YXJ0VGltZSxcclxuICAgICAgICBlbmRUaW1lLFxyXG4gICAgICAgIHRleHRcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBzZWdtZW50cztcclxufTtcclxuXHJcbi8vIEFuYWxpemFyIGxhIHRyYW5zY3JpcGNpw7NuIHVzYW5kbyBJQSBwYXJhIGRldGVybWluYXIgc2VnbWVudG9zIGEgbWFudGVuZXIvZWxpbWluYXJcclxuY29uc3QgYW5hbHl6ZVRyYW5zY3JpcHRpb24gPSBhc3luYyAoc2VnbWVudHM6IFN1YnRpdGxlU2VnbWVudFtdKTogUHJvbWlzZTxUcmltUmVjb21tZW5kYXRpb24+ID0+IHtcclxuICB0cnkge1xyXG4gICAgLy8gUHJlcGFyYXIgZWwgdGV4dG8gcGFyYSBlbnZpYXJsbyBhIGxhIElBXHJcbiAgICBjb25zdCB0cmFuc2NyaXB0aW9uVGV4dCA9IHNlZ21lbnRzLm1hcChzZWdtZW50ID0+IHtcclxuICAgICAgY29uc3Qgc3RhcnRUaW1lSW5TZWMgPSBtc1RvU2Vjb25kcyhzZWdtZW50LnN0YXJ0VGltZSk7XHJcbiAgICAgIGNvbnN0IGVuZFRpbWVJblNlYyA9IG1zVG9TZWNvbmRzKHNlZ21lbnQuZW5kVGltZSk7XHJcbiAgICAgIHJldHVybiBgWyR7c3RhcnRUaW1lSW5TZWN9cy0ke2VuZFRpbWVJblNlY31zXTogXCIke3NlZ21lbnQudGV4dH1cImA7XHJcbiAgICB9KS5qb2luKCdcXG4nKTtcclxuXHJcbiAgICBjb25zdCBzeXN0ZW1Qcm9tcHQgPSBgXHJcbiAgICBFcmVzIHVuIGVkaXRvciBkZSB2aWRlbyBwcm9mZXNpb25hbCBlc3BlY2lhbGl6YWRvIGVuIGlkZW50aWZpY2FyIHF1w6kgcGFydGVzIGRlIHVuIHZpZGVvIGRlYmVuIG1hbnRlbmVyc2UgeSBjdcOhbGVzIGRlYmVuIGVsaW1pbmFyc2UuXHJcblxyXG4gICAgQW5hbGl6YSBjdWlkYWRvc2FtZW50ZSBsYSB0cmFuc2NyaXBjacOzbiBkZWwgdmlkZW8geSBkZXRlcm1pbmE6XHJcbiAgICAxLiBRdcOpIHNlZ21lbnRvcyBjb250aWVuZW4gaW5mb3JtYWNpw7NuIHZhbGlvc2EsIGluc3RydWNjaW9uZXMgaW1wb3J0YW50ZXMgbyBlbCBjb250ZW5pZG8gcHJpbmNpcGFsLlxyXG4gICAgMi4gUXXDqSBzZWdtZW50b3MgY29udGllbmVuIGVycm9yZXMsIHJlcGV0aWNpb25lcywgcGF1c2FzIGxhcmdhcywgY29udGVuaWRvIGlycmVsZXZhbnRlIG8gZnJhc2VzIGNvbW8gXCJlc3RhIHBhcnRlIGRlYmVyw61hIHNlciBjb3J0YWRhXCIuXHJcblxyXG4gICAgSWRlbnRpZmljYSBlc3BlY8OtZmljYW1lbnRlOlxyXG4gICAgLSBTZWdtZW50b3MgcXVlIG1lbmNpb25hbiBleHBsw61jaXRhbWVudGUgcXVlIGRlYmVyw61hbiBzZXIgY29ydGFkb3NcclxuICAgIC0gTGFyZ2FzIHBhdXNhcyBvIHNpbGVuY2lvcyAoaW5kaWNhZG9zIHBvciBncmFuZGVzIGludGVydmFsb3MgZGUgdGllbXBvIHNpbiB0ZXh0byBzdXN0YW5jaWFsKVxyXG4gICAgLSBSZXBldGljaW9uZXMgZGUgbGEgbWlzbWEgaW5mb3JtYWNpw7NuXHJcbiAgICAtIEVycm9yZXMgZGUgaGFibGEgbyBjb3JyZWNjaW9uZXNcclxuICAgIC0gQ29udGVuaWRvIGlycmVsZXZhbnRlIHBhcmEgZWwgdGVtYSBwcmluY2lwYWxcclxuXHJcbiAgICBJTVBPUlRBTlRFOiBBc2Vnw7pyYXRlIGRlIG1hbnRlbmVyIGxhIGNvaGVyZW5jaWEgbmFycmF0aXZhLiBObyBjb3J0ZXMgZW4gbWVkaW8gZGUgdW5hIGZyYXNlIGltcG9ydGFudGUgbyB1bmEgZXhwbGljYWNpw7NuLlxyXG4gICAgYDtcclxuXHJcbiAgICBjb25zdCB1c2VyUHJvbXB0ID0gYFxyXG4gICAgQXF1w60gZXN0w6EgbGEgdHJhbnNjcmlwY2nDs24gZGVsIHZpZGVvIGNvbiBtYXJjYXMgZGUgdGllbXBvIChmb3JtYXRvIFtzZWd1bmRvc19pbmljaW8tc2VndW5kb3NfZmluXSk6XHJcblxyXG4gICAgJHt0cmFuc2NyaXB0aW9uVGV4dH1cclxuXHJcbiAgICBCYXPDoW5kb3RlIGVuIGVzdGEgdHJhbnNjcmlwY2nDs24sIGlkZW50aWZpY2EgcXXDqSBzZWdtZW50b3MgZGViZW4gbWFudGVuZXJzZSB5IGN1w6FsZXMgZGViZW4gZWxpbWluYXJzZSBwYXJhIGNyZWFyIHVuIHZpZGVvIGNvbmNpc28geSBwcm9mZXNpb25hbC5cclxuXHJcbiAgICBEZXZ1ZWx2ZSB0dSByZXNwdWVzdGEgZW4gZm9ybWF0byBKU09OIGNvbiBsYSBzaWd1aWVudGUgZXN0cnVjdHVyYTpcclxuICAgIHtcclxuICAgICAgXCJrZWVwU2VnbWVudHNcIjogW1xyXG4gICAgICAgIHsgXCJzdGFydFRpbWVcIjogbsO6bWVyb19zZWd1bmRvcywgXCJlbmRUaW1lXCI6IG7Dum1lcm9fc2VndW5kb3MsIFwidGV4dFwiOiBcInRleHRvIGRlbCBzZWdtZW50b1wiIH1cclxuICAgICAgXSxcclxuICAgICAgXCJyZW1vdmVTZWdtZW50c1wiOiBbXHJcbiAgICAgICAgeyBcInN0YXJ0VGltZVwiOiBuw7ptZXJvX3NlZ3VuZG9zLCBcImVuZFRpbWVcIjogbsO6bWVyb19zZWd1bmRvcywgXCJ0ZXh0XCI6IFwidGV4dG8gZGVsIHNlZ21lbnRvXCIgfVxyXG4gICAgICBdLFxyXG4gICAgICBcInJlYXNvbmluZ1wiOiBcIkV4cGxpY2FjacOzbiBkZXRhbGxhZGEgZGUgcG9yIHF1w6kgdG9tYXN0ZSBlc3RhcyBkZWNpc2lvbmVzXCJcclxuICAgIH1cclxuICAgIGA7XHJcblxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBvcGVuYWkuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoe1xyXG4gICAgICBtb2RlbDogXCJncHQtNC4xLW1pbmlcIixcclxuICAgICAgbWVzc2FnZXM6IFtcclxuICAgICAgICB7IHJvbGU6IFwic3lzdGVtXCIsIGNvbnRlbnQ6IHN5c3RlbVByb21wdCB9LFxyXG4gICAgICAgIHsgcm9sZTogXCJ1c2VyXCIsIGNvbnRlbnQ6IHVzZXJQcm9tcHQgfVxyXG4gICAgICBdLFxyXG4gICAgICByZXNwb25zZV9mb3JtYXQ6IHsgdHlwZTogXCJqc29uX29iamVjdFwiIH0sXHJcbiAgICAgIHRlbXBlcmF0dXJlOiAwLjMsXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBQYXJzZWFyIGxhIHJlc3B1ZXN0YSBkZSBsYSBJQVxyXG4gICAgY29uc3QgYWlSZXNwb25zZSA9IHJlc3BvbnNlLmNob2ljZXNbMF0ubWVzc2FnZS5jb250ZW50O1xyXG4gICAgaWYgKCFhaVJlc3BvbnNlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkxhIElBIG5vIHByb3BvcmNpb27DsyB1bmEgcmVzcHVlc3RhIHbDoWxpZGFcIik7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdHJpbVJlY29tbWVuZGF0aW9uID0gSlNPTi5wYXJzZShhaVJlc3BvbnNlKSBhcyBUcmltUmVjb21tZW5kYXRpb247XHJcbiAgICByZXR1cm4gdHJpbVJlY29tbWVuZGF0aW9uO1xyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIGFuYWxpemFyIGxhIHRyYW5zY3JpcGNpw7NuOlwiLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcTogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgLy8gUnV0YSBhIGxhIHRyYW5zY3JpcGNpw7NuXHJcbiAgICBjb25zdCB0cmFuc2NyaXB0aW9uUGF0aCA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAncHVibGljJywgJ3RyYW5zY3JpcHRpb25zJywgJ3RyYW5zY3JpcHRpb24xLnNydCcpO1xyXG5cclxuICAgIC8vIExlZXIgZWwgYXJjaGl2byBkZSB0cmFuc2NyaXBjacOzblxyXG4gICAgY29uc3Qgc3J0Q29udGVudCA9IGZzLnJlYWRGaWxlU3luYyh0cmFuc2NyaXB0aW9uUGF0aCwgJ3V0ZjgnKTtcclxuXHJcbiAgICAvLyBQYXJzZWFyIGVsIGNvbnRlbmlkbyBTUlRcclxuICAgIGNvbnN0IHNlZ21lbnRzID0gcGFyc2VTUlQoc3J0Q29udGVudCk7XHJcblxyXG4gICAgLy8gQW5hbGl6YXIgbGEgdHJhbnNjcmlwY2nDs24gcGFyYSBvYnRlbmVyIHJlY29tZW5kYWNpb25lcyBkZSByZWNvcnRlXHJcbiAgICBjb25zdCB0cmltUmVjb21tZW5kYXRpb24gPSBhd2FpdCBhbmFseXplVHJhbnNjcmlwdGlvbihzZWdtZW50cyk7XHJcblxyXG4gICAgLy8gRGV2b2x2ZXIgZWwgcmVzdWx0YWRvXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24odHJpbVJlY29tbWVuZGF0aW9uKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGVuIEFQSSBkZSBzbWFydCB0cmltOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgZXJyb3I6ICdFcnJvciBhbCBwcm9jZXNhciBsYSB0cmFuc2NyaXBjacOzbicgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBQZXJtaXRpciBwYXNhciB1biBhcmNoaXZvIFNSVCBwZXJzb25hbGl6YWRvXHJcbiAgICBjb25zdCB7IHRyYW5zY3JpcHRpb24gfSA9IGF3YWl0IHJlcS5qc29uKCk7XHJcblxyXG4gICAgLy8gU2kgc2UgcHJvcG9yY2lvbsOzIHRyYW5zY3JpcGNpw7NuLCB1c2FybGE7IGRlIGxvIGNvbnRyYXJpbywgY2FyZ2FyIGxhIHByZWRldGVybWluYWRhXHJcbiAgICBsZXQgc3J0Q29udGVudDogc3RyaW5nO1xyXG5cclxuICAgIGlmICh0cmFuc2NyaXB0aW9uKSB7XHJcbiAgICAgIHNydENvbnRlbnQgPSB0cmFuc2NyaXB0aW9uO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgdHJhbnNjcmlwdGlvblBhdGggPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ3B1YmxpYycsICd0cmFuc2NyaXB0aW9ucycsICd0cmFuc2NyaXB0aW9uMS5zcnQnKTtcclxuICAgICAgc3J0Q29udGVudCA9IGZzLnJlYWRGaWxlU3luYyh0cmFuc2NyaXB0aW9uUGF0aCwgJ3V0ZjgnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQYXJzZWFyIGVsIGNvbnRlbmlkbyBTUlRcclxuICAgIGNvbnN0IHNlZ21lbnRzID0gcGFyc2VTUlQoc3J0Q29udGVudCk7XHJcblxyXG4gICAgLy8gQW5hbGl6YXIgbGEgdHJhbnNjcmlwY2nDs24gcGFyYSBvYnRlbmVyIHJlY29tZW5kYWNpb25lcyBkZSByZWNvcnRlXHJcbiAgICBjb25zdCB0cmltUmVjb21tZW5kYXRpb24gPSBhd2FpdCBhbmFseXplVHJhbnNjcmlwdGlvbihzZWdtZW50cyk7XHJcblxyXG4gICAgLy8gRGV2b2x2ZXIgZWwgcmVzdWx0YWRvXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24odHJpbVJlY29tbWVuZGF0aW9uKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGVuIEFQSSBkZSBzbWFydCB0cmltOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgZXJyb3I6ICdFcnJvciBhbCBwcm9jZXNhciBsYSB0cmFuc2NyaXBjacOzbicgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZnMiLCJwYXRoIiwiT3BlbkFJIiwib3BlbmFpIiwiYXBpS2V5IiwicHJvY2VzcyIsImVudiIsIk9QRU5BSV9BUElfS0VZIiwicGFyc2VUaW1lVG9NcyIsInRpbWVTdHJpbmciLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNvbmRzQW5kTXMiLCJzcGxpdCIsInNlY29uZHMiLCJtcyIsInBhcnNlSW50IiwibXNUb1NlY29uZHMiLCJNYXRoIiwicm91bmQiLCJwYXJzZVNSVCIsInNydENvbnRlbnQiLCJzZWdtZW50cyIsImJsb2NrcyIsInRyaW0iLCJmb3JFYWNoIiwiYmxvY2siLCJsaW5lcyIsImxlbmd0aCIsImlkIiwidGltZVJhbmdlIiwic3RhcnRUaW1lIiwiZW5kVGltZSIsInRleHQiLCJzbGljZSIsImpvaW4iLCJwdXNoIiwiYW5hbHl6ZVRyYW5zY3JpcHRpb24iLCJ0cmFuc2NyaXB0aW9uVGV4dCIsIm1hcCIsInNlZ21lbnQiLCJzdGFydFRpbWVJblNlYyIsImVuZFRpbWVJblNlYyIsInN5c3RlbVByb21wdCIsInVzZXJQcm9tcHQiLCJyZXNwb25zZSIsImNoYXQiLCJjb21wbGV0aW9ucyIsImNyZWF0ZSIsIm1vZGVsIiwibWVzc2FnZXMiLCJyb2xlIiwiY29udGVudCIsInJlc3BvbnNlX2Zvcm1hdCIsInR5cGUiLCJ0ZW1wZXJhdHVyZSIsImFpUmVzcG9uc2UiLCJjaG9pY2VzIiwibWVzc2FnZSIsIkVycm9yIiwidHJpbVJlY29tbWVuZGF0aW9uIiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJjb25zb2xlIiwiR0VUIiwicmVxIiwidHJhbnNjcmlwdGlvblBhdGgiLCJjd2QiLCJyZWFkRmlsZVN5bmMiLCJqc29uIiwic3RhdHVzIiwiUE9TVCIsInRyYW5zY3JpcHRpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/smart-trim/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/formdata-node","vendor-chunks/openai","vendor-chunks/tr46","vendor-chunks/web-streams-polyfill","vendor-chunks/node-fetch","vendor-chunks/whatwg-url","vendor-chunks/event-target-shim","vendor-chunks/agentkeepalive","vendor-chunks/form-data-encoder","vendor-chunks/webidl-conversions","vendor-chunks/abort-controller","vendor-chunks/ms","vendor-chunks/humanize-ms"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsmart-trim%2Froute&page=%2Fapi%2Fsmart-trim%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsmart-trim%2Froute.ts&appDir=C%3A%5CUsers%5Cdavid%5CDesktop%5Cai-video-agent%5Creact-video-editor%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdavid%5CDesktop%5Cai-video-agent%5Creact-video-editor&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();