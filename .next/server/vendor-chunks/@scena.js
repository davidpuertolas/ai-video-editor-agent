"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@scena";
exports.ids = ["vendor-chunks/@scena"];
exports.modules = {

/***/ "(ssr)/./node_modules/@scena/dragscroll/dist/dragscroll.esm.js":
/*!***************************************************************!*\
  !*** ./node_modules/@scena/dragscroll/dist/dragscroll.esm.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _scena_event_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @scena/event-emitter */ \"(ssr)/./node_modules/@scena/event-emitter/dist/event-emitter.esm.js\");\n/* harmony import */ var _daybrush_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @daybrush/utils */ \"(ssr)/./node_modules/@daybrush/utils/dist/utils.esm.js\");\n/*\nCopyright (c) 2019 Daybrush\nname: @scena/dragscroll\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/dragscroll.git\nversion: 1.4.0\n*/\n\n\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n/* global Reflect, Promise */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n  return extendStatics(d, b);\n};\nfunction __extends(d, b) {\n  extendStatics(d, b);\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\n\nfunction getDefaultScrollPosition(e) {\n  var container = e.container;\n  if (container === document.body) {\n    return [container.scrollLeft || document.documentElement.scrollLeft, container.scrollTop || document.documentElement.scrollTop];\n  }\n  return [container.scrollLeft, container.scrollTop];\n}\nfunction checkDefaultScrollEvent(container, callback) {\n  container.addEventListener(\"scroll\", callback);\n  return function () {\n    container.removeEventListener(\"scroll\", callback);\n  };\n}\nfunction getContainerElement(container) {\n  if (!container) {\n    return null;\n  } else if ((0,_daybrush_utils__WEBPACK_IMPORTED_MODULE_0__.isString)(container)) {\n    return document.querySelector(container);\n  }\n  if ((0,_daybrush_utils__WEBPACK_IMPORTED_MODULE_0__.isFunction)(container)) {\n    return container();\n  } else if (container instanceof Element) {\n    return container;\n  } else if (\"current\" in container) {\n    return container.current;\n  } else if (\"value\" in container) {\n    return container.value;\n  }\n}\n/**\n * @sort 1\n */\nvar DragScroll = /*#__PURE__*/function (_super) {\n  __extends(DragScroll, _super);\n  function DragScroll() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this._startRect = null;\n    _this._startPos = [];\n    _this._prevTime = 0;\n    _this._timer = 0;\n    _this._prevScrollPos = [0, 0];\n    _this._isWait = false;\n    _this._flag = false;\n    _this._currentOptions = null;\n    _this._lock = false;\n    _this._unregister = null;\n    _this._onScroll = function () {\n      var options = _this._currentOptions;\n      if (_this._lock || !options) {\n        return;\n      }\n      _this.emit(\"scrollDrag\", {\n        next: function (inputEvent) {\n          _this.checkScroll({\n            container: options.container,\n            inputEvent: inputEvent\n          });\n        }\n      });\n    };\n    return _this;\n  }\n  /**\n   */\n  var __proto = DragScroll.prototype;\n  __proto.dragStart = function (e, options) {\n    var container = getContainerElement(options.container);\n    if (!container) {\n      this._flag = false;\n      return;\n    }\n    var top = 0;\n    var left = 0;\n    var width = 0;\n    var height = 0;\n    if (container === document.body) {\n      width = window.innerWidth;\n      height = window.innerHeight;\n    } else {\n      var rect = container.getBoundingClientRect();\n      top = rect.top;\n      left = rect.left;\n      width = rect.width;\n      height = rect.height;\n    }\n    this._flag = true;\n    this._startPos = [e.clientX, e.clientY];\n    this._startRect = {\n      top: top,\n      left: left,\n      width: width,\n      height: height\n    };\n    this._prevScrollPos = this._getScrollPosition([0, 0], options);\n    this._currentOptions = options;\n    this._registerScrollEvent(options);\n  };\n  __proto.drag = function (e, options) {\n    clearTimeout(this._timer);\n    if (!this._flag) {\n      return;\n    }\n    var clientX = e.clientX,\n      clientY = e.clientY;\n    var _a = options.threshold,\n      threshold = _a === void 0 ? 0 : _a;\n    var _b = this,\n      _startRect = _b._startRect,\n      _startPos = _b._startPos;\n    this._currentOptions = options;\n    var direction = [0, 0];\n    if (_startRect.top > clientY - threshold) {\n      if (_startPos[1] > _startRect.top || clientY < _startPos[1]) {\n        direction[1] = -1;\n      }\n    } else if (_startRect.top + _startRect.height < clientY + threshold) {\n      if (_startPos[1] < _startRect.top + _startRect.height || clientY > _startPos[1]) {\n        direction[1] = 1;\n      }\n    }\n    if (_startRect.left > clientX - threshold) {\n      if (_startPos[0] > _startRect.left || clientX < _startPos[0]) {\n        direction[0] = -1;\n      }\n    } else if (_startRect.left + _startRect.width < clientX + threshold) {\n      if (_startPos[0] < _startRect.left + _startRect.width || clientX > _startPos[0]) {\n        direction[0] = 1;\n      }\n    }\n    if (!direction[0] && !direction[1]) {\n      return false;\n    }\n    return this._continueDrag(__assign(__assign({}, options), {\n      direction: direction,\n      inputEvent: e,\n      isDrag: true\n    }));\n  };\n  /**\n   */\n  __proto.checkScroll = function (options) {\n    var _this = this;\n    if (this._isWait) {\n      return false;\n    }\n    var _a = options.prevScrollPos,\n      prevScrollPos = _a === void 0 ? this._prevScrollPos : _a,\n      direction = options.direction,\n      _b = options.throttleTime,\n      throttleTime = _b === void 0 ? 0 : _b,\n      inputEvent = options.inputEvent,\n      isDrag = options.isDrag;\n    var nextScrollPos = this._getScrollPosition(direction || [0, 0], options);\n    var offsetX = nextScrollPos[0] - prevScrollPos[0];\n    var offsetY = nextScrollPos[1] - prevScrollPos[1];\n    var nextDirection = direction || [offsetX ? Math.abs(offsetX) / offsetX : 0, offsetY ? Math.abs(offsetY) / offsetY : 0];\n    this._prevScrollPos = nextScrollPos;\n    this._lock = false;\n    if (!offsetX && !offsetY) {\n      return false;\n    }\n    /**\n     * @event DragScroll#move\n     */\n    this.emit(\"move\", {\n      offsetX: nextDirection[0] ? offsetX : 0,\n      offsetY: nextDirection[1] ? offsetY : 0,\n      inputEvent: inputEvent\n    });\n    if (throttleTime && isDrag) {\n      clearTimeout(this._timer);\n      this._timer = window.setTimeout(function () {\n        _this._continueDrag(options);\n      }, throttleTime);\n    }\n    return true;\n  };\n  /**\n   *\n   */\n  __proto.dragEnd = function () {\n    this._flag = false;\n    this._lock = false;\n    clearTimeout(this._timer);\n    this._unregisterScrollEvent();\n  };\n  __proto._getScrollPosition = function (direction, options) {\n    var container = options.container,\n      _a = options.getScrollPosition,\n      getScrollPosition = _a === void 0 ? getDefaultScrollPosition : _a;\n    return getScrollPosition({\n      container: getContainerElement(container),\n      direction: direction\n    });\n  };\n  __proto._continueDrag = function (options) {\n    var _this = this;\n    var _a;\n    var container = options.container,\n      direction = options.direction,\n      throttleTime = options.throttleTime,\n      useScroll = options.useScroll,\n      isDrag = options.isDrag,\n      inputEvent = options.inputEvent;\n    if (!this._flag || isDrag && this._isWait) {\n      return;\n    }\n    var nowTime = (0,_daybrush_utils__WEBPACK_IMPORTED_MODULE_0__.now)();\n    var distTime = Math.max(throttleTime + this._prevTime - nowTime, 0);\n    if (distTime > 0) {\n      clearTimeout(this._timer);\n      this._timer = window.setTimeout(function () {\n        _this._continueDrag(options);\n      }, distTime);\n      return false;\n    }\n    this._prevTime = nowTime;\n    var prevScrollPos = this._getScrollPosition(direction, options);\n    this._prevScrollPos = prevScrollPos;\n    if (isDrag) {\n      this._isWait = true;\n    }\n    // unregister native scroll event\n    if (!useScroll) {\n      this._lock = true;\n    }\n    var param = {\n      container: getContainerElement(container),\n      direction: direction,\n      inputEvent: inputEvent\n    };\n    (_a = options.requestScroll) === null || _a === void 0 ? void 0 : _a.call(options, param);\n    /**\n     * @event DragScroll#scroll\n     */\n    this.emit(\"scroll\", param);\n    this._isWait = false;\n    return useScroll || this.checkScroll(__assign(__assign({}, options), {\n      prevScrollPos: prevScrollPos,\n      direction: direction,\n      inputEvent: inputEvent\n    }));\n  };\n  __proto._registerScrollEvent = function (options) {\n    this._unregisterScrollEvent();\n    var checkScrollEvent = options.checkScrollEvent;\n    if (!checkScrollEvent) {\n      return;\n    }\n    var callback = checkScrollEvent === true ? checkDefaultScrollEvent : checkScrollEvent;\n    var container = getContainerElement(options.container);\n    if (checkScrollEvent === true && (container === document.body || container === document.documentElement)) {\n      this._unregister = checkDefaultScrollEvent(window, this._onScroll);\n    } else {\n      this._unregister = callback(container, this._onScroll);\n    }\n  };\n  __proto._unregisterScrollEvent = function () {\n    var _a;\n    (_a = this._unregister) === null || _a === void 0 ? void 0 : _a.call(this);\n    this._unregister = null;\n  };\n  return DragScroll;\n}(_scena_event_emitter__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DragScroll);\n//# sourceMappingURL=dragscroll.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNjZW5hL2RyYWdzY3JvbGwvZGlzdC9kcmFnc2Nyb2xsLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2dEO0FBQ1k7O0FBRTVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsT0FBTztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksU0FBUyx5REFBUTtBQUNyQjtBQUNBO0FBQ0EsTUFBTSwyREFBVTtBQUNoQjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG9EQUFHO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLENBQUMsNERBQVk7O0FBRWQsaUVBQWUsVUFBVSxFQUFDO0FBQzFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVtb3Rpb24tY2FwdGlvbnMvLi9ub2RlX21vZHVsZXMvQHNjZW5hL2RyYWdzY3JvbGwvZGlzdC9kcmFnc2Nyb2xsLmVzbS5qcz9lOWJiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5Db3B5cmlnaHQgKGMpIDIwMTkgRGF5YnJ1c2hcbm5hbWU6IEBzY2VuYS9kcmFnc2Nyb2xsXG5saWNlbnNlOiBNSVRcbmF1dGhvcjogRGF5YnJ1c2hcbnJlcG9zaXRvcnk6IGdpdCtodHRwczovL2dpdGh1Yi5jb20vZGF5YnJ1c2gvZHJhZ3Njcm9sbC5naXRcbnZlcnNpb246IDEuNC4wXG4qL1xuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdAc2NlbmEvZXZlbnQtZW1pdHRlcic7XG5pbXBvcnQgeyBub3csIGlzU3RyaW5nLCBpc0Z1bmN0aW9uIH0gZnJvbSAnQGRheWJydXNoL3V0aWxzJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXG5cbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7XG4gICAgX19wcm90b19fOiBbXVxuICB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBkLl9fcHJvdG9fXyA9IGI7XG4gIH0gfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgfTtcbiAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG59O1xuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcbiAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgZnVuY3Rpb24gX18oKSB7XG4gICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7XG4gIH1cbiAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufVxudmFyIF9fYXNzaWduID0gZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgfVxuICAgIHJldHVybiB0O1xuICB9O1xuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRTY3JvbGxQb3NpdGlvbihlKSB7XG4gIHZhciBjb250YWluZXIgPSBlLmNvbnRhaW5lcjtcbiAgaWYgKGNvbnRhaW5lciA9PT0gZG9jdW1lbnQuYm9keSkge1xuICAgIHJldHVybiBbY29udGFpbmVyLnNjcm9sbExlZnQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQsIGNvbnRhaW5lci5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcF07XG4gIH1cbiAgcmV0dXJuIFtjb250YWluZXIuc2Nyb2xsTGVmdCwgY29udGFpbmVyLnNjcm9sbFRvcF07XG59XG5mdW5jdGlvbiBjaGVja0RlZmF1bHRTY3JvbGxFdmVudChjb250YWluZXIsIGNhbGxiYWNrKSB7XG4gIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGNhbGxiYWNrKTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBjb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBjYWxsYmFjayk7XG4gIH07XG59XG5mdW5jdGlvbiBnZXRDb250YWluZXJFbGVtZW50KGNvbnRhaW5lcikge1xuICBpZiAoIWNvbnRhaW5lcikge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2UgaWYgKGlzU3RyaW5nKGNvbnRhaW5lcikpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXIpO1xuICB9XG4gIGlmIChpc0Z1bmN0aW9uKGNvbnRhaW5lcikpIHtcbiAgICByZXR1cm4gY29udGFpbmVyKCk7XG4gIH0gZWxzZSBpZiAoY29udGFpbmVyIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgIHJldHVybiBjb250YWluZXI7XG4gIH0gZWxzZSBpZiAoXCJjdXJyZW50XCIgaW4gY29udGFpbmVyKSB7XG4gICAgcmV0dXJuIGNvbnRhaW5lci5jdXJyZW50O1xuICB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBjb250YWluZXIpIHtcbiAgICByZXR1cm4gY29udGFpbmVyLnZhbHVlO1xuICB9XG59XG4vKipcbiAqIEBzb3J0IDFcbiAqL1xudmFyIERyYWdTY3JvbGwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoRHJhZ1Njcm9sbCwgX3N1cGVyKTtcbiAgZnVuY3Rpb24gRHJhZ1Njcm9sbCgpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICBfdGhpcy5fc3RhcnRSZWN0ID0gbnVsbDtcbiAgICBfdGhpcy5fc3RhcnRQb3MgPSBbXTtcbiAgICBfdGhpcy5fcHJldlRpbWUgPSAwO1xuICAgIF90aGlzLl90aW1lciA9IDA7XG4gICAgX3RoaXMuX3ByZXZTY3JvbGxQb3MgPSBbMCwgMF07XG4gICAgX3RoaXMuX2lzV2FpdCA9IGZhbHNlO1xuICAgIF90aGlzLl9mbGFnID0gZmFsc2U7XG4gICAgX3RoaXMuX2N1cnJlbnRPcHRpb25zID0gbnVsbDtcbiAgICBfdGhpcy5fbG9jayA9IGZhbHNlO1xuICAgIF90aGlzLl91bnJlZ2lzdGVyID0gbnVsbDtcbiAgICBfdGhpcy5fb25TY3JvbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IF90aGlzLl9jdXJyZW50T3B0aW9ucztcbiAgICAgIGlmIChfdGhpcy5fbG9jayB8fCAhb3B0aW9ucykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBfdGhpcy5lbWl0KFwic2Nyb2xsRHJhZ1wiLCB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uIChpbnB1dEV2ZW50KSB7XG4gICAgICAgICAgX3RoaXMuY2hlY2tTY3JvbGwoe1xuICAgICAgICAgICAgY29udGFpbmVyOiBvcHRpb25zLmNvbnRhaW5lcixcbiAgICAgICAgICAgIGlucHV0RXZlbnQ6IGlucHV0RXZlbnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqL1xuICB2YXIgX19wcm90byA9IERyYWdTY3JvbGwucHJvdG90eXBlO1xuICBfX3Byb3RvLmRyYWdTdGFydCA9IGZ1bmN0aW9uIChlLCBvcHRpb25zKSB7XG4gICAgdmFyIGNvbnRhaW5lciA9IGdldENvbnRhaW5lckVsZW1lbnQob3B0aW9ucy5jb250YWluZXIpO1xuICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICB0aGlzLl9mbGFnID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0b3AgPSAwO1xuICAgIHZhciBsZWZ0ID0gMDtcbiAgICB2YXIgd2lkdGggPSAwO1xuICAgIHZhciBoZWlnaHQgPSAwO1xuICAgIGlmIChjb250YWluZXIgPT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciByZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdG9wID0gcmVjdC50b3A7XG4gICAgICBsZWZ0ID0gcmVjdC5sZWZ0O1xuICAgICAgd2lkdGggPSByZWN0LndpZHRoO1xuICAgICAgaGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XG4gICAgfVxuICAgIHRoaXMuX2ZsYWcgPSB0cnVlO1xuICAgIHRoaXMuX3N0YXJ0UG9zID0gW2UuY2xpZW50WCwgZS5jbGllbnRZXTtcbiAgICB0aGlzLl9zdGFydFJlY3QgPSB7XG4gICAgICB0b3A6IHRvcCxcbiAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICB3aWR0aDogd2lkdGgsXG4gICAgICBoZWlnaHQ6IGhlaWdodFxuICAgIH07XG4gICAgdGhpcy5fcHJldlNjcm9sbFBvcyA9IHRoaXMuX2dldFNjcm9sbFBvc2l0aW9uKFswLCAwXSwgb3B0aW9ucyk7XG4gICAgdGhpcy5fY3VycmVudE9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuX3JlZ2lzdGVyU2Nyb2xsRXZlbnQob3B0aW9ucyk7XG4gIH07XG4gIF9fcHJvdG8uZHJhZyA9IGZ1bmN0aW9uIChlLCBvcHRpb25zKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcbiAgICBpZiAoIXRoaXMuX2ZsYWcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGNsaWVudFggPSBlLmNsaWVudFgsXG4gICAgICBjbGllbnRZID0gZS5jbGllbnRZO1xuICAgIHZhciBfYSA9IG9wdGlvbnMudGhyZXNob2xkLFxuICAgICAgdGhyZXNob2xkID0gX2EgPT09IHZvaWQgMCA/IDAgOiBfYTtcbiAgICB2YXIgX2IgPSB0aGlzLFxuICAgICAgX3N0YXJ0UmVjdCA9IF9iLl9zdGFydFJlY3QsXG4gICAgICBfc3RhcnRQb3MgPSBfYi5fc3RhcnRQb3M7XG4gICAgdGhpcy5fY3VycmVudE9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHZhciBkaXJlY3Rpb24gPSBbMCwgMF07XG4gICAgaWYgKF9zdGFydFJlY3QudG9wID4gY2xpZW50WSAtIHRocmVzaG9sZCkge1xuICAgICAgaWYgKF9zdGFydFBvc1sxXSA+IF9zdGFydFJlY3QudG9wIHx8IGNsaWVudFkgPCBfc3RhcnRQb3NbMV0pIHtcbiAgICAgICAgZGlyZWN0aW9uWzFdID0gLTE7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChfc3RhcnRSZWN0LnRvcCArIF9zdGFydFJlY3QuaGVpZ2h0IDwgY2xpZW50WSArIHRocmVzaG9sZCkge1xuICAgICAgaWYgKF9zdGFydFBvc1sxXSA8IF9zdGFydFJlY3QudG9wICsgX3N0YXJ0UmVjdC5oZWlnaHQgfHwgY2xpZW50WSA+IF9zdGFydFBvc1sxXSkge1xuICAgICAgICBkaXJlY3Rpb25bMV0gPSAxO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoX3N0YXJ0UmVjdC5sZWZ0ID4gY2xpZW50WCAtIHRocmVzaG9sZCkge1xuICAgICAgaWYgKF9zdGFydFBvc1swXSA+IF9zdGFydFJlY3QubGVmdCB8fCBjbGllbnRYIDwgX3N0YXJ0UG9zWzBdKSB7XG4gICAgICAgIGRpcmVjdGlvblswXSA9IC0xO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoX3N0YXJ0UmVjdC5sZWZ0ICsgX3N0YXJ0UmVjdC53aWR0aCA8IGNsaWVudFggKyB0aHJlc2hvbGQpIHtcbiAgICAgIGlmIChfc3RhcnRQb3NbMF0gPCBfc3RhcnRSZWN0LmxlZnQgKyBfc3RhcnRSZWN0LndpZHRoIHx8IGNsaWVudFggPiBfc3RhcnRQb3NbMF0pIHtcbiAgICAgICAgZGlyZWN0aW9uWzBdID0gMTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFkaXJlY3Rpb25bMF0gJiYgIWRpcmVjdGlvblsxXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY29udGludWVEcmFnKF9fYXNzaWduKF9fYXNzaWduKHt9LCBvcHRpb25zKSwge1xuICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb24sXG4gICAgICBpbnB1dEV2ZW50OiBlLFxuICAgICAgaXNEcmFnOiB0cnVlXG4gICAgfSkpO1xuICB9O1xuICAvKipcbiAgICovXG4gIF9fcHJvdG8uY2hlY2tTY3JvbGwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgaWYgKHRoaXMuX2lzV2FpdCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgX2EgPSBvcHRpb25zLnByZXZTY3JvbGxQb3MsXG4gICAgICBwcmV2U2Nyb2xsUG9zID0gX2EgPT09IHZvaWQgMCA/IHRoaXMuX3ByZXZTY3JvbGxQb3MgOiBfYSxcbiAgICAgIGRpcmVjdGlvbiA9IG9wdGlvbnMuZGlyZWN0aW9uLFxuICAgICAgX2IgPSBvcHRpb25zLnRocm90dGxlVGltZSxcbiAgICAgIHRocm90dGxlVGltZSA9IF9iID09PSB2b2lkIDAgPyAwIDogX2IsXG4gICAgICBpbnB1dEV2ZW50ID0gb3B0aW9ucy5pbnB1dEV2ZW50LFxuICAgICAgaXNEcmFnID0gb3B0aW9ucy5pc0RyYWc7XG4gICAgdmFyIG5leHRTY3JvbGxQb3MgPSB0aGlzLl9nZXRTY3JvbGxQb3NpdGlvbihkaXJlY3Rpb24gfHwgWzAsIDBdLCBvcHRpb25zKTtcbiAgICB2YXIgb2Zmc2V0WCA9IG5leHRTY3JvbGxQb3NbMF0gLSBwcmV2U2Nyb2xsUG9zWzBdO1xuICAgIHZhciBvZmZzZXRZID0gbmV4dFNjcm9sbFBvc1sxXSAtIHByZXZTY3JvbGxQb3NbMV07XG4gICAgdmFyIG5leHREaXJlY3Rpb24gPSBkaXJlY3Rpb24gfHwgW29mZnNldFggPyBNYXRoLmFicyhvZmZzZXRYKSAvIG9mZnNldFggOiAwLCBvZmZzZXRZID8gTWF0aC5hYnMob2Zmc2V0WSkgLyBvZmZzZXRZIDogMF07XG4gICAgdGhpcy5fcHJldlNjcm9sbFBvcyA9IG5leHRTY3JvbGxQb3M7XG4gICAgdGhpcy5fbG9jayA9IGZhbHNlO1xuICAgIGlmICghb2Zmc2V0WCAmJiAhb2Zmc2V0WSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZXZlbnQgRHJhZ1Njcm9sbCNtb3ZlXG4gICAgICovXG4gICAgdGhpcy5lbWl0KFwibW92ZVwiLCB7XG4gICAgICBvZmZzZXRYOiBuZXh0RGlyZWN0aW9uWzBdID8gb2Zmc2V0WCA6IDAsXG4gICAgICBvZmZzZXRZOiBuZXh0RGlyZWN0aW9uWzFdID8gb2Zmc2V0WSA6IDAsXG4gICAgICBpbnB1dEV2ZW50OiBpbnB1dEV2ZW50XG4gICAgfSk7XG4gICAgaWYgKHRocm90dGxlVGltZSAmJiBpc0RyYWcpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG4gICAgICB0aGlzLl90aW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuX2NvbnRpbnVlRHJhZyhvcHRpb25zKTtcbiAgICAgIH0sIHRocm90dGxlVGltZSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICAvKipcbiAgICpcbiAgICovXG4gIF9fcHJvdG8uZHJhZ0VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9mbGFnID0gZmFsc2U7XG4gICAgdGhpcy5fbG9jayA9IGZhbHNlO1xuICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG4gICAgdGhpcy5fdW5yZWdpc3RlclNjcm9sbEV2ZW50KCk7XG4gIH07XG4gIF9fcHJvdG8uX2dldFNjcm9sbFBvc2l0aW9uID0gZnVuY3Rpb24gKGRpcmVjdGlvbiwgb3B0aW9ucykge1xuICAgIHZhciBjb250YWluZXIgPSBvcHRpb25zLmNvbnRhaW5lcixcbiAgICAgIF9hID0gb3B0aW9ucy5nZXRTY3JvbGxQb3NpdGlvbixcbiAgICAgIGdldFNjcm9sbFBvc2l0aW9uID0gX2EgPT09IHZvaWQgMCA/IGdldERlZmF1bHRTY3JvbGxQb3NpdGlvbiA6IF9hO1xuICAgIHJldHVybiBnZXRTY3JvbGxQb3NpdGlvbih7XG4gICAgICBjb250YWluZXI6IGdldENvbnRhaW5lckVsZW1lbnQoY29udGFpbmVyKSxcbiAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uXG4gICAgfSk7XG4gIH07XG4gIF9fcHJvdG8uX2NvbnRpbnVlRHJhZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgX2E7XG4gICAgdmFyIGNvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyLFxuICAgICAgZGlyZWN0aW9uID0gb3B0aW9ucy5kaXJlY3Rpb24sXG4gICAgICB0aHJvdHRsZVRpbWUgPSBvcHRpb25zLnRocm90dGxlVGltZSxcbiAgICAgIHVzZVNjcm9sbCA9IG9wdGlvbnMudXNlU2Nyb2xsLFxuICAgICAgaXNEcmFnID0gb3B0aW9ucy5pc0RyYWcsXG4gICAgICBpbnB1dEV2ZW50ID0gb3B0aW9ucy5pbnB1dEV2ZW50O1xuICAgIGlmICghdGhpcy5fZmxhZyB8fCBpc0RyYWcgJiYgdGhpcy5faXNXYWl0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBub3dUaW1lID0gbm93KCk7XG4gICAgdmFyIGRpc3RUaW1lID0gTWF0aC5tYXgodGhyb3R0bGVUaW1lICsgdGhpcy5fcHJldlRpbWUgLSBub3dUaW1lLCAwKTtcbiAgICBpZiAoZGlzdFRpbWUgPiAwKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuICAgICAgdGhpcy5fdGltZXIgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLl9jb250aW51ZURyYWcob3B0aW9ucyk7XG4gICAgICB9LCBkaXN0VGltZSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuX3ByZXZUaW1lID0gbm93VGltZTtcbiAgICB2YXIgcHJldlNjcm9sbFBvcyA9IHRoaXMuX2dldFNjcm9sbFBvc2l0aW9uKGRpcmVjdGlvbiwgb3B0aW9ucyk7XG4gICAgdGhpcy5fcHJldlNjcm9sbFBvcyA9IHByZXZTY3JvbGxQb3M7XG4gICAgaWYgKGlzRHJhZykge1xuICAgICAgdGhpcy5faXNXYWl0ID0gdHJ1ZTtcbiAgICB9XG4gICAgLy8gdW5yZWdpc3RlciBuYXRpdmUgc2Nyb2xsIGV2ZW50XG4gICAgaWYgKCF1c2VTY3JvbGwpIHtcbiAgICAgIHRoaXMuX2xvY2sgPSB0cnVlO1xuICAgIH1cbiAgICB2YXIgcGFyYW0gPSB7XG4gICAgICBjb250YWluZXI6IGdldENvbnRhaW5lckVsZW1lbnQoY29udGFpbmVyKSxcbiAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uLFxuICAgICAgaW5wdXRFdmVudDogaW5wdXRFdmVudFxuICAgIH07XG4gICAgKF9hID0gb3B0aW9ucy5yZXF1ZXN0U2Nyb2xsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChvcHRpb25zLCBwYXJhbSk7XG4gICAgLyoqXG4gICAgICogQGV2ZW50IERyYWdTY3JvbGwjc2Nyb2xsXG4gICAgICovXG4gICAgdGhpcy5lbWl0KFwic2Nyb2xsXCIsIHBhcmFtKTtcbiAgICB0aGlzLl9pc1dhaXQgPSBmYWxzZTtcbiAgICByZXR1cm4gdXNlU2Nyb2xsIHx8IHRoaXMuY2hlY2tTY3JvbGwoX19hc3NpZ24oX19hc3NpZ24oe30sIG9wdGlvbnMpLCB7XG4gICAgICBwcmV2U2Nyb2xsUG9zOiBwcmV2U2Nyb2xsUG9zLFxuICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb24sXG4gICAgICBpbnB1dEV2ZW50OiBpbnB1dEV2ZW50XG4gICAgfSkpO1xuICB9O1xuICBfX3Byb3RvLl9yZWdpc3RlclNjcm9sbEV2ZW50ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB0aGlzLl91bnJlZ2lzdGVyU2Nyb2xsRXZlbnQoKTtcbiAgICB2YXIgY2hlY2tTY3JvbGxFdmVudCA9IG9wdGlvbnMuY2hlY2tTY3JvbGxFdmVudDtcbiAgICBpZiAoIWNoZWNrU2Nyb2xsRXZlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGNhbGxiYWNrID0gY2hlY2tTY3JvbGxFdmVudCA9PT0gdHJ1ZSA/IGNoZWNrRGVmYXVsdFNjcm9sbEV2ZW50IDogY2hlY2tTY3JvbGxFdmVudDtcbiAgICB2YXIgY29udGFpbmVyID0gZ2V0Q29udGFpbmVyRWxlbWVudChvcHRpb25zLmNvbnRhaW5lcik7XG4gICAgaWYgKGNoZWNrU2Nyb2xsRXZlbnQgPT09IHRydWUgJiYgKGNvbnRhaW5lciA9PT0gZG9jdW1lbnQuYm9keSB8fCBjb250YWluZXIgPT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkpIHtcbiAgICAgIHRoaXMuX3VucmVnaXN0ZXIgPSBjaGVja0RlZmF1bHRTY3JvbGxFdmVudCh3aW5kb3csIHRoaXMuX29uU2Nyb2xsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fdW5yZWdpc3RlciA9IGNhbGxiYWNrKGNvbnRhaW5lciwgdGhpcy5fb25TY3JvbGwpO1xuICAgIH1cbiAgfTtcbiAgX19wcm90by5fdW5yZWdpc3RlclNjcm9sbEV2ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYTtcbiAgICAoX2EgPSB0aGlzLl91bnJlZ2lzdGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0aGlzKTtcbiAgICB0aGlzLl91bnJlZ2lzdGVyID0gbnVsbDtcbiAgfTtcbiAgcmV0dXJuIERyYWdTY3JvbGw7XG59KEV2ZW50RW1pdHRlcik7XG5cbmV4cG9ydCBkZWZhdWx0IERyYWdTY3JvbGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kcmFnc2Nyb2xsLmVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@scena/dragscroll/dist/dragscroll.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@scena/event-emitter/dist/event-emitter.esm.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@scena/event-emitter/dist/event-emitter.esm.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _daybrush_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @daybrush/utils */ \"(ssr)/./node_modules/@daybrush/utils/dist/utils.esm.js\");\n/*\nCopyright (c) 2019 Daybrush\nname: @scena/event-emitter\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/gesture.git\nversion: 1.0.5\n*/\n\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\nfunction __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n}\n\n/**\n * Implement EventEmitter on object or component.\n */\n\nvar EventEmitter =\n/*#__PURE__*/\nfunction () {\n  function EventEmitter() {\n    this._events = {};\n  }\n  /**\n   * Add a listener to the registered event.\n   * @param - Name of the event to be added\n   * @param - listener function of the event to be added\n   * @example\n   * import EventEmitter from \"@scena/event-emitter\";\n   * cosnt emitter = new EventEmitter();\n   *\n   * // Add listener in \"a\" event\n   * emitter.on(\"a\", () => {\n   * });\n   * // Add listeners\n   * emitter.on({\n   *  a: () => {},\n   *  b: () => {},\n   * });\n   */\n\n\n  var __proto = EventEmitter.prototype;\n\n  __proto.on = function (eventName, listener) {\n    if ((0,_daybrush_utils__WEBPACK_IMPORTED_MODULE_0__.isObject)(eventName)) {\n      for (var name in eventName) {\n        this.on(name, eventName[name]);\n      }\n    } else {\n      this._addEvent(eventName, listener, {});\n    }\n\n    return this;\n  };\n  /**\n   * Remove listeners registered in the event target.\n   * @param - Name of the event to be removed\n   * @param - listener function of the event to be removed\n   * @example\n   * import EventEmitter from \"@scena/event-emitter\";\n   * cosnt emitter = new EventEmitter();\n   *\n   * // Remove all listeners.\n   * emitter.off();\n   *\n   * // Remove all listeners in \"A\" event.\n   * emitter.off(\"a\");\n   *\n   *\n   * // Remove \"listener\" listener in \"a\" event.\n   * emitter.off(\"a\", listener);\n   */\n\n\n  __proto.off = function (eventName, listener) {\n    if (!eventName) {\n      this._events = {};\n    } else if ((0,_daybrush_utils__WEBPACK_IMPORTED_MODULE_0__.isObject)(eventName)) {\n      for (var name in eventName) {\n        this.off(name);\n      }\n    } else if (!listener) {\n      this._events[eventName] = [];\n    } else {\n      var events = this._events[eventName];\n\n      if (events) {\n        var index = (0,_daybrush_utils__WEBPACK_IMPORTED_MODULE_0__.findIndex)(events, function (e) {\n          return e.listener === listener;\n        });\n\n        if (index > -1) {\n          events.splice(index, 1);\n        }\n      }\n    }\n\n    return this;\n  };\n  /**\n   * Add a disposable listener and Use promise to the registered event.\n   * @param - Name of the event to be added\n   * @param - disposable listener function of the event to be added\n   * @example\n   * import EventEmitter from \"@scena/event-emitter\";\n   * cosnt emitter = new EventEmitter();\n   *\n   * // Add a disposable listener in \"a\" event\n   * emitter.once(\"a\", () => {\n   * });\n   *\n   * // Use Promise\n   * emitter.once(\"a\").then(e => {\n   * });\n   */\n\n\n  __proto.once = function (eventName, listener) {\n    var _this = this;\n\n    if (listener) {\n      this._addEvent(eventName, listener, {\n        once: true\n      });\n    }\n\n    return new Promise(function (resolve) {\n      _this._addEvent(eventName, resolve, {\n        once: true\n      });\n    });\n  };\n  /**\n   * Fires an event to call listeners.\n   * @param - Event name\n   * @param - Event parameter\n   * @return If false, stop the event.\n   * @example\n   *\n   * import EventEmitter from \"@scena/event-emitter\";\n   *\n   *\n   * const emitter = new EventEmitter();\n   *\n   * emitter.on(\"a\", e => {\n   * });\n   *\n   *\n   * emitter.emit(\"a\", {\n   *   a: 1,\n   * });\n   */\n\n\n  __proto.emit = function (eventName, param) {\n    var _this = this;\n\n    if (param === void 0) {\n      param = {};\n    }\n\n    var events = this._events[eventName];\n\n    if (!eventName || !events) {\n      return true;\n    }\n\n    var isStop = false;\n    param.eventType = eventName;\n\n    param.stop = function () {\n      isStop = true;\n    };\n\n    param.currentTarget = this;\n\n    __spreadArrays(events).forEach(function (info) {\n      info.listener(param);\n\n      if (info.once) {\n        _this.off(eventName, info.listener);\n      }\n    });\n\n    return !isStop;\n  };\n  /**\n   * Fires an event to call listeners.\n   * @param - Event name\n   * @param - Event parameter\n   * @return If false, stop the event.\n   * @example\n   *\n   * import EventEmitter from \"@scena/event-emitter\";\n   *\n   *\n   * const emitter = new EventEmitter();\n   *\n   * emitter.on(\"a\", e => {\n   * });\n   *\n   *\n   * emitter.emit(\"a\", {\n   *   a: 1,\n   * });\n   */\n\n  /**\n  * Fires an event to call listeners.\n  * @param - Event name\n  * @param - Event parameter\n  * @return If false, stop the event.\n  * @example\n  *\n  * import EventEmitter from \"@scena/event-emitter\";\n  *\n  *\n  * const emitter = new EventEmitter();\n  *\n  * emitter.on(\"a\", e => {\n  * });\n  *\n  * // emit\n  * emitter.trigger(\"a\", {\n  *   a: 1,\n  * });\n  */\n\n\n  __proto.trigger = function (eventName, param) {\n    if (param === void 0) {\n      param = {};\n    }\n\n    return this.emit(eventName, param);\n  };\n\n  __proto._addEvent = function (eventName, listener, options) {\n    var events = this._events;\n    events[eventName] = events[eventName] || [];\n    var listeners = events[eventName];\n    listeners.push(__assign({\n      listener: listener\n    }, options));\n  };\n\n  return EventEmitter;\n}();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EventEmitter);\n//# sourceMappingURL=event-emitter.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNjZW5hL2V2ZW50LWVtaXR0ZXIvZGlzdC9ldmVudC1lbWl0dGVyLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDc0Q7O0FBRXREO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLE9BQU87QUFDcEQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxRQUFROztBQUV4RCx1Q0FBdUMsUUFBUSxzREFBc0QsUUFBUTs7QUFFN0c7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixpQkFBaUI7QUFDakIsTUFBTTtBQUNOOzs7QUFHQTs7QUFFQTtBQUNBLFFBQVEseURBQVE7QUFDaEI7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLDRDQUE0QztBQUM1Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLFNBQVMseURBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0Esb0JBQW9CLDBEQUFTO0FBQzdCO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRCxpRUFBZSxZQUFZLEVBQUM7QUFDNUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZW1vdGlvbi1jYXB0aW9ucy8uL25vZGVfbW9kdWxlcy9Ac2NlbmEvZXZlbnQtZW1pdHRlci9kaXN0L2V2ZW50LWVtaXR0ZXIuZXNtLmpzPzFjODkiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkNvcHlyaWdodCAoYykgMjAxOSBEYXlicnVzaFxubmFtZTogQHNjZW5hL2V2ZW50LWVtaXR0ZXJcbmxpY2Vuc2U6IE1JVFxuYXV0aG9yOiBEYXlicnVzaFxucmVwb3NpdG9yeTogZ2l0K2h0dHBzOi8vZ2l0aHViLmNvbS9kYXlicnVzaC9nZXN0dXJlLmdpdFxudmVyc2lvbjogMS4wLjVcbiovXG5pbXBvcnQgeyBpc09iamVjdCwgZmluZEluZGV4IH0gZnJvbSAnQGRheWJydXNoL3V0aWxzJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XG4gIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xuXG4gIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKykgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspIHJba10gPSBhW2pdO1xuXG4gIHJldHVybiByO1xufVxuXG4vKipcbiAqIEltcGxlbWVudCBFdmVudEVtaXR0ZXIgb24gb2JqZWN0IG9yIGNvbXBvbmVudC5cbiAqL1xuXG52YXIgRXZlbnRFbWl0dGVyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICB9XG4gIC8qKlxuICAgKiBBZGQgYSBsaXN0ZW5lciB0byB0aGUgcmVnaXN0ZXJlZCBldmVudC5cbiAgICogQHBhcmFtIC0gTmFtZSBvZiB0aGUgZXZlbnQgdG8gYmUgYWRkZWRcbiAgICogQHBhcmFtIC0gbGlzdGVuZXIgZnVuY3Rpb24gb2YgdGhlIGV2ZW50IHRvIGJlIGFkZGVkXG4gICAqIEBleGFtcGxlXG4gICAqIGltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSBcIkBzY2VuYS9ldmVudC1lbWl0dGVyXCI7XG4gICAqIGNvc250IGVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAqXG4gICAqIC8vIEFkZCBsaXN0ZW5lciBpbiBcImFcIiBldmVudFxuICAgKiBlbWl0dGVyLm9uKFwiYVwiLCAoKSA9PiB7XG4gICAqIH0pO1xuICAgKiAvLyBBZGQgbGlzdGVuZXJzXG4gICAqIGVtaXR0ZXIub24oe1xuICAgKiAgYTogKCkgPT4ge30sXG4gICAqICBiOiAoKSA9PiB7fSxcbiAgICogfSk7XG4gICAqL1xuXG5cbiAgdmFyIF9fcHJvdG8gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlO1xuXG4gIF9fcHJvdG8ub24gPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBsaXN0ZW5lcikge1xuICAgIGlmIChpc09iamVjdChldmVudE5hbWUpKSB7XG4gICAgICBmb3IgKHZhciBuYW1lIGluIGV2ZW50TmFtZSkge1xuICAgICAgICB0aGlzLm9uKG5hbWUsIGV2ZW50TmFtZVtuYW1lXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2FkZEV2ZW50KGV2ZW50TmFtZSwgbGlzdGVuZXIsIHt9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgLyoqXG4gICAqIFJlbW92ZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBpbiB0aGUgZXZlbnQgdGFyZ2V0LlxuICAgKiBAcGFyYW0gLSBOYW1lIG9mIHRoZSBldmVudCB0byBiZSByZW1vdmVkXG4gICAqIEBwYXJhbSAtIGxpc3RlbmVyIGZ1bmN0aW9uIG9mIHRoZSBldmVudCB0byBiZSByZW1vdmVkXG4gICAqIEBleGFtcGxlXG4gICAqIGltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSBcIkBzY2VuYS9ldmVudC1lbWl0dGVyXCI7XG4gICAqIGNvc250IGVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAqXG4gICAqIC8vIFJlbW92ZSBhbGwgbGlzdGVuZXJzLlxuICAgKiBlbWl0dGVyLm9mZigpO1xuICAgKlxuICAgKiAvLyBSZW1vdmUgYWxsIGxpc3RlbmVycyBpbiBcIkFcIiBldmVudC5cbiAgICogZW1pdHRlci5vZmYoXCJhXCIpO1xuICAgKlxuICAgKlxuICAgKiAvLyBSZW1vdmUgXCJsaXN0ZW5lclwiIGxpc3RlbmVyIGluIFwiYVwiIGV2ZW50LlxuICAgKiBlbWl0dGVyLm9mZihcImFcIiwgbGlzdGVuZXIpO1xuICAgKi9cblxuXG4gIF9fcHJvdG8ub2ZmID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcbiAgICBpZiAoIWV2ZW50TmFtZSkge1xuICAgICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgfSBlbHNlIGlmIChpc09iamVjdChldmVudE5hbWUpKSB7XG4gICAgICBmb3IgKHZhciBuYW1lIGluIGV2ZW50TmFtZSkge1xuICAgICAgICB0aGlzLm9mZihuYW1lKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFsaXN0ZW5lcikge1xuICAgICAgdGhpcy5fZXZlbnRzW2V2ZW50TmFtZV0gPSBbXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50c1tldmVudE5hbWVdO1xuXG4gICAgICBpZiAoZXZlbnRzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGZpbmRJbmRleChldmVudHMsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgcmV0dXJuIGUubGlzdGVuZXIgPT09IGxpc3RlbmVyO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgIGV2ZW50cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIC8qKlxuICAgKiBBZGQgYSBkaXNwb3NhYmxlIGxpc3RlbmVyIGFuZCBVc2UgcHJvbWlzZSB0byB0aGUgcmVnaXN0ZXJlZCBldmVudC5cbiAgICogQHBhcmFtIC0gTmFtZSBvZiB0aGUgZXZlbnQgdG8gYmUgYWRkZWRcbiAgICogQHBhcmFtIC0gZGlzcG9zYWJsZSBsaXN0ZW5lciBmdW5jdGlvbiBvZiB0aGUgZXZlbnQgdG8gYmUgYWRkZWRcbiAgICogQGV4YW1wbGVcbiAgICogaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tIFwiQHNjZW5hL2V2ZW50LWVtaXR0ZXJcIjtcbiAgICogY29zbnQgZW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICpcbiAgICogLy8gQWRkIGEgZGlzcG9zYWJsZSBsaXN0ZW5lciBpbiBcImFcIiBldmVudFxuICAgKiBlbWl0dGVyLm9uY2UoXCJhXCIsICgpID0+IHtcbiAgICogfSk7XG4gICAqXG4gICAqIC8vIFVzZSBQcm9taXNlXG4gICAqIGVtaXR0ZXIub25jZShcImFcIikudGhlbihlID0+IHtcbiAgICogfSk7XG4gICAqL1xuXG5cbiAgX19wcm90by5vbmNlID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICB0aGlzLl9hZGRFdmVudChldmVudE5hbWUsIGxpc3RlbmVyLCB7XG4gICAgICAgIG9uY2U6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgX3RoaXMuX2FkZEV2ZW50KGV2ZW50TmFtZSwgcmVzb2x2ZSwge1xuICAgICAgICBvbmNlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIEZpcmVzIGFuIGV2ZW50IHRvIGNhbGwgbGlzdGVuZXJzLlxuICAgKiBAcGFyYW0gLSBFdmVudCBuYW1lXG4gICAqIEBwYXJhbSAtIEV2ZW50IHBhcmFtZXRlclxuICAgKiBAcmV0dXJuIElmIGZhbHNlLCBzdG9wIHRoZSBldmVudC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tIFwiQHNjZW5hL2V2ZW50LWVtaXR0ZXJcIjtcbiAgICpcbiAgICpcbiAgICogY29uc3QgZW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICpcbiAgICogZW1pdHRlci5vbihcImFcIiwgZSA9PiB7XG4gICAqIH0pO1xuICAgKlxuICAgKlxuICAgKiBlbWl0dGVyLmVtaXQoXCJhXCIsIHtcbiAgICogICBhOiAxLFxuICAgKiB9KTtcbiAgICovXG5cblxuICBfX3Byb3RvLmVtaXQgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBwYXJhbSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAocGFyYW0gPT09IHZvaWQgMCkge1xuICAgICAgcGFyYW0gPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzW2V2ZW50TmFtZV07XG5cbiAgICBpZiAoIWV2ZW50TmFtZSB8fCAhZXZlbnRzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgaXNTdG9wID0gZmFsc2U7XG4gICAgcGFyYW0uZXZlbnRUeXBlID0gZXZlbnROYW1lO1xuXG4gICAgcGFyYW0uc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlzU3RvcCA9IHRydWU7XG4gICAgfTtcblxuICAgIHBhcmFtLmN1cnJlbnRUYXJnZXQgPSB0aGlzO1xuXG4gICAgX19zcHJlYWRBcnJheXMoZXZlbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgICBpbmZvLmxpc3RlbmVyKHBhcmFtKTtcblxuICAgICAgaWYgKGluZm8ub25jZSkge1xuICAgICAgICBfdGhpcy5vZmYoZXZlbnROYW1lLCBpbmZvLmxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiAhaXNTdG9wO1xuICB9O1xuICAvKipcbiAgICogRmlyZXMgYW4gZXZlbnQgdG8gY2FsbCBsaXN0ZW5lcnMuXG4gICAqIEBwYXJhbSAtIEV2ZW50IG5hbWVcbiAgICogQHBhcmFtIC0gRXZlbnQgcGFyYW1ldGVyXG4gICAqIEByZXR1cm4gSWYgZmFsc2UsIHN0b3AgdGhlIGV2ZW50LlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBpbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gXCJAc2NlbmEvZXZlbnQtZW1pdHRlclwiO1xuICAgKlxuICAgKlxuICAgKiBjb25zdCBlbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgKlxuICAgKiBlbWl0dGVyLm9uKFwiYVwiLCBlID0+IHtcbiAgICogfSk7XG4gICAqXG4gICAqXG4gICAqIGVtaXR0ZXIuZW1pdChcImFcIiwge1xuICAgKiAgIGE6IDEsXG4gICAqIH0pO1xuICAgKi9cblxuICAvKipcbiAgKiBGaXJlcyBhbiBldmVudCB0byBjYWxsIGxpc3RlbmVycy5cbiAgKiBAcGFyYW0gLSBFdmVudCBuYW1lXG4gICogQHBhcmFtIC0gRXZlbnQgcGFyYW1ldGVyXG4gICogQHJldHVybiBJZiBmYWxzZSwgc3RvcCB0aGUgZXZlbnQuXG4gICogQGV4YW1wbGVcbiAgKlxuICAqIGltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSBcIkBzY2VuYS9ldmVudC1lbWl0dGVyXCI7XG4gICpcbiAgKlxuICAqIGNvbnN0IGVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICpcbiAgKiBlbWl0dGVyLm9uKFwiYVwiLCBlID0+IHtcbiAgKiB9KTtcbiAgKlxuICAqIC8vIGVtaXRcbiAgKiBlbWl0dGVyLnRyaWdnZXIoXCJhXCIsIHtcbiAgKiAgIGE6IDEsXG4gICogfSk7XG4gICovXG5cblxuICBfX3Byb3RvLnRyaWdnZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBwYXJhbSkge1xuICAgIGlmIChwYXJhbSA9PT0gdm9pZCAwKSB7XG4gICAgICBwYXJhbSA9IHt9O1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmVtaXQoZXZlbnROYW1lLCBwYXJhbSk7XG4gIH07XG5cbiAgX19wcm90by5fYWRkRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgZXZlbnRzW2V2ZW50TmFtZV0gPSBldmVudHNbZXZlbnROYW1lXSB8fCBbXTtcbiAgICB2YXIgbGlzdGVuZXJzID0gZXZlbnRzW2V2ZW50TmFtZV07XG4gICAgbGlzdGVuZXJzLnB1c2goX19hc3NpZ24oe1xuICAgICAgbGlzdGVuZXI6IGxpc3RlbmVyXG4gICAgfSwgb3B0aW9ucykpO1xuICB9O1xuXG4gIHJldHVybiBFdmVudEVtaXR0ZXI7XG59KCk7XG5cbmV4cG9ydCBkZWZhdWx0IEV2ZW50RW1pdHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50LWVtaXR0ZXIuZXNtLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@scena/event-emitter/dist/event-emitter.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@scena/matrix/dist/matrix.esm.js":
/*!*******************************************************!*\
  !*** ./node_modules/@scena/matrix/dist/matrix.esm.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculate: () => (/* binding */ calculate),\n/* harmony export */   convertCSStoMatrix: () => (/* binding */ convertCSStoMatrix),\n/* harmony export */   convertDimension: () => (/* binding */ convertDimension),\n/* harmony export */   convertMatrixtoCSS: () => (/* binding */ convertMatrixtoCSS),\n/* harmony export */   convertPositionMatrix: () => (/* binding */ convertPositionMatrix),\n/* harmony export */   createIdentityMatrix: () => (/* binding */ createIdentityMatrix),\n/* harmony export */   createOriginMatrix: () => (/* binding */ createOriginMatrix),\n/* harmony export */   createRotateMatrix: () => (/* binding */ createRotateMatrix),\n/* harmony export */   createScaleMatrix: () => (/* binding */ createScaleMatrix),\n/* harmony export */   createWarpMatrix: () => (/* binding */ createWarpMatrix),\n/* harmony export */   fromTranslation: () => (/* binding */ fromTranslation),\n/* harmony export */   getCenter: () => (/* binding */ getCenter),\n/* harmony export */   getOrigin: () => (/* binding */ getOrigin),\n/* harmony export */   ignoreDimension: () => (/* binding */ ignoreDimension),\n/* harmony export */   invert: () => (/* binding */ invert),\n/* harmony export */   matrix3d: () => (/* binding */ matrix3d),\n/* harmony export */   minus: () => (/* binding */ minus),\n/* harmony export */   multiplies: () => (/* binding */ multiplies),\n/* harmony export */   multiply: () => (/* binding */ multiply),\n/* harmony export */   plus: () => (/* binding */ plus),\n/* harmony export */   rotate: () => (/* binding */ rotate),\n/* harmony export */   rotateX3d: () => (/* binding */ rotateX3d),\n/* harmony export */   rotateY3d: () => (/* binding */ rotateY3d),\n/* harmony export */   rotateZ3d: () => (/* binding */ rotateZ3d),\n/* harmony export */   scale3d: () => (/* binding */ scale3d),\n/* harmony export */   translate3d: () => (/* binding */ translate3d),\n/* harmony export */   transpose: () => (/* binding */ transpose)\n/* harmony export */ });\n/* harmony import */ var _daybrush_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @daybrush/utils */ \"(ssr)/./node_modules/@daybrush/utils/dist/utils.esm.js\");\n/*\nCopyright (c) 2020 Daybrush\nname: @scena/matrix\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/matrix\nversion: 1.1.1\n*/\n\n\nfunction add(matrix, inverseMatrix, startIndex, fromIndex, n, k) {\n  for (var i = 0; i < n; ++i) {\n    var x = startIndex + i * n;\n    var fromX = fromIndex + i * n;\n    matrix[x] += matrix[fromX] * k;\n    inverseMatrix[x] += inverseMatrix[fromX] * k;\n  }\n}\n\nfunction swap(matrix, inverseMatrix, startIndex, fromIndex, n) {\n  for (var i = 0; i < n; ++i) {\n    var x = startIndex + i * n;\n    var fromX = fromIndex + i * n;\n    var v = matrix[x];\n    var iv = inverseMatrix[x];\n    matrix[x] = matrix[fromX];\n    matrix[fromX] = v;\n    inverseMatrix[x] = inverseMatrix[fromX];\n    inverseMatrix[fromX] = iv;\n  }\n}\n\nfunction divide(matrix, inverseMatrix, startIndex, n, k) {\n  for (var i = 0; i < n; ++i) {\n    var x = startIndex + i * n;\n    matrix[x] /= k;\n    inverseMatrix[x] /= k;\n  }\n}\n/**\n *\n * @namespace Matrix\n */\n\n/**\n * @memberof Matrix\n */\n\n\nfunction ignoreDimension(matrix, m, n) {\n  if (n === void 0) {\n    n = Math.sqrt(matrix.length);\n  }\n\n  var newMatrix = matrix.slice();\n\n  for (var i = 0; i < n; ++i) {\n    newMatrix[i * n + m - 1] = 0;\n    newMatrix[(m - 1) * n + i] = 0;\n  }\n\n  newMatrix[(m - 1) * (n + 1)] = 1;\n  return newMatrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction invert(matrix, n) {\n  if (n === void 0) {\n    n = Math.sqrt(matrix.length);\n  }\n\n  var newMatrix = matrix.slice();\n  var inverseMatrix = createIdentityMatrix(n);\n\n  for (var i = 0; i < n; ++i) {\n    // diagonal\n    var identityIndex = n * i + i;\n\n    if (!(0,_daybrush_utils__WEBPACK_IMPORTED_MODULE_0__.throttle)(newMatrix[identityIndex], _daybrush_utils__WEBPACK_IMPORTED_MODULE_0__.TINY_NUM)) {\n      // newMatrix[identityIndex] = 0;\n      for (var j = i + 1; j < n; ++j) {\n        if (newMatrix[n * i + j]) {\n          swap(newMatrix, inverseMatrix, i, j, n);\n          break;\n        }\n      }\n    }\n\n    if (!(0,_daybrush_utils__WEBPACK_IMPORTED_MODULE_0__.throttle)(newMatrix[identityIndex], _daybrush_utils__WEBPACK_IMPORTED_MODULE_0__.TINY_NUM)) {\n      // no inverse matrix\n      return [];\n    }\n\n    divide(newMatrix, inverseMatrix, i, n, newMatrix[identityIndex]);\n\n    for (var j = 0; j < n; ++j) {\n      var targetStartIndex = j;\n      var targetIndex = j + i * n;\n      var target = newMatrix[targetIndex];\n\n      if (!(0,_daybrush_utils__WEBPACK_IMPORTED_MODULE_0__.throttle)(target, _daybrush_utils__WEBPACK_IMPORTED_MODULE_0__.TINY_NUM) || i === j) {\n        continue;\n      }\n\n      add(newMatrix, inverseMatrix, targetStartIndex, i, n, -target);\n    }\n  }\n\n  return inverseMatrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction transpose(matrix, n) {\n  if (n === void 0) {\n    n = Math.sqrt(matrix.length);\n  }\n\n  var newMatrix = [];\n\n  for (var i = 0; i < n; ++i) {\n    for (var j = 0; j < n; ++j) {\n      newMatrix[j * n + i] = matrix[n * i + j];\n    }\n  }\n\n  return newMatrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction getOrigin(matrix, n) {\n  if (n === void 0) {\n    n = Math.sqrt(matrix.length);\n  }\n\n  var originMatrix = [];\n  var w = matrix[n * n - 1];\n\n  for (var i = 0; i < n - 1; ++i) {\n    originMatrix[i] = matrix[n * (n - 1) + i] / w;\n  }\n\n  originMatrix[n - 1] = 0;\n  return originMatrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction fromTranslation(pos, n) {\n  var newMatrix = createIdentityMatrix(n);\n\n  for (var i = 0; i < n - 1; ++i) {\n    newMatrix[n * (n - 1) + i] = pos[i] || 0;\n  }\n\n  return newMatrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction convertPositionMatrix(matrix, n) {\n  var newMatrix = matrix.slice();\n\n  for (var i = matrix.length; i < n - 1; ++i) {\n    newMatrix[i] = 0;\n  }\n\n  newMatrix[n - 1] = 1;\n  return newMatrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction convertDimension(matrix, n, m) {\n  if (n === void 0) {\n    n = Math.sqrt(matrix.length);\n  } // n < m\n\n\n  if (n === m) {\n    return matrix;\n  }\n\n  var newMatrix = createIdentityMatrix(m);\n  var length = Math.min(n, m);\n\n  for (var i = 0; i < length - 1; ++i) {\n    for (var j = 0; j < length - 1; ++j) {\n      newMatrix[i * m + j] = matrix[i * n + j];\n    }\n\n    newMatrix[(i + 1) * m - 1] = matrix[(i + 1) * n - 1];\n    newMatrix[(m - 1) * m + i] = matrix[(n - 1) * n + i];\n  }\n\n  newMatrix[m * m - 1] = matrix[n * n - 1];\n  return newMatrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction multiplies(n) {\n  var matrixes = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    matrixes[_i - 1] = arguments[_i];\n  }\n\n  var m = createIdentityMatrix(n);\n  matrixes.forEach(function (matrix) {\n    m = multiply(m, matrix, n);\n  });\n  return m;\n}\n/**\n * @memberof Matrix\n */\n\nfunction multiply(matrix, matrix2, n) {\n  if (n === void 0) {\n    n = Math.sqrt(matrix.length);\n  }\n\n  var newMatrix = []; // 1 y: n\n  // 1 x: m\n  // 2 x: m\n  // 2 y: k\n  // n * m X m * k\n\n  var m = matrix.length / n;\n  var k = matrix2.length / m;\n\n  if (!m) {\n    return matrix2;\n  } else if (!k) {\n    return matrix;\n  }\n\n  for (var i = 0; i < n; ++i) {\n    for (var j = 0; j < k; ++j) {\n      newMatrix[j * n + i] = 0;\n\n      for (var l = 0; l < m; ++l) {\n        // m1 x: m(l), y: n(i)\n        // m2 x: k(j):  y: m(l)\n        // nw x: n(i), y: k(j)\n        newMatrix[j * n + i] += matrix[l * n + i] * matrix2[j * m + l];\n      }\n    }\n  } // n * k\n\n\n  return newMatrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction plus(pos1, pos2) {\n  var length = Math.min(pos1.length, pos2.length);\n  var nextPos = pos1.slice();\n\n  for (var i = 0; i < length; ++i) {\n    nextPos[i] = nextPos[i] + pos2[i];\n  }\n\n  return nextPos;\n}\n/**\n * @memberof Matrix\n */\n\nfunction minus(pos1, pos2) {\n  var length = Math.min(pos1.length, pos2.length);\n  var nextPos = pos1.slice();\n\n  for (var i = 0; i < length; ++i) {\n    nextPos[i] = nextPos[i] - pos2[i];\n  }\n\n  return nextPos;\n}\n/**\n * @memberof Matrix\n */\n\nfunction convertCSStoMatrix(a, is2d) {\n  if (is2d === void 0) {\n    is2d = a.length === 6;\n  }\n\n  if (is2d) {\n    return [a[0], a[1], 0, a[2], a[3], 0, a[4], a[5], 1];\n  }\n\n  return a;\n}\n/**\n * @memberof Matrix\n */\n\nfunction convertMatrixtoCSS(a, is2d) {\n  if (is2d === void 0) {\n    is2d = a.length === 9;\n  }\n\n  if (is2d) {\n    return [a[0], a[1], a[3], a[4], a[6], a[7]];\n  }\n\n  return a;\n}\n/**\n * @memberof Matrix\n */\n\nfunction calculate(matrix, matrix2, n) {\n  if (n === void 0) {\n    n = matrix2.length;\n  }\n\n  var result = multiply(matrix, matrix2, n);\n  var k = result[n - 1];\n  return result.map(function (v) {\n    return v / k;\n  });\n}\n/**\n * @memberof Matrix\n */\n\nfunction rotateX3d(matrix, rad) {\n  return multiply(matrix, [1, 0, 0, 0, 0, Math.cos(rad), Math.sin(rad), 0, 0, -Math.sin(rad), Math.cos(rad), 0, 0, 0, 0, 1], 4);\n}\n/**\n * @memberof Matrix\n */\n\nfunction rotateY3d(matrix, rad) {\n  return multiply(matrix, [Math.cos(rad), 0, -Math.sin(rad), 0, 0, 1, 0, 0, Math.sin(rad), 0, Math.cos(rad), 0, 0, 0, 0, 1], 4);\n}\n/**\n * @memberof Matrix\n */\n\nfunction rotateZ3d(matrix, rad) {\n  return multiply(matrix, createRotateMatrix(rad, 4));\n}\n/**\n * @memberof Matrix\n */\n\nfunction scale3d(matrix, _a) {\n  var _b = _a[0],\n      sx = _b === void 0 ? 1 : _b,\n      _c = _a[1],\n      sy = _c === void 0 ? 1 : _c,\n      _d = _a[2],\n      sz = _d === void 0 ? 1 : _d;\n  return multiply(matrix, [sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1], 4);\n}\n/**\n * @memberof Matrix\n */\n\nfunction rotate(pos, rad) {\n  return calculate(createRotateMatrix(rad, 3), convertPositionMatrix(pos, 3));\n}\n/**\n * @memberof Matrix\n */\n\nfunction translate3d(matrix, _a) {\n  var _b = _a[0],\n      tx = _b === void 0 ? 0 : _b,\n      _c = _a[1],\n      ty = _c === void 0 ? 0 : _c,\n      _d = _a[2],\n      tz = _d === void 0 ? 0 : _d;\n  return multiply(matrix, [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1], 4);\n}\n/**\n * @memberof Matrix\n */\n\nfunction matrix3d(matrix1, matrix2) {\n  return multiply(matrix1, matrix2, 4);\n}\n/**\n * @memberof Matrix\n */\n\nfunction createRotateMatrix(rad, n) {\n  var cos = Math.cos(rad);\n  var sin = Math.sin(rad);\n  var m = createIdentityMatrix(n); // cos -sin\n  // sin cos\n\n  m[0] = cos;\n  m[1] = sin;\n  m[n] = -sin;\n  m[n + 1] = cos;\n  return m;\n}\n/**\n * @memberof Matrix\n */\n\nfunction createIdentityMatrix(n) {\n  var length = n * n;\n  var matrix = [];\n\n  for (var i = 0; i < length; ++i) {\n    matrix[i] = i % (n + 1) ? 0 : 1;\n  }\n\n  return matrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction createScaleMatrix(scale, n) {\n  var m = createIdentityMatrix(n);\n  var length = Math.min(scale.length, n - 1);\n\n  for (var i = 0; i < length; ++i) {\n    m[(n + 1) * i] = scale[i];\n  }\n\n  return m;\n}\n/**\n * @memberof Matrix\n */\n\nfunction createOriginMatrix(origin, n) {\n  var m = createIdentityMatrix(n);\n  var length = Math.min(origin.length, n - 1);\n\n  for (var i = 0; i < length; ++i) {\n    m[n * (n - 1) + i] = origin[i];\n  }\n\n  return m;\n}\n/**\n * @memberof Matrix\n */\n\nfunction createWarpMatrix(pos0, pos1, pos2, pos3, nextPos0, nextPos1, nextPos2, nextPos3) {\n  var x0 = pos0[0],\n      y0 = pos0[1];\n  var x1 = pos1[0],\n      y1 = pos1[1];\n  var x2 = pos2[0],\n      y2 = pos2[1];\n  var x3 = pos3[0],\n      y3 = pos3[1];\n  var u0 = nextPos0[0],\n      v0 = nextPos0[1];\n  var u1 = nextPos1[0],\n      v1 = nextPos1[1];\n  var u2 = nextPos2[0],\n      v2 = nextPos2[1];\n  var u3 = nextPos3[0],\n      v3 = nextPos3[1];\n  var matrix = [x0, 0, x1, 0, x2, 0, x3, 0, y0, 0, y1, 0, y2, 0, y3, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, x0, 0, x1, 0, x2, 0, x3, 0, y0, 0, y1, 0, y2, 0, y3, 0, 1, 0, 1, 0, 1, 0, 1, -u0 * x0, -v0 * x0, -u1 * x1, -v1 * x1, -u2 * x2, -v2 * x2, -u3 * x3, -v3 * x3, -u0 * y0, -v0 * y0, -u1 * y1, -v1 * y1, -u2 * y2, -v2 * y2, -u3 * y3, -v3 * y3];\n  var inverseMatrix = invert(matrix, 8);\n\n  if (!inverseMatrix.length) {\n    return [];\n  }\n\n  var h = multiply(inverseMatrix, [u0, v0, u1, v1, u2, v2, u3, v3], 8);\n  h[8] = 1;\n  return convertDimension(transpose(h), 3, 4);\n}\n/**\n * @memberof Matrix\n */\n\nfunction getCenter(points) {\n  return [0, 1].map(function (i) {\n    return (0,_daybrush_utils__WEBPACK_IMPORTED_MODULE_0__.average)(points.map(function (pos) {\n      return pos[i];\n    }));\n  });\n}\n\n\n//# sourceMappingURL=matrix.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNjZW5hL21hdHJpeC9kaXN0L21hdHJpeC5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDOEQ7O0FBRTlEO0FBQ0Esa0JBQWtCLE9BQU87QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLE9BQU87QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsT0FBTztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxrQkFBa0IsT0FBTztBQUN6QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsa0JBQWtCLE9BQU87QUFDekI7QUFDQTs7QUFFQSxTQUFTLHlEQUFRLDJCQUEyQixxREFBUTtBQUNwRDtBQUNBLDBCQUEwQixPQUFPO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLHlEQUFRLDJCQUEyQixxREFBUTtBQUNwRDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsb0JBQW9CLE9BQU87QUFDM0I7QUFDQTtBQUNBOztBQUVBLFdBQVcseURBQVEsU0FBUyxxREFBUTtBQUNwQztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGtCQUFrQixPQUFPO0FBQ3pCLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsa0JBQWtCLFdBQVc7QUFDN0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxrQkFBa0IsV0FBVztBQUM3QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSw4QkFBOEIsV0FBVztBQUN6QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOzs7QUFHSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxrQkFBa0IsZ0JBQWdCO0FBQ2xDLG9CQUFvQixnQkFBZ0I7QUFDcEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsbUJBQW1CLHVCQUF1QjtBQUMxQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQSxrQkFBa0IsT0FBTztBQUN6QixvQkFBb0IsT0FBTztBQUMzQjs7QUFFQSxzQkFBc0IsT0FBTztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOzs7QUFHSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGtCQUFrQixZQUFZO0FBQzlCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCLFlBQVk7QUFDOUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGtCQUFrQixZQUFZO0FBQzlCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsd0RBQU87QUFDbEI7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVnWTtBQUNoWSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbW90aW9uLWNhcHRpb25zLy4vbm9kZV9tb2R1bGVzL0BzY2VuYS9tYXRyaXgvZGlzdC9tYXRyaXguZXNtLmpzPzRjOTkiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkNvcHlyaWdodCAoYykgMjAyMCBEYXlicnVzaFxubmFtZTogQHNjZW5hL21hdHJpeFxubGljZW5zZTogTUlUXG5hdXRob3I6IERheWJydXNoXG5yZXBvc2l0b3J5OiBnaXQraHR0cHM6Ly9naXRodWIuY29tL2RheWJydXNoL21hdHJpeFxudmVyc2lvbjogMS4xLjFcbiovXG5pbXBvcnQgeyB0aHJvdHRsZSwgVElOWV9OVU0sIGF2ZXJhZ2UgfSBmcm9tICdAZGF5YnJ1c2gvdXRpbHMnO1xuXG5mdW5jdGlvbiBhZGQobWF0cml4LCBpbnZlcnNlTWF0cml4LCBzdGFydEluZGV4LCBmcm9tSW5kZXgsIG4sIGspIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICB2YXIgeCA9IHN0YXJ0SW5kZXggKyBpICogbjtcbiAgICB2YXIgZnJvbVggPSBmcm9tSW5kZXggKyBpICogbjtcbiAgICBtYXRyaXhbeF0gKz0gbWF0cml4W2Zyb21YXSAqIGs7XG4gICAgaW52ZXJzZU1hdHJpeFt4XSArPSBpbnZlcnNlTWF0cml4W2Zyb21YXSAqIGs7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3dhcChtYXRyaXgsIGludmVyc2VNYXRyaXgsIHN0YXJ0SW5kZXgsIGZyb21JbmRleCwgbikge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSkge1xuICAgIHZhciB4ID0gc3RhcnRJbmRleCArIGkgKiBuO1xuICAgIHZhciBmcm9tWCA9IGZyb21JbmRleCArIGkgKiBuO1xuICAgIHZhciB2ID0gbWF0cml4W3hdO1xuICAgIHZhciBpdiA9IGludmVyc2VNYXRyaXhbeF07XG4gICAgbWF0cml4W3hdID0gbWF0cml4W2Zyb21YXTtcbiAgICBtYXRyaXhbZnJvbVhdID0gdjtcbiAgICBpbnZlcnNlTWF0cml4W3hdID0gaW52ZXJzZU1hdHJpeFtmcm9tWF07XG4gICAgaW52ZXJzZU1hdHJpeFtmcm9tWF0gPSBpdjtcbiAgfVxufVxuXG5mdW5jdGlvbiBkaXZpZGUobWF0cml4LCBpbnZlcnNlTWF0cml4LCBzdGFydEluZGV4LCBuLCBrKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgdmFyIHggPSBzdGFydEluZGV4ICsgaSAqIG47XG4gICAgbWF0cml4W3hdIC89IGs7XG4gICAgaW52ZXJzZU1hdHJpeFt4XSAvPSBrO1xuICB9XG59XG4vKipcbiAqXG4gKiBAbmFtZXNwYWNlIE1hdHJpeFxuICovXG5cbi8qKlxuICogQG1lbWJlcm9mIE1hdHJpeFxuICovXG5cblxuZnVuY3Rpb24gaWdub3JlRGltZW5zaW9uKG1hdHJpeCwgbSwgbikge1xuICBpZiAobiA9PT0gdm9pZCAwKSB7XG4gICAgbiA9IE1hdGguc3FydChtYXRyaXgubGVuZ3RoKTtcbiAgfVxuXG4gIHZhciBuZXdNYXRyaXggPSBtYXRyaXguc2xpY2UoKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSkge1xuICAgIG5ld01hdHJpeFtpICogbiArIG0gLSAxXSA9IDA7XG4gICAgbmV3TWF0cml4WyhtIC0gMSkgKiBuICsgaV0gPSAwO1xuICB9XG5cbiAgbmV3TWF0cml4WyhtIC0gMSkgKiAobiArIDEpXSA9IDE7XG4gIHJldHVybiBuZXdNYXRyaXg7XG59XG4vKipcbiAqIEBtZW1iZXJvZiBNYXRyaXhcbiAqL1xuXG5mdW5jdGlvbiBpbnZlcnQobWF0cml4LCBuKSB7XG4gIGlmIChuID09PSB2b2lkIDApIHtcbiAgICBuID0gTWF0aC5zcXJ0KG1hdHJpeC5sZW5ndGgpO1xuICB9XG5cbiAgdmFyIG5ld01hdHJpeCA9IG1hdHJpeC5zbGljZSgpO1xuICB2YXIgaW52ZXJzZU1hdHJpeCA9IGNyZWF0ZUlkZW50aXR5TWF0cml4KG4pO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgLy8gZGlhZ29uYWxcbiAgICB2YXIgaWRlbnRpdHlJbmRleCA9IG4gKiBpICsgaTtcblxuICAgIGlmICghdGhyb3R0bGUobmV3TWF0cml4W2lkZW50aXR5SW5kZXhdLCBUSU5ZX05VTSkpIHtcbiAgICAgIC8vIG5ld01hdHJpeFtpZGVudGl0eUluZGV4XSA9IDA7XG4gICAgICBmb3IgKHZhciBqID0gaSArIDE7IGogPCBuOyArK2opIHtcbiAgICAgICAgaWYgKG5ld01hdHJpeFtuICogaSArIGpdKSB7XG4gICAgICAgICAgc3dhcChuZXdNYXRyaXgsIGludmVyc2VNYXRyaXgsIGksIGosIG4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCF0aHJvdHRsZShuZXdNYXRyaXhbaWRlbnRpdHlJbmRleF0sIFRJTllfTlVNKSkge1xuICAgICAgLy8gbm8gaW52ZXJzZSBtYXRyaXhcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBkaXZpZGUobmV3TWF0cml4LCBpbnZlcnNlTWF0cml4LCBpLCBuLCBuZXdNYXRyaXhbaWRlbnRpdHlJbmRleF0pO1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBuOyArK2opIHtcbiAgICAgIHZhciB0YXJnZXRTdGFydEluZGV4ID0gajtcbiAgICAgIHZhciB0YXJnZXRJbmRleCA9IGogKyBpICogbjtcbiAgICAgIHZhciB0YXJnZXQgPSBuZXdNYXRyaXhbdGFyZ2V0SW5kZXhdO1xuXG4gICAgICBpZiAoIXRocm90dGxlKHRhcmdldCwgVElOWV9OVU0pIHx8IGkgPT09IGopIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGFkZChuZXdNYXRyaXgsIGludmVyc2VNYXRyaXgsIHRhcmdldFN0YXJ0SW5kZXgsIGksIG4sIC10YXJnZXQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBpbnZlcnNlTWF0cml4O1xufVxuLyoqXG4gKiBAbWVtYmVyb2YgTWF0cml4XG4gKi9cblxuZnVuY3Rpb24gdHJhbnNwb3NlKG1hdHJpeCwgbikge1xuICBpZiAobiA9PT0gdm9pZCAwKSB7XG4gICAgbiA9IE1hdGguc3FydChtYXRyaXgubGVuZ3RoKTtcbiAgfVxuXG4gIHZhciBuZXdNYXRyaXggPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSkge1xuICAgIGZvciAodmFyIGogPSAwOyBqIDwgbjsgKytqKSB7XG4gICAgICBuZXdNYXRyaXhbaiAqIG4gKyBpXSA9IG1hdHJpeFtuICogaSArIGpdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdNYXRyaXg7XG59XG4vKipcbiAqIEBtZW1iZXJvZiBNYXRyaXhcbiAqL1xuXG5mdW5jdGlvbiBnZXRPcmlnaW4obWF0cml4LCBuKSB7XG4gIGlmIChuID09PSB2b2lkIDApIHtcbiAgICBuID0gTWF0aC5zcXJ0KG1hdHJpeC5sZW5ndGgpO1xuICB9XG5cbiAgdmFyIG9yaWdpbk1hdHJpeCA9IFtdO1xuICB2YXIgdyA9IG1hdHJpeFtuICogbiAtIDFdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbiAtIDE7ICsraSkge1xuICAgIG9yaWdpbk1hdHJpeFtpXSA9IG1hdHJpeFtuICogKG4gLSAxKSArIGldIC8gdztcbiAgfVxuXG4gIG9yaWdpbk1hdHJpeFtuIC0gMV0gPSAwO1xuICByZXR1cm4gb3JpZ2luTWF0cml4O1xufVxuLyoqXG4gKiBAbWVtYmVyb2YgTWF0cml4XG4gKi9cblxuZnVuY3Rpb24gZnJvbVRyYW5zbGF0aW9uKHBvcywgbikge1xuICB2YXIgbmV3TWF0cml4ID0gY3JlYXRlSWRlbnRpdHlNYXRyaXgobik7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuIC0gMTsgKytpKSB7XG4gICAgbmV3TWF0cml4W24gKiAobiAtIDEpICsgaV0gPSBwb3NbaV0gfHwgMDtcbiAgfVxuXG4gIHJldHVybiBuZXdNYXRyaXg7XG59XG4vKipcbiAqIEBtZW1iZXJvZiBNYXRyaXhcbiAqL1xuXG5mdW5jdGlvbiBjb252ZXJ0UG9zaXRpb25NYXRyaXgobWF0cml4LCBuKSB7XG4gIHZhciBuZXdNYXRyaXggPSBtYXRyaXguc2xpY2UoKTtcblxuICBmb3IgKHZhciBpID0gbWF0cml4Lmxlbmd0aDsgaSA8IG4gLSAxOyArK2kpIHtcbiAgICBuZXdNYXRyaXhbaV0gPSAwO1xuICB9XG5cbiAgbmV3TWF0cml4W24gLSAxXSA9IDE7XG4gIHJldHVybiBuZXdNYXRyaXg7XG59XG4vKipcbiAqIEBtZW1iZXJvZiBNYXRyaXhcbiAqL1xuXG5mdW5jdGlvbiBjb252ZXJ0RGltZW5zaW9uKG1hdHJpeCwgbiwgbSkge1xuICBpZiAobiA9PT0gdm9pZCAwKSB7XG4gICAgbiA9IE1hdGguc3FydChtYXRyaXgubGVuZ3RoKTtcbiAgfSAvLyBuIDwgbVxuXG5cbiAgaWYgKG4gPT09IG0pIHtcbiAgICByZXR1cm4gbWF0cml4O1xuICB9XG5cbiAgdmFyIG5ld01hdHJpeCA9IGNyZWF0ZUlkZW50aXR5TWF0cml4KG0pO1xuICB2YXIgbGVuZ3RoID0gTWF0aC5taW4obiwgbSk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGggLSAxOyArK2kpIHtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxlbmd0aCAtIDE7ICsraikge1xuICAgICAgbmV3TWF0cml4W2kgKiBtICsgal0gPSBtYXRyaXhbaSAqIG4gKyBqXTtcbiAgICB9XG5cbiAgICBuZXdNYXRyaXhbKGkgKyAxKSAqIG0gLSAxXSA9IG1hdHJpeFsoaSArIDEpICogbiAtIDFdO1xuICAgIG5ld01hdHJpeFsobSAtIDEpICogbSArIGldID0gbWF0cml4WyhuIC0gMSkgKiBuICsgaV07XG4gIH1cblxuICBuZXdNYXRyaXhbbSAqIG0gLSAxXSA9IG1hdHJpeFtuICogbiAtIDFdO1xuICByZXR1cm4gbmV3TWF0cml4O1xufVxuLyoqXG4gKiBAbWVtYmVyb2YgTWF0cml4XG4gKi9cblxuZnVuY3Rpb24gbXVsdGlwbGllcyhuKSB7XG4gIHZhciBtYXRyaXhlcyA9IFtdO1xuXG4gIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgbWF0cml4ZXNbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gIH1cblxuICB2YXIgbSA9IGNyZWF0ZUlkZW50aXR5TWF0cml4KG4pO1xuICBtYXRyaXhlcy5mb3JFYWNoKGZ1bmN0aW9uIChtYXRyaXgpIHtcbiAgICBtID0gbXVsdGlwbHkobSwgbWF0cml4LCBuKTtcbiAgfSk7XG4gIHJldHVybiBtO1xufVxuLyoqXG4gKiBAbWVtYmVyb2YgTWF0cml4XG4gKi9cblxuZnVuY3Rpb24gbXVsdGlwbHkobWF0cml4LCBtYXRyaXgyLCBuKSB7XG4gIGlmIChuID09PSB2b2lkIDApIHtcbiAgICBuID0gTWF0aC5zcXJ0KG1hdHJpeC5sZW5ndGgpO1xuICB9XG5cbiAgdmFyIG5ld01hdHJpeCA9IFtdOyAvLyAxIHk6IG5cbiAgLy8gMSB4OiBtXG4gIC8vIDIgeDogbVxuICAvLyAyIHk6IGtcbiAgLy8gbiAqIG0gWCBtICoga1xuXG4gIHZhciBtID0gbWF0cml4Lmxlbmd0aCAvIG47XG4gIHZhciBrID0gbWF0cml4Mi5sZW5ndGggLyBtO1xuXG4gIGlmICghbSkge1xuICAgIHJldHVybiBtYXRyaXgyO1xuICB9IGVsc2UgaWYgKCFrKSB7XG4gICAgcmV0dXJuIG1hdHJpeDtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBrOyArK2opIHtcbiAgICAgIG5ld01hdHJpeFtqICogbiArIGldID0gMDtcblxuICAgICAgZm9yICh2YXIgbCA9IDA7IGwgPCBtOyArK2wpIHtcbiAgICAgICAgLy8gbTEgeDogbShsKSwgeTogbihpKVxuICAgICAgICAvLyBtMiB4OiBrKGopOiAgeTogbShsKVxuICAgICAgICAvLyBudyB4OiBuKGkpLCB5OiBrKGopXG4gICAgICAgIG5ld01hdHJpeFtqICogbiArIGldICs9IG1hdHJpeFtsICogbiArIGldICogbWF0cml4MltqICogbSArIGxdO1xuICAgICAgfVxuICAgIH1cbiAgfSAvLyBuICoga1xuXG5cbiAgcmV0dXJuIG5ld01hdHJpeDtcbn1cbi8qKlxuICogQG1lbWJlcm9mIE1hdHJpeFxuICovXG5cbmZ1bmN0aW9uIHBsdXMocG9zMSwgcG9zMikge1xuICB2YXIgbGVuZ3RoID0gTWF0aC5taW4ocG9zMS5sZW5ndGgsIHBvczIubGVuZ3RoKTtcbiAgdmFyIG5leHRQb3MgPSBwb3MxLnNsaWNlKCk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIG5leHRQb3NbaV0gPSBuZXh0UG9zW2ldICsgcG9zMltpXTtcbiAgfVxuXG4gIHJldHVybiBuZXh0UG9zO1xufVxuLyoqXG4gKiBAbWVtYmVyb2YgTWF0cml4XG4gKi9cblxuZnVuY3Rpb24gbWludXMocG9zMSwgcG9zMikge1xuICB2YXIgbGVuZ3RoID0gTWF0aC5taW4ocG9zMS5sZW5ndGgsIHBvczIubGVuZ3RoKTtcbiAgdmFyIG5leHRQb3MgPSBwb3MxLnNsaWNlKCk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIG5leHRQb3NbaV0gPSBuZXh0UG9zW2ldIC0gcG9zMltpXTtcbiAgfVxuXG4gIHJldHVybiBuZXh0UG9zO1xufVxuLyoqXG4gKiBAbWVtYmVyb2YgTWF0cml4XG4gKi9cblxuZnVuY3Rpb24gY29udmVydENTU3RvTWF0cml4KGEsIGlzMmQpIHtcbiAgaWYgKGlzMmQgPT09IHZvaWQgMCkge1xuICAgIGlzMmQgPSBhLmxlbmd0aCA9PT0gNjtcbiAgfVxuXG4gIGlmIChpczJkKSB7XG4gICAgcmV0dXJuIFthWzBdLCBhWzFdLCAwLCBhWzJdLCBhWzNdLCAwLCBhWzRdLCBhWzVdLCAxXTtcbiAgfVxuXG4gIHJldHVybiBhO1xufVxuLyoqXG4gKiBAbWVtYmVyb2YgTWF0cml4XG4gKi9cblxuZnVuY3Rpb24gY29udmVydE1hdHJpeHRvQ1NTKGEsIGlzMmQpIHtcbiAgaWYgKGlzMmQgPT09IHZvaWQgMCkge1xuICAgIGlzMmQgPSBhLmxlbmd0aCA9PT0gOTtcbiAgfVxuXG4gIGlmIChpczJkKSB7XG4gICAgcmV0dXJuIFthWzBdLCBhWzFdLCBhWzNdLCBhWzRdLCBhWzZdLCBhWzddXTtcbiAgfVxuXG4gIHJldHVybiBhO1xufVxuLyoqXG4gKiBAbWVtYmVyb2YgTWF0cml4XG4gKi9cblxuZnVuY3Rpb24gY2FsY3VsYXRlKG1hdHJpeCwgbWF0cml4Miwgbikge1xuICBpZiAobiA9PT0gdm9pZCAwKSB7XG4gICAgbiA9IG1hdHJpeDIubGVuZ3RoO1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9IG11bHRpcGx5KG1hdHJpeCwgbWF0cml4Miwgbik7XG4gIHZhciBrID0gcmVzdWx0W24gLSAxXTtcbiAgcmV0dXJuIHJlc3VsdC5tYXAoZnVuY3Rpb24gKHYpIHtcbiAgICByZXR1cm4gdiAvIGs7XG4gIH0pO1xufVxuLyoqXG4gKiBAbWVtYmVyb2YgTWF0cml4XG4gKi9cblxuZnVuY3Rpb24gcm90YXRlWDNkKG1hdHJpeCwgcmFkKSB7XG4gIHJldHVybiBtdWx0aXBseShtYXRyaXgsIFsxLCAwLCAwLCAwLCAwLCBNYXRoLmNvcyhyYWQpLCBNYXRoLnNpbihyYWQpLCAwLCAwLCAtTWF0aC5zaW4ocmFkKSwgTWF0aC5jb3MocmFkKSwgMCwgMCwgMCwgMCwgMV0sIDQpO1xufVxuLyoqXG4gKiBAbWVtYmVyb2YgTWF0cml4XG4gKi9cblxuZnVuY3Rpb24gcm90YXRlWTNkKG1hdHJpeCwgcmFkKSB7XG4gIHJldHVybiBtdWx0aXBseShtYXRyaXgsIFtNYXRoLmNvcyhyYWQpLCAwLCAtTWF0aC5zaW4ocmFkKSwgMCwgMCwgMSwgMCwgMCwgTWF0aC5zaW4ocmFkKSwgMCwgTWF0aC5jb3MocmFkKSwgMCwgMCwgMCwgMCwgMV0sIDQpO1xufVxuLyoqXG4gKiBAbWVtYmVyb2YgTWF0cml4XG4gKi9cblxuZnVuY3Rpb24gcm90YXRlWjNkKG1hdHJpeCwgcmFkKSB7XG4gIHJldHVybiBtdWx0aXBseShtYXRyaXgsIGNyZWF0ZVJvdGF0ZU1hdHJpeChyYWQsIDQpKTtcbn1cbi8qKlxuICogQG1lbWJlcm9mIE1hdHJpeFxuICovXG5cbmZ1bmN0aW9uIHNjYWxlM2QobWF0cml4LCBfYSkge1xuICB2YXIgX2IgPSBfYVswXSxcbiAgICAgIHN4ID0gX2IgPT09IHZvaWQgMCA/IDEgOiBfYixcbiAgICAgIF9jID0gX2FbMV0sXG4gICAgICBzeSA9IF9jID09PSB2b2lkIDAgPyAxIDogX2MsXG4gICAgICBfZCA9IF9hWzJdLFxuICAgICAgc3ogPSBfZCA9PT0gdm9pZCAwID8gMSA6IF9kO1xuICByZXR1cm4gbXVsdGlwbHkobWF0cml4LCBbc3gsIDAsIDAsIDAsIDAsIHN5LCAwLCAwLCAwLCAwLCBzeiwgMCwgMCwgMCwgMCwgMV0sIDQpO1xufVxuLyoqXG4gKiBAbWVtYmVyb2YgTWF0cml4XG4gKi9cblxuZnVuY3Rpb24gcm90YXRlKHBvcywgcmFkKSB7XG4gIHJldHVybiBjYWxjdWxhdGUoY3JlYXRlUm90YXRlTWF0cml4KHJhZCwgMyksIGNvbnZlcnRQb3NpdGlvbk1hdHJpeChwb3MsIDMpKTtcbn1cbi8qKlxuICogQG1lbWJlcm9mIE1hdHJpeFxuICovXG5cbmZ1bmN0aW9uIHRyYW5zbGF0ZTNkKG1hdHJpeCwgX2EpIHtcbiAgdmFyIF9iID0gX2FbMF0sXG4gICAgICB0eCA9IF9iID09PSB2b2lkIDAgPyAwIDogX2IsXG4gICAgICBfYyA9IF9hWzFdLFxuICAgICAgdHkgPSBfYyA9PT0gdm9pZCAwID8gMCA6IF9jLFxuICAgICAgX2QgPSBfYVsyXSxcbiAgICAgIHR6ID0gX2QgPT09IHZvaWQgMCA/IDAgOiBfZDtcbiAgcmV0dXJuIG11bHRpcGx5KG1hdHJpeCwgWzEsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDEsIDAsIHR4LCB0eSwgdHosIDFdLCA0KTtcbn1cbi8qKlxuICogQG1lbWJlcm9mIE1hdHJpeFxuICovXG5cbmZ1bmN0aW9uIG1hdHJpeDNkKG1hdHJpeDEsIG1hdHJpeDIpIHtcbiAgcmV0dXJuIG11bHRpcGx5KG1hdHJpeDEsIG1hdHJpeDIsIDQpO1xufVxuLyoqXG4gKiBAbWVtYmVyb2YgTWF0cml4XG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlUm90YXRlTWF0cml4KHJhZCwgbikge1xuICB2YXIgY29zID0gTWF0aC5jb3MocmFkKTtcbiAgdmFyIHNpbiA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBtID0gY3JlYXRlSWRlbnRpdHlNYXRyaXgobik7IC8vIGNvcyAtc2luXG4gIC8vIHNpbiBjb3NcblxuICBtWzBdID0gY29zO1xuICBtWzFdID0gc2luO1xuICBtW25dID0gLXNpbjtcbiAgbVtuICsgMV0gPSBjb3M7XG4gIHJldHVybiBtO1xufVxuLyoqXG4gKiBAbWVtYmVyb2YgTWF0cml4XG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlSWRlbnRpdHlNYXRyaXgobikge1xuICB2YXIgbGVuZ3RoID0gbiAqIG47XG4gIHZhciBtYXRyaXggPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgbWF0cml4W2ldID0gaSAlIChuICsgMSkgPyAwIDogMTtcbiAgfVxuXG4gIHJldHVybiBtYXRyaXg7XG59XG4vKipcbiAqIEBtZW1iZXJvZiBNYXRyaXhcbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVTY2FsZU1hdHJpeChzY2FsZSwgbikge1xuICB2YXIgbSA9IGNyZWF0ZUlkZW50aXR5TWF0cml4KG4pO1xuICB2YXIgbGVuZ3RoID0gTWF0aC5taW4oc2NhbGUubGVuZ3RoLCBuIC0gMSk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIG1bKG4gKyAxKSAqIGldID0gc2NhbGVbaV07XG4gIH1cblxuICByZXR1cm4gbTtcbn1cbi8qKlxuICogQG1lbWJlcm9mIE1hdHJpeFxuICovXG5cbmZ1bmN0aW9uIGNyZWF0ZU9yaWdpbk1hdHJpeChvcmlnaW4sIG4pIHtcbiAgdmFyIG0gPSBjcmVhdGVJZGVudGl0eU1hdHJpeChuKTtcbiAgdmFyIGxlbmd0aCA9IE1hdGgubWluKG9yaWdpbi5sZW5ndGgsIG4gLSAxKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgbVtuICogKG4gLSAxKSArIGldID0gb3JpZ2luW2ldO1xuICB9XG5cbiAgcmV0dXJuIG07XG59XG4vKipcbiAqIEBtZW1iZXJvZiBNYXRyaXhcbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVXYXJwTWF0cml4KHBvczAsIHBvczEsIHBvczIsIHBvczMsIG5leHRQb3MwLCBuZXh0UG9zMSwgbmV4dFBvczIsIG5leHRQb3MzKSB7XG4gIHZhciB4MCA9IHBvczBbMF0sXG4gICAgICB5MCA9IHBvczBbMV07XG4gIHZhciB4MSA9IHBvczFbMF0sXG4gICAgICB5MSA9IHBvczFbMV07XG4gIHZhciB4MiA9IHBvczJbMF0sXG4gICAgICB5MiA9IHBvczJbMV07XG4gIHZhciB4MyA9IHBvczNbMF0sXG4gICAgICB5MyA9IHBvczNbMV07XG4gIHZhciB1MCA9IG5leHRQb3MwWzBdLFxuICAgICAgdjAgPSBuZXh0UG9zMFsxXTtcbiAgdmFyIHUxID0gbmV4dFBvczFbMF0sXG4gICAgICB2MSA9IG5leHRQb3MxWzFdO1xuICB2YXIgdTIgPSBuZXh0UG9zMlswXSxcbiAgICAgIHYyID0gbmV4dFBvczJbMV07XG4gIHZhciB1MyA9IG5leHRQb3MzWzBdLFxuICAgICAgdjMgPSBuZXh0UG9zM1sxXTtcbiAgdmFyIG1hdHJpeCA9IFt4MCwgMCwgeDEsIDAsIHgyLCAwLCB4MywgMCwgeTAsIDAsIHkxLCAwLCB5MiwgMCwgeTMsIDAsIDEsIDAsIDEsIDAsIDEsIDAsIDEsIDAsIDAsIHgwLCAwLCB4MSwgMCwgeDIsIDAsIHgzLCAwLCB5MCwgMCwgeTEsIDAsIHkyLCAwLCB5MywgMCwgMSwgMCwgMSwgMCwgMSwgMCwgMSwgLXUwICogeDAsIC12MCAqIHgwLCAtdTEgKiB4MSwgLXYxICogeDEsIC11MiAqIHgyLCAtdjIgKiB4MiwgLXUzICogeDMsIC12MyAqIHgzLCAtdTAgKiB5MCwgLXYwICogeTAsIC11MSAqIHkxLCAtdjEgKiB5MSwgLXUyICogeTIsIC12MiAqIHkyLCAtdTMgKiB5MywgLXYzICogeTNdO1xuICB2YXIgaW52ZXJzZU1hdHJpeCA9IGludmVydChtYXRyaXgsIDgpO1xuXG4gIGlmICghaW52ZXJzZU1hdHJpeC5sZW5ndGgpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICB2YXIgaCA9IG11bHRpcGx5KGludmVyc2VNYXRyaXgsIFt1MCwgdjAsIHUxLCB2MSwgdTIsIHYyLCB1MywgdjNdLCA4KTtcbiAgaFs4XSA9IDE7XG4gIHJldHVybiBjb252ZXJ0RGltZW5zaW9uKHRyYW5zcG9zZShoKSwgMywgNCk7XG59XG4vKipcbiAqIEBtZW1iZXJvZiBNYXRyaXhcbiAqL1xuXG5mdW5jdGlvbiBnZXRDZW50ZXIocG9pbnRzKSB7XG4gIHJldHVybiBbMCwgMV0ubWFwKGZ1bmN0aW9uIChpKSB7XG4gICAgcmV0dXJuIGF2ZXJhZ2UocG9pbnRzLm1hcChmdW5jdGlvbiAocG9zKSB7XG4gICAgICByZXR1cm4gcG9zW2ldO1xuICAgIH0pKTtcbiAgfSk7XG59XG5cbmV4cG9ydCB7IGNhbGN1bGF0ZSwgY29udmVydENTU3RvTWF0cml4LCBjb252ZXJ0RGltZW5zaW9uLCBjb252ZXJ0TWF0cml4dG9DU1MsIGNvbnZlcnRQb3NpdGlvbk1hdHJpeCwgY3JlYXRlSWRlbnRpdHlNYXRyaXgsIGNyZWF0ZU9yaWdpbk1hdHJpeCwgY3JlYXRlUm90YXRlTWF0cml4LCBjcmVhdGVTY2FsZU1hdHJpeCwgY3JlYXRlV2FycE1hdHJpeCwgZnJvbVRyYW5zbGF0aW9uLCBnZXRDZW50ZXIsIGdldE9yaWdpbiwgaWdub3JlRGltZW5zaW9uLCBpbnZlcnQsIG1hdHJpeDNkLCBtaW51cywgbXVsdGlwbGllcywgbXVsdGlwbHksIHBsdXMsIHJvdGF0ZSwgcm90YXRlWDNkLCByb3RhdGVZM2QsIHJvdGF0ZVozZCwgc2NhbGUzZCwgdHJhbnNsYXRlM2QsIHRyYW5zcG9zZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF0cml4LmVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@scena/matrix/dist/matrix.esm.js\n");

/***/ })

};
;